{"version":3,"file":"avaliacao-layout.esm.js","sources":["../src/domain/Assessment.ts","../src/domain/Question.ts","../src/domain/ReferenceService.ts","../node_modules/handlebars/dist/cjs/handlebars/utils.js","../node_modules/handlebars/dist/cjs/handlebars/exception.js","../node_modules/handlebars/dist/cjs/handlebars/helpers.js","../node_modules/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js","../node_modules/handlebars/dist/cjs/handlebars/helpers/each.js","../node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js","../node_modules/handlebars/dist/cjs/handlebars/helpers/if.js","../node_modules/handlebars/dist/cjs/handlebars/helpers/log.js","../node_modules/handlebars/dist/cjs/handlebars/helpers/lookup.js","../node_modules/handlebars/dist/cjs/handlebars/helpers/with.js","../node_modules/handlebars/dist/cjs/handlebars/decorators.js","../node_modules/handlebars/dist/cjs/handlebars/decorators/inline.js","../node_modules/handlebars/dist/cjs/handlebars/logger.js","../node_modules/handlebars/dist/cjs/handlebars/internal/proto-access.js","../node_modules/handlebars/dist/cjs/handlebars/internal/create-new-lookup-object.js","../node_modules/handlebars/dist/cjs/handlebars/base.js","../node_modules/handlebars/dist/cjs/handlebars/runtime.js","../node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js","../node_modules/handlebars/dist/cjs/handlebars.runtime.js","../node_modules/handlebars/dist/cjs/handlebars/safe-string.js","../node_modules/handlebars/dist/cjs/handlebars/no-conflict.js","../node_modules/handlebars/runtime.js","../src/rendering/utils/util.ts","../src/rendering/components/QuadroRespostaRenderer.ts","../src/rendering/Hbs.ts","../src/rendering/components/QuestionRenderer.ts","../src/rendering/AssessmentHtmlRenderer.ts","../src/LayoutAvaliacao.ts","../src/LayoutAvaliacaoBuilder.ts","../node_modules/pagedjs/src/utils/utils.js","../node_modules/pagedjs/src/utils/dom.js","../node_modules/pagedjs/src/chunker/breaktoken.js","../node_modules/pagedjs/src/chunker/renderresult.js","../node_modules/type/value/is.js","../node_modules/type/prototype/is.js","../node_modules/type/object/is.js","../node_modules/type/plain-function/is.js","../node_modules/type/function/is.js","../node_modules/es5-ext/object/is-value.js","../node_modules/es5-ext/function/noop.js","../node_modules/es5-ext/object/keys/index.js","../node_modules/es5-ext/object/keys/is-implemented.js","../node_modules/es5-ext/object/keys/shim.js","../node_modules/es5-ext/object/valid-value.js","../node_modules/es5-ext/object/assign/index.js","../node_modules/es5-ext/object/assign/is-implemented.js","../node_modules/es5-ext/object/assign/shim.js","../node_modules/es5-ext/string/#/contains/index.js","../node_modules/es5-ext/string/#/contains/is-implemented.js","../node_modules/es5-ext/string/#/contains/shim.js","../node_modules/d/index.js","../node_modules/es5-ext/object/normalize-options.js","../node_modules/es5-ext/object/valid-callable.js","../node_modules/event-emitter/index.js","../node_modules/pagedjs/src/utils/hook.js","../node_modules/pagedjs/src/chunker/layout.js","../node_modules/pagedjs/src/chunker/page.js","../node_modules/pagedjs/src/chunker/parser.js","../node_modules/pagedjs/src/utils/queue.js","../node_modules/pagedjs/src/chunker/chunker.js","../node_modules/css-tree/lib/common/List.js","../node_modules/css-tree/lib/utils/createCustomError.js","../node_modules/css-tree/lib/common/SyntaxError.js","../node_modules/css-tree/lib/tokenizer/const.js","../node_modules/css-tree/lib/tokenizer/char-code-definitions.js","../node_modules/css-tree/lib/tokenizer/utils.js","../node_modules/css-tree/lib/common/TokenStream.js","../node_modules/css-tree/lib/definition-syntax/generate.js","../node_modules/css-tree/lib/lexer/error.js","../node_modules/css-tree/lib/utils/names.js","../node_modules/css-tree/lib/common/adopt-buffer.js","../node_modules/css-tree/lib/tokenizer/index.js","../node_modules/css-tree/lib/lexer/generic.js","../node_modules/css-tree/lib/lexer/generic-an-plus-b.js","../node_modules/css-tree/lib/lexer/generic-urange.js","../node_modules/css-tree/lib/definition-syntax/SyntaxError.js","../node_modules/css-tree/lib/definition-syntax/parse.js","../node_modules/css-tree/lib/definition-syntax/tokenizer.js","../node_modules/css-tree/lib/definition-syntax/walk.js","../node_modules/css-tree/lib/lexer/match-graph.js","../node_modules/css-tree/lib/lexer/match.js","../node_modules/css-tree/lib/lexer/trace.js","../node_modules/css-tree/lib/lexer/search.js","../node_modules/css-tree/lib/lexer/Lexer.js","../node_modules/css-tree/lib/lexer/prepare-tokens.js","../node_modules/css-tree/lib/lexer/structure.js","../node_modules/css-tree/lib/definition-syntax/index.js","../node_modules/css-tree/lib/common/OffsetToLocation.js","../node_modules/css-tree/lib/parser/sequence.js","../node_modules/css-tree/lib/parser/create.js","../node_modules/source-map/lib/base64.js","../node_modules/source-map/lib/util.js","../node_modules/source-map/lib/mapping-list.js","../node_modules/source-map/lib/source-map-generator.js","../node_modules/source-map/lib/base64-vlq.js","../node_modules/source-map/lib/array-set.js","../node_modules/css-tree/lib/generator/sourceMap.js","../node_modules/css-tree/lib/walker/create.js","../node_modules/css-tree/lib/utils/clone.js","../node_modules/css-tree/lib/syntax/config/mix.js","../node_modules/css-tree/lib/syntax/create.js","../node_modules/css-tree/lib/generator/create.js","../node_modules/css-tree/lib/convertor/create.js","../node_modules/css-tree/data/index.js","../node_modules/css-tree/lib/syntax/node/AnPlusB.js","../node_modules/css-tree/lib/syntax/node/Raw.js","../node_modules/css-tree/lib/syntax/node/Atrule.js","../node_modules/css-tree/lib/syntax/node/AtrulePrelude.js","../node_modules/css-tree/lib/syntax/node/AttributeSelector.js","../node_modules/css-tree/lib/syntax/node/Block.js","../node_modules/css-tree/lib/syntax/node/Brackets.js","../node_modules/css-tree/lib/syntax/node/CDC.js","../node_modules/css-tree/lib/syntax/node/CDO.js","../node_modules/css-tree/lib/syntax/node/ClassSelector.js","../node_modules/css-tree/lib/syntax/node/Combinator.js","../node_modules/css-tree/lib/syntax/node/Comment.js","../node_modules/css-tree/lib/syntax/node/Declaration.js","../node_modules/css-tree/lib/syntax/node/DeclarationList.js","../node_modules/css-tree/lib/syntax/node/Dimension.js","../node_modules/css-tree/lib/syntax/node/Function.js","../node_modules/css-tree/lib/syntax/node/Hash.js","../node_modules/css-tree/lib/syntax/node/Identifier.js","../node_modules/css-tree/lib/syntax/node/IdSelector.js","../node_modules/css-tree/lib/syntax/node/MediaFeature.js","../node_modules/css-tree/lib/syntax/node/MediaQuery.js","../node_modules/css-tree/lib/syntax/node/MediaQueryList.js","../node_modules/css-tree/lib/syntax/node/Number.js","../node_modules/css-tree/lib/syntax/node/Parentheses.js","../node_modules/css-tree/lib/syntax/node/Percentage.js","../node_modules/css-tree/lib/syntax/node/PseudoClassSelector.js","../node_modules/css-tree/lib/syntax/node/PseudoElementSelector.js","../node_modules/css-tree/lib/syntax/node/Ratio.js","../node_modules/css-tree/lib/syntax/node/Rule.js","../node_modules/css-tree/lib/syntax/node/SelectorList.js","../node_modules/css-tree/lib/syntax/node/String.js","../node_modules/css-tree/lib/syntax/node/StyleSheet.js","../node_modules/css-tree/lib/syntax/node/TypeSelector.js","../node_modules/css-tree/lib/syntax/node/UnicodeRange.js","../node_modules/css-tree/lib/syntax/node/Url.js","../node_modules/css-tree/lib/syntax/node/WhiteSpace.js","../node_modules/css-tree/lib/syntax/node/index.js","../node_modules/css-tree/lib/syntax/node/Nth.js","../node_modules/css-tree/lib/syntax/node/Operator.js","../node_modules/css-tree/lib/syntax/node/Selector.js","../node_modules/css-tree/lib/syntax/node/Value.js","../node_modules/css-tree/lib/syntax/scope/default.js","../node_modules/css-tree/lib/syntax/scope/selector.js","../node_modules/css-tree/lib/syntax/function/var.js","../node_modules/css-tree/lib/syntax/atrule/import.js","../node_modules/css-tree/lib/syntax/atrule/supports.js","../node_modules/css-tree/lib/syntax/pseudo/common/selectorList.js","../node_modules/css-tree/lib/syntax/pseudo/common/nthWithOfClause.js","../node_modules/css-tree/lib/syntax/pseudo/common/nth.js","../node_modules/css-tree/lib/syntax/index.js","../node_modules/css-tree/lib/syntax/config/lexer.js","../node_modules/css-tree/lib/syntax/config/parser.js","../node_modules/css-tree/lib/syntax/scope/index.js","../node_modules/css-tree/lib/syntax/scope/atrulePrelude.js","../node_modules/css-tree/lib/syntax/scope/value.js","../node_modules/css-tree/lib/syntax/function/expression.js","../node_modules/css-tree/lib/syntax/atrule/index.js","../node_modules/css-tree/lib/syntax/atrule/font-face.js","../node_modules/css-tree/lib/syntax/atrule/media.js","../node_modules/css-tree/lib/syntax/atrule/page.js","../node_modules/css-tree/lib/syntax/pseudo/index.js","../node_modules/css-tree/lib/syntax/pseudo/dir.js","../node_modules/css-tree/lib/syntax/pseudo/has.js","../node_modules/css-tree/lib/syntax/pseudo/lang.js","../node_modules/css-tree/lib/syntax/pseudo/matches.js","../node_modules/css-tree/lib/syntax/pseudo/not.js","../node_modules/css-tree/lib/syntax/pseudo/nth-child.js","../node_modules/css-tree/lib/syntax/pseudo/nth-last-child.js","../node_modules/css-tree/lib/syntax/pseudo/nth-last-of-type.js","../node_modules/css-tree/lib/syntax/pseudo/nth-of-type.js","../node_modules/css-tree/lib/syntax/pseudo/slotted.js","../node_modules/css-tree/lib/syntax/config/walker.js","../node_modules/css-tree/lib/index.js","../node_modules/pagedjs/src/polisher/sheet.js","../node_modules/pagedjs/src/utils/request.js","../node_modules/pagedjs/src/polisher/polisher.js","../node_modules/pagedjs/src/polisher/base.js","../node_modules/pagedjs/src/modules/handler.js","../node_modules/pagedjs/src/polisher/sizes.js","../node_modules/pagedjs/src/modules/paged-media/index.js","../node_modules/pagedjs/src/modules/paged-media/print-media.js","../node_modules/pagedjs/src/modules/paged-media/atpage.js","../node_modules/pagedjs/src/modules/paged-media/breaks.js","../node_modules/pagedjs/src/modules/paged-media/splits.js","../node_modules/pagedjs/src/modules/paged-media/counters.js","../node_modules/pagedjs/src/modules/paged-media/lists.js","../node_modules/pagedjs/src/modules/paged-media/position-fixed.js","../node_modules/pagedjs/src/modules/paged-media/page-counter-increment.js","../node_modules/pagedjs/src/modules/paged-media/nth-of-type.js","../node_modules/pagedjs/src/modules/paged-media/following.js","../node_modules/pagedjs/src/modules/paged-media/footnotes.js","../node_modules/pagedjs/src/utils/css.js","../node_modules/pagedjs/src/modules/generated-content/index.js","../node_modules/pagedjs/src/modules/generated-content/running-headers.js","../node_modules/pagedjs/src/modules/generated-content/string-sets.js","../node_modules/pagedjs/src/modules/generated-content/target-counters.js","../node_modules/pagedjs/src/modules/generated-content/target-text.js","../node_modules/clear-cut/index.js","../node_modules/pagedjs/src/modules/filters/index.js","../node_modules/pagedjs/src/modules/filters/whitespace.js","../node_modules/pagedjs/src/modules/filters/comments.js","../node_modules/pagedjs/src/modules/filters/scripts.js","../node_modules/pagedjs/src/modules/filters/undisplayed.js","../node_modules/ext/global-this/index.js","../node_modules/ext/global-this/is-implemented.js","../node_modules/ext/global-this/implementation.js","../node_modules/es6-symbol/is-symbol.js","../node_modules/es6-symbol/validate-symbol.js","../node_modules/es6-symbol/lib/private/generate-name.js","../node_modules/es6-symbol/polyfill.js","../node_modules/es6-symbol/lib/private/setup/standard-symbols.js","../node_modules/es6-symbol/lib/private/setup/symbol-registry.js","../node_modules/es6-symbol/index.js","../node_modules/es6-symbol/is-implemented.js","../node_modules/es5-ext/function/is-arguments.js","../node_modules/es5-ext/function/is-function.js","../node_modules/es5-ext/math/sign/index.js","../node_modules/es5-ext/math/sign/is-implemented.js","../node_modules/es5-ext/math/sign/shim.js","../node_modules/es5-ext/number/to-integer.js","../node_modules/es5-ext/number/to-pos-integer.js","../node_modules/es5-ext/string/is-string.js","../node_modules/es5-ext/array/from/index.js","../node_modules/es5-ext/array/from/is-implemented.js","../node_modules/es5-ext/array/from/shim.js","../node_modules/es5-ext/number/is-nan/index.js","../node_modules/es5-ext/number/is-nan/is-implemented.js","../node_modules/es5-ext/number/is-nan/shim.js","../node_modules/es5-ext/array/#/remove.js","../node_modules/es5-ext/array/#/e-index-of.js","../node_modules/es5-ext/object/is-object.js","../node_modules/event-emitter/pipe.js","../node_modules/es5-ext/object/valid-object.js","../node_modules/pagedjs/src/utils/handlers.js","../node_modules/pagedjs/src/polyfill/previewer.js","../src/rendering/handlers/WatermarkHandler.ts","../src/rendering/handlers/HeaderFooterHandler.ts","../src/rendering/handlers/OrderHandler.ts","../src/rendering/handlers/ColumnHandler.ts","../src/rendering/PagedJsRenderer.ts","../node_modules/katex/dist/katex.mjs","../node_modules/entities/dist/esm/generated/decode-data-html.js","../node_modules/entities/dist/esm/decode-codepoint.js","../node_modules/entities/dist/esm/decode.js","../src/rendering/utils/latexParser.ts"],"sourcesContent":["import { Question } from \"./Question\";\n\nexport interface Attachment {\n    ordem?: number;\n    anexo?: {\n        texto?: string;\n        [key: string]: any;\n    };\n    [key: string]: any;\n}\n\nexport interface AssessmentLayout {\n    codigo?: number;\n    nome?: string;\n    cabecalho?: string;\n    rodape?: string;\n    folhaRosto?: string;\n    paginacao?: string;\n    tipoFolha?: string;\n    margem?: number;\n    cabecalhoQuestao?: string;\n    cabecalhoPrimeiraQuestao?: string;\n    orientacaoFolha?: string;\n    rodapeRosto?: string | null;\n    rascunho?: string;\n    instituicao?: any;\n    colunas?: number;\n    marcaDagua?: string;\n    fonte?: string;\n    fonteTamanho?: number;\n    origemQuestao?: boolean;\n    ordemQuestaoPersonalizada?: boolean;\n    ativo?: any;\n    tamanhosSuportados?: string;\n    rodapeUltimaPagina?: any;\n    espacamentoLinhas?: any;\n    mapa?: any;\n    identificado?: any;\n    totalRegistros?: any;\n    tipoAlternativa?: number;\n    quebraQuestao?: boolean;\n    [key: string]: any;\n}\n\nexport interface AssessmentConstructor {\n    id?: number | string;\n    title?: string;\n    questions?: Question[];\n    attachments?: Attachment[];\n    layout?: AssessmentLayout;\n}\n\nexport class Assessment {\n    id?: number | string;\n    title?: string;\n    questions: Question[];\n    attachments: Attachment[];\n    layout: AssessmentLayout;\n\n    constructor({ id, title, questions = [], attachments = [], layout = {} }: AssessmentConstructor) {\n        this.id = id;\n        this.title = title;\n        this.questions = questions;\n        this.attachments = attachments;\n        this.layout = layout;\n    }\n}\n","export interface ReferenceSource {\n    codigo: number;\n    descricao: string;\n    anoFonte?: number;\n}\n\nexport interface Reference {\n    codigo: number | null;\n    descricao: string | null;\n    autor: string;\n    texto: string | null;\n    fonte: ReferenceSource | null;\n    instituicao?: any;\n    totalRegistros?: any;\n}\n\nexport interface QuestionContent {\n    fonte?: string;\n    instrucao?: string;\n    textoBase?: string;\n    comando?: string;\n    justificarFalsas?: boolean;\n    alternativas?: string[];\n    afirmacoes?: any[];\n    associacoes?: any;\n    assercoes?: any;\n    visualizaQuestaoParsed?: any; // Recursion or extra fields\n}\n\nexport interface QuestionConstructor {\n    id?: number | string;\n    order: number;\n    customOrder?: number | null;\n    value: number;\n    type: string;\n    content?: any;\n    reference?: Reference | null;\n    alternatives?: string[];\n    afirmacoes?: any[];\n    associacoes?: any;\n    assercoes?: any;\n    visualizaQuestaoRaw?: string | null;\n    orderAlternative?: number;\n}\n\nexport class Question {\n    id?: number | string;\n    order: number;\n    customOrder?: number | null;\n    value: number;\n    type: string;\n    content: any;\n    reference: Reference | null;\n    alternatives: string[];\n    afirmacoes: any[];\n    associacoes: any;\n    assercoes: any;\n    visualizaQuestaoRaw: string;\n    orderAlternative: number;\n\n    referenceInfo: string | null = null;\n    showReference: boolean = false;\n    visualizaQuestaoParsed: QuestionContent | null = null;\n\n    linhasBranco?: number;\n    quebraPagina?: boolean;\n    visualizaResposta?: string;\n    tipoLinha?: string | null;\n    numeroLinhas?: number;\n\n    constructor({\n        id,\n        order,\n        customOrder,\n        value,\n        type,\n        content,\n        reference,\n        alternatives = [],\n        afirmacoes = [],\n        associacoes = null,\n        assercoes = null,\n        visualizaQuestaoRaw = null,\n        orderAlternative = 0\n    }: QuestionConstructor) {\n        this.id = id;\n        this.order = order;\n        this.customOrder = customOrder;\n        this.value = value;\n        this.type = type;\n        this.content = content;\n        this.reference = reference || null;\n        this.alternatives = alternatives || [];\n        this.afirmacoes = afirmacoes || [];\n        this.associacoes = associacoes;\n        this.assercoes = assercoes;\n        this.visualizaQuestaoRaw = visualizaQuestaoRaw || '';\n        this.orderAlternative = orderAlternative || 0;\n    }\n\n    get displayOrder() {\n        return this.customOrder ?? this.order;\n    }\n}\n","export class ReferenceService {\n    /**\n     * Group questions by reference and set metadata\n     * @param {Question[]} questions \n     */\n    static processReferences(questions) {\n        const formatLista = (indices) =>\n            indices.map((i) => i + 1).join(\", \").replace(/,([^,]*)$/, \" e$1\");\n\n        const questaoReferencia = questions.reduce((map, question, index) => {\n            const ref = question.reference?.codigo;\n            if (ref) {\n                const existentes = map.get(ref) ?? [];\n                map.set(ref, [...existentes, index]);\n            }\n            return map;\n        }, new Map());\n\n        for (const [codigo, indices] of questaoReferencia) {\n            const primeira = questions[indices[0]];\n            primeira.referenceInfo = formatLista(indices);\n            primeira.showReference = true;\n        }\n\n        return questions;\n    }\n}\n","'use strict';\n\nexports.__esModule = true;\nexports.extend = extend;\nexports.indexOf = indexOf;\nexports.escapeExpression = escapeExpression;\nexports.isEmpty = isEmpty;\nexports.createFrame = createFrame;\nexports.blockParams = blockParams;\nexports.appendContextPath = appendContextPath;\nvar escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n  '=': '&#x3D;'\n};\n\nvar badChars = /[&<>\"'`=]/g,\n    possible = /[&<>\"'`=]/;\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nfunction extend(obj /* , ...source */) {\n  for (var i = 1; i < arguments.length; i++) {\n    for (var key in arguments[i]) {\n      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n        obj[key] = arguments[i][key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nvar toString = Object.prototype.toString;\n\nexports.toString = toString;\n// Sourced from lodash\n// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n/* eslint-disable func-style */\nvar isFunction = function isFunction(value) {\n  return typeof value === 'function';\n};\n// fallback for older versions of Chrome and Safari\n/* istanbul ignore next */\nif (isFunction(/x/)) {\n  exports.isFunction = isFunction = function (value) {\n    return typeof value === 'function' && toString.call(value) === '[object Function]';\n  };\n}\nexports.isFunction = isFunction;\n\n/* eslint-enable func-style */\n\n/* istanbul ignore next */\nvar isArray = Array.isArray || function (value) {\n  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;\n};\n\nexports.isArray = isArray;\n// Older IE versions do not directly support indexOf so we must implement our own, sadly.\n\nfunction indexOf(array, value) {\n  for (var i = 0, len = array.length; i < len; i++) {\n    if (array[i] === value) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction escapeExpression(string) {\n  if (typeof string !== 'string') {\n    // don't escape SafeStrings, since they're already safe\n    if (string && string.toHTML) {\n      return string.toHTML();\n    } else if (string == null) {\n      return '';\n    } else if (!string) {\n      return string + '';\n    }\n\n    // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object's to string has escaped characters in it.\n    string = '' + string;\n  }\n\n  if (!possible.test(string)) {\n    return string;\n  }\n  return string.replace(badChars, escapeChar);\n}\n\nfunction isEmpty(value) {\n  if (!value && value !== 0) {\n    return true;\n  } else if (isArray(value) && value.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction createFrame(object) {\n  var frame = extend({}, object);\n  frame._parent = object;\n  return frame;\n}\n\nfunction blockParams(params, ids) {\n  params.path = ids;\n  return params;\n}\n\nfunction appendContextPath(contextPath, id) {\n  return (contextPath ? contextPath + '.' : '') + id;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxJQUFNLE1BQU0sR0FBRztBQUNiLEtBQUcsRUFBRSxPQUFPO0FBQ1osS0FBRyxFQUFFLE1BQU07QUFDWCxLQUFHLEVBQUUsTUFBTTtBQUNYLEtBQUcsRUFBRSxRQUFRO0FBQ2IsS0FBRyxFQUFFLFFBQVE7QUFDYixLQUFHLEVBQUUsUUFBUTtBQUNiLEtBQUcsRUFBRSxRQUFRO0NBQ2QsQ0FBQzs7QUFFRixJQUFNLFFBQVEsR0FBRyxZQUFZO0lBQzNCLFFBQVEsR0FBRyxXQUFXLENBQUM7O0FBRXpCLFNBQVMsVUFBVSxDQUFDLEdBQUcsRUFBRTtBQUN2QixTQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUNwQjs7QUFFTSxTQUFTLE1BQU0sQ0FBQyxHQUFHLG9CQUFvQjtBQUM1QyxPQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN6QyxTQUFLLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUM1QixVQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDM0QsV0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztPQUM5QjtLQUNGO0dBQ0Y7O0FBRUQsU0FBTyxHQUFHLENBQUM7Q0FDWjs7QUFFTSxJQUFJLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQzs7Ozs7O0FBS2hELElBQUksVUFBVSxHQUFHLG9CQUFTLEtBQUssRUFBRTtBQUMvQixTQUFPLE9BQU8sS0FBSyxLQUFLLFVBQVUsQ0FBQztDQUNwQyxDQUFDOzs7QUFHRixJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUNuQixVQU9PLFVBQVUsR0FQakIsVUFBVSxHQUFHLFVBQVMsS0FBSyxFQUFFO0FBQzNCLFdBQ0UsT0FBTyxLQUFLLEtBQUssVUFBVSxJQUMzQixRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLG1CQUFtQixDQUM1QztHQUNILENBQUM7Q0FDSDtRQUNRLFVBQVUsR0FBVixVQUFVOzs7OztBQUlaLElBQU0sT0FBTyxHQUNsQixLQUFLLENBQUMsT0FBTyxJQUNiLFVBQVMsS0FBSyxFQUFFO0FBQ2QsU0FBTyxLQUFLLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxHQUNyQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLGdCQUFnQixHQUN6QyxLQUFLLENBQUM7Q0FDWCxDQUFDOzs7OztBQUdHLFNBQVMsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDcEMsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUNoRCxRQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLEVBQUU7QUFDdEIsYUFBTyxDQUFDLENBQUM7S0FDVjtHQUNGO0FBQ0QsU0FBTyxDQUFDLENBQUMsQ0FBQztDQUNYOztBQUVNLFNBQVMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFO0FBQ3ZDLE1BQUksT0FBTyxNQUFNLEtBQUssUUFBUSxFQUFFOztBQUU5QixRQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQzNCLGFBQU8sTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0tBQ3hCLE1BQU0sSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO0FBQ3pCLGFBQU8sRUFBRSxDQUFDO0tBQ1gsTUFBTSxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQ2xCLGFBQU8sTUFBTSxHQUFHLEVBQUUsQ0FBQztLQUNwQjs7Ozs7QUFLRCxVQUFNLEdBQUcsRUFBRSxHQUFHLE1BQU0sQ0FBQztHQUN0Qjs7QUFFRCxNQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUMxQixXQUFPLE1BQU0sQ0FBQztHQUNmO0FBQ0QsU0FBTyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQztDQUM3Qzs7QUFFTSxTQUFTLE9BQU8sQ0FBQyxLQUFLLEVBQUU7QUFDN0IsTUFBSSxDQUFDLEtBQUssSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFO0FBQ3pCLFdBQU8sSUFBSSxDQUFDO0dBQ2IsTUFBTSxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUMvQyxXQUFPLElBQUksQ0FBQztHQUNiLE1BQU07QUFDTCxXQUFPLEtBQUssQ0FBQztHQUNkO0NBQ0Y7O0FBRU0sU0FBUyxXQUFXLENBQUMsTUFBTSxFQUFFO0FBQ2xDLE1BQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDL0IsT0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7QUFDdkIsU0FBTyxLQUFLLENBQUM7Q0FDZDs7QUFFTSxTQUFTLFdBQVcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO0FBQ3ZDLFFBQU0sQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0FBQ2xCLFNBQU8sTUFBTSxDQUFDO0NBQ2Y7O0FBRU0sU0FBUyxpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFO0FBQ2pELFNBQU8sQ0FBQyxXQUFXLEdBQUcsV0FBVyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUEsR0FBSSxFQUFFLENBQUM7Q0FDcEQiLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlc2NhcGUgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmI3gyNzsnLFxuICAnYCc6ICcmI3g2MDsnLFxuICAnPSc6ICcmI3gzRDsnXG59O1xuXG5jb25zdCBiYWRDaGFycyA9IC9bJjw+XCInYD1dL2csXG4gIHBvc3NpYmxlID0gL1smPD5cIidgPV0vO1xuXG5mdW5jdGlvbiBlc2NhcGVDaGFyKGNocikge1xuICByZXR1cm4gZXNjYXBlW2Nocl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQob2JqIC8qICwgLi4uc291cmNlICovKSB7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQga2V5IGluIGFyZ3VtZW50c1tpXSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmd1bWVudHNbaV0sIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgbGV0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLy8gU291cmNlZCBmcm9tIGxvZGFzaFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jlc3RpZWpzL2xvZGFzaC9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuLyogZXNsaW50LWRpc2FibGUgZnVuYy1zdHlsZSAqL1xubGV0IGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufTtcbi8vIGZhbGxiYWNrIGZvciBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmIChpc0Z1bmN0aW9uKC94LykpIHtcbiAgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSdcbiAgICApO1xuICB9O1xufVxuZXhwb3J0IHsgaXNGdW5jdGlvbiB9O1xuLyogZXNsaW50LWVuYWJsZSBmdW5jLXN0eWxlICovXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgaXNBcnJheSA9XG4gIEFycmF5LmlzQXJyYXkgfHxcbiAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0J1xuICAgICAgPyB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuLy8gT2xkZXIgSUUgdmVyc2lvbnMgZG8gbm90IGRpcmVjdGx5IHN1cHBvcnQgaW5kZXhPZiBzbyB3ZSBtdXN0IGltcGxlbWVudCBvdXIgb3duLCBzYWRseS5cbmV4cG9ydCBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoYXJyYXlbaV0gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlRXhwcmVzc2lvbihzdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgZXNjYXBlIFNhZmVTdHJpbmdzLCBzaW5jZSB0aGV5J3JlIGFscmVhZHkgc2FmZVxuICAgIGlmIChzdHJpbmcgJiYgc3RyaW5nLnRvSFRNTCkge1xuICAgICAgcmV0dXJuIHN0cmluZy50b0hUTUwoKTtcbiAgICB9IGVsc2UgaWYgKHN0cmluZyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSBlbHNlIGlmICghc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nICsgJyc7XG4gICAgfVxuXG4gICAgLy8gRm9yY2UgYSBzdHJpbmcgY29udmVyc2lvbiBhcyB0aGlzIHdpbGwgYmUgZG9uZSBieSB0aGUgYXBwZW5kIHJlZ2FyZGxlc3MgYW5kXG4gICAgLy8gdGhlIHJlZ2V4IHRlc3Qgd2lsbCBkbyB0aGlzIHRyYW5zcGFyZW50bHkgYmVoaW5kIHRoZSBzY2VuZXMsIGNhdXNpbmcgaXNzdWVzIGlmXG4gICAgLy8gYW4gb2JqZWN0J3MgdG8gc3RyaW5nIGhhcyBlc2NhcGVkIGNoYXJhY3RlcnMgaW4gaXQuXG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmc7XG4gIH1cblxuICBpZiAoIXBvc3NpYmxlLnRlc3Qoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmc7XG4gIH1cbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKGJhZENoYXJzLCBlc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSAmJiB2YWx1ZSAhPT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnJhbWUob2JqZWN0KSB7XG4gIGxldCBmcmFtZSA9IGV4dGVuZCh7fSwgb2JqZWN0KTtcbiAgZnJhbWUuX3BhcmVudCA9IG9iamVjdDtcbiAgcmV0dXJuIGZyYW1lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmxvY2tQYXJhbXMocGFyYW1zLCBpZHMpIHtcbiAgcGFyYW1zLnBhdGggPSBpZHM7XG4gIHJldHVybiBwYXJhbXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRDb250ZXh0UGF0aChjb250ZXh0UGF0aCwgaWQpIHtcbiAgcmV0dXJuIChjb250ZXh0UGF0aCA/IGNvbnRleHRQYXRoICsgJy4nIDogJycpICsgaWQ7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nvar errorProps = ['description', 'fileName', 'lineNumber', 'endLineNumber', 'message', 'name', 'number', 'stack'];\n\nfunction Exception(message, node) {\n  var loc = node && node.loc,\n      line = undefined,\n      endLineNumber = undefined,\n      column = undefined,\n      endColumn = undefined;\n\n  if (loc) {\n    line = loc.start.line;\n    endLineNumber = loc.end.line;\n    column = loc.start.column;\n    endColumn = loc.end.column;\n\n    message += ' - ' + line + ':' + column;\n  }\n\n  var tmp = Error.prototype.constructor.call(this, message);\n\n  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n  for (var idx = 0; idx < errorProps.length; idx++) {\n    this[errorProps[idx]] = tmp[errorProps[idx]];\n  }\n\n  /* istanbul ignore else */\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, Exception);\n  }\n\n  try {\n    if (loc) {\n      this.lineNumber = line;\n      this.endLineNumber = endLineNumber;\n\n      // Work around issue under safari where we can't directly set the column value\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(this, 'column', {\n          value: column,\n          enumerable: true\n        });\n        Object.defineProperty(this, 'endColumn', {\n          value: endColumn,\n          enumerable: true\n        });\n      } else {\n        this.column = column;\n        this.endColumn = endColumn;\n      }\n    }\n  } catch (nop) {\n    /* Ignore if the browser is very particular */\n  }\n}\n\nException.prototype = new Error();\n\nexports['default'] = Exception;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFNLFVBQVUsR0FBRyxDQUNqQixhQUFhLEVBQ2IsVUFBVSxFQUNWLFlBQVksRUFDWixlQUFlLEVBQ2YsU0FBUyxFQUNULE1BQU0sRUFDTixRQUFRLEVBQ1IsT0FBTyxDQUNSLENBQUM7O0FBRUYsU0FBUyxTQUFTLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRTtBQUNoQyxNQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksSUFBSSxDQUFDLEdBQUc7TUFDeEIsSUFBSSxZQUFBO01BQ0osYUFBYSxZQUFBO01BQ2IsTUFBTSxZQUFBO01BQ04sU0FBUyxZQUFBLENBQUM7O0FBRVosTUFBSSxHQUFHLEVBQUU7QUFDUCxRQUFJLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7QUFDdEIsaUJBQWEsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztBQUM3QixVQUFNLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7QUFDMUIsYUFBUyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDOztBQUUzQixXQUFPLElBQUksS0FBSyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsTUFBTSxDQUFDO0dBQ3hDOztBQUVELE1BQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7OztBQUcxRCxPQUFLLElBQUksR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsVUFBVSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsRUFBRTtBQUNoRCxRQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0dBQzlDOzs7QUFHRCxNQUFJLEtBQUssQ0FBQyxpQkFBaUIsRUFBRTtBQUMzQixTQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0dBQzFDOztBQUVELE1BQUk7QUFDRixRQUFJLEdBQUcsRUFBRTtBQUNQLFVBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLFVBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDOzs7O0FBSW5DLFVBQUksTUFBTSxDQUFDLGNBQWMsRUFBRTtBQUN6QixjQUFNLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUU7QUFDcEMsZUFBSyxFQUFFLE1BQU07QUFDYixvQkFBVSxFQUFFLElBQUk7U0FDakIsQ0FBQyxDQUFDO0FBQ0gsY0FBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFO0FBQ3ZDLGVBQUssRUFBRSxTQUFTO0FBQ2hCLG9CQUFVLEVBQUUsSUFBSTtTQUNqQixDQUFDLENBQUM7T0FDSixNQUFNO0FBQ0wsWUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7QUFDckIsWUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7T0FDNUI7S0FDRjtHQUNGLENBQUMsT0FBTyxHQUFHLEVBQUU7O0dBRWI7Q0FDRjs7QUFFRCxTQUFTLENBQUMsU0FBUyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7O3FCQUVuQixTQUFTIiwiZmlsZSI6ImV4Y2VwdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGVycm9yUHJvcHMgPSBbXG4gICdkZXNjcmlwdGlvbicsXG4gICdmaWxlTmFtZScsXG4gICdsaW5lTnVtYmVyJyxcbiAgJ2VuZExpbmVOdW1iZXInLFxuICAnbWVzc2FnZScsXG4gICduYW1lJyxcbiAgJ251bWJlcicsXG4gICdzdGFjaydcbl07XG5cbmZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBub2RlKSB7XG4gIGxldCBsb2MgPSBub2RlICYmIG5vZGUubG9jLFxuICAgIGxpbmUsXG4gICAgZW5kTGluZU51bWJlcixcbiAgICBjb2x1bW4sXG4gICAgZW5kQ29sdW1uO1xuXG4gIGlmIChsb2MpIHtcbiAgICBsaW5lID0gbG9jLnN0YXJ0LmxpbmU7XG4gICAgZW5kTGluZU51bWJlciA9IGxvYy5lbmQubGluZTtcbiAgICBjb2x1bW4gPSBsb2Muc3RhcnQuY29sdW1uO1xuICAgIGVuZENvbHVtbiA9IGxvYy5lbmQuY29sdW1uO1xuXG4gICAgbWVzc2FnZSArPSAnIC0gJyArIGxpbmUgKyAnOicgKyBjb2x1bW47XG4gIH1cblxuICBsZXQgdG1wID0gRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cbiAgLy8gVW5mb3J0dW5hdGVseSBlcnJvcnMgYXJlIG5vdCBlbnVtZXJhYmxlIGluIENocm9tZSAoYXQgbGVhc3QpLCBzbyBgZm9yIHByb3AgaW4gdG1wYCBkb2Vzbid0IHdvcmsuXG4gIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVycm9yUHJvcHMubGVuZ3RoOyBpZHgrKykge1xuICAgIHRoaXNbZXJyb3JQcm9wc1tpZHhdXSA9IHRtcFtlcnJvclByb3BzW2lkeF1dO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgRXhjZXB0aW9uKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgaWYgKGxvYykge1xuICAgICAgdGhpcy5saW5lTnVtYmVyID0gbGluZTtcbiAgICAgIHRoaXMuZW5kTGluZU51bWJlciA9IGVuZExpbmVOdW1iZXI7XG5cbiAgICAgIC8vIFdvcmsgYXJvdW5kIGlzc3VlIHVuZGVyIHNhZmFyaSB3aGVyZSB3ZSBjYW4ndCBkaXJlY3RseSBzZXQgdGhlIGNvbHVtbiB2YWx1ZVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjb2x1bW4nLCB7XG4gICAgICAgICAgdmFsdWU6IGNvbHVtbixcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2VuZENvbHVtbicsIHtcbiAgICAgICAgICB2YWx1ZTogZW5kQ29sdW1uLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgICAgdGhpcy5lbmRDb2x1bW4gPSBlbmRDb2x1bW47XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChub3ApIHtcbiAgICAvKiBJZ25vcmUgaWYgdGhlIGJyb3dzZXIgaXMgdmVyeSBwYXJ0aWN1bGFyICovXG4gIH1cbn1cblxuRXhjZXB0aW9uLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuXG5leHBvcnQgZGVmYXVsdCBFeGNlcHRpb247XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nexports.registerDefaultHelpers = registerDefaultHelpers;\nexports.moveHelperToHooks = moveHelperToHooks;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _helpersBlockHelperMissing = require('./helpers/block-helper-missing');\n\nvar _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);\n\nvar _helpersEach = require('./helpers/each');\n\nvar _helpersEach2 = _interopRequireDefault(_helpersEach);\n\nvar _helpersHelperMissing = require('./helpers/helper-missing');\n\nvar _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);\n\nvar _helpersIf = require('./helpers/if');\n\nvar _helpersIf2 = _interopRequireDefault(_helpersIf);\n\nvar _helpersLog = require('./helpers/log');\n\nvar _helpersLog2 = _interopRequireDefault(_helpersLog);\n\nvar _helpersLookup = require('./helpers/lookup');\n\nvar _helpersLookup2 = _interopRequireDefault(_helpersLookup);\n\nvar _helpersWith = require('./helpers/with');\n\nvar _helpersWith2 = _interopRequireDefault(_helpersWith);\n\nfunction registerDefaultHelpers(instance) {\n  _helpersBlockHelperMissing2['default'](instance);\n  _helpersEach2['default'](instance);\n  _helpersHelperMissing2['default'](instance);\n  _helpersIf2['default'](instance);\n  _helpersLog2['default'](instance);\n  _helpersLookup2['default'](instance);\n  _helpersWith2['default'](instance);\n}\n\nfunction moveHelperToHooks(instance, helperName, keepHelper) {\n  if (instance.helpers[helperName]) {\n    instance.hooks[helperName] = instance.helpers[helperName];\n    if (!keepHelper) {\n      delete instance.helpers[helperName];\n    }\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O3lDQUF1QyxnQ0FBZ0M7Ozs7MkJBQzlDLGdCQUFnQjs7OztvQ0FDUCwwQkFBMEI7Ozs7eUJBQ3JDLGNBQWM7Ozs7MEJBQ2IsZUFBZTs7Ozs2QkFDWixrQkFBa0I7Ozs7MkJBQ3BCLGdCQUFnQjs7OztBQUVsQyxTQUFTLHNCQUFzQixDQUFDLFFBQVEsRUFBRTtBQUMvQyx5Q0FBMkIsUUFBUSxDQUFDLENBQUM7QUFDckMsMkJBQWEsUUFBUSxDQUFDLENBQUM7QUFDdkIsb0NBQXNCLFFBQVEsQ0FBQyxDQUFDO0FBQ2hDLHlCQUFXLFFBQVEsQ0FBQyxDQUFDO0FBQ3JCLDBCQUFZLFFBQVEsQ0FBQyxDQUFDO0FBQ3RCLDZCQUFlLFFBQVEsQ0FBQyxDQUFDO0FBQ3pCLDJCQUFhLFFBQVEsQ0FBQyxDQUFDO0NBQ3hCOztBQUVNLFNBQVMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUU7QUFDbEUsTUFBSSxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFO0FBQ2hDLFlBQVEsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUMxRCxRQUFJLENBQUMsVUFBVSxFQUFFO0FBQ2YsYUFBTyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0tBQ3JDO0dBQ0Y7Q0FDRiIsImZpbGUiOiJoZWxwZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZ2lzdGVyQmxvY2tIZWxwZXJNaXNzaW5nIGZyb20gJy4vaGVscGVycy9ibG9jay1oZWxwZXItbWlzc2luZyc7XG5pbXBvcnQgcmVnaXN0ZXJFYWNoIGZyb20gJy4vaGVscGVycy9lYWNoJztcbmltcG9ydCByZWdpc3RlckhlbHBlck1pc3NpbmcgZnJvbSAnLi9oZWxwZXJzL2hlbHBlci1taXNzaW5nJztcbmltcG9ydCByZWdpc3RlcklmIGZyb20gJy4vaGVscGVycy9pZic7XG5pbXBvcnQgcmVnaXN0ZXJMb2cgZnJvbSAnLi9oZWxwZXJzL2xvZyc7XG5pbXBvcnQgcmVnaXN0ZXJMb29rdXAgZnJvbSAnLi9oZWxwZXJzL2xvb2t1cCc7XG5pbXBvcnQgcmVnaXN0ZXJXaXRoIGZyb20gJy4vaGVscGVycy93aXRoJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnMoaW5zdGFuY2UpIHtcbiAgcmVnaXN0ZXJCbG9ja0hlbHBlck1pc3NpbmcoaW5zdGFuY2UpO1xuICByZWdpc3RlckVhY2goaW5zdGFuY2UpO1xuICByZWdpc3RlckhlbHBlck1pc3NpbmcoaW5zdGFuY2UpO1xuICByZWdpc3RlcklmKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJMb2coaW5zdGFuY2UpO1xuICByZWdpc3Rlckxvb2t1cChpbnN0YW5jZSk7XG4gIHJlZ2lzdGVyV2l0aChpbnN0YW5jZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlSGVscGVyVG9Ib29rcyhpbnN0YW5jZSwgaGVscGVyTmFtZSwga2VlcEhlbHBlcikge1xuICBpZiAoaW5zdGFuY2UuaGVscGVyc1toZWxwZXJOYW1lXSkge1xuICAgIGluc3RhbmNlLmhvb2tzW2hlbHBlck5hbWVdID0gaW5zdGFuY2UuaGVscGVyc1toZWxwZXJOYW1lXTtcbiAgICBpZiAoIWtlZXBIZWxwZXIpIHtcbiAgICAgIGRlbGV0ZSBpbnN0YW5jZS5oZWxwZXJzW2hlbHBlck5hbWVdO1xuICAgIH1cbiAgfVxufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerHelper('blockHelperMissing', function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = { data: data };\n      }\n\n      return fn(context, options);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvYmxvY2staGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztxQkFBd0QsVUFBVTs7cUJBRW5ELFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3ZFLFFBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPO1FBQzNCLEVBQUUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUVsQixRQUFJLE9BQU8sS0FBSyxJQUFJLEVBQUU7QUFDcEIsYUFBTyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDakIsTUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLElBQUksT0FBTyxJQUFJLElBQUksRUFBRTtBQUMvQyxhQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN0QixNQUFNLElBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUMzQixVQUFJLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ3RCLFlBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUNmLGlCQUFPLENBQUMsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzlCOztBQUVELGVBQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO09BQ2hELE1BQU07QUFDTCxlQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztPQUN0QjtLQUNGLE1BQU07QUFDTCxVQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixZQUFJLElBQUksR0FBRyxtQkFBWSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDckMsWUFBSSxDQUFDLFdBQVcsR0FBRyx5QkFDakIsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQ3hCLE9BQU8sQ0FBQyxJQUFJLENBQ2IsQ0FBQztBQUNGLGVBQU8sR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQztPQUMxQjs7QUFFRCxhQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDN0I7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJibG9jay1oZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFwcGVuZENvbnRleHRQYXRoLCBjcmVhdGVGcmFtZSwgaXNBcnJheSB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2Jsb2NrSGVscGVyTWlzc2luZycsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBsZXQgaW52ZXJzZSA9IG9wdGlvbnMuaW52ZXJzZSxcbiAgICAgIGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmIChjb250ZXh0ID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZm4odGhpcyk7XG4gICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSBmYWxzZSB8fCBjb250ZXh0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgaWYgKGNvbnRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICAgICAgICBvcHRpb25zLmlkcyA9IFtvcHRpb25zLm5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnMuZWFjaChjb250ZXh0LCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIGxldCBkYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKFxuICAgICAgICAgIG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCxcbiAgICAgICAgICBvcHRpb25zLm5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgb3B0aW9ucyA9IHsgZGF0YTogZGF0YSB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('each', function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else if (typeof Symbol === 'function' && context[Symbol.iterator]) {\n        var newContext = [];\n        var iterator = context[Symbol.iterator]();\n        for (var it = iterator.next(); !it.done; it = iterator.next()) {\n          newContext.push(it.value);\n        }\n        context = newContext;\n        for (var j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        (function () {\n          var priorKey = undefined;\n\n          Object.keys(context).forEach(function (key) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          });\n          if (priorKey !== undefined) {\n            execIteration(priorKey, i - 1, true);\n          }\n        })();\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvZWFjaC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQU1PLFVBQVU7O3lCQUNLLGNBQWM7Ozs7cUJBRXJCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFVBQVMsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUN6RCxRQUFJLENBQUMsT0FBTyxFQUFFO0FBQ1osWUFBTSwyQkFBYyw2QkFBNkIsQ0FBQyxDQUFDO0tBQ3BEOztBQUVELFFBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFO1FBQ2pCLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTztRQUN6QixDQUFDLEdBQUcsQ0FBQztRQUNMLEdBQUcsR0FBRyxFQUFFO1FBQ1IsSUFBSSxZQUFBO1FBQ0osV0FBVyxZQUFBLENBQUM7O0FBRWQsUUFBSSxPQUFPLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQyxHQUFHLEVBQUU7QUFDL0IsaUJBQVcsR0FDVCx5QkFBa0IsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztLQUNyRTs7QUFFRCxRQUFJLGtCQUFXLE9BQU8sQ0FBQyxFQUFFO0FBQ3ZCLGFBQU8sR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzlCOztBQUVELFFBQUksT0FBTyxDQUFDLElBQUksRUFBRTtBQUNoQixVQUFJLEdBQUcsbUJBQVksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2xDOztBQUVELGFBQVMsYUFBYSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFO0FBQ3pDLFVBQUksSUFBSSxFQUFFO0FBQ1IsWUFBSSxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUM7QUFDakIsWUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDbkIsWUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLEtBQUssQ0FBQyxDQUFDO0FBQ3pCLFlBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQzs7QUFFbkIsWUFBSSxXQUFXLEVBQUU7QUFDZixjQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsR0FBRyxLQUFLLENBQUM7U0FDeEM7T0FDRjs7QUFFRCxTQUFHLEdBQ0QsR0FBRyxHQUNILEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDakIsWUFBSSxFQUFFLElBQUk7QUFDVixtQkFBVyxFQUFFLG1CQUNYLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUN2QixDQUFDLFdBQVcsR0FBRyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQzVCO09BQ0YsQ0FBQyxDQUFDO0tBQ047O0FBRUQsUUFBSSxPQUFPLElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO0FBQzFDLFVBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUNwQixhQUFLLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN2QyxjQUFJLENBQUMsSUFBSSxPQUFPLEVBQUU7QUFDaEIseUJBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1dBQy9DO1NBQ0Y7T0FDRixNQUFNLElBQUksT0FBTyxNQUFNLEtBQUssVUFBVSxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7QUFDbkUsWUFBTSxVQUFVLEdBQUcsRUFBRSxDQUFDO0FBQ3RCLFlBQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztBQUM1QyxhQUFLLElBQUksRUFBRSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUM3RCxvQkFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDM0I7QUFDRCxlQUFPLEdBQUcsVUFBVSxDQUFDO0FBQ3JCLGFBQUssSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3ZDLHVCQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztTQUMvQztPQUNGLE1BQU07O0FBQ0wsY0FBSSxRQUFRLFlBQUEsQ0FBQzs7QUFFYixnQkFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQSxHQUFHLEVBQUk7Ozs7QUFJbEMsZ0JBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtBQUMxQiwyQkFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDaEM7QUFDRCxvQkFBUSxHQUFHLEdBQUcsQ0FBQztBQUNmLGFBQUMsRUFBRSxDQUFDO1dBQ0wsQ0FBQyxDQUFDO0FBQ0gsY0FBSSxRQUFRLEtBQUssU0FBUyxFQUFFO0FBQzFCLHlCQUFhLENBQUMsUUFBUSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7V0FDdEM7O09BQ0Y7S0FDRjs7QUFFRCxRQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDWCxTQUFHLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3JCOztBQUVELFdBQU8sR0FBRyxDQUFDO0dBQ1osQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiZWFjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFwcGVuZENvbnRleHRQYXRoLFxuICBibG9ja1BhcmFtcyxcbiAgY3JlYXRlRnJhbWUsXG4gIGlzQXJyYXksXG4gIGlzRnVuY3Rpb25cbn0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuLi9leGNlcHRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignZWFjaCcsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ011c3QgcGFzcyBpdGVyYXRvciB0byAjZWFjaCcpO1xuICAgIH1cblxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm4sXG4gICAgICBpbnZlcnNlID0gb3B0aW9ucy5pbnZlcnNlLFxuICAgICAgaSA9IDAsXG4gICAgICByZXQgPSAnJyxcbiAgICAgIGRhdGEsXG4gICAgICBjb250ZXh0UGF0aDtcblxuICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgIGNvbnRleHRQYXRoID1cbiAgICAgICAgYXBwZW5kQ29udGV4dFBhdGgob3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLCBvcHRpb25zLmlkc1swXSkgKyAnLic7XG4gICAgfVxuXG4gICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dCkpIHtcbiAgICAgIGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuZGF0YSkge1xuICAgICAgZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhlY0l0ZXJhdGlvbihmaWVsZCwgaW5kZXgsIGxhc3QpIHtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGRhdGEua2V5ID0gZmllbGQ7XG4gICAgICAgIGRhdGEuaW5kZXggPSBpbmRleDtcbiAgICAgICAgZGF0YS5maXJzdCA9IGluZGV4ID09PSAwO1xuICAgICAgICBkYXRhLmxhc3QgPSAhIWxhc3Q7XG5cbiAgICAgICAgaWYgKGNvbnRleHRQYXRoKSB7XG4gICAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGNvbnRleHRQYXRoICsgZmllbGQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0ID1cbiAgICAgICAgcmV0ICtcbiAgICAgICAgZm4oY29udGV4dFtmaWVsZF0sIHtcbiAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhcbiAgICAgICAgICAgIFtjb250ZXh0W2ZpZWxkXSwgZmllbGRdLFxuICAgICAgICAgICAgW2NvbnRleHRQYXRoICsgZmllbGQsIG51bGxdXG4gICAgICAgICAgKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY29udGV4dCAmJiB0eXBlb2YgY29udGV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChpc0FycmF5KGNvbnRleHQpKSB7XG4gICAgICAgIGZvciAobGV0IGogPSBjb250ZXh0Lmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgIGlmIChpIGluIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24oaSwgaSwgaSA9PT0gY29udGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBjb250ZXh0W1N5bWJvbC5pdGVyYXRvcl0pIHtcbiAgICAgICAgY29uc3QgbmV3Q29udGV4dCA9IFtdO1xuICAgICAgICBjb25zdCBpdGVyYXRvciA9IGNvbnRleHRbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICBmb3IgKGxldCBpdCA9IGl0ZXJhdG9yLm5leHQoKTsgIWl0LmRvbmU7IGl0ID0gaXRlcmF0b3IubmV4dCgpKSB7XG4gICAgICAgICAgbmV3Q29udGV4dC5wdXNoKGl0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0ID0gbmV3Q29udGV4dDtcbiAgICAgICAgZm9yIChsZXQgaiA9IGNvbnRleHQubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgZXhlY0l0ZXJhdGlvbihpLCBpLCBpID09PSBjb250ZXh0Lmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcHJpb3JLZXk7XG5cbiAgICAgICAgT2JqZWN0LmtleXMoY29udGV4dCkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgIC8vIFdlJ3JlIHJ1bm5pbmcgdGhlIGl0ZXJhdGlvbnMgb25lIHN0ZXAgb3V0IG9mIHN5bmMgc28gd2UgY2FuIGRldGVjdFxuICAgICAgICAgIC8vIHRoZSBsYXN0IGl0ZXJhdGlvbiB3aXRob3V0IGhhdmUgdG8gc2NhbiB0aGUgb2JqZWN0IHR3aWNlIGFuZCBjcmVhdGVcbiAgICAgICAgICAvLyBhbiBpdGVybWVkaWF0ZSBrZXlzIGFycmF5LlxuICAgICAgICAgIGlmIChwcmlvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByaW9yS2V5ID0ga2V5O1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwcmlvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZXhlY0l0ZXJhdGlvbihwcmlvcktleSwgaSAtIDEsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGkgPT09IDApIHtcbiAgICAgIHJldCA9IGludmVyc2UodGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('helperMissing', function () /* [args, ]options */{\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozt5QkFBc0IsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEVBQUUsaUNBQWdDO0FBQ3ZFLFFBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7O0FBRTFCLGFBQU8sU0FBUyxDQUFDO0tBQ2xCLE1BQU07O0FBRUwsWUFBTSwyQkFDSixtQkFBbUIsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUNqRSxDQUFDO0tBQ0g7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJoZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbigvKiBbYXJncywgXW9wdGlvbnMgKi8pIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gQSBtaXNzaW5nIGZpZWxkIGluIGEge3tmb299fSBjb25zdHJ1Y3QuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTb21lb25lIGlzIGFjdHVhbGx5IHRyeWluZyB0byBjYWxsIHNvbWV0aGluZywgYmxvdyB1cC5cbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXG4gICAgICAgICdNaXNzaW5nIGhlbHBlcjogXCInICsgYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXS5uYW1lICsgJ1wiJ1xuICAgICAgKTtcbiAgICB9XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('if', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#if requires exactly one argument');\n    }\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  });\n\n  instance.registerHelper('unless', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#unless requires exactly one argument');\n    }\n    return instance.helpers['if'].call(this, conditional, {\n      fn: options.inverse,\n      inverse: options.fn,\n      hash: options.hash\n    });\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaWYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztxQkFBb0MsVUFBVTs7eUJBQ3hCLGNBQWM7Ozs7cUJBRXJCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLFVBQVMsV0FBVyxFQUFFLE9BQU8sRUFBRTtBQUMzRCxRQUFJLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO0FBQ3pCLFlBQU0sMkJBQWMsbUNBQW1DLENBQUMsQ0FBQztLQUMxRDtBQUNELFFBQUksa0JBQVcsV0FBVyxDQUFDLEVBQUU7QUFDM0IsaUJBQVcsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3RDOzs7OztBQUtELFFBQUksQUFBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsV0FBVyxJQUFLLGVBQVEsV0FBVyxDQUFDLEVBQUU7QUFDdkUsYUFBTyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzlCLE1BQU07QUFDTCxhQUFPLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDekI7R0FDRixDQUFDLENBQUM7O0FBRUgsVUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsVUFBUyxXQUFXLEVBQUUsT0FBTyxFQUFFO0FBQy9ELFFBQUksU0FBUyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7QUFDekIsWUFBTSwyQkFBYyx1Q0FBdUMsQ0FBQyxDQUFDO0tBQzlEO0FBQ0QsV0FBTyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFO0FBQ3BELFFBQUUsRUFBRSxPQUFPLENBQUMsT0FBTztBQUNuQixhQUFPLEVBQUUsT0FBTyxDQUFDLEVBQUU7QUFDbkIsVUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO0tBQ25CLENBQUMsQ0FBQztHQUNKLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6ImlmLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNFbXB0eSwgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2lmJywgZnVuY3Rpb24oY29uZGl0aW9uYWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCcjaWYgcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQnKTtcbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24oY29uZGl0aW9uYWwpKSB7XG4gICAgICBjb25kaXRpb25hbCA9IGNvbmRpdGlvbmFsLmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCBiZWhhdmlvciBpcyB0byByZW5kZXIgdGhlIHBvc2l0aXZlIHBhdGggaWYgdGhlIHZhbHVlIGlzIHRydXRoeSBhbmQgbm90IGVtcHR5LlxuICAgIC8vIFRoZSBgaW5jbHVkZVplcm9gIG9wdGlvbiBtYXkgYmUgc2V0IHRvIHRyZWF0IHRoZSBjb25kdGlvbmFsIGFzIHB1cmVseSBub3QgZW1wdHkgYmFzZWQgb24gdGhlXG4gICAgLy8gYmVoYXZpb3Igb2YgaXNFbXB0eS4gRWZmZWN0aXZlbHkgdGhpcyBkZXRlcm1pbmVzIGlmIDAgaXMgaGFuZGxlZCBieSB0aGUgcG9zaXRpdmUgcGF0aCBvciBuZWdhdGl2ZS5cbiAgICBpZiAoKCFvcHRpb25zLmhhc2guaW5jbHVkZVplcm8gJiYgIWNvbmRpdGlvbmFsKSB8fCBpc0VtcHR5KGNvbmRpdGlvbmFsKSkge1xuICAgICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gICAgfVxuICB9KTtcblxuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcigndW5sZXNzJywgZnVuY3Rpb24oY29uZGl0aW9uYWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCcjdW5sZXNzIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50Jyk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZS5oZWxwZXJzWydpZiddLmNhbGwodGhpcywgY29uZGl0aW9uYWwsIHtcbiAgICAgIGZuOiBvcHRpb25zLmludmVyc2UsXG4gICAgICBpbnZlcnNlOiBvcHRpb25zLmZuLFxuICAgICAgaGFzaDogb3B0aW9ucy5oYXNoXG4gICAgfSk7XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('log', function () /* message, options */{\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log.apply(instance, args);\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsa0NBQWlDO0FBQzlELFFBQUksSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDO1FBQ3BCLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUM1QyxTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDN0MsVUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUN6Qjs7QUFFRCxRQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZCxRQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRTtBQUM5QixXQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7S0FDNUIsTUFBTSxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO0FBQ3JELFdBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztLQUM1QjtBQUNELFFBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7O0FBRWhCLFlBQVEsQ0FBQyxHQUFHLE1BQUEsQ0FBWixRQUFRLEVBQVEsSUFBSSxDQUFDLENBQUM7R0FDdkIsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoibG9nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvZycsIGZ1bmN0aW9uKC8qIG1lc3NhZ2UsIG9wdGlvbnMgKi8pIHtcbiAgICBsZXQgYXJncyA9IFt1bmRlZmluZWRdLFxuICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG5cbiAgICBsZXQgbGV2ZWwgPSAxO1xuICAgIGlmIChvcHRpb25zLmhhc2gubGV2ZWwgIT0gbnVsbCkge1xuICAgICAgbGV2ZWwgPSBvcHRpb25zLmhhc2gubGV2ZWw7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5kYXRhLmxldmVsICE9IG51bGwpIHtcbiAgICAgIGxldmVsID0gb3B0aW9ucy5kYXRhLmxldmVsO1xuICAgIH1cbiAgICBhcmdzWzBdID0gbGV2ZWw7XG5cbiAgICBpbnN0YW5jZS5sb2coLi4uYXJncyk7XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('lookup', function (obj, field, options) {\n    if (!obj) {\n      // Note for 5.0: Change to \"obj == null\" in 5.0\n      return obj;\n    }\n    return options.lookupProperty(obj, field);\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9va3VwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsVUFBUyxHQUFHLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtBQUM5RCxRQUFJLENBQUMsR0FBRyxFQUFFOztBQUVSLGFBQU8sR0FBRyxDQUFDO0tBQ1o7QUFDRCxXQUFPLE9BQU8sQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0dBQzNDLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6Imxvb2t1cC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdsb29rdXAnLCBmdW5jdGlvbihvYmosIGZpZWxkLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvYmopIHtcbiAgICAgIC8vIE5vdGUgZm9yIDUuMDogQ2hhbmdlIHRvIFwib2JqID09IG51bGxcIiBpbiA1LjBcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zLmxvb2t1cFByb3BlcnR5KG9iaiwgZmllbGQpO1xuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('with', function (context, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#with requires exactly one argument');\n    }\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvd2l0aC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQU1PLFVBQVU7O3lCQUNLLGNBQWM7Ozs7cUJBRXJCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFVBQVMsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUN6RCxRQUFJLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO0FBQ3pCLFlBQU0sMkJBQWMscUNBQXFDLENBQUMsQ0FBQztLQUM1RDtBQUNELFFBQUksa0JBQVcsT0FBTyxDQUFDLEVBQUU7QUFDdkIsYUFBTyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDOUI7O0FBRUQsUUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQzs7QUFFcEIsUUFBSSxDQUFDLGVBQVEsT0FBTyxDQUFDLEVBQUU7QUFDckIsVUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztBQUN4QixVQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixZQUFJLEdBQUcsbUJBQVksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2pDLFlBQUksQ0FBQyxXQUFXLEdBQUcseUJBQ2pCLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUN4QixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUNmLENBQUM7T0FDSDs7QUFFRCxhQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUU7QUFDakIsWUFBSSxFQUFFLElBQUk7QUFDVixtQkFBVyxFQUFFLG1CQUFZLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO09BQ2hFLENBQUMsQ0FBQztLQUNKLE1BQU07QUFDTCxhQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDOUI7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJ3aXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXBwZW5kQ29udGV4dFBhdGgsXG4gIGJsb2NrUGFyYW1zLFxuICBjcmVhdGVGcmFtZSxcbiAgaXNFbXB0eSxcbiAgaXNGdW5jdGlvblxufSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4uL2V4Y2VwdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCd3aXRoJywgZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9IDIpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJyN3aXRoIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50Jyk7XG4gICAgfVxuICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQpKSB7XG4gICAgICBjb250ZXh0ID0gY29udGV4dC5jYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm47XG5cbiAgICBpZiAoIWlzRW1wdHkoY29udGV4dCkpIHtcbiAgICAgIGxldCBkYXRhID0gb3B0aW9ucy5kYXRhO1xuICAgICAgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmlkcykge1xuICAgICAgICBkYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKFxuICAgICAgICAgIG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCxcbiAgICAgICAgICBvcHRpb25zLmlkc1swXVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm4oY29udGV4dCwge1xuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBibG9ja1BhcmFtczogYmxvY2tQYXJhbXMoW2NvbnRleHRdLCBbZGF0YSAmJiBkYXRhLmNvbnRleHRQYXRoXSlcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nexports.registerDefaultDecorators = registerDefaultDecorators;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _decoratorsInline = require('./decorators/inline');\n\nvar _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);\n\nfunction registerDefaultDecorators(instance) {\n  _decoratorsInline2['default'](instance);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Z0NBQTJCLHFCQUFxQjs7OztBQUV6QyxTQUFTLHlCQUF5QixDQUFDLFFBQVEsRUFBRTtBQUNsRCxnQ0FBZSxRQUFRLENBQUMsQ0FBQztDQUMxQiIsImZpbGUiOiJkZWNvcmF0b3JzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZ2lzdGVySW5saW5lIGZyb20gJy4vZGVjb3JhdG9ycy9pbmxpbmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyhpbnN0YW5jZSkge1xuICByZWdpc3RlcklubGluZShpbnN0YW5jZSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerDecorator('inline', function (fn, props, container, options) {\n    var ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMvaW5saW5lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQXVCLFVBQVU7O3FCQUVsQixVQUFTLFFBQVEsRUFBRTtBQUNoQyxVQUFRLENBQUMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFVBQVMsRUFBRSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO0FBQzNFLFFBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO0FBQ25CLFdBQUssQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLFNBQUcsR0FBRyxVQUFTLE9BQU8sRUFBRSxPQUFPLEVBQUU7O0FBRS9CLFlBQUksUUFBUSxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUM7QUFDbEMsaUJBQVMsQ0FBQyxRQUFRLEdBQUcsY0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMxRCxZQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQy9CLGlCQUFTLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUM5QixlQUFPLEdBQUcsQ0FBQztPQUNaLENBQUM7S0FDSDs7QUFFRCxTQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUU3QyxXQUFPLEdBQUcsQ0FBQztHQUNaLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6ImlubGluZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJEZWNvcmF0b3IoJ2lubGluZScsIGZ1bmN0aW9uKGZuLCBwcm9wcywgY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgbGV0IHJldCA9IGZuO1xuICAgIGlmICghcHJvcHMucGFydGlhbHMpIHtcbiAgICAgIHByb3BzLnBhcnRpYWxzID0ge307XG4gICAgICByZXQgPSBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwYXJ0aWFscyBzdGFjayBmcmFtZSBwcmlvciB0byBleGVjLlxuICAgICAgICBsZXQgb3JpZ2luYWwgPSBjb250YWluZXIucGFydGlhbHM7XG4gICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IGV4dGVuZCh7fSwgb3JpZ2luYWwsIHByb3BzLnBhcnRpYWxzKTtcbiAgICAgICAgbGV0IHJldCA9IGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBvcmlnaW5hbDtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcHJvcHMucGFydGlhbHNbb3B0aW9ucy5hcmdzWzBdXSA9IG9wdGlvbnMuZm47XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('./utils');\n\nvar logger = {\n  methodMap: ['debug', 'info', 'warn', 'error'],\n  level: 'info',\n\n  // Maps a given level value to the `methodMap` indexes above.\n  lookupLevel: function lookupLevel(level) {\n    if (typeof level === 'string') {\n      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());\n      if (levelMap >= 0) {\n        level = levelMap;\n      } else {\n        level = parseInt(level, 10);\n      }\n    }\n\n    return level;\n  },\n\n  // Can be overridden in the host environment\n  log: function log(level) {\n    level = logger.lookupLevel(level);\n\n    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\n      var method = logger.methodMap[level];\n      // eslint-disable-next-line no-console\n      if (!console[method]) {\n        method = 'log';\n      }\n\n      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        message[_key - 1] = arguments[_key];\n      }\n\n      console[method].apply(console, message); // eslint-disable-line no-console\n    }\n  }\n};\n\nexports['default'] = logger;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2xvZ2dlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUF3QixTQUFTOztBQUVqQyxJQUFJLE1BQU0sR0FBRztBQUNYLFdBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQztBQUM3QyxPQUFLLEVBQUUsTUFBTTs7O0FBR2IsYUFBVyxFQUFFLHFCQUFTLEtBQUssRUFBRTtBQUMzQixRQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtBQUM3QixVQUFJLFFBQVEsR0FBRyxlQUFRLE1BQU0sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7QUFDOUQsVUFBSSxRQUFRLElBQUksQ0FBQyxFQUFFO0FBQ2pCLGFBQUssR0FBRyxRQUFRLENBQUM7T0FDbEIsTUFBTTtBQUNMLGFBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO09BQzdCO0tBQ0Y7O0FBRUQsV0FBTyxLQUFLLENBQUM7R0FDZDs7O0FBR0QsS0FBRyxFQUFFLGFBQVMsS0FBSyxFQUFjO0FBQy9CLFNBQUssR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDOztBQUVsQyxRQUNFLE9BQU8sT0FBTyxLQUFLLFdBQVcsSUFDOUIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxFQUN6QztBQUNBLFVBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7O0FBRXJDLFVBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDcEIsY0FBTSxHQUFHLEtBQUssQ0FBQztPQUNoQjs7d0NBWG1CLE9BQU87QUFBUCxlQUFPOzs7QUFZM0IsYUFBTyxDQUFDLE1BQU0sT0FBQyxDQUFmLE9BQU8sRUFBWSxPQUFPLENBQUMsQ0FBQztLQUM3QjtHQUNGO0NBQ0YsQ0FBQzs7cUJBRWEsTUFBTSIsImZpbGUiOiJsb2dnZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbmRleE9mIH0gZnJvbSAnLi91dGlscyc7XG5cbmxldCBsb2dnZXIgPSB7XG4gIG1ldGhvZE1hcDogWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXSxcbiAgbGV2ZWw6ICdpbmZvJyxcblxuICAvLyBNYXBzIGEgZ2l2ZW4gbGV2ZWwgdmFsdWUgdG8gdGhlIGBtZXRob2RNYXBgIGluZGV4ZXMgYWJvdmUuXG4gIGxvb2t1cExldmVsOiBmdW5jdGlvbihsZXZlbCkge1xuICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBsZXQgbGV2ZWxNYXAgPSBpbmRleE9mKGxvZ2dlci5tZXRob2RNYXAsIGxldmVsLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgaWYgKGxldmVsTWFwID49IDApIHtcbiAgICAgICAgbGV2ZWwgPSBsZXZlbE1hcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldmVsID0gcGFyc2VJbnQobGV2ZWwsIDEwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGV2ZWw7XG4gIH0sXG5cbiAgLy8gQ2FuIGJlIG92ZXJyaWRkZW4gaW4gdGhlIGhvc3QgZW52aXJvbm1lbnRcbiAgbG9nOiBmdW5jdGlvbihsZXZlbCwgLi4ubWVzc2FnZSkge1xuICAgIGxldmVsID0gbG9nZ2VyLmxvb2t1cExldmVsKGxldmVsKTtcblxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgbG9nZ2VyLmxvb2t1cExldmVsKGxvZ2dlci5sZXZlbCkgPD0gbGV2ZWxcbiAgICApIHtcbiAgICAgIGxldCBtZXRob2QgPSBsb2dnZXIubWV0aG9kTWFwW2xldmVsXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBpZiAoIWNvbnNvbGVbbWV0aG9kXSkge1xuICAgICAgICBtZXRob2QgPSAnbG9nJztcbiAgICAgIH1cbiAgICAgIGNvbnNvbGVbbWV0aG9kXSguLi5tZXNzYWdlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBsb2dnZXI7XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nexports.createProtoAccessControl = createProtoAccessControl;\nexports.resultIsAllowed = resultIsAllowed;\nexports.resetLoggedProperties = resetLoggedProperties;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _createNewLookupObject = require('./create-new-lookup-object');\n\nvar _logger = require('../logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar loggedProperties = Object.create(null);\n\nfunction createProtoAccessControl(runtimeOptions) {\n  var defaultMethodWhiteList = Object.create(null);\n  defaultMethodWhiteList['constructor'] = false;\n  defaultMethodWhiteList['__defineGetter__'] = false;\n  defaultMethodWhiteList['__defineSetter__'] = false;\n  defaultMethodWhiteList['__lookupGetter__'] = false;\n\n  var defaultPropertyWhiteList = Object.create(null);\n  // eslint-disable-next-line no-proto\n  defaultPropertyWhiteList['__proto__'] = false;\n\n  return {\n    properties: {\n      whitelist: _createNewLookupObject.createNewLookupObject(defaultPropertyWhiteList, runtimeOptions.allowedProtoProperties),\n      defaultValue: runtimeOptions.allowProtoPropertiesByDefault\n    },\n    methods: {\n      whitelist: _createNewLookupObject.createNewLookupObject(defaultMethodWhiteList, runtimeOptions.allowedProtoMethods),\n      defaultValue: runtimeOptions.allowProtoMethodsByDefault\n    }\n  };\n}\n\nfunction resultIsAllowed(result, protoAccessControl, propertyName) {\n  if (typeof result === 'function') {\n    return checkWhiteList(protoAccessControl.methods, propertyName);\n  } else {\n    return checkWhiteList(protoAccessControl.properties, propertyName);\n  }\n}\n\nfunction checkWhiteList(protoAccessControlForType, propertyName) {\n  if (protoAccessControlForType.whitelist[propertyName] !== undefined) {\n    return protoAccessControlForType.whitelist[propertyName] === true;\n  }\n  if (protoAccessControlForType.defaultValue !== undefined) {\n    return protoAccessControlForType.defaultValue;\n  }\n  logUnexpecedPropertyAccessOnce(propertyName);\n  return false;\n}\n\nfunction logUnexpecedPropertyAccessOnce(propertyName) {\n  if (loggedProperties[propertyName] !== true) {\n    loggedProperties[propertyName] = true;\n    _logger2['default'].log('error', 'Handlebars: Access has been denied to resolve the property \"' + propertyName + '\" because it is not an \"own property\" of its parent.\\n' + 'You can add a runtime option to disable the check or this warning:\\n' + 'See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details');\n  }\n}\n\nfunction resetLoggedProperties() {\n  Object.keys(loggedProperties).forEach(function (propertyName) {\n    delete loggedProperties[propertyName];\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL3Byb3RvLWFjY2Vzcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O3FDQUFzQyw0QkFBNEI7O3NCQUMvQyxXQUFXOzs7O0FBRTlCLElBQU0sZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFdEMsU0FBUyx3QkFBd0IsQ0FBQyxjQUFjLEVBQUU7QUFDdkQsTUFBSSxzQkFBc0IsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2pELHdCQUFzQixDQUFDLGFBQWEsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUM5Qyx3QkFBc0IsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUNuRCx3QkFBc0IsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUNuRCx3QkFBc0IsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEtBQUssQ0FBQzs7QUFFbkQsTUFBSSx3QkFBd0IsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUVuRCwwQkFBd0IsQ0FBQyxXQUFXLENBQUMsR0FBRyxLQUFLLENBQUM7O0FBRTlDLFNBQU87QUFDTCxjQUFVLEVBQUU7QUFDVixlQUFTLEVBQUUsNkNBQ1Qsd0JBQXdCLEVBQ3hCLGNBQWMsQ0FBQyxzQkFBc0IsQ0FDdEM7QUFDRCxrQkFBWSxFQUFFLGNBQWMsQ0FBQyw2QkFBNkI7S0FDM0Q7QUFDRCxXQUFPLEVBQUU7QUFDUCxlQUFTLEVBQUUsNkNBQ1Qsc0JBQXNCLEVBQ3RCLGNBQWMsQ0FBQyxtQkFBbUIsQ0FDbkM7QUFDRCxrQkFBWSxFQUFFLGNBQWMsQ0FBQywwQkFBMEI7S0FDeEQ7R0FDRixDQUFDO0NBQ0g7O0FBRU0sU0FBUyxlQUFlLENBQUMsTUFBTSxFQUFFLGtCQUFrQixFQUFFLFlBQVksRUFBRTtBQUN4RSxNQUFJLE9BQU8sTUFBTSxLQUFLLFVBQVUsRUFBRTtBQUNoQyxXQUFPLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLEVBQUUsWUFBWSxDQUFDLENBQUM7R0FDakUsTUFBTTtBQUNMLFdBQU8sY0FBYyxDQUFDLGtCQUFrQixDQUFDLFVBQVUsRUFBRSxZQUFZLENBQUMsQ0FBQztHQUNwRTtDQUNGOztBQUVELFNBQVMsY0FBYyxDQUFDLHlCQUF5QixFQUFFLFlBQVksRUFBRTtBQUMvRCxNQUFJLHlCQUF5QixDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsS0FBSyxTQUFTLEVBQUU7QUFDbkUsV0FBTyx5QkFBeUIsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLEtBQUssSUFBSSxDQUFDO0dBQ25FO0FBQ0QsTUFBSSx5QkFBeUIsQ0FBQyxZQUFZLEtBQUssU0FBUyxFQUFFO0FBQ3hELFdBQU8seUJBQXlCLENBQUMsWUFBWSxDQUFDO0dBQy9DO0FBQ0QsZ0NBQThCLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDN0MsU0FBTyxLQUFLLENBQUM7Q0FDZDs7QUFFRCxTQUFTLDhCQUE4QixDQUFDLFlBQVksRUFBRTtBQUNwRCxNQUFJLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLElBQUksRUFBRTtBQUMzQyxvQkFBZ0IsQ0FBQyxZQUFZLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDdEMsd0JBQU8sR0FBRyxDQUNSLE9BQU8sRUFDUCxpRUFBK0QsWUFBWSxvSUFDSCxvSEFDMkMsQ0FDcEgsQ0FBQztHQUNIO0NBQ0Y7O0FBRU0sU0FBUyxxQkFBcUIsR0FBRztBQUN0QyxRQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsT0FBTyxDQUFDLFVBQUEsWUFBWSxFQUFJO0FBQ3BELFdBQU8sZ0JBQWdCLENBQUMsWUFBWSxDQUFDLENBQUM7R0FDdkMsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoicHJvdG8tYWNjZXNzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlTmV3TG9va3VwT2JqZWN0IH0gZnJvbSAnLi9jcmVhdGUtbmV3LWxvb2t1cC1vYmplY3QnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuLi9sb2dnZXInO1xuXG5jb25zdCBsb2dnZWRQcm9wZXJ0aWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb3RvQWNjZXNzQ29udHJvbChydW50aW1lT3B0aW9ucykge1xuICBsZXQgZGVmYXVsdE1ldGhvZFdoaXRlTGlzdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGRlZmF1bHRNZXRob2RXaGl0ZUxpc3RbJ2NvbnN0cnVjdG9yJ10gPSBmYWxzZTtcbiAgZGVmYXVsdE1ldGhvZFdoaXRlTGlzdFsnX19kZWZpbmVHZXR0ZXJfXyddID0gZmFsc2U7XG4gIGRlZmF1bHRNZXRob2RXaGl0ZUxpc3RbJ19fZGVmaW5lU2V0dGVyX18nXSA9IGZhbHNlO1xuICBkZWZhdWx0TWV0aG9kV2hpdGVMaXN0WydfX2xvb2t1cEdldHRlcl9fJ10gPSBmYWxzZTtcblxuICBsZXQgZGVmYXVsdFByb3BlcnR5V2hpdGVMaXN0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvXG4gIGRlZmF1bHRQcm9wZXJ0eVdoaXRlTGlzdFsnX19wcm90b19fJ10gPSBmYWxzZTtcblxuICByZXR1cm4ge1xuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgIHdoaXRlbGlzdDogY3JlYXRlTmV3TG9va3VwT2JqZWN0KFxuICAgICAgICBkZWZhdWx0UHJvcGVydHlXaGl0ZUxpc3QsXG4gICAgICAgIHJ1bnRpbWVPcHRpb25zLmFsbG93ZWRQcm90b1Byb3BlcnRpZXNcbiAgICAgICksXG4gICAgICBkZWZhdWx0VmFsdWU6IHJ1bnRpbWVPcHRpb25zLmFsbG93UHJvdG9Qcm9wZXJ0aWVzQnlEZWZhdWx0XG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICB3aGl0ZWxpc3Q6IGNyZWF0ZU5ld0xvb2t1cE9iamVjdChcbiAgICAgICAgZGVmYXVsdE1ldGhvZFdoaXRlTGlzdCxcbiAgICAgICAgcnVudGltZU9wdGlvbnMuYWxsb3dlZFByb3RvTWV0aG9kc1xuICAgICAgKSxcbiAgICAgIGRlZmF1bHRWYWx1ZTogcnVudGltZU9wdGlvbnMuYWxsb3dQcm90b01ldGhvZHNCeURlZmF1bHRcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXN1bHRJc0FsbG93ZWQocmVzdWx0LCBwcm90b0FjY2Vzc0NvbnRyb2wsIHByb3BlcnR5TmFtZSkge1xuICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBjaGVja1doaXRlTGlzdChwcm90b0FjY2Vzc0NvbnRyb2wubWV0aG9kcywgcHJvcGVydHlOYW1lKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY2hlY2tXaGl0ZUxpc3QocHJvdG9BY2Nlc3NDb250cm9sLnByb3BlcnRpZXMsIHByb3BlcnR5TmFtZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tXaGl0ZUxpc3QocHJvdG9BY2Nlc3NDb250cm9sRm9yVHlwZSwgcHJvcGVydHlOYW1lKSB7XG4gIGlmIChwcm90b0FjY2Vzc0NvbnRyb2xGb3JUeXBlLndoaXRlbGlzdFtwcm9wZXJ0eU5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gcHJvdG9BY2Nlc3NDb250cm9sRm9yVHlwZS53aGl0ZWxpc3RbcHJvcGVydHlOYW1lXSA9PT0gdHJ1ZTtcbiAgfVxuICBpZiAocHJvdG9BY2Nlc3NDb250cm9sRm9yVHlwZS5kZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBwcm90b0FjY2Vzc0NvbnRyb2xGb3JUeXBlLmRlZmF1bHRWYWx1ZTtcbiAgfVxuICBsb2dVbmV4cGVjZWRQcm9wZXJ0eUFjY2Vzc09uY2UocHJvcGVydHlOYW1lKTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBsb2dVbmV4cGVjZWRQcm9wZXJ0eUFjY2Vzc09uY2UocHJvcGVydHlOYW1lKSB7XG4gIGlmIChsb2dnZWRQcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0gIT09IHRydWUpIHtcbiAgICBsb2dnZWRQcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0gPSB0cnVlO1xuICAgIGxvZ2dlci5sb2coXG4gICAgICAnZXJyb3InLFxuICAgICAgYEhhbmRsZWJhcnM6IEFjY2VzcyBoYXMgYmVlbiBkZW5pZWQgdG8gcmVzb2x2ZSB0aGUgcHJvcGVydHkgXCIke3Byb3BlcnR5TmFtZX1cIiBiZWNhdXNlIGl0IGlzIG5vdCBhbiBcIm93biBwcm9wZXJ0eVwiIG9mIGl0cyBwYXJlbnQuXFxuYCArXG4gICAgICAgIGBZb3UgY2FuIGFkZCBhIHJ1bnRpbWUgb3B0aW9uIHRvIGRpc2FibGUgdGhlIGNoZWNrIG9yIHRoaXMgd2FybmluZzpcXG5gICtcbiAgICAgICAgYFNlZSBodHRwczovL2hhbmRsZWJhcnNqcy5jb20vYXBpLXJlZmVyZW5jZS9ydW50aW1lLW9wdGlvbnMuaHRtbCNvcHRpb25zLXRvLWNvbnRyb2wtcHJvdG90eXBlLWFjY2VzcyBmb3IgZGV0YWlsc2BcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldExvZ2dlZFByb3BlcnRpZXMoKSB7XG4gIE9iamVjdC5rZXlzKGxvZ2dlZFByb3BlcnRpZXMpLmZvckVhY2gocHJvcGVydHlOYW1lID0+IHtcbiAgICBkZWxldGUgbG9nZ2VkUHJvcGVydGllc1twcm9wZXJ0eU5hbWVdO1xuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\nexports.createNewLookupObject = createNewLookupObject;\n\nvar _utils = require('../utils');\n\n/**\n * Create a new object with \"null\"-prototype to avoid truthy results on prototype properties.\n * The resulting object can be used with \"object[property]\" to check if a property exists\n * @param {...object} sources a varargs parameter of source objects that will be merged\n * @returns {object}\n */\n\nfunction createNewLookupObject() {\n  for (var _len = arguments.length, sources = Array(_len), _key = 0; _key < _len; _key++) {\n    sources[_key] = arguments[_key];\n  }\n\n  return _utils.extend.apply(undefined, [Object.create(null)].concat(sources));\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL2NyZWF0ZS1uZXctbG9va3VwLW9iamVjdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztxQkFBdUIsVUFBVTs7Ozs7Ozs7O0FBUTFCLFNBQVMscUJBQXFCLEdBQWE7b0NBQVQsT0FBTztBQUFQLFdBQU87OztBQUM5QyxTQUFPLGdDQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQUssT0FBTyxFQUFDLENBQUM7Q0FDaEQiLCJmaWxlIjoiY3JlYXRlLW5ldy1sb29rdXAtb2JqZWN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBvYmplY3Qgd2l0aCBcIm51bGxcIi1wcm90b3R5cGUgdG8gYXZvaWQgdHJ1dGh5IHJlc3VsdHMgb24gcHJvdG90eXBlIHByb3BlcnRpZXMuXG4gKiBUaGUgcmVzdWx0aW5nIG9iamVjdCBjYW4gYmUgdXNlZCB3aXRoIFwib2JqZWN0W3Byb3BlcnR5XVwiIHRvIGNoZWNrIGlmIGEgcHJvcGVydHkgZXhpc3RzXG4gKiBAcGFyYW0gey4uLm9iamVjdH0gc291cmNlcyBhIHZhcmFyZ3MgcGFyYW1ldGVyIG9mIHNvdXJjZSBvYmplY3RzIHRoYXQgd2lsbCBiZSBtZXJnZWRcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOZXdMb29rdXBPYmplY3QoLi4uc291cmNlcykge1xuICByZXR1cm4gZXh0ZW5kKE9iamVjdC5jcmVhdGUobnVsbCksIC4uLnNvdXJjZXMpO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\nexports.HandlebarsEnvironment = HandlebarsEnvironment;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('./utils');\n\nvar _exception = require('./exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _helpers = require('./helpers');\n\nvar _decorators = require('./decorators');\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _internalProtoAccess = require('./internal/proto-access');\n\nvar VERSION = '4.7.8';\nexports.VERSION = VERSION;\nvar COMPILER_REVISION = 8;\nexports.COMPILER_REVISION = COMPILER_REVISION;\nvar LAST_COMPATIBLE_COMPILER_REVISION = 7;\n\nexports.LAST_COMPATIBLE_COMPILER_REVISION = LAST_COMPATIBLE_COMPILER_REVISION;\nvar REVISION_CHANGES = {\n  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n  2: '== 1.0.0-rc.3',\n  3: '== 1.0.0-rc.4',\n  4: '== 1.x.x',\n  5: '== 2.0.0-alpha.x',\n  6: '>= 2.0.0-beta.1',\n  7: '>= 4.0.0 <4.3.0',\n  8: '>= 4.3.0'\n};\n\nexports.REVISION_CHANGES = REVISION_CHANGES;\nvar objectType = '[object Object]';\n\nfunction HandlebarsEnvironment(helpers, partials, decorators) {\n  this.helpers = helpers || {};\n  this.partials = partials || {};\n  this.decorators = decorators || {};\n\n  _helpers.registerDefaultHelpers(this);\n  _decorators.registerDefaultDecorators(this);\n}\n\nHandlebarsEnvironment.prototype = {\n  constructor: HandlebarsEnvironment,\n\n  logger: _logger2['default'],\n  log: _logger2['default'].log,\n\n  registerHelper: function registerHelper(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple helpers');\n      }\n      _utils.extend(this.helpers, name);\n    } else {\n      this.helpers[name] = fn;\n    }\n  },\n  unregisterHelper: function unregisterHelper(name) {\n    delete this.helpers[name];\n  },\n\n  registerPartial: function registerPartial(name, partial) {\n    if (_utils.toString.call(name) === objectType) {\n      _utils.extend(this.partials, name);\n    } else {\n      if (typeof partial === 'undefined') {\n        throw new _exception2['default']('Attempting to register a partial called \"' + name + '\" as undefined');\n      }\n      this.partials[name] = partial;\n    }\n  },\n  unregisterPartial: function unregisterPartial(name) {\n    delete this.partials[name];\n  },\n\n  registerDecorator: function registerDecorator(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple decorators');\n      }\n      _utils.extend(this.decorators, name);\n    } else {\n      this.decorators[name] = fn;\n    }\n  },\n  unregisterDecorator: function unregisterDecorator(name) {\n    delete this.decorators[name];\n  },\n  /**\n   * Reset the memory of illegal property accesses that have already been logged.\n   * @deprecated should only be used in handlebars test-cases\n   */\n  resetLoggedPropertyAccesses: function resetLoggedPropertyAccesses() {\n    _internalProtoAccess.resetLoggedProperties();\n  }\n};\n\nvar log = _logger2['default'].log;\n\nexports.log = log;\nexports.createFrame = _utils.createFrame;\nexports.logger = _logger2['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2Jhc2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7cUJBQThDLFNBQVM7O3lCQUNqQyxhQUFhOzs7O3VCQUNJLFdBQVc7OzBCQUNSLGNBQWM7O3NCQUNyQyxVQUFVOzs7O21DQUNTLHlCQUF5Qjs7QUFFeEQsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDOztBQUN4QixJQUFNLGlCQUFpQixHQUFHLENBQUMsQ0FBQzs7QUFDNUIsSUFBTSxpQ0FBaUMsR0FBRyxDQUFDLENBQUM7OztBQUU1QyxJQUFNLGdCQUFnQixHQUFHO0FBQzlCLEdBQUMsRUFBRSxhQUFhO0FBQ2hCLEdBQUMsRUFBRSxlQUFlO0FBQ2xCLEdBQUMsRUFBRSxlQUFlO0FBQ2xCLEdBQUMsRUFBRSxVQUFVO0FBQ2IsR0FBQyxFQUFFLGtCQUFrQjtBQUNyQixHQUFDLEVBQUUsaUJBQWlCO0FBQ3BCLEdBQUMsRUFBRSxpQkFBaUI7QUFDcEIsR0FBQyxFQUFFLFVBQVU7Q0FDZCxDQUFDOzs7QUFFRixJQUFNLFVBQVUsR0FBRyxpQkFBaUIsQ0FBQzs7QUFFOUIsU0FBUyxxQkFBcUIsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBRTtBQUNuRSxNQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sSUFBSSxFQUFFLENBQUM7QUFDN0IsTUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLElBQUksRUFBRSxDQUFDO0FBQy9CLE1BQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxJQUFJLEVBQUUsQ0FBQzs7QUFFbkMsa0NBQXVCLElBQUksQ0FBQyxDQUFDO0FBQzdCLHdDQUEwQixJQUFJLENBQUMsQ0FBQztDQUNqQzs7QUFFRCxxQkFBcUIsQ0FBQyxTQUFTLEdBQUc7QUFDaEMsYUFBVyxFQUFFLHFCQUFxQjs7QUFFbEMsUUFBTSxxQkFBUTtBQUNkLEtBQUcsRUFBRSxvQkFBTyxHQUFHOztBQUVmLGdCQUFjLEVBQUUsd0JBQVMsSUFBSSxFQUFFLEVBQUUsRUFBRTtBQUNqQyxRQUFJLGdCQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxVQUFVLEVBQUU7QUFDdEMsVUFBSSxFQUFFLEVBQUU7QUFDTixjQUFNLDJCQUFjLHlDQUF5QyxDQUFDLENBQUM7T0FDaEU7QUFDRCxvQkFBTyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzVCLE1BQU07QUFDTCxVQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUN6QjtHQUNGO0FBQ0Qsa0JBQWdCLEVBQUUsMEJBQVMsSUFBSSxFQUFFO0FBQy9CLFdBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUMzQjs7QUFFRCxpQkFBZSxFQUFFLHlCQUFTLElBQUksRUFBRSxPQUFPLEVBQUU7QUFDdkMsUUFBSSxnQkFBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssVUFBVSxFQUFFO0FBQ3RDLG9CQUFPLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDN0IsTUFBTTtBQUNMLFVBQUksT0FBTyxPQUFPLEtBQUssV0FBVyxFQUFFO0FBQ2xDLGNBQU0seUVBQ3dDLElBQUksb0JBQ2pELENBQUM7T0FDSDtBQUNELFVBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDO0tBQy9CO0dBQ0Y7QUFDRCxtQkFBaUIsRUFBRSwyQkFBUyxJQUFJLEVBQUU7QUFDaEMsV0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0dBQzVCOztBQUVELG1CQUFpQixFQUFFLDJCQUFTLElBQUksRUFBRSxFQUFFLEVBQUU7QUFDcEMsUUFBSSxnQkFBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssVUFBVSxFQUFFO0FBQ3RDLFVBQUksRUFBRSxFQUFFO0FBQ04sY0FBTSwyQkFBYyw0Q0FBNEMsQ0FBQyxDQUFDO09BQ25FO0FBQ0Qsb0JBQU8sSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztLQUMvQixNQUFNO0FBQ0wsVUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDNUI7R0FDRjtBQUNELHFCQUFtQixFQUFFLDZCQUFTLElBQUksRUFBRTtBQUNsQyxXQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDOUI7Ozs7O0FBS0QsNkJBQTJCLEVBQUEsdUNBQUc7QUFDNUIsZ0RBQXVCLENBQUM7R0FDekI7Q0FDRixDQUFDOztBQUVLLElBQUksR0FBRyxHQUFHLG9CQUFPLEdBQUcsQ0FBQzs7O1FBRW5CLFdBQVc7UUFBRSxNQUFNIiwiZmlsZSI6ImJhc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVGcmFtZSwgZXh0ZW5kLCB0b1N0cmluZyB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL2V4Y2VwdGlvbic7XG5pbXBvcnQgeyByZWdpc3RlckRlZmF1bHRIZWxwZXJzIH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7IHJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnMgfSBmcm9tICcuL2RlY29yYXRvcnMnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyByZXNldExvZ2dlZFByb3BlcnRpZXMgfSBmcm9tICcuL2ludGVybmFsL3Byb3RvLWFjY2Vzcyc7XG5cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gJzQuNy44JztcbmV4cG9ydCBjb25zdCBDT01QSUxFUl9SRVZJU0lPTiA9IDg7XG5leHBvcnQgY29uc3QgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OID0gNztcblxuZXhwb3J0IGNvbnN0IFJFVklTSU9OX0NIQU5HRVMgPSB7XG4gIDE6ICc8PSAxLjAucmMuMicsIC8vIDEuMC5yYy4yIGlzIGFjdHVhbGx5IHJldjIgYnV0IGRvZXNuJ3QgcmVwb3J0IGl0XG4gIDI6ICc9PSAxLjAuMC1yYy4zJyxcbiAgMzogJz09IDEuMC4wLXJjLjQnLFxuICA0OiAnPT0gMS54LngnLFxuICA1OiAnPT0gMi4wLjAtYWxwaGEueCcsXG4gIDY6ICc+PSAyLjAuMC1iZXRhLjEnLFxuICA3OiAnPj0gNC4wLjAgPDQuMy4wJyxcbiAgODogJz49IDQuMy4wJ1xufTtcblxuY29uc3Qgb2JqZWN0VHlwZSA9ICdbb2JqZWN0IE9iamVjdF0nO1xuXG5leHBvcnQgZnVuY3Rpb24gSGFuZGxlYmFyc0Vudmlyb25tZW50KGhlbHBlcnMsIHBhcnRpYWxzLCBkZWNvcmF0b3JzKSB7XG4gIHRoaXMuaGVscGVycyA9IGhlbHBlcnMgfHwge307XG4gIHRoaXMucGFydGlhbHMgPSBwYXJ0aWFscyB8fCB7fTtcbiAgdGhpcy5kZWNvcmF0b3JzID0gZGVjb3JhdG9ycyB8fCB7fTtcblxuICByZWdpc3RlckRlZmF1bHRIZWxwZXJzKHRoaXMpO1xuICByZWdpc3RlckRlZmF1bHREZWNvcmF0b3JzKHRoaXMpO1xufVxuXG5IYW5kbGViYXJzRW52aXJvbm1lbnQucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogSGFuZGxlYmFyc0Vudmlyb25tZW50LFxuXG4gIGxvZ2dlcjogbG9nZ2VyLFxuICBsb2c6IGxvZ2dlci5sb2csXG5cbiAgcmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGlmIChmbikge1xuICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdBcmcgbm90IHN1cHBvcnRlZCB3aXRoIG11bHRpcGxlIGhlbHBlcnMnKTtcbiAgICAgIH1cbiAgICAgIGV4dGVuZCh0aGlzLmhlbHBlcnMsIG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhlbHBlcnNbbmFtZV0gPSBmbjtcbiAgICB9XG4gIH0sXG4gIHVucmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5oZWxwZXJzW25hbWVdO1xuICB9LFxuXG4gIHJlZ2lzdGVyUGFydGlhbDogZnVuY3Rpb24obmFtZSwgcGFydGlhbCkge1xuICAgIGlmICh0b1N0cmluZy5jYWxsKG5hbWUpID09PSBvYmplY3RUeXBlKSB7XG4gICAgICBleHRlbmQodGhpcy5wYXJ0aWFscywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgcGFydGlhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICAgICBgQXR0ZW1wdGluZyB0byByZWdpc3RlciBhIHBhcnRpYWwgY2FsbGVkIFwiJHtuYW1lfVwiIGFzIHVuZGVmaW5lZGBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGFydGlhbHNbbmFtZV0gPSBwYXJ0aWFsO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlclBhcnRpYWw6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5wYXJ0aWFsc1tuYW1lXTtcbiAgfSxcblxuICByZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24obmFtZSwgZm4pIHtcbiAgICBpZiAodG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ0FyZyBub3Qgc3VwcG9ydGVkIHdpdGggbXVsdGlwbGUgZGVjb3JhdG9ycycpO1xuICAgICAgfVxuICAgICAgZXh0ZW5kKHRoaXMuZGVjb3JhdG9ycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVjb3JhdG9yc1tuYW1lXSA9IGZuO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLmRlY29yYXRvcnNbbmFtZV07XG4gIH0sXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgbWVtb3J5IG9mIGlsbGVnYWwgcHJvcGVydHkgYWNjZXNzZXMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBsb2dnZWQuXG4gICAqIEBkZXByZWNhdGVkIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gaGFuZGxlYmFycyB0ZXN0LWNhc2VzXG4gICAqL1xuICByZXNldExvZ2dlZFByb3BlcnR5QWNjZXNzZXMoKSB7XG4gICAgcmVzZXRMb2dnZWRQcm9wZXJ0aWVzKCk7XG4gIH1cbn07XG5cbmV4cG9ydCBsZXQgbG9nID0gbG9nZ2VyLmxvZztcblxuZXhwb3J0IHsgY3JlYXRlRnJhbWUsIGxvZ2dlciB9O1xuIl19\n","'use strict';\n\nexports.__esModule = true;\nexports.checkRevision = checkRevision;\nexports.template = template;\nexports.wrapProgram = wrapProgram;\nexports.resolvePartial = resolvePartial;\nexports.invokePartial = invokePartial;\nexports.noop = noop;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _utils = require('./utils');\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _exception = require('./exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _base = require('./base');\n\nvar _helpers = require('./helpers');\n\nvar _internalWrapHelper = require('./internal/wrapHelper');\n\nvar _internalProtoAccess = require('./internal/proto-access');\n\nfunction checkRevision(compilerInfo) {\n  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\n      currentRevision = _base.COMPILER_REVISION;\n\n  if (compilerRevision >= _base.LAST_COMPATIBLE_COMPILER_REVISION && compilerRevision <= _base.COMPILER_REVISION) {\n    return;\n  }\n\n  if (compilerRevision < _base.LAST_COMPATIBLE_COMPILER_REVISION) {\n    var runtimeVersions = _base.REVISION_CHANGES[currentRevision],\n        compilerVersions = _base.REVISION_CHANGES[compilerRevision];\n    throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n  } else {\n    // Use the embedded version info since the runtime doesn't know about this revision yet\n    throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n  }\n}\n\nfunction template(templateSpec, env) {\n  /* istanbul ignore next */\n  if (!env) {\n    throw new _exception2['default']('No environment passed to template');\n  }\n  if (!templateSpec || !templateSpec.main) {\n    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);\n  }\n\n  templateSpec.main.decorator = templateSpec.main_d;\n\n  // Note: Using env.VM references rather than local var references throughout this section to allow\n  // for external users to override these as pseudo-supported APIs.\n  env.VM.checkRevision(templateSpec.compiler);\n\n  // backwards compatibility for precompiled templates with compiler-version 7 (<4.3.0)\n  var templateWasPrecompiledWithCompilerV7 = templateSpec.compiler && templateSpec.compiler[0] === 7;\n\n  function invokePartialWrapper(partial, context, options) {\n    if (options.hash) {\n      context = Utils.extend({}, context, options.hash);\n      if (options.ids) {\n        options.ids[0] = true;\n      }\n    }\n    partial = env.VM.resolvePartial.call(this, partial, context, options);\n\n    var extendedOptions = Utils.extend({}, options, {\n      hooks: this.hooks,\n      protoAccessControl: this.protoAccessControl\n    });\n\n    var result = env.VM.invokePartial.call(this, partial, context, extendedOptions);\n\n    if (result == null && env.compile) {\n      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n      result = options.partials[options.name](context, extendedOptions);\n    }\n    if (result != null) {\n      if (options.indent) {\n        var lines = result.split('\\n');\n        for (var i = 0, l = lines.length; i < l; i++) {\n          if (!lines[i] && i + 1 === l) {\n            break;\n          }\n\n          lines[i] = options.indent + lines[i];\n        }\n        result = lines.join('\\n');\n      }\n      return result;\n    } else {\n      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n    }\n  }\n\n  // Just add water\n  var container = {\n    strict: function strict(obj, name, loc) {\n      if (!obj || !(name in obj)) {\n        throw new _exception2['default']('\"' + name + '\" not defined in ' + obj, {\n          loc: loc\n        });\n      }\n      return container.lookupProperty(obj, name);\n    },\n    lookupProperty: function lookupProperty(parent, propertyName) {\n      var result = parent[propertyName];\n      if (result == null) {\n        return result;\n      }\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return result;\n      }\n\n      if (_internalProtoAccess.resultIsAllowed(result, container.protoAccessControl, propertyName)) {\n        return result;\n      }\n      return undefined;\n    },\n    lookup: function lookup(depths, name) {\n      var len = depths.length;\n      for (var i = 0; i < len; i++) {\n        var result = depths[i] && container.lookupProperty(depths[i], name);\n        if (result != null) {\n          return depths[i][name];\n        }\n      }\n    },\n    lambda: function lambda(current, context) {\n      return typeof current === 'function' ? current.call(context) : current;\n    },\n\n    escapeExpression: Utils.escapeExpression,\n    invokePartial: invokePartialWrapper,\n\n    fn: function fn(i) {\n      var ret = templateSpec[i];\n      ret.decorator = templateSpec[i + '_d'];\n      return ret;\n    },\n\n    programs: [],\n    program: function program(i, data, declaredBlockParams, blockParams, depths) {\n      var programWrapper = this.programs[i],\n          fn = this.fn(i);\n      if (data || depths || blockParams || declaredBlockParams) {\n        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n      } else if (!programWrapper) {\n        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n      }\n      return programWrapper;\n    },\n\n    data: function data(value, depth) {\n      while (value && depth--) {\n        value = value._parent;\n      }\n      return value;\n    },\n    mergeIfNeeded: function mergeIfNeeded(param, common) {\n      var obj = param || common;\n\n      if (param && common && param !== common) {\n        obj = Utils.extend({}, common, param);\n      }\n\n      return obj;\n    },\n    // An empty object to use as replacement for null-contexts\n    nullContext: Object.seal({}),\n\n    noop: env.VM.noop,\n    compilerInfo: templateSpec.compiler\n  };\n\n  function ret(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var data = options.data;\n\n    ret._setup(options);\n    if (!options.partial && templateSpec.useData) {\n      data = initData(context, data);\n    }\n    var depths = undefined,\n        blockParams = templateSpec.useBlockParams ? [] : undefined;\n    if (templateSpec.useDepths) {\n      if (options.depths) {\n        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;\n      } else {\n        depths = [context];\n      }\n    }\n\n    function main(context /*, options*/) {\n      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n    }\n\n    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n    return main(context, options);\n  }\n\n  ret.isTop = true;\n\n  ret._setup = function (options) {\n    if (!options.partial) {\n      var mergedHelpers = Utils.extend({}, env.helpers, options.helpers);\n      wrapHelpersToPassLookupProperty(mergedHelpers, container);\n      container.helpers = mergedHelpers;\n\n      if (templateSpec.usePartial) {\n        // Use mergeIfNeeded here to prevent compiling global partials multiple times\n        container.partials = container.mergeIfNeeded(options.partials, env.partials);\n      }\n      if (templateSpec.usePartial || templateSpec.useDecorators) {\n        container.decorators = Utils.extend({}, env.decorators, options.decorators);\n      }\n\n      container.hooks = {};\n      container.protoAccessControl = _internalProtoAccess.createProtoAccessControl(options);\n\n      var keepHelperInHelpers = options.allowCallsToHelperMissing || templateWasPrecompiledWithCompilerV7;\n      _helpers.moveHelperToHooks(container, 'helperMissing', keepHelperInHelpers);\n      _helpers.moveHelperToHooks(container, 'blockHelperMissing', keepHelperInHelpers);\n    } else {\n      container.protoAccessControl = options.protoAccessControl; // internal option\n      container.helpers = options.helpers;\n      container.partials = options.partials;\n      container.decorators = options.decorators;\n      container.hooks = options.hooks;\n    }\n  };\n\n  ret._child = function (i, data, blockParams, depths) {\n    if (templateSpec.useBlockParams && !blockParams) {\n      throw new _exception2['default']('must pass block params');\n    }\n    if (templateSpec.useDepths && !depths) {\n      throw new _exception2['default']('must pass parent depths');\n    }\n\n    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n  };\n  return ret;\n}\n\nfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n  function prog(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var currentDepths = depths;\n    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\n      currentDepths = [context].concat(depths);\n    }\n\n    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);\n  }\n\n  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n\n  prog.program = i;\n  prog.depth = depths ? depths.length : 0;\n  prog.blockParams = declaredBlockParams || 0;\n  return prog;\n}\n\n/**\n * This is currently part of the official API, therefore implementation details should not be changed.\n */\n\nfunction resolvePartial(partial, context, options) {\n  if (!partial) {\n    if (options.name === '@partial-block') {\n      partial = options.data['partial-block'];\n    } else {\n      partial = options.partials[options.name];\n    }\n  } else if (!partial.call && !options.name) {\n    // This is a dynamic partial that returned a string\n    options.name = partial;\n    partial = options.partials[partial];\n  }\n  return partial;\n}\n\nfunction invokePartial(partial, context, options) {\n  // Use the current closure context to save the partial-block if this partial\n  var currentPartialBlock = options.data && options.data['partial-block'];\n  options.partial = true;\n  if (options.ids) {\n    options.data.contextPath = options.ids[0] || options.data.contextPath;\n  }\n\n  var partialBlock = undefined;\n  if (options.fn && options.fn !== noop) {\n    (function () {\n      options.data = _base.createFrame(options.data);\n      // Wrapper function to get access to currentPartialBlock from the closure\n      var fn = options.fn;\n      partialBlock = options.data['partial-block'] = function partialBlockWrapper(context) {\n        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        // Restore the partial-block from the closure for the execution of the block\n        // i.e. the part inside the block of the partial call.\n        options.data = _base.createFrame(options.data);\n        options.data['partial-block'] = currentPartialBlock;\n        return fn(context, options);\n      };\n      if (fn.partials) {\n        options.partials = Utils.extend({}, options.partials, fn.partials);\n      }\n    })();\n  }\n\n  if (partial === undefined && partialBlock) {\n    partial = partialBlock;\n  }\n\n  if (partial === undefined) {\n    throw new _exception2['default']('The partial ' + options.name + ' could not be found');\n  } else if (partial instanceof Function) {\n    return partial(context, options);\n  }\n}\n\nfunction noop() {\n  return '';\n}\n\nfunction initData(context, data) {\n  if (!data || !('root' in data)) {\n    data = data ? _base.createFrame(data) : {};\n    data.root = context;\n  }\n  return data;\n}\n\nfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n  if (fn.decorator) {\n    var props = {};\n    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n    Utils.extend(prog, props);\n  }\n  return prog;\n}\n\nfunction wrapHelpersToPassLookupProperty(mergedHelpers, container) {\n  Object.keys(mergedHelpers).forEach(function (helperName) {\n    var helper = mergedHelpers[helperName];\n    mergedHelpers[helperName] = passLookupPropertyOption(helper, container);\n  });\n}\n\nfunction passLookupPropertyOption(helper, container) {\n  var lookupProperty = container.lookupProperty;\n  return _internalWrapHelper.wrapHelper(helper, function (options) {\n    return Utils.extend({ lookupProperty: lookupProperty }, options);\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBQXVCLFNBQVM7O0lBQXBCLEtBQUs7O3lCQUNLLGFBQWE7Ozs7b0JBTTVCLFFBQVE7O3VCQUNtQixXQUFXOztrQ0FDbEIsdUJBQXVCOzttQ0FJM0MseUJBQXlCOztBQUV6QixTQUFTLGFBQWEsQ0FBQyxZQUFZLEVBQUU7QUFDMUMsTUFBTSxnQkFBZ0IsR0FBRyxBQUFDLFlBQVksSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUssQ0FBQztNQUM3RCxlQUFlLDBCQUFvQixDQUFDOztBQUV0QyxNQUNFLGdCQUFnQiwyQ0FBcUMsSUFDckQsZ0JBQWdCLDJCQUFxQixFQUNyQztBQUNBLFdBQU87R0FDUjs7QUFFRCxNQUFJLGdCQUFnQiwwQ0FBb0MsRUFBRTtBQUN4RCxRQUFNLGVBQWUsR0FBRyx1QkFBaUIsZUFBZSxDQUFDO1FBQ3ZELGdCQUFnQixHQUFHLHVCQUFpQixnQkFBZ0IsQ0FBQyxDQUFDO0FBQ3hELFVBQU0sMkJBQ0oseUZBQXlGLEdBQ3ZGLHFEQUFxRCxHQUNyRCxlQUFlLEdBQ2YsbURBQW1ELEdBQ25ELGdCQUFnQixHQUNoQixJQUFJLENBQ1AsQ0FBQztHQUNILE1BQU07O0FBRUwsVUFBTSwyQkFDSix3RkFBd0YsR0FDdEYsaURBQWlELEdBQ2pELFlBQVksQ0FBQyxDQUFDLENBQUMsR0FDZixJQUFJLENBQ1AsQ0FBQztHQUNIO0NBQ0Y7O0FBRU0sU0FBUyxRQUFRLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTs7QUFFMUMsTUFBSSxDQUFDLEdBQUcsRUFBRTtBQUNSLFVBQU0sMkJBQWMsbUNBQW1DLENBQUMsQ0FBQztHQUMxRDtBQUNELE1BQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFO0FBQ3ZDLFVBQU0sMkJBQWMsMkJBQTJCLEdBQUcsT0FBTyxZQUFZLENBQUMsQ0FBQztH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QUFDbkMsV0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsY0FBYyxFQUFkLGNBQWMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0dBQ2xELENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6InJ1bnRpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBVdGlscyBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi9leGNlcHRpb24nO1xuaW1wb3J0IHtcbiAgQ09NUElMRVJfUkVWSVNJT04sXG4gIGNyZWF0ZUZyYW1lLFxuICBMQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT04sXG4gIFJFVklTSU9OX0NIQU5HRVNcbn0gZnJvbSAnLi9iYXNlJztcbmltcG9ydCB7IG1vdmVIZWxwZXJUb0hvb2tzIH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7IHdyYXBIZWxwZXIgfSBmcm9tICcuL2ludGVybmFsL3dyYXBIZWxwZXInO1xuaW1wb3J0IHtcbiAgY3JlYXRlUHJvdG9BY2Nlc3NDb250cm9sLFxuICByZXN1bHRJc0FsbG93ZWRcbn0gZnJvbSAnLi9pbnRlcm5hbC9wcm90by1hY2Nlc3MnO1xuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tSZXZpc2lvbihjb21waWxlckluZm8pIHtcbiAgY29uc3QgY29tcGlsZXJSZXZpc2lvbiA9IChjb21waWxlckluZm8gJiYgY29tcGlsZXJJbmZvWzBdKSB8fCAxLFxuICAgIGN1cnJlbnRSZXZpc2lvbiA9IENPTVBJTEVSX1JFVklTSU9OO1xuXG4gIGlmIChcbiAgICBjb21waWxlclJldmlzaW9uID49IExBU1RfQ09NUEFUSUJMRV9DT01QSUxFUl9SRVZJU0lPTiAmJlxuICAgIGNvbXBpbGVyUmV2aXNpb24gPD0gQ09NUElMRVJfUkVWSVNJT05cbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGNvbXBpbGVyUmV2aXNpb24gPCBMQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT04pIHtcbiAgICBjb25zdCBydW50aW1lVmVyc2lvbnMgPSBSRVZJU0lPTl9DSEFOR0VTW2N1cnJlbnRSZXZpc2lvbl0sXG4gICAgICBjb21waWxlclZlcnNpb25zID0gUkVWSVNJT05fQ0hBTkdFU1tjb21waWxlclJldmlzaW9uXTtcbiAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFxuICAgICAgJ1RlbXBsYXRlIHdhcyBwcmVjb21waWxlZCB3aXRoIGFuIG9sZGVyIHZlcnNpb24gb2YgSGFuZGxlYmFycyB0aGFuIHRoZSBjdXJyZW50IHJ1bnRpbWUuICcgK1xuICAgICAgICAnUGxlYXNlIHVwZGF0ZSB5b3VyIHByZWNvbXBpbGVyIHRvIGEgbmV3ZXIgdmVyc2lvbiAoJyArXG4gICAgICAgIHJ1bnRpbWVWZXJzaW9ucyArXG4gICAgICAgICcpIG9yIGRvd25ncmFkZSB5b3VyIHJ1bnRpbWUgdG8gYW4gb2xkZXIgdmVyc2lvbiAoJyArXG4gICAgICAgIGNvbXBpbGVyVmVyc2lvbnMgK1xuICAgICAgICAnKS4nXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBVc2UgdGhlIGVtYmVkZGVkIHZlcnNpb24gaW5mbyBzaW5jZSB0aGUgcnVudGltZSBkb2Vzbid0IGtub3cgYWJvdXQgdGhpcyByZXZpc2lvbiB5ZXRcbiAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFxuICAgICAgJ1RlbXBsYXRlIHdhcyBwcmVjb21waWxlZCB3aXRoIGEgbmV3ZXIgdmVyc2lvbiBvZiBIYW5kbGViYXJzIHRoYW4gdGhlIGN1cnJlbnQgcnVudGltZS4gJyArXG4gICAgICAgICdQbGVhc2UgdXBkYXRlIHlvdXIgcnVudGltZSB0byBhIG5ld2VyIHZlcnNpb24gKCcgK1xuICAgICAgICBjb21waWxlckluZm9bMV0gK1xuICAgICAgICAnKS4nXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGUodGVtcGxhdGVTcGVjLCBlbnYpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKCFlbnYpIHtcbiAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdObyBlbnZpcm9ubWVudCBwYXNzZWQgdG8gdGVtcGxhdGUnKTtcbiAgfVxuICBpZiAoIXRlbXBsYXRlU3BlYyB8fCAhdGVtcGxhdGVTcGVjLm1haW4pIHtcbiAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdVbmtub3duIHRlbXBsYXRlIG9iamVjdDogJyArIHR5cGVvZiB0ZW1wbGF0ZVNwZWMpO1xuICB9XG5cbiAgdGVtcGxhdGVTcGVjLm1haW4uZGVjb3JhdG9yID0gdGVtcGxhdGVTcGVjLm1haW5fZDtcblxuICAvLyBOb3RlOiBVc2luZyBlbnYuVk0gcmVmZXJlbmNlcyByYXRoZXIgdGhhbiBsb2NhbCB2YXIgcmVmZXJlbmNlcyB0aHJvdWdob3V0IHRoaXMgc2VjdGlvbiB0byBhbGxvd1xuICAvLyBmb3IgZXh0ZXJuYWwgdXNlcnMgdG8gb3ZlcnJpZGUgdGhlc2UgYXMgcHNldWRvLXN1cHBvcnRlZCBBUElzLlxuICBlbnYuVk0uY2hlY2tSZXZpc2lvbih0ZW1wbGF0ZVNwZWMuY29tcGlsZXIpO1xuXG4gIC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGZvciBwcmVjb21waWxlZCB0ZW1wbGF0ZXMgd2l0aCBjb21waWxlci12ZXJzaW9uIDcgKDw0LjMuMClcbiAgY29uc3QgdGVtcGxhdGVXYXNQcmVjb21waWxlZFdpdGhDb21waWxlclY3ID1cbiAgICB0ZW1wbGF0ZVNwZWMuY29tcGlsZXIgJiYgdGVtcGxhdGVTcGVjLmNvbXBpbGVyWzBdID09PSA3O1xuXG4gIGZ1bmN0aW9uIGludm9rZVBhcnRpYWxXcmFwcGVyKHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5oYXNoKSB7XG4gICAgICBjb250ZXh0ID0gVXRpbHMuZXh0ZW5kKHt9LCBjb250ZXh0LCBvcHRpb25zLmhhc2gpO1xuICAgICAgaWYgKG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIG9wdGlvbnMuaWRzWzBdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcGFydGlhbCA9IGVudi5WTS5yZXNvbHZlUGFydGlhbC5jYWxsKHRoaXMsIHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpO1xuXG4gICAgbGV0IGV4dGVuZGVkT3B0aW9ucyA9IFV0aWxzLmV4dGVuZCh7fSwgb3B0aW9ucywge1xuICAgICAgaG9va3M6IHRoaXMuaG9va3MsXG4gICAgICBwcm90b0FjY2Vzc0NvbnRyb2w6IHRoaXMucHJvdG9BY2Nlc3NDb250cm9sXG4gICAgfSk7XG5cbiAgICBsZXQgcmVzdWx0ID0gZW52LlZNLmludm9rZVBhcnRpYWwuY2FsbChcbiAgICAgIHRoaXMsXG4gICAgICBwYXJ0aWFsLFxuICAgICAgY29udGV4dCxcbiAgICAgIGV4dGVuZGVkT3B0aW9uc1xuICAgICk7XG5cbiAgICBpZiAocmVzdWx0ID09IG51bGwgJiYgZW52LmNvbXBpbGUpIHtcbiAgICAgIG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXSA9IGVudi5jb21waWxlKFxuICAgICAgICBwYXJ0aWFsLFxuICAgICAgICB0ZW1wbGF0ZVNwZWMuY29tcGlsZXJPcHRpb25zLFxuICAgICAgICBlbnZcbiAgICAgICk7XG4gICAgICByZXN1bHQgPSBvcHRpb25zLnBhcnRpYWxzW29wdGlvbnMubmFtZV0oY29udGV4dCwgZXh0ZW5kZWRPcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICBpZiAob3B0aW9ucy5pbmRlbnQpIHtcbiAgICAgICAgbGV0IGxpbmVzID0gcmVzdWx0LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBsaW5lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBpZiAoIWxpbmVzW2ldICYmIGkgKyAxID09PSBsKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaW5lc1tpXSA9IG9wdGlvbnMuaW5kZW50ICsgbGluZXNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gbGluZXMuam9pbignXFxuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFxuICAgICAgICAnVGhlIHBhcnRpYWwgJyArXG4gICAgICAgICAgb3B0aW9ucy5uYW1lICtcbiAgICAgICAgICAnIGNvdWxkIG5vdCBiZSBjb21waWxlZCB3aGVuIHJ1bm5pbmcgaW4gcnVudGltZS1vbmx5IG1vZGUnXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8vIEp1c3QgYWRkIHdhdGVyXG4gIGxldCBjb250YWluZXIgPSB7XG4gICAgc3RyaWN0OiBmdW5jdGlvbihvYmosIG5hbWUsIGxvYykge1xuICAgICAgaWYgKCFvYmogfHwgIShuYW1lIGluIG9iaikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignXCInICsgbmFtZSArICdcIiBub3QgZGVmaW5lZCBpbiAnICsgb2JqLCB7XG4gICAgICAgICAgbG9jOiBsb2NcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5KG9iaiwgbmFtZSk7XG4gICAgfSxcbiAgICBsb29rdXBQcm9wZXJ0eTogZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgIGxldCByZXN1bHQgPSBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgIGlmIChyZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3VsdElzQWxsb3dlZChyZXN1bHQsIGNvbnRhaW5lci5wcm90b0FjY2Vzc0NvbnRyb2wsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBsb29rdXA6IGZ1bmN0aW9uKGRlcHRocywgbmFtZSkge1xuICAgICAgY29uc3QgbGVuID0gZGVwdGhzLmxlbmd0aDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGRlcHRoc1tpXSAmJiBjb250YWluZXIubG9va3VwUHJvcGVydHkoZGVwdGhzW2ldLCBuYW1lKTtcbiAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGRlcHRoc1tpXVtuYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgbGFtYmRhOiBmdW5jdGlvbihjdXJyZW50LCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGN1cnJlbnQgPT09ICdmdW5jdGlvbicgPyBjdXJyZW50LmNhbGwoY29udGV4dCkgOiBjdXJyZW50O1xuICAgIH0sXG5cbiAgICBlc2NhcGVFeHByZXNzaW9uOiBVdGlscy5lc2NhcGVFeHByZXNzaW9uLFxuICAgIGludm9rZVBhcnRpYWw6IGludm9rZVBhcnRpYWxXcmFwcGVyLFxuXG4gICAgZm46IGZ1bmN0aW9uKGkpIHtcbiAgICAgIGxldCByZXQgPSB0ZW1wbGF0ZVNwZWNbaV07XG4gICAgICByZXQuZGVjb3JhdG9yID0gdGVtcGxhdGVTcGVjW2kgKyAnX2QnXTtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfSxcblxuICAgIHByb2dyYW1zOiBbXSxcbiAgICBwcm9ncmFtOiBmdW5jdGlvbihpLCBkYXRhLCBkZWNsYXJlZEJsb2NrUGFyYW1zLCBibG9ja1BhcmFtcywgZGVwdGhzKSB7XG4gICAgICBsZXQgcHJvZ3JhbVdyYXBwZXIgPSB0aGlzLnByb2dyYW1zW2ldLFxuICAgICAgICBmbiA9IHRoaXMuZm4oaSk7XG4gICAgICBpZiAoZGF0YSB8fCBkZXB0aHMgfHwgYmxvY2tQYXJhbXMgfHwgZGVjbGFyZWRCbG9ja1BhcmFtcykge1xuICAgICAgICBwcm9ncmFtV3JhcHBlciA9IHdyYXBQcm9ncmFtKFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgaSxcbiAgICAgICAgICBmbixcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIGRlY2xhcmVkQmxvY2tQYXJhbXMsXG4gICAgICAgICAgYmxvY2tQYXJhbXMsXG4gICAgICAgICAgZGVwdGhzXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKCFwcm9ncmFtV3JhcHBlcikge1xuICAgICAgICBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0gPSB3cmFwUHJvZ3JhbSh0aGlzLCBpLCBmbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvZ3JhbVdyYXBwZXI7XG4gICAgfSxcblxuICAgIGRhdGE6IGZ1bmN0aW9uKHZhbHVlLCBkZXB0aCkge1xuICAgICAgd2hpbGUgKHZhbHVlICYmIGRlcHRoLS0pIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5fcGFyZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgbWVyZ2VJZk5lZWRlZDogZnVuY3Rpb24ocGFyYW0sIGNvbW1vbikge1xuICAgICAgbGV0IG9iaiA9IHBhcmFtIHx8IGNvbW1vbjtcblxuICAgICAgaWYgKHBhcmFtICYmIGNvbW1vbiAmJiBwYXJhbSAhPT0gY29tbW9uKSB7XG4gICAgICAgIG9iaiA9IFV0aWxzLmV4dGVuZCh7fSwgY29tbW9uLCBwYXJhbSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICAvLyBBbiBlbXB0eSBvYmplY3QgdG8gdXNlIGFzIHJlcGxhY2VtZW50IGZvciBudWxsLWNvbnRleHRzXG4gICAgbnVsbENvbnRleHQ6IE9iamVjdC5zZWFsKHt9KSxcblxuICAgIG5vb3A6IGVudi5WTS5ub29wLFxuICAgIGNvbXBpbGVySW5mbzogdGVtcGxhdGVTcGVjLmNvbXBpbGVyXG4gIH07XG5cbiAgZnVuY3Rpb24gcmV0KGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBkYXRhID0gb3B0aW9ucy5kYXRhO1xuXG4gICAgcmV0Ll9zZXR1cChvcHRpb25zKTtcbiAgICBpZiAoIW9wdGlvbnMucGFydGlhbCAmJiB0ZW1wbGF0ZVNwZWMudXNlRGF0YSkge1xuICAgICAgZGF0YSA9IGluaXREYXRhKGNvbnRleHQsIGRhdGEpO1xuICAgIH1cbiAgICBsZXQgZGVwdGhzLFxuICAgICAgYmxvY2tQYXJhbXMgPSB0ZW1wbGF0ZVNwZWMudXNlQmxvY2tQYXJhbXMgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZURlcHRocykge1xuICAgICAgaWYgKG9wdGlvbnMuZGVwdGhzKSB7XG4gICAgICAgIGRlcHRocyA9XG4gICAgICAgICAgY29udGV4dCAhPSBvcHRpb25zLmRlcHRoc1swXVxuICAgICAgICAgICAgPyBbY29udGV4dF0uY29uY2F0KG9wdGlvbnMuZGVwdGhzKVxuICAgICAgICAgICAgOiBvcHRpb25zLmRlcHRocztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlcHRocyA9IFtjb250ZXh0XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWluKGNvbnRleHQgLyosIG9wdGlvbnMqLykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgJycgK1xuICAgICAgICB0ZW1wbGF0ZVNwZWMubWFpbihcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICBjb250YWluZXIuaGVscGVycyxcbiAgICAgICAgICBjb250YWluZXIucGFydGlhbHMsXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBibG9ja1BhcmFtcyxcbiAgICAgICAgICBkZXB0aHNcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBtYWluID0gZXhlY3V0ZURlY29yYXRvcnMoXG4gICAgICB0ZW1wbGF0ZVNwZWMubWFpbixcbiAgICAgIG1haW4sXG4gICAgICBjb250YWluZXIsXG4gICAgICBvcHRpb25zLmRlcHRocyB8fCBbXSxcbiAgICAgIGRhdGEsXG4gICAgICBibG9ja1BhcmFtc1xuICAgICk7XG4gICAgcmV0dXJuIG1haW4oY29udGV4dCwgb3B0aW9ucyk7XG4gIH1cblxuICByZXQuaXNUb3AgPSB0cnVlO1xuXG4gIHJldC5fc2V0dXAgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zLnBhcnRpYWwpIHtcbiAgICAgIGxldCBtZXJnZWRIZWxwZXJzID0gVXRpbHMuZXh0ZW5kKHt9LCBlbnYuaGVscGVycywgb3B0aW9ucy5oZWxwZXJzKTtcbiAgICAgIHdyYXBIZWxwZXJzVG9QYXNzTG9va3VwUHJvcGVydHkobWVyZ2VkSGVscGVycywgY29udGFpbmVyKTtcbiAgICAgIGNvbnRhaW5lci5oZWxwZXJzID0gbWVyZ2VkSGVscGVycztcblxuICAgICAgaWYgKHRlbXBsYXRlU3BlYy51c2VQYXJ0aWFsKSB7XG4gICAgICAgIC8vIFVzZSBtZXJnZUlmTmVlZGVkIGhlcmUgdG8gcHJldmVudCBjb21waWxpbmcgZ2xvYmFsIHBhcnRpYWxzIG11bHRpcGxlIHRpbWVzXG4gICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IGNvbnRhaW5lci5tZXJnZUlmTmVlZGVkKFxuICAgICAgICAgIG9wdGlvbnMucGFydGlhbHMsXG4gICAgICAgICAgZW52LnBhcnRpYWxzXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAodGVtcGxhdGVTcGVjLnVzZVBhcnRpYWwgfHwgdGVtcGxhdGVTcGVjLnVzZURlY29yYXRvcnMpIHtcbiAgICAgICAgY29udGFpbmVyLmRlY29yYXRvcnMgPSBVdGlscy5leHRlbmQoXG4gICAgICAgICAge30sXG4gICAgICAgICAgZW52LmRlY29yYXRvcnMsXG4gICAgICAgICAgb3B0aW9ucy5kZWNvcmF0b3JzXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRhaW5lci5ob29rcyA9IHt9O1xuICAgICAgY29udGFpbmVyLnByb3RvQWNjZXNzQ29udHJvbCA9IGNyZWF0ZVByb3RvQWNjZXNzQ29udHJvbChvcHRpb25zKTtcblxuICAgICAgbGV0IGtlZXBIZWxwZXJJbkhlbHBlcnMgPVxuICAgICAgICBvcHRpb25zLmFsbG93Q2FsbHNUb0hlbHBlck1pc3NpbmcgfHxcbiAgICAgICAgdGVtcGxhdGVXYXNQcmVjb21waWxlZFdpdGhDb21waWxlclY3O1xuICAgICAgbW92ZUhlbHBlclRvSG9va3MoY29udGFpbmVyLCAnaGVscGVyTWlzc2luZycsIGtlZXBIZWxwZXJJbkhlbHBlcnMpO1xuICAgICAgbW92ZUhlbHBlclRvSG9va3MoY29udGFpbmVyLCAnYmxvY2tIZWxwZXJNaXNzaW5nJywga2VlcEhlbHBlckluSGVscGVycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhaW5lci5wcm90b0FjY2Vzc0NvbnRyb2wgPSBvcHRpb25zLnByb3RvQWNjZXNzQ29udHJvbDsgLy8gaW50ZXJuYWwgb3B0aW9uXG4gICAgICBjb250YWluZXIuaGVscGVycyA9IG9wdGlvbnMuaGVscGVycztcbiAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IG9wdGlvbnMucGFydGlhbHM7XG4gICAgICBjb250YWluZXIuZGVjb3JhdG9ycyA9IG9wdGlvbnMuZGVjb3JhdG9ycztcbiAgICAgIGNvbnRhaW5lci5ob29rcyA9IG9wdGlvbnMuaG9va3M7XG4gICAgfVxuICB9O1xuXG4gIHJldC5fY2hpbGQgPSBmdW5jdGlvbihpLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKSB7XG4gICAgaWYgKHRlbXBsYXRlU3BlYy51c2VCbG9ja1BhcmFtcyAmJiAhYmxvY2tQYXJhbXMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ211c3QgcGFzcyBibG9jayBwYXJhbXMnKTtcbiAgICB9XG4gICAgaWYgKHRlbXBsYXRlU3BlYy51c2VEZXB0aHMgJiYgIWRlcHRocykge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignbXVzdCBwYXNzIHBhcmVudCBkZXB0aHMnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd3JhcFByb2dyYW0oXG4gICAgICBjb250YWluZXIsXG4gICAgICBpLFxuICAgICAgdGVtcGxhdGVTcGVjW2ldLFxuICAgICAgZGF0YSxcbiAgICAgIDAsXG4gICAgICBibG9ja1BhcmFtcyxcbiAgICAgIGRlcHRoc1xuICAgICk7XG4gIH07XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwUHJvZ3JhbShcbiAgY29udGFpbmVyLFxuICBpLFxuICBmbixcbiAgZGF0YSxcbiAgZGVjbGFyZWRCbG9ja1BhcmFtcyxcbiAgYmxvY2tQYXJhbXMsXG4gIGRlcHRoc1xuKSB7XG4gIGZ1bmN0aW9uIHByb2coY29udGV4dCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IGN1cnJlbnREZXB0aHMgPSBkZXB0aHM7XG4gICAgaWYgKFxuICAgICAgZGVwdGhzICYmXG4gICAgICBjb250ZXh0ICE9IGRlcHRoc1swXSAmJlxuICAgICAgIShjb250ZXh0ID09PSBjb250YWluZXIubnVsbENvbnRleHQgJiYgZGVwdGhzWzBdID09PSBudWxsKVxuICAgICkge1xuICAgICAgY3VycmVudERlcHRocyA9IFtjb250ZXh0XS5jb25jYXQoZGVwdGhzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm4oXG4gICAgICBjb250YWluZXIsXG4gICAgICBjb250ZXh0LFxuICAgICAgY29udGFpbmVyLmhlbHBlcnMsXG4gICAgICBjb250YWluZXIucGFydGlhbHMsXG4gICAgICBvcHRpb25zLmRhdGEgfHwgZGF0YSxcbiAgICAgIGJsb2NrUGFyYW1zICYmIFtvcHRpb25zLmJsb2NrUGFyYW1zXS5jb25jYXQoYmxvY2tQYXJhbXMpLFxuICAgICAgY3VycmVudERlcHRoc1xuICAgICk7XG4gIH1cblxuICBwcm9nID0gZXhlY3V0ZURlY29yYXRvcnMoZm4sIHByb2csIGNvbnRhaW5lciwgZGVwdGhzLCBkYXRhLCBibG9ja1BhcmFtcyk7XG5cbiAgcHJvZy5wcm9ncmFtID0gaTtcbiAgcHJvZy5kZXB0aCA9IGRlcHRocyA/IGRlcHRocy5sZW5ndGggOiAwO1xuICBwcm9nLmJsb2NrUGFyYW1zID0gZGVjbGFyZWRCbG9ja1BhcmFtcyB8fCAwO1xuICByZXR1cm4gcHJvZztcbn1cblxuLyoqXG4gKiBUaGlzIGlzIGN1cnJlbnRseSBwYXJ0IG9mIHRoZSBvZmZpY2lhbCBBUEksIHRoZXJlZm9yZSBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIHNob3VsZCBub3QgYmUgY2hhbmdlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVQYXJ0aWFsKHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgaWYgKCFwYXJ0aWFsKSB7XG4gICAgaWYgKG9wdGlvbnMubmFtZSA9PT0gJ0BwYXJ0aWFsLWJsb2NrJykge1xuICAgICAgcGFydGlhbCA9IG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJ0aWFsID0gb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdO1xuICAgIH1cbiAgfSBlbHNlIGlmICghcGFydGlhbC5jYWxsICYmICFvcHRpb25zLm5hbWUpIHtcbiAgICAvLyBUaGlzIGlzIGEgZHluYW1pYyBwYXJ0aWFsIHRoYXQgcmV0dXJuZWQgYSBzdHJpbmdcbiAgICBvcHRpb25zLm5hbWUgPSBwYXJ0aWFsO1xuICAgIHBhcnRpYWwgPSBvcHRpb25zLnBhcnRpYWxzW3BhcnRpYWxdO1xuICB9XG4gIHJldHVybiBwYXJ0aWFsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW52b2tlUGFydGlhbChwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gIC8vIFVzZSB0aGUgY3VycmVudCBjbG9zdXJlIGNvbnRleHQgdG8gc2F2ZSB0aGUgcGFydGlhbC1ibG9jayBpZiB0aGlzIHBhcnRpYWxcbiAgY29uc3QgY3VycmVudFBhcnRpYWxCbG9jayA9IG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXTtcbiAgb3B0aW9ucy5wYXJ0aWFsID0gdHJ1ZTtcbiAgaWYgKG9wdGlvbnMuaWRzKSB7XG4gICAgb3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoID0gb3B0aW9ucy5pZHNbMF0gfHwgb3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoO1xuICB9XG5cbiAgbGV0IHBhcnRpYWxCbG9jaztcbiAgaWYgKG9wdGlvbnMuZm4gJiYgb3B0aW9ucy5mbiAhPT0gbm9vcCkge1xuICAgIG9wdGlvbnMuZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgLy8gV3JhcHBlciBmdW5jdGlvbiB0byBnZXQgYWNjZXNzIHRvIGN1cnJlbnRQYXJ0aWFsQmxvY2sgZnJvbSB0aGUgY2xvc3VyZVxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm47XG4gICAgcGFydGlhbEJsb2NrID0gb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ10gPSBmdW5jdGlvbiBwYXJ0aWFsQmxvY2tXcmFwcGVyKFxuICAgICAgY29udGV4dCxcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgICkge1xuICAgICAgLy8gUmVzdG9yZSB0aGUgcGFydGlhbC1ibG9jayBmcm9tIHRoZSBjbG9zdXJlIGZvciB0aGUgZXhlY3V0aW9uIG9mIHRoZSBibG9ja1xuICAgICAgLy8gaS5lLiB0aGUgcGFydCBpbnNpZGUgdGhlIGJsb2NrIG9mIHRoZSBwYXJ0aWFsIGNhbGwuXG4gICAgICBvcHRpb25zLmRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ10gPSBjdXJyZW50UGFydGlhbEJsb2NrO1xuICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgaWYgKGZuLnBhcnRpYWxzKSB7XG4gICAgICBvcHRpb25zLnBhcnRpYWxzID0gVXRpbHMuZXh0ZW5kKHt9LCBvcHRpb25zLnBhcnRpYWxzLCBmbi5wYXJ0aWFscyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHBhcnRpYWwgPT09IHVuZGVmaW5lZCAmJiBwYXJ0aWFsQmxvY2spIHtcbiAgICBwYXJ0aWFsID0gcGFydGlhbEJsb2NrO1xuICB9XG5cbiAgaWYgKHBhcnRpYWwgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1RoZSBwYXJ0aWFsICcgKyBvcHRpb25zLm5hbWUgKyAnIGNvdWxkIG5vdCBiZSBmb3VuZCcpO1xuICB9IGVsc2UgaWYgKHBhcnRpYWwgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgIHJldHVybiBwYXJ0aWFsKGNvbnRleHQsIG9wdGlvbnMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkge1xuICByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIGluaXREYXRhKGNvbnRleHQsIGRhdGEpIHtcbiAgaWYgKCFkYXRhIHx8ICEoJ3Jvb3QnIGluIGRhdGEpKSB7XG4gICAgZGF0YSA9IGRhdGEgPyBjcmVhdGVGcmFtZShkYXRhKSA6IHt9O1xuICAgIGRhdGEucm9vdCA9IGNvbnRleHQ7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmZ1bmN0aW9uIGV4ZWN1dGVEZWNvcmF0b3JzKGZuLCBwcm9nLCBjb250YWluZXIsIGRlcHRocywgZGF0YSwgYmxvY2tQYXJhbXMpIHtcbiAgaWYgKGZuLmRlY29yYXRvcikge1xuICAgIGxldCBwcm9wcyA9IHt9O1xuICAgIHByb2cgPSBmbi5kZWNvcmF0b3IoXG4gICAgICBwcm9nLFxuICAgICAgcHJvcHMsXG4gICAgICBjb250YWluZXIsXG4gICAgICBkZXB0aHMgJiYgZGVwdGhzWzBdLFxuICAgICAgZGF0YSxcbiAgICAgIGJsb2NrUGFyYW1zLFxuICAgICAgZGVwdGhzXG4gICAgKTtcbiAgICBVdGlscy5leHRlbmQocHJvZywgcHJvcHMpO1xuICB9XG4gIHJldHVybiBwcm9nO1xufVxuXG5mdW5jdGlvbiB3cmFwSGVscGVyc1RvUGFzc0xvb2t1cFByb3BlcnR5KG1lcmdlZEhlbHBlcnMsIGNvbnRhaW5lcikge1xuICBPYmplY3Qua2V5cyhtZXJnZWRIZWxwZXJzKS5mb3JFYWNoKGhlbHBlck5hbWUgPT4ge1xuICAgIGxldCBoZWxwZXIgPSBtZXJnZWRIZWxwZXJzW2hlbHBlck5hbWVdO1xuICAgIG1lcmdlZEhlbHBlcnNbaGVscGVyTmFtZV0gPSBwYXNzTG9va3VwUHJvcGVydHlPcHRpb24oaGVscGVyLCBjb250YWluZXIpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcGFzc0xvb2t1cFByb3BlcnR5T3B0aW9uKGhlbHBlciwgY29udGFpbmVyKSB7XG4gIGNvbnN0IGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5O1xuICByZXR1cm4gd3JhcEhlbHBlcihoZWxwZXIsIG9wdGlvbnMgPT4ge1xuICAgIHJldHVybiBVdGlscy5leHRlbmQoeyBsb29rdXBQcm9wZXJ0eSB9LCBvcHRpb25zKTtcbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nexports.wrapHelper = wrapHelper;\n\nfunction wrapHelper(helper, transformOptionsFn) {\n  if (typeof helper !== 'function') {\n    // This should not happen, but apparently it does in https://github.com/wycats/handlebars.js/issues/1639\n    // We try to make the wrapper least-invasive by not wrapping it, if the helper is not a function.\n    return helper;\n  }\n  var wrapper = function wrapper() /* dynamic arguments */{\n    var options = arguments[arguments.length - 1];\n    arguments[arguments.length - 1] = transformOptionsFn(options);\n    return helper.apply(this, arguments);\n  };\n  return wrapper;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL3dyYXBIZWxwZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTyxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUUsa0JBQWtCLEVBQUU7QUFDckQsTUFBSSxPQUFPLE1BQU0sS0FBSyxVQUFVLEVBQUU7OztBQUdoQyxXQUFPLE1BQU0sQ0FBQztHQUNmO0FBQ0QsTUFBSSxPQUFPLEdBQUcsU0FBVixPQUFPLDBCQUFxQztBQUM5QyxRQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNoRCxhQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM5RCxXQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0dBQ3RDLENBQUM7QUFDRixTQUFPLE9BQU8sQ0FBQztDQUNoQiIsImZpbGUiOiJ3cmFwSGVscGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHdyYXBIZWxwZXIoaGVscGVyLCB0cmFuc2Zvcm1PcHRpb25zRm4pIHtcbiAgaWYgKHR5cGVvZiBoZWxwZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBUaGlzIHNob3VsZCBub3QgaGFwcGVuLCBidXQgYXBwYXJlbnRseSBpdCBkb2VzIGluIGh0dHBzOi8vZ2l0aHViLmNvbS93eWNhdHMvaGFuZGxlYmFycy5qcy9pc3N1ZXMvMTYzOVxuICAgIC8vIFdlIHRyeSB0byBtYWtlIHRoZSB3cmFwcGVyIGxlYXN0LWludmFzaXZlIGJ5IG5vdCB3cmFwcGluZyBpdCwgaWYgdGhlIGhlbHBlciBpcyBub3QgYSBmdW5jdGlvbi5cbiAgICByZXR1cm4gaGVscGVyO1xuICB9XG4gIGxldCB3cmFwcGVyID0gZnVuY3Rpb24oLyogZHluYW1pYyBhcmd1bWVudHMgKi8pIHtcbiAgICBjb25zdCBvcHRpb25zID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcbiAgICBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdID0gdHJhbnNmb3JtT3B0aW9uc0ZuKG9wdGlvbnMpO1xuICAgIHJldHVybiBoZWxwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbiAgcmV0dXJuIHdyYXBwZXI7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _handlebarsBase = require('./handlebars/base');\n\nvar base = _interopRequireWildcard(_handlebarsBase);\n\n// Each of these augment the Handlebars object. No need to setup here.\n// (This is done to easily share code between commonjs and browse envs)\n\nvar _handlebarsSafeString = require('./handlebars/safe-string');\n\nvar _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);\n\nvar _handlebarsException = require('./handlebars/exception');\n\nvar _handlebarsException2 = _interopRequireDefault(_handlebarsException);\n\nvar _handlebarsUtils = require('./handlebars/utils');\n\nvar Utils = _interopRequireWildcard(_handlebarsUtils);\n\nvar _handlebarsRuntime = require('./handlebars/runtime');\n\nvar runtime = _interopRequireWildcard(_handlebarsRuntime);\n\nvar _handlebarsNoConflict = require('./handlebars/no-conflict');\n\nvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);\n\n// For compatibility and usage outside of module systems, make the Handlebars object a namespace\nfunction create() {\n  var hb = new base.HandlebarsEnvironment();\n\n  Utils.extend(hb, base);\n  hb.SafeString = _handlebarsSafeString2['default'];\n  hb.Exception = _handlebarsException2['default'];\n  hb.Utils = Utils;\n  hb.escapeExpression = Utils.escapeExpression;\n\n  hb.VM = runtime;\n  hb.template = function (spec) {\n    return runtime.template(spec, hb);\n  };\n\n  return hb;\n}\n\nvar inst = create();\ninst.create = create;\n\n_handlebarsNoConflict2['default'](inst);\n\ninst['default'] = inst;\n\nexports['default'] = inst;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9oYW5kbGViYXJzLnJ1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OEJBQXNCLG1CQUFtQjs7SUFBN0IsSUFBSTs7Ozs7b0NBSU8sMEJBQTBCOzs7O21DQUMzQix3QkFBd0I7Ozs7K0JBQ3ZCLG9CQUFvQjs7SUFBL0IsS0FBSzs7aUNBQ1Esc0JBQXNCOztJQUFuQyxPQUFPOztvQ0FFSSwwQkFBMEI7Ozs7O0FBR2pELFNBQVMsTUFBTSxHQUFHO0FBQ2hCLE1BQUksRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7O0FBRTFDLE9BQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZCLElBQUUsQ0FBQyxVQUFVLG9DQUFhLENBQUM7QUFDM0IsSUFBRSxDQUFDLFNBQVMsbUNBQVksQ0FBQztBQUN6QixJQUFFLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNqQixJQUFFLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDOztBQUU3QyxJQUFFLENBQUMsRUFBRSxHQUFHLE9BQU8sQ0FBQztBQUNoQixJQUFFLENBQUMsUUFBUSxHQUFHLFVBQVMsSUFBSSxFQUFFO0FBQzNCLFdBQU8sT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7R0FDbkMsQ0FBQzs7QUFFRixTQUFPLEVBQUUsQ0FBQztDQUNYOztBQUVELElBQUksSUFBSSxHQUFHLE1BQU0sRUFBRSxDQUFDO0FBQ3BCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDOztBQUVyQixrQ0FBVyxJQUFJLENBQUMsQ0FBQzs7QUFFakIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7cUJBRVIsSUFBSSIsImZpbGUiOiJoYW5kbGViYXJzLnJ1bnRpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBiYXNlIGZyb20gJy4vaGFuZGxlYmFycy9iYXNlJztcblxuLy8gRWFjaCBvZiB0aGVzZSBhdWdtZW50IHRoZSBIYW5kbGViYXJzIG9iamVjdC4gTm8gbmVlZCB0byBzZXR1cCBoZXJlLlxuLy8gKFRoaXMgaXMgZG9uZSB0byBlYXNpbHkgc2hhcmUgY29kZSBiZXR3ZWVuIGNvbW1vbmpzIGFuZCBicm93c2UgZW52cylcbmltcG9ydCBTYWZlU3RyaW5nIGZyb20gJy4vaGFuZGxlYmFycy9zYWZlLXN0cmluZyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vaGFuZGxlYmFycy9leGNlcHRpb24nO1xuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi9oYW5kbGViYXJzL3V0aWxzJztcbmltcG9ydCAqIGFzIHJ1bnRpbWUgZnJvbSAnLi9oYW5kbGViYXJzL3J1bnRpbWUnO1xuXG5pbXBvcnQgbm9Db25mbGljdCBmcm9tICcuL2hhbmRsZWJhcnMvbm8tY29uZmxpY3QnO1xuXG4vLyBGb3IgY29tcGF0aWJpbGl0eSBhbmQgdXNhZ2Ugb3V0c2lkZSBvZiBtb2R1bGUgc3lzdGVtcywgbWFrZSB0aGUgSGFuZGxlYmFycyBvYmplY3QgYSBuYW1lc3BhY2VcbmZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgbGV0IGhiID0gbmV3IGJhc2UuSGFuZGxlYmFyc0Vudmlyb25tZW50KCk7XG5cbiAgVXRpbHMuZXh0ZW5kKGhiLCBiYXNlKTtcbiAgaGIuU2FmZVN0cmluZyA9IFNhZmVTdHJpbmc7XG4gIGhiLkV4Y2VwdGlvbiA9IEV4Y2VwdGlvbjtcbiAgaGIuVXRpbHMgPSBVdGlscztcbiAgaGIuZXNjYXBlRXhwcmVzc2lvbiA9IFV0aWxzLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgaGIuVk0gPSBydW50aW1lO1xuICBoYi50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICByZXR1cm4gcnVudGltZS50ZW1wbGF0ZShzcGVjLCBoYik7XG4gIH07XG5cbiAgcmV0dXJuIGhiO1xufVxuXG5sZXQgaW5zdCA9IGNyZWF0ZSgpO1xuaW5zdC5jcmVhdGUgPSBjcmVhdGU7XG5cbm5vQ29uZmxpY3QoaW5zdCk7XG5cbmluc3RbJ2RlZmF1bHQnXSA9IGluc3Q7XG5cbmV4cG9ydCBkZWZhdWx0IGluc3Q7XG4iXX0=\n","// Build out our basic SafeString type\n'use strict';\n\nexports.__esModule = true;\nfunction SafeString(string) {\n  this.string = string;\n}\n\nSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\n  return '' + this.string;\n};\n\nexports['default'] = SafeString;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3NhZmUtc3RyaW5nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFDQSxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUU7QUFDMUIsTUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7Q0FDdEI7O0FBRUQsVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsWUFBVztBQUN2RSxTQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0NBQ3pCLENBQUM7O3FCQUVhLFVBQVUiLCJmaWxlIjoic2FmZS1zdHJpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCdWlsZCBvdXQgb3VyIGJhc2ljIFNhZmVTdHJpbmcgdHlwZVxuZnVuY3Rpb24gU2FmZVN0cmluZyhzdHJpbmcpIHtcbiAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG59XG5cblNhZmVTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nID0gU2FmZVN0cmluZy5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAnJyArIHRoaXMuc3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2FmZVN0cmluZztcbiJdfQ==\n","/* global globalThis */\n'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (Handlebars) {\n  /* istanbul ignore next */\n  // https://mathiasbynens.be/notes/globalthis\n  (function () {\n    if (typeof globalThis === 'object') return;\n    Object.prototype.__defineGetter__('__magic__', function () {\n      return this;\n    });\n    __magic__.globalThis = __magic__; // eslint-disable-line no-undef\n    delete Object.prototype.__magic__;\n  })();\n\n  var $Handlebars = globalThis.Handlebars;\n\n  /* istanbul ignore next */\n  Handlebars.noConflict = function () {\n    if (globalThis.Handlebars === Handlebars) {\n      globalThis.Handlebars = $Handlebars;\n    }\n    return Handlebars;\n  };\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL25vLWNvbmZsaWN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O3FCQUNlLFVBQVMsVUFBVSxFQUFFOzs7QUFHbEMsR0FBQyxZQUFXO0FBQ1YsUUFBSSxPQUFPLFVBQVUsS0FBSyxRQUFRLEVBQUUsT0FBTztBQUMzQyxVQUFNLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxZQUFXO0FBQ3hELGFBQU8sSUFBSSxDQUFDO0tBQ2IsQ0FBQyxDQUFDO0FBQ0gsYUFBUyxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7QUFDakMsV0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQztHQUNuQyxDQUFBLEVBQUcsQ0FBQzs7QUFFTCxNQUFNLFdBQVcsR0FBRyxVQUFVLENBQUMsVUFBVSxDQUFDOzs7QUFHMUMsWUFBVSxDQUFDLFVBQVUsR0FBRyxZQUFXO0FBQ2pDLFFBQUksVUFBVSxDQUFDLFVBQVUsS0FBSyxVQUFVLEVBQUU7QUFDeEMsZ0JBQVUsQ0FBQyxVQUFVLEdBQUcsV0FBVyxDQUFDO0tBQ3JDO0FBQ0QsV0FBTyxVQUFVLENBQUM7R0FDbkIsQ0FBQztDQUNIIiwiZmlsZSI6Im5vLWNvbmZsaWN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIGdsb2JhbFRoaXMgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKEhhbmRsZWJhcnMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLy8gaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2dsb2JhbHRoaXNcbiAgKGZ1bmN0aW9uKCkge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybjtcbiAgICBPYmplY3QucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18oJ19fbWFnaWNfXycsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSk7XG4gICAgX19tYWdpY19fLmdsb2JhbFRoaXMgPSBfX21hZ2ljX187IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiAgICBkZWxldGUgT2JqZWN0LnByb3RvdHlwZS5fX21hZ2ljX187XG4gIH0pKCk7XG5cbiAgY29uc3QgJEhhbmRsZWJhcnMgPSBnbG9iYWxUaGlzLkhhbmRsZWJhcnM7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgSGFuZGxlYmFycy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGdsb2JhbFRoaXMuSGFuZGxlYmFycyA9PT0gSGFuZGxlYmFycykge1xuICAgICAgZ2xvYmFsVGhpcy5IYW5kbGViYXJzID0gJEhhbmRsZWJhcnM7XG4gICAgfVxuICAgIHJldHVybiBIYW5kbGViYXJzO1xuICB9O1xufVxuIl19\n","// Create a simple path alias to allow browserify to resolve\n// the runtime on a supported path.\nmodule.exports = require('./dist/cjs/handlebars.runtime')['default'];\n","function toRoman(num) {\n  if (num < 1 || num > 3999) return \"Number out of range\";\n\n  const romanNumerals = [\n    { value: 1000, numeral: \"M\" },\n    { value: 900, numeral: \"CM\" },\n    { value: 500, numeral: \"D\" },\n    { value: 400, numeral: \"CD\" },\n    { value: 100, numeral: \"C\" },\n    { value: 90, numeral: \"XC\" },\n    { value: 50, numeral: \"L\" },\n    { value: 40, numeral: \"XL\" },\n    { value: 10, numeral: \"X\" },\n    { value: 9, numeral: \"IX\" },\n    { value: 5, numeral: \"V\" },\n    { value: 4, numeral: \"IV\" },\n    { value: 1, numeral: \"I\" },\n  ];\n\n  let result = \"\";\n\n  for (const { value, numeral } of romanNumerals) {\n    while (num >= value) {\n      result += numeral;\n      num -= value;\n    }\n  }\n\n  return result;\n}\n\nconst numberToLetter = (number, lowerCase = false) => {\n  const letter = String.fromCharCode(65 + number);\n  return lowerCase ? letter.toLowerCase() : letter;\n};\n\nfunction conversorDeIndicesParaAlternativas(indice, tipoColuna) {\n  switch (tipoColuna) {\n    case 1:\n      return String(indice + 1);\n    case 2:\n      return toRoman(indice + 1) + \".\";\n    case 3:\n      return numberToLetter(indice, true) + \".\";\n    case 4:\n      return numberToLetter(indice) + \".\";\n    case 5:\n      return numberToLetter(indice, true) + \")\";\n    case 6:\n      return numberToLetter(indice) + \")\";\n    case 7:\n      return `(${numberToLetter(indice)})`;\n    case 8:\n      return `${numberToLetter(indice)} (&nbsp;&nbsp;&nbsp;)`;\n    case 9:\n      return `<div class=\"item_enem\" style=\"vertical-align:middle;border-radius:50%;width:18px;height:18px;background:black;color:white;display:table-cell;text-align:center;\" >${numberToLetter(\n        indice\n      )}</div>`;\n    case 10:\n      return \"\";\n    default:\n      return indice;\n  }\n}\n\nfunction diaDaSemana(dateStr) {\n  const [day, month, year] = dateStr.split('/').map(Number);\n  const date = new Date(year, month - 1, day); // month is 0-indexed in JS\n\n  const mapaSemana = {\n    0: 'domingo',\n    1: 'segunda-feira',\n    2: 'tera-feira',\n    3: 'quarta-feira',\n    4: 'quinta-feira',\n    5: 'sexta-feira',\n    6: 'sbado'\n  };\n\n  return mapaSemana[date.getDay()];\n}\n\nfunction replacer(string, placeholders) {\n  if (!string) return \"\";\n\n  let replacedString = string;\n  for (const placeholder in placeholders) {\n    replacedString = replacedString.replace(\n      new RegExp(placeholder, \"g\"),\n      placeholders[placeholder] ?? \"&nbsp;\"\n    );\n  }\n\n  return replacedString;\n}\n\nfunction replacePlaceholders(provaModelo) {\n\n  const folhaDeRostoPlaceholder = {\n    \"#DATA#\": provaModelo.prova.dataRealizacao,\n    \"#DIASEMANA#\": diaDaSemana(provaModelo.prova.dataRealizacao),\n    \"#CURSO#\": provaModelo.prova.turma?.cursoUnidade.curso.nome,\n    \"#DISCIPLINA#\": provaModelo.prova.turma?.disciplina,\n    \"#TURMA#\": provaModelo.prova.turma?.codigoTurma,\n    \"#CODIGO_TURMA#\": provaModelo.prova.turma?.codigoTurma,\n    \"#PERIODO#\":\n      provaModelo.prova.tipoProva.notaParcial +\n      \" - \" +\n      (provaModelo.prova.turma?.periodoLetivo.nome ?? \"&nbsp;\"),\n    \"#MODELO#\": \" - Modelo \" + provaModelo.nome,\n    \"#PROFESSOR#\":\n      provaModelo.prova.turma?.listaTurmaDisciplina?.[0]?.nomeProfessor == null &&\n        provaModelo.prova.usuario != null\n        ? provaModelo.prova.usuario.nome\n        : provaModelo.prova.turma?.listaTurmaDisciplina?.[0]?.nomeProfessor,\n    \"#TURNO#\": provaModelo.prova.turma?.cursoUnidade.turno.nome,\n    \"#DURACAO#\": provaModelo.prova.duracao,\n    \"#TOTALQUEST#\": provaModelo.listaProvaQuestao.length,\n    \"#NUM_QUESTOES#\": provaModelo.listaProvaQuestao.length,\n    \"#PONTOS#\": provaModelo.prova.totalPontos,\n    \"#INSTRUCAO#\": provaModelo.prova.instrucaoEspecifica?.texto,\n  };\n\n  const cabecalhoPlaceholders = {\n    \"#LOGO#\": provaModelo.prova.instituicao.linkFile,\n    \"#TIPOPROVA#\": provaModelo.prova.tipoProva.notaParcial,\n    \"#TIPOPROVANOME#\": provaModelo.prova.tipoProva.nome,\n    \"#DISCIPLINA#\": provaModelo.prova.turma?.disciplina,\n    \"#CURSO#\": provaModelo.prova.turma?.cursoUnidade.curso.nome,\n    \"#TURMA#\": provaModelo.prova.turma?.codigoTurma,\n    \"#TURMANOME#\": provaModelo.prova.turma?.nome,\n    \"#NOME_TURMA#\": provaModelo.prova.turma?.nome,\n    \"#TURNO#\": provaModelo.prova.turma?.cursoUnidade.turno.nome,\n    \"#PERIODO#\": provaModelo.prova.turma?.periodoLetivo.nome,\n    \"#TOTALQUEST#\": provaModelo.listaProvaQuestao.length,\n    \"#LAYOUTNOME#\": provaModelo.prova.layout.nome,\n    \"#NOMELAYOUT#\": provaModelo.prova.layout.nome,\n    \"#INSTRUCAO#\": provaModelo.prova.instrucaoEspecifica?.texto,\n    \"#PONTOS#\": provaModelo.prova.totalPontos,\n    \"#DATA#\": provaModelo.prova.dataRealizacao,\n  };\n\n  const cabecalhoPaginaPlaceholders = {\n    \"#LOGO#\": provaModelo.prova.instituicao.linkFile,\n    \"#DISCIPLINA#\": provaModelo.prova.turma?.disciplina,\n    \"#CURSO#\": provaModelo.prova.turma?.cursoUnidade.curso.nome,\n    \"#CURSONOME#\": provaModelo.prova.turma?.cursoUnidade.curso.nome,\n    \"#PERIODO#\": provaModelo.prova.turma?.periodoLetivo.nome,\n    \"#PERIODOLET#\": provaModelo.prova.turma?.periodoLetivo.nome,\n    \"#TIPOPROVA#\": provaModelo.prova.tipoProva.notaParcial,\n    \"#TIPOPROVANOME#\": provaModelo.prova.tipoProva.nome,\n  };\n\n  const footerPlaceholders = {\n    \"#site#\": provaModelo.prova.instituicao.site,\n  };\n\n  provaModelo.prova.layout.cabecalho = replacer(\n    provaModelo.prova.layout.cabecalho,\n    cabecalhoPlaceholders\n  );\n  provaModelo.prova.layout.folhaRosto = replacer(\n    provaModelo.prova.layout.folhaRosto,\n    folhaDeRostoPlaceholder\n  );\n  provaModelo.prova.layout.cabecalhoPagina = replacer(\n    provaModelo.prova.layout.cabecalhoPagina,\n    cabecalhoPaginaPlaceholders\n  );\n\n  provaModelo.prova.layout.rodape = replacer(\n    provaModelo.prova.layout.rodape,\n    footerPlaceholders\n  );\n\n  return provaModelo;\n}\n\nfunction shuffleAndMultiply(arr, multiplier) {\n  // Shuffle group order\n  const chunks = Array(multiplier).fill(arr).map(a => [...a]);\n  for (let i = chunks.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [chunks[i], chunks[j]] = [chunks[j], chunks[i]];\n  }\n\n  // Flatten\n  const multipliedArray = chunks.flat();\n\n  // Shuffle all elements\n  for (let i = multipliedArray.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [multipliedArray[i], multipliedArray[j]] = [multipliedArray[j], multipliedArray[i]];\n  }\n\n  return multipliedArray;\n}\n\nexport {\n  shuffleAndMultiply,\n  replacePlaceholders,\n  conversorDeIndicesParaAlternativas\n}","export class QuadroRespostaRenderer {\n  linhasTabelaNumeradas(numberOfLines, withHeader = true) {\n    const header = `<tr class='dontsplit'>\n                      <td class=\"side-number-header\" colspan=\"2\">Resposta</td>\n                    </tr>`;\n\n    let rows = Array.from(\n      { length: numberOfLines },\n      (_, index) => `\n          <tr class='dontsplit'>\n            <td class=\"side-number\">${index + 1}</td>\n            <td class=\"side-number-content\"></td>\n          </tr>\n        `\n    ).join(\"\");\n\n    return `\n      <table class=\"side-number-table\">\n        ${withHeader ? header : \"\"}\n        ${rows}\n      </table>\n  `;\n  }\n\n  linhasTabela(numberOfLines, withHeader = true) {\n    const header = `\n        <tr class='dontsplit'>\n        <td class=\"side-number-header\">Resposta</td>\n        </tr>\n        `;\n    return `\n            <table class=\"answer-table\">\n            ${withHeader ? header : \"\"}\n            ${\"<tr class='dontsplit'><td></td></tr>\".repeat(numberOfLines)}\n            </table>\n        `;\n  }\n\n  linhasTabelaComCabecalho(numberOfLines, withHeader = true) {\n    return this.linhasTabela(numberOfLines, withHeader);\n  }\n\n  linhasSemRespostaSemBorda(numberOfLines) {\n    if (!numberOfLines) return \"\";\n    const lines = Array.from(\n      { length: numberOfLines },\n      () => `\n    <div class=\"linha linha-text linha-underline dontsplit\">\n      &nbsp;\n    </div>\n  `\n    ).join(\"\");\n\n    return `\n    <div class=\"linhas-sem-borda\">\n      ${lines}\n    </div>\n  `;\n  }\n\n  // Linhas Sem Borda e Com Linha Para Ttulo\n  linhasSemBordaComLinha(numberOfLines) {\n    if (!numberOfLines) return \"\";\n    const lines = Array.from(\n      { length: numberOfLines },\n      () => `\n    <div class=\"linha linha-text linha-underline dontsplit\">\n      &nbsp;\n    </div>\n  `\n    ).join(\"\");\n\n    return `\n    <div class=\"linhas-sem-borda\">\n      <div class=\"linha linha-text linha-titulo-underline dontsplit\">\n        &nbsp;\n      </div>\n      ${lines}\n    </div>\n  `;\n  }\n\n  linhaComCalculo(numberOfLines) {\n    if (!numberOfLines) return \"\";\n    const lines = Array.from(\n      { length: numberOfLines },\n      () => `\n                <div class=\"quadro-resposta-linha-custom dontsplit\">\n                <td>&nbsp;</td>\n                </div>\n            `\n    ).join(\"\");\n\n    return `\n                <div class=\"quadro-resposta-tabela quadro-resposta-container\" >\n                <header style=\"border-top: 1px solid black; border-bottom:1px solid black;\" class=\"dontsplit\"><strong class=\"quadro-resposta-coluna w100\">Clculo</strong></header>\n                ${lines}\n                </div>\n            `;\n  }\n\n  quadroDeLinhasEmBranco(numberOfLines) {\n    if (!numberOfLines) return \"\";\n    const height = Math.max(30 * numberOfLines, 30);\n    return `\n                <div class=\"box\">\n                <div class=\"box-header\">Resposta</div>\n                <div class=\"box-content\" style='height: ${height}px'></div>\n                </div>\n            `;\n  }\n\n  quadroDeLinhasComCorrecao(numberOfLines) {\n    if (!numberOfLines) return \"\";\n\n    const header = `\n                <header class=\"dontsplit\">\n                <strong class=\"quadro-resposta-coluna\" style=\"width:85%;border-right: 1px solid black;\">Resposta</strong>\n                <strong class=\"quadro-resposta-coluna\" style=\"width:5%;border-right: 1px solid black;\">E</strong>\n                <strong class=\"quadro-resposta-coluna\" style=\"width:5%;border-right: 1px solid black;\">G</strong>\n                <strong class=\"quadro-resposta-coluna\" style=\"width:5%\">T</strong>\n                </header>\n            `;\n\n    const rows = Array.from(\n      { length: numberOfLines },\n      (_, index) => `<div>\n            <span class=\"quadro-resposta-coluna\" style=\"width: 5%; border-right: 1px solid black;\">${index + 1\n        }</span>\n            <span class=\"quadro-resposta-coluna\" style=\"width: 80%;border-right: 1px solid black;\">&nbsp;</span>\n            <span class=\"quadro-resposta-coluna\" style=\"width: 5%;border-right: 1px solid black;\">&nbsp;</span>\n            <span class=\"quadro-resposta-coluna\" style=\"width: 5%;border-right: 1px solid black;\">&nbsp;</span>\n            <span class=\"quadro-resposta-coluna\" style=\"width: 5%;\">&nbsp;</span>\n            </div>`\n    ).join(\"\");\n\n    return `\n                <div class=\"quadro-resposta-tabela w100 dontsplit tablelike\">\n                ${header}\n                ${rows}\n                </div>\n            `;\n  }\n\n  static tipoQuadroRespostaHtml(tipoLinha: number, numeroLinhas: number) {\n\n    const quadroResposta = new QuadroRespostaRenderer();\n\n    switch (tipoLinha) {\n      case 1:\n        return quadroResposta.linhasTabelaNumeradas(numeroLinhas);\n      case 2:\n        return quadroResposta.linhasTabela(numeroLinhas);\n      case 3:\n        return quadroResposta.quadroDeLinhasComCorrecao(numeroLinhas);\n      case 4:\n        return quadroResposta.quadroDeLinhasEmBranco(numeroLinhas);\n      case 5:\n        return quadroResposta.linhasTabelaComCabecalho(numeroLinhas, false);\n      case 6:\n        return quadroResposta.linhasSemRespostaSemBorda(numeroLinhas);\n      case 7:\n        return quadroResposta.linhasSemBordaComLinha(numeroLinhas);\n      case 8:\n        return quadroResposta.linhaComCalculo(numeroLinhas);\n      default:\n        return \"\";\n    }\n  }\n}\n","import HandlebarsRuntime from \"handlebars/runtime\";\nconst Handlebars = (HandlebarsRuntime as any).default || HandlebarsRuntime;\n\nimport { conversorDeIndicesParaAlternativas } from \"./utils/util\";\nimport { QuadroRespostaRenderer } from \"./components/QuadroRespostaRenderer\";\n\n// Import templates\nimport questionTpl from \"./templates/question.hbs\";\nimport headerTpl from \"./templates/header.hbs\";\nimport referenceTpl from \"./templates/reference.hbs\";\nimport bodyTpl from \"./templates/body.hbs\";\nimport alternativesTpl from \"./templates/alternatives.hbs\";\nimport statementsTpl from \"./templates/statements.hbs\";\nimport associationsTpl from \"./templates/associations.hbs\";\nimport assertionsTpl from \"./templates/assertions.hbs\";\nimport responseBoxTpl from \"./templates/responseBox.hbs\";\n\n// Register Partials\nHandlebars.registerPartial(\"reference\", referenceTpl);\nHandlebars.registerPartial(\"header\", headerTpl);\nHandlebars.registerPartial(\"body\", bodyTpl);\nHandlebars.registerPartial(\"alternatives\", alternativesTpl);\nHandlebars.registerPartial(\"statements\", statementsTpl);\nHandlebars.registerPartial(\"associations\", associationsTpl);\nHandlebars.registerPartial(\"assertions\", assertionsTpl);\nHandlebars.registerPartial(\"responseBox\", responseBoxTpl);\n\n// Register Helpers\nHandlebars.registerHelper(\"repeat\", (str, count) => {\n    return (str || \"\").repeat(count || 0);\n});\n\nHandlebars.registerHelper(\"formatHeader\", (primeiraQuestaoTpl, questaoTpl, order, displayOrder, value) => {\n    const template = order === 1 ? primeiraQuestaoTpl : questaoTpl;\n    return (template || \"\")\n        .replace(\"#ORDEM#\", displayOrder)\n        .replace(\"#VALOR#\", String(value || 0).replace(\".\", \",\"));\n});\n\nHandlebars.registerHelper(\"renderResponseBox\", (tipoLinhaCodigo, numeroLinhas) => {\n    return new Handlebars.SafeString(QuadroRespostaRenderer.tipoQuadroRespostaHtml(tipoLinhaCodigo, numeroLinhas));\n});\n\nHandlebars.registerHelper(\"formatAlternativeIndex\", (index, tipoAlternativa) => {\n    return conversorDeIndicesParaAlternativas(index, tipoAlternativa);\n});\n\nHandlebars.registerHelper(\"switch\", function (this: any, value, options) {\n    if (!options.data) {\n        options.data = {};\n    }\n    options.data._switch_value_ = value;\n    options.data._switch_break_ = false;\n    return options.fn(this);\n});\n\nHandlebars.registerHelper(\"case\", function (this: any, value, options) {\n    if (options.data && options.data._switch_value_ == value && !options.data._switch_break_) {\n        options.data._switch_break_ = true;\n        return options.fn(this);\n    }\n});\n\nHandlebars.registerHelper(\"default\", function (this: any, options) {\n    if (options.data && !options.data._switch_break_) {\n        return options.fn(this);\n    }\n});\n\nexport const renderQuestion = (context: any) => {\n    return (questionTpl as any)(context, {\n        allowProtoPropertiesByDefault: true,\n        allowProtoMethodsByDefault: true\n    });\n};\n","import { renderQuestion } from \"../Hbs\";\n\nexport class QuestionRenderer {\n    question: any;\n    assessmentLayout: any;\n    options: any;\n\n    constructor(question: any, assessmentLayout: any, options: any) {\n        this.question = question;\n        this.assessmentLayout = assessmentLayout;\n        this.options = options;\n    }\n\n    render() {\n        const context: any = {\n            question: this.question,\n            displayOrder: this.question.order,\n            assessmentLayout: this.assessmentLayout,\n            options: this.options,\n            isMultiplaEscolha: false,\n            useRaw: false\n        };\n\n        try {\n            const questaoObj = this.question.visualizaQuestaoParsed;\n            if (!questaoObj) {\n                // If parsing failed or data is missing, use raw content\n                context.useRaw = true;\n            } else {\n                if (questaoObj.alternativas && questaoObj.alternativas.length > 0) {\n                    context.isMultiplaEscolha = true;\n                }\n            }\n        } catch (error) {\n            context.useRaw = true;\n        }\n\n        return renderQuestion(context);\n    }\n}\n\n","import { QuestionRenderer } from \"./components/QuestionRenderer\";\n\nexport class AssessmentHtmlRenderer {\n    assessment: any;\n    options: any;\n\n    constructor(assessment: any, options: any) {\n        this.assessment = assessment;\n        this.options = options;\n    }\n\n    render() {\n        const folhaDeRostoHtml = this.options.folhaDeRosto ? `<div id=\"folha-rosto\">${this.options.folhaDeRosto}</div>` : \"\";\n        const questionsHtml = this.renderQuestions();\n        const attachmentsHtml = this.renderAttachments();\n        const draftsHtml = `<div class=\"rascunho\"></div>`.repeat(this.options.quantidadeFolhasRascunho || 0);\n\n        return folhaDeRostoHtml + questionsHtml + attachmentsHtml + draftsHtml;\n    }\n\n    renderQuestions() {\n        const questionsHtml = this.assessment.questions\n            .map(question => {\n                const presenter = new QuestionRenderer(question, this.assessment.layout, this.options);\n                return presenter.render();\n            })\n            .join(\"\");\n\n        return this.options.quantidadeColunas == 2\n            ? `<div id='duas-colunas'>${questionsHtml}</div>`\n            : questionsHtml;\n    }\n\n    renderAttachments() {\n        const listaAnexos = this.assessment.attachments;\n        if (!listaAnexos || listaAnexos.length === 0) return \"\";\n\n        return listaAnexos\n            .map(anexo => `\n                <div class=\"anexo\">\n                    <div class=\"columnbreak\"></div>\n                    <p style=\"text-align:center\"><strong>ANEXO ${anexo.ordem}</strong></p>\n                    <p>&nbsp;</p>\n                    <div>${anexo.anexo.texto}</div>\n                </div>\n            `)\n            .join(\"\");\n    }\n}\n","import { Assessment } from \"./domain/Assessment\";\nimport { Question } from \"./domain/Question\";\nimport { ReferenceService } from \"./domain/ReferenceService\";\nimport { AssessmentHtmlRenderer } from \"./rendering/AssessmentHtmlRenderer\";\n\nexport class LayoutAvaliacao {\n    provaModelo: any;\n    layoutOptions: any;\n\n    constructor(provaModelo: any, layoutOptions: any) {\n        this.provaModelo = provaModelo;\n        this.layoutOptions = layoutOptions;\n    }\n\n    avalicaoHtml() {\n        // 1. Map Raw Data to Entities\n        const assessment = this._mapToEntity(this.provaModelo);\n\n        // 2. Domain Logic: Process References\n        ReferenceService.processReferences(assessment.questions);\n\n        // 3. Prepare for Presentation\n        const renderer = new AssessmentHtmlRenderer(assessment, this.layoutOptions);\n\n        // 4. Return formatted data\n        // The previous implementation returned only the HTML string from this method\n        return renderer.render();\n    }\n\n    _mapToEntity(rawData) {\n        const { prova, listaProvaQuestao, listaProvaAnexo } = rawData;\n\n        const questions = (listaProvaQuestao || []).map(q => {\n            let parsedContent = {};\n            try {\n                parsedContent = JSON.parse(q.questao.visualizaQuestao);\n            } catch (e) {\n                console.error(\"Error parsing question content\", e);\n            }\n\n            const question = new Question({\n                id: q.questao.codigo,\n                order: q.ordem,\n                customOrder: q.ordemPersonalizada,\n                value: q.valor,\n                type: q.questao.tipoQuestao,\n                reference: q.questao.referencia,\n                orderAlternative: q.ordemAlternativa,\n                visualizaQuestaoRaw: q.questao.visualizaQuestao\n            });\n\n            // Flatten parsed content into the entity for easier access in presenters\n            question.visualizaQuestaoParsed = parsedContent;\n\n            // Map other fields used in rendering\n            question.linhasBranco = q.linhasBranco;\n            question.quebraPagina = q.quebraPagina;\n            question.visualizaResposta = q.questao.visualizaResposta;\n\n            // Map fields used by QuadroResposta\n            question.tipoLinha = q.tipoLinha;\n            question.numeroLinhas = q.numeroLinhas;\n\n            return question;\n        });\n\n        return new Assessment({\n            id: prova?.id,\n            title: prova?.descricao,\n            questions: questions,\n            attachments: listaProvaAnexo || [],\n            layout: prova?.layout || {}\n        });\n    }\n}\n","import { LayoutAvaliacao } from \"./LayoutAvaliacao\";\n\nconst TIPO_ORDENACAO = {\n  NAO_EMBARALHAR: 0,\n  ALEATORIO: 1,\n  ASCENDENTE: 2,\n  DESCENDENTE: 3,\n}\n\nexport class LayoutAvaliacaoBuilder {\n  header: string;\n  footer: string;\n  fontSize: number;\n  _folhaDeRosto: any;\n  pagina: any;\n  numeroFolhasRascunho: any;\n  _marcaDaquaRascunho: any;\n  _marcaDaguaInstituicao: any;\n  quantidadeColunas: number;\n  paginacaoAtiva: boolean;\n  _identificacao: string;\n  _gabarito: boolean;\n  tipoOrdenacaoAlternativa: number;\n  _tipoAlternativa: any;\n\n  comMarcaDaguaRascunho: any;\n  quantidadeFolhasRascunho: any;\n\n  constructor() {\n    this.header = \"\";\n    this.footer = \"\";\n    this.fontSize = 12;\n    this._folhaDeRosto = {\n      header: \"\",\n      content: \"\",\n      footer: \"\",\n    };\n    this.pagina = {\n      header: \"\",\n      footer: \"\",\n    };\n    this.numeroFolhasRascunho = null;\n    this._marcaDaquaRascunho = null;\n    this._marcaDaguaInstituicao = null;\n    this.quantidadeColunas = 1;\n    this.paginacaoAtiva = false;\n    this._identificacao = \"\";\n    this._gabarito = false;\n    this.tipoOrdenacaoAlternativa = TIPO_ORDENACAO.NAO_EMBARALHAR;\n    this._tipoAlternativa = null;\n  }\n\n  marcaDaguaRascunho(comMarcaDagua) {\n    this.comMarcaDaguaRascunho = comMarcaDagua;\n    return this;\n  }\n\n  pageHeader(header) {\n    this.header = header;\n    return this;\n  }\n\n  pageFooter(footer) {\n    this.footer = footer;\n    return this;\n  }\n\n  marcaDaguaInstituicao(marcaDaguaUrl) {\n    this._marcaDaguaInstituicao = marcaDaguaUrl;\n    return this;\n  }\n\n  marcaDaquaRascunho(marcaDaguaUrl) {\n    this._marcaDaquaRascunho = marcaDaguaUrl;\n    return this;\n  }\n\n  fonteTamanho(tamanho) {\n    if (isNaN(tamanho)) {\n      throw new Error(\"O valor da fonte deve ser um valor numerico.\");\n    }\n    this.fontSize = tamanho;\n    return this;\n  }\n\n  gabarito() {\n    this._gabarito = true;\n    return this;\n  }\n\n  rascunho(quantidadeFolhasRascunho) {\n    if (isNaN(quantidadeFolhasRascunho)) {\n      throw new Error(\"O valor da rascunho deve ser um valor numerico.\");\n    }\n    this.quantidadeFolhasRascunho = quantidadeFolhasRascunho;\n    return this;\n  }\n\n  folhaDeRosto({ header, content, footer }) {\n    const valid = header != null && content != null && footer != null;\n\n    if (!valid) {\n      throw new Error(\n        \"Todas as propriedades de folha de rosto so obrigatorias. header, content e footer\"\n      );\n    }\n\n    this._folhaDeRosto = { ...this._folhaDeRosto, header, content, footer };\n\n    return this;\n  }\n\n  colunas(quantidade) {\n    if (isNaN(quantidade)) {\n      throw new Error(\n        \"O valor da quantidade de colunas deve ser um valor numerico.\"\n      );\n    }\n    if (quantidade > 2 || quantidade < 1) {\n      throw new Error(\"A quantidade de colunas deve ser 1 ou 2.\");\n    }\n\n    this.quantidadeColunas = quantidade;\n\n    return this;\n  }\n\n  identificacao(identificacao = \"\") {\n    this._identificacao = identificacao;\n    return this;\n  }\n\n  paginacao() {\n    this.paginacaoAtiva = true;\n    return this;\n  }\n\n  ordemAlternativa(tipoOrdenacao) {\n\n    if (!Object.values(TIPO_ORDENACAO).includes(tipoOrdenacao)) {\n      throw new Error(\"Tipo de ordenao de alternativas invlido.\");\n    }\n\n    this.tipoOrdenacaoAlternativa = tipoOrdenacao;\n\n    return this;\n  }\n\n  tipoAlternativa(tipoAlternativa) {\n\n    this._tipoAlternativa = tipoAlternativa;\n\n    return this;\n  }\n\n  build(provaModelo) {\n    const layoutAvaliacao = new LayoutAvaliacao(provaModelo, {\n      fontSize: this.fontSize,\n      folhaDeRosto: this._folhaDeRosto.content,\n      quantidadeFolhasRascunho: this.quantidadeFolhasRascunho,\n      quantidadeColunas: this.quantidadeColunas,\n      quebraQuestao: provaModelo.prova.quebraQuestao,\n      gabarito: this._gabarito,\n      paginacaoAtiva: this.paginacaoAtiva,\n    });\n\n    return Object.freeze({\n      layoutHtml: layoutAvaliacao.avalicaoHtml(),\n      cssVars: {\n        \"--layout-font-size\": this.fontSize + \"px\",\n        \"--layout-watermark-rascunho\": this._marcaDaquaRascunho\n          ? `url(\"${this._marcaDaquaRascunho}\")`\n          : \"none\",\n        \"--layout-watermark-instituicao\": this._marcaDaguaInstituicao\n          ? `url(\"${this._marcaDaguaInstituicao}\")`\n          : \"none\",\n        \"--layout-identificacao\": this._identificacao\n          ? `\"${this._identificacao}\"`\n          : \"none\",\n      },\n      folhaDeRosto: this._folhaDeRosto,\n      header: this.header,\n      footer: this.footer,\n      comMarcaDaguaRascunho: this.comMarcaDaguaRascunho,\n      ordemAlternativa: this.tipoOrdenacaoAlternativa,\n      tipoAlternativa: this._tipoAlternativa,\n      handlers: [],\n    });\n  }\n}","export function getBoundingClientRect(element) {\n\tif (!element) {\n\t\treturn;\n\t}\n\tlet rect;\n\tif (typeof element.getBoundingClientRect !== \"undefined\") {\n\t\trect = element.getBoundingClientRect();\n\t} else {\n\t\tlet range = document.createRange();\n\t\trange.selectNode(element);\n\t\trect = range.getBoundingClientRect();\n\t}\n\treturn rect;\n}\n\nexport function getClientRects(element) {\n\tif (!element) {\n\t\treturn;\n\t}\n\tlet rect;\n\tif (typeof element.getClientRects !== \"undefined\") {\n\t\trect = element.getClientRects();\n\t} else {\n\t\tlet range = document.createRange();\n\t\trange.selectNode(element);\n\t\trect = range.getClientRects();\n\t}\n\treturn rect;\n}\n\n/**\n * Generates a UUID\n * based on: http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript\n * @returns {string} uuid\n */\nexport function UUID() {\n\tvar d = new Date().getTime();\n\tif (typeof performance !== \"undefined\" && typeof performance.now === \"function\") {\n\t\td += performance.now(); //use high-precision timer if available\n\t}\n\treturn \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n\t\tvar r = (d + Math.random() * 16) % 16 | 0;\n\t\td = Math.floor(d / 16);\n\t\treturn (c === \"x\" ? r : (r & 0x3 | 0x8)).toString(16);\n\t});\n}\n\n// From: https://hg.mozilla.org/mozilla-central/file/tip/toolkit/modules/css-selector.js#l52\n\n/**\n * Find the position of [element] in [nodeList].\n * @param {Element} element to check\n * @param {NodeList} nodeList to find in\n * @returns {int} an index of the match, or -1 if there is no match\n */\nexport function positionInNodeList(element, nodeList) {\n\tfor (let i = 0; i < nodeList.length; i++) {\n\t\tif (element === nodeList[i]) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * Find a unique CSS selector for a given element\n * @param {Element} ele to check\n * @returns {string} a string such that ele.ownerDocument.querySelector(reply) === ele\n * and ele.ownerDocument.querySelectorAll(reply).length === 1\n */\nexport function findCssSelector(ele) {\n\tlet document = ele.ownerDocument;\n\t// Fred: commented out to allow for parsing in fragments\n\t// if (!document || !document.contains(ele)) {\n\t//   throw new Error(\"findCssSelector received element not inside document\");\n\t// }\n\n\tlet cssEscape = window.CSS.escape;\n\n\t// document.querySelectorAll(\"#id\") returns multiple if elements share an ID\n\tif (ele.id &&\n\t\tdocument.querySelectorAll(\"#\" + cssEscape(ele.id)).length === 1) {\n\t\treturn \"#\" + cssEscape(ele.id);\n\t}\n\n\t// Inherently unique by tag name\n\tlet tagName = ele.localName;\n\tif (tagName === \"html\") {\n\t\treturn \"html\";\n\t}\n\tif (tagName === \"head\") {\n\t\treturn \"head\";\n\t}\n\tif (tagName === \"body\") {\n\t\treturn \"body\";\n\t}\n\n\t// We might be able to find a unique class name\n\tlet selector, index, matches;\n\tif (ele.classList.length > 0) {\n\t\tfor (let i = 0; i < ele.classList.length; i++) {\n\t\t\t// Is this className unique by itself?\n\t\t\tselector = \".\" + cssEscape(ele.classList.item(i));\n\t\t\tmatches = document.querySelectorAll(selector);\n\t\t\tif (matches.length === 1) {\n\t\t\t\treturn selector;\n\t\t\t}\n\t\t\t// Maybe it's unique with a tag name?\n\t\t\tselector = cssEscape(tagName) + selector;\n\t\t\tmatches = document.querySelectorAll(selector);\n\t\t\tif (matches.length === 1) {\n\t\t\t\treturn selector;\n\t\t\t}\n\t\t\t// Maybe it's unique using a tag name and nth-child\n\t\t\tindex = positionInNodeList(ele, ele.parentNode.children) + 1;\n\t\t\tselector = selector + \":nth-child(\" + index + \")\";\n\t\t\tmatches = document.querySelectorAll(selector);\n\t\t\tif (matches.length === 1) {\n\t\t\t\treturn selector;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Not unique enough yet.  As long as it's not a child of the document,\n\t// continue recursing up until it is unique enough.\n\tif (ele.parentNode !== document && ele.parentNode.nodeType === 1) {\n\t\tindex = positionInNodeList(ele, ele.parentNode.children) + 1;\n\t\tselector = findCssSelector(ele.parentNode) + \" > \" +\n\t\t\tcssEscape(tagName) + \":nth-child(\" + index + \")\";\n\t}\n\n\treturn selector;\n}\n\nexport function attr(element, attributes) {\n\tfor (var i = 0; i < attributes.length; i++) {\n\t\tif (element.hasAttribute(attributes[i])) {\n\t\t\treturn element.getAttribute(attributes[i]);\n\t\t}\n\t}\n}\n\n/* Based on by https://mths.be/cssescape v1.5.1 by @mathias | MIT license\n * Allows # and .\n */\nexport function querySelectorEscape(value) {\n\tif (arguments.length == 0) {\n\t\tthrow new TypeError(\"`CSS.escape` requires an argument.\");\n\t}\n\tvar string = String(value);\n\n\tvar length = string.length;\n\tvar index = -1;\n\tvar codeUnit;\n\tvar result = \"\";\n\tvar firstCodeUnit = string.charCodeAt(0);\n\twhile (++index < length) {\n\t\tcodeUnit = string.charCodeAt(index);\n\n\n\n\t\t// Note: theres no need to special-case astral symbols, surrogate\n\t\t// pairs, or lone surrogates.\n\n\t\t// If the character is NULL (U+0000), then the REPLACEMENT CHARACTER\n\t\t// (U+FFFD).\n\t\tif (codeUnit == 0x0000) {\n\t\t\tresult += \"\\uFFFD\";\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (\n\t\t\t// If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n\t\t\t// U+007F, []\n\t\t\t(codeUnit >= 0x0001 && codeUnit <= 0x001F) || codeUnit == 0x007F ||\n\t\t\t// If the character is the first character and is in the range [0-9]\n\t\t\t// (U+0030 to U+0039), []\n\t\t\t(index == 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039) ||\n\t\t\t// If the character is the second character and is in the range [0-9]\n\t\t\t// (U+0030 to U+0039) and the first character is a `-` (U+002D), []\n\t\t\t(\n\t\t\t\tindex == 1 &&\n\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 &&\n\t\t\t\tfirstCodeUnit == 0x002D\n\t\t\t)\n\t\t) {\n\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character-as-code-point\n\t\t\tresult += \"\\\\\" + codeUnit.toString(16) + \" \";\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (\n\t\t\t// If the character is the first character and is a `-` (U+002D), and\n\t\t\t// there is no second character, []\n\t\t\tindex == 0 &&\n\t\t\tlength == 1 &&\n\t\t\tcodeUnit == 0x002D\n\t\t) {\n\t\t\tresult += \"\\\\\" + string.charAt(index);\n\t\t\tcontinue;\n\t\t}\n\n\t\t// support for period character in id\n\t\tif (codeUnit == 0x002E) {\n\t\t\tif (string.charAt(0) == \"#\") {\n\t\t\t\tresult += \"\\\\.\";\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\n\t\t// If the character is not handled by one of the above rules and is\n\t\t// greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n\t\t// is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n\t\t// U+005A), or [a-z] (U+0061 to U+007A), []\n\t\tif (\n\t\t\tcodeUnit >= 0x0080 ||\n\t\t\tcodeUnit == 0x002D ||\n\t\t\tcodeUnit == 0x005F ||\n\t\t\tcodeUnit == 35 || // Allow #\n\t\t\tcodeUnit == 46 || // Allow .\n\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 ||\n\t\t\tcodeUnit >= 0x0041 && codeUnit <= 0x005A ||\n\t\t\tcodeUnit >= 0x0061 && codeUnit <= 0x007A\n\t\t) {\n\t\t\t// the character itself\n\t\t\tresult += string.charAt(index);\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Otherwise, the escaped character.\n\t\t// https://drafts.csswg.org/cssom/#escape-a-character\n\t\tresult += \"\\\\\" + string.charAt(index);\n\n\t}\n\treturn result;\n}\n\n/**\n * Creates a new pending promise and provides methods to resolve or reject it.\n * From: https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Promise.jsm/Deferred#backwards_forwards_compatible\n * @returns {object} defered\n */\nexport function defer() {\n\tthis.resolve = null;\n\n\tthis.reject = null;\n\n\tthis.id = UUID();\n\n\tthis.promise = new Promise((resolve, reject) => {\n\t\tthis.resolve = resolve;\n\t\tthis.reject = reject;\n\t});\n\tObject.freeze(this);\n}\n\nexport const requestIdleCallback = typeof window !== \"undefined\" && (\"requestIdleCallback\" in window ? window.requestIdleCallback : window.requestAnimationFrame);\n\nexport function CSSValueToString(obj) {\n\treturn obj.value + (obj.unit || \"\");\n}","export function isElement(node) {\n\treturn node && node.nodeType === 1;\n}\n\nexport function isText(node) {\n\treturn node && node.nodeType === 3;\n}\n\nexport function* walk(start, limiter) {\n\tlet node = start;\n\n\twhile (node) {\n\n\t\tyield node;\n\n\t\tif (node.childNodes.length) {\n\t\t\tnode = node.firstChild;\n\t\t} else if (node.nextSibling) {\n\t\t\tif (limiter && node === limiter) {\n\t\t\t\tnode = undefined;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tnode = node.nextSibling;\n\t\t} else {\n\t\t\twhile (node) {\n\t\t\t\tnode = node.parentNode;\n\t\t\t\tif (limiter && node === limiter) {\n\t\t\t\t\tnode = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (node && node.nextSibling) {\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function nodeAfter(node, limiter) {\n\tif (limiter && node === limiter) {\n\t\treturn;\n\t}\n\tlet significantNode = nextSignificantNode(node);\n\tif (significantNode) {\n\t\treturn significantNode;\n\t}\n\tif (node.parentNode) {\n\t\twhile ((node = node.parentNode)) {\n\t\t\tif (limiter && node === limiter) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsignificantNode = nextSignificantNode(node);\n\t\t\tif (significantNode) {\n\t\t\t\treturn significantNode;\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function nodeBefore(node, limiter) {\n\tif (limiter && node === limiter) {\n\t\treturn;\n\t}\n\tlet significantNode = previousSignificantNode(node);\n\tif (significantNode) {\n\t\treturn significantNode;\n\t}\n\tif (node.parentNode) {\n\t\twhile ((node = node.parentNode)) {\n\t\t\tif (limiter && node === limiter) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsignificantNode = previousSignificantNode(node);\n\t\t\tif (significantNode) {\n\t\t\t\treturn significantNode;\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function elementAfter(node, limiter) {\n\tlet after = nodeAfter(node, limiter);\n\n\twhile (after && after.nodeType !== 1) {\n\t\tafter = nodeAfter(after, limiter);\n\t}\n\n\treturn after;\n}\n\nexport function elementBefore(node, limiter) {\n\tlet before = nodeBefore(node, limiter);\n\n\twhile (before && before.nodeType !== 1) {\n\t\tbefore = nodeBefore(before, limiter);\n\t}\n\n\treturn before;\n}\n\nexport function displayedElementAfter(node, limiter) {\n\tlet after = elementAfter(node, limiter);\n\n\twhile (after && after.dataset.undisplayed) {\n\t\tafter = elementAfter(after, limiter);\n\t}\n\n\treturn after;\n}\n\nexport function displayedElementBefore(node, limiter) {\n\tlet before = elementBefore(node, limiter);\n\n\twhile (before && before.dataset.undisplayed) {\n\t\tbefore = elementBefore(before, limiter);\n\t}\n\n\treturn before;\n}\n\nexport function stackChildren(currentNode, stacked) {\n\tlet stack = stacked || [];\n\n\tstack.unshift(currentNode);\n\n\tlet children = currentNode.children;\n\tfor (var i = 0, length = children.length; i < length; i++) {\n\t\tstackChildren(children[i], stack);\n\t}\n\n\treturn stack;\n}\n\nexport function rebuildAncestors(node) {\n\tlet parent, ancestor;\n\tlet ancestors = [];\n\tlet added = [];\n\n\tlet fragment = document.createDocumentFragment();\n\n\t// Handle rowspan on table\n\tif (node.nodeName === \"TR\") {\n\t\tlet previousRow = node.previousElementSibling;\n\t\tlet previousRowDistance = 1;\n\t\twhile (previousRow) {\n\t\t\t// previous row has more columns, might indicate a rowspan.\n\t\t\tif (previousRow.childElementCount > node.childElementCount) {\n\t\t\t\tconst initialColumns = Array.from(node.children);\n\t\t\t\twhile (node.firstChild) {\n\t\t\t\t\tnode.firstChild.remove();\n\t\t\t\t}\n\t\t\t\tlet k = 0;\n\t\t\t\tfor (let j = 0; j < previousRow.children.length; j++) {\n\t\t\t\t\tlet column = previousRow.children[j];\n\t\t\t\t\tif (column.rowSpan && column.rowSpan > previousRowDistance) {\n\t\t\t\t\t\tconst duplicatedColumn = column.cloneNode(true);\n\t\t\t\t\t\t// Adjust rowspan value\n\t\t\t\t\t\tduplicatedColumn.rowSpan = column.rowSpan - previousRowDistance;\n\t\t\t\t\t\t// Add the column to the row\n\t\t\t\t\t\tnode.appendChild(duplicatedColumn);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Fill the gap with the initial columns (if exists)\n\t\t\t\t\t\tconst initialColumn = initialColumns[k++];\n\t\t\t\t\t\t// The initial column can be undefined if the newly created table has less columns than the original table\n\t\t\t\t\t\tif (initialColumn) {\n\t\t\t\t\t\t\tnode.appendChild(initialColumn);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tpreviousRow = previousRow.previousElementSibling;\n\t\t\tpreviousRowDistance++;\n\t\t}\n\t}\n\n\t// Gather all ancestors\n\tlet element = node;\n\twhile(element.parentNode && element.parentNode.nodeType === 1) {\n\t\tancestors.unshift(element.parentNode);\n\t\telement = element.parentNode;\n\t}\n\n\tfor (var i = 0; i < ancestors.length; i++) {\n\t\tancestor = ancestors[i];\n\t\tparent = ancestor.cloneNode(false);\n\t\n\t\tparent.setAttribute(\"data-split-from\", parent.getAttribute(\"data-ref\"));\n\t\t// ancestor.setAttribute(\"data-split-to\", parent.getAttribute(\"data-ref\"));\n\n\t\tif (parent.hasAttribute(\"id\")) {\n\t\t\tlet dataID = parent.getAttribute(\"id\");\n\t\t\tparent.setAttribute(\"data-id\", dataID);\n\t\t\tparent.removeAttribute(\"id\");\n\t\t}\n\n\t\t// This is handled by css :not, but also tidied up here\n\t\tif (parent.hasAttribute(\"data-break-before\")) {\n\t\t\tparent.removeAttribute(\"data-break-before\");\n\t\t}\n\n\t\tif (parent.hasAttribute(\"data-previous-break-after\")) {\n\t\t\tparent.removeAttribute(\"data-previous-break-after\");\n\t\t}\n\n\t\tif (added.length) {\n\t\t\tlet container = added[added.length-1];\n\t\t\tcontainer.appendChild(parent);\n\t\t} else {\n\t\t\tfragment.appendChild(parent);\n\t\t}\n\t\tadded.push(parent);\n\n\t\t// rebuild table rows\n\t\tif (parent.nodeName === \"TD\" && ancestor.parentElement.contains(ancestor)) {\n\t\t\tlet td = ancestor;\n\t\t\tlet prev = parent;\n\t\t\twhile ((td = td.previousElementSibling)) {\n\t\t\t\tlet sib = td.cloneNode(false);\n\t\t\t\tparent.parentElement.insertBefore(sib, prev);\n\t\t\t\tprev = sib;\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tadded = undefined;\n\treturn fragment;\n}\n/*\nexport function split(bound, cutElement, breakAfter) {\n\t\tlet needsRemoval = [];\n\t\tlet index = indexOf(cutElement);\n\n\t\tif (!breakAfter && index === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (breakAfter && index === (cutElement.parentNode.children.length - 1)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Create a fragment with rebuilt ancestors\n\t\tlet fragment = rebuildAncestors(cutElement);\n\n\t\t// Clone cut\n\t\tif (!breakAfter) {\n\t\t\tlet clone = cutElement.cloneNode(true);\n\t\t\tlet ref = cutElement.parentNode.getAttribute('data-ref');\n\t\t\tlet parent = fragment.querySelector(\"[data-ref='\" + ref + \"']\");\n\t\t\tparent.appendChild(clone);\n\t\t\tneedsRemoval.push(cutElement);\n\t\t}\n\n\t\t// Remove all after cut\n\t\tlet next = nodeAfter(cutElement, bound);\n\t\twhile (next) {\n\t\t\tlet clone = next.cloneNode(true);\n\t\t\tlet ref = next.parentNode.getAttribute('data-ref');\n\t\t\tlet parent = fragment.querySelector(\"[data-ref='\" + ref + \"']\");\n\t\t\tparent.appendChild(clone);\n\t\t\tneedsRemoval.push(next);\n\t\t\tnext = nodeAfter(next, bound);\n\t\t}\n\n\t\t// Remove originals\n\t\tneedsRemoval.forEach((node) => {\n\t\t\tif (node) {\n\t\t\t\tnode.remove();\n\t\t\t}\n\t\t});\n\n\t\t// Insert after bounds\n\t\tbound.parentNode.insertBefore(fragment, bound.nextSibling);\n\t\treturn [bound, bound.nextSibling];\n}\n*/\n\nexport function needsBreakBefore(node) {\n\tif( typeof node !== \"undefined\" &&\n\t\t\ttypeof node.dataset !== \"undefined\" &&\n\t\t\ttypeof node.dataset.breakBefore !== \"undefined\" &&\n\t\t\t(node.dataset.breakBefore === \"always\" ||\n\t\t\t node.dataset.breakBefore === \"page\" ||\n\t\t\t node.dataset.breakBefore === \"left\" ||\n\t\t\t node.dataset.breakBefore === \"right\" ||\n\t\t\t node.dataset.breakBefore === \"recto\" ||\n\t\t\t node.dataset.breakBefore === \"verso\")\n\t\t ) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nexport function needsBreakAfter(node) {\n\tif( typeof node !== \"undefined\" &&\n\t\t\ttypeof node.dataset !== \"undefined\" &&\n\t\t\ttypeof node.dataset.breakAfter !== \"undefined\" &&\n\t\t\t(node.dataset.breakAfter === \"always\" ||\n\t\t\t node.dataset.breakAfter === \"page\" ||\n\t\t\t node.dataset.breakAfter === \"left\" ||\n\t\t\t node.dataset.breakAfter === \"right\" ||\n\t\t\t node.dataset.breakAfter === \"recto\" ||\n\t\t\t node.dataset.breakAfter === \"verso\")\n\t\t ) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nexport function needsPreviousBreakAfter(node) {\n\tif( typeof node !== \"undefined\" &&\n\t\t\ttypeof node.dataset !== \"undefined\" &&\n\t\t\ttypeof node.dataset.previousBreakAfter !== \"undefined\" &&\n\t\t\t(node.dataset.previousBreakAfter === \"always\" ||\n\t\t\t node.dataset.previousBreakAfter === \"page\" ||\n\t\t\t node.dataset.previousBreakAfter === \"left\" ||\n\t\t\t node.dataset.previousBreakAfter === \"right\" ||\n\t\t\t node.dataset.previousBreakAfter === \"recto\" ||\n\t\t\t node.dataset.previousBreakAfter === \"verso\")\n\t\t ) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nexport function needsPageBreak(node, previousSignificantNode) {\n\tif (typeof node === \"undefined\" || !previousSignificantNode || isIgnorable(node)) {\n\t\treturn false;\n\t}\n\tif (node.dataset && node.dataset.undisplayed) {\n\t\treturn false;\n\t}\n\tlet previousSignificantNodePage = previousSignificantNode.dataset ? previousSignificantNode.dataset.page : undefined;\n\tif (typeof previousSignificantNodePage === \"undefined\") {\n\t\tconst nodeWithNamedPage = getNodeWithNamedPage(previousSignificantNode);\n\t\tif (nodeWithNamedPage) {\n\t\t\tpreviousSignificantNodePage = nodeWithNamedPage.dataset.page;\n\t\t}\n\t}\n\tlet currentNodePage = node.dataset ? node.dataset.page : undefined;\n\tif (typeof currentNodePage === \"undefined\") {\n\t\tconst nodeWithNamedPage = getNodeWithNamedPage(node, previousSignificantNode);\n\t\tif (nodeWithNamedPage) {\n\t\t\tcurrentNodePage = nodeWithNamedPage.dataset.page;\n\t\t}\n\t}\n\treturn currentNodePage !== previousSignificantNodePage;\n}\n\nexport function *words(node) {\n\tlet currentText = node.nodeValue;\n\tlet max = currentText.length;\n\tlet currentOffset = 0;\n\tlet currentLetter;\n\n\tlet range;\n\tconst significantWhitespaces = node.parentElement && node.parentElement.nodeName === \"PRE\";\n\n\twhile (currentOffset < max) {\n\t\tcurrentLetter = currentText[currentOffset];\n\t\tif (/^[\\S\\u202F\\u00A0]$/.test(currentLetter) || significantWhitespaces) {\n\t\t\tif (!range) {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.setStart(node, currentOffset);\n\t\t\t}\n\t\t} else {\n\t\t\tif (range) {\n\t\t\t\trange.setEnd(node, currentOffset);\n\t\t\t\tyield range;\n\t\t\t\trange = undefined;\n\t\t\t}\n\t\t}\n\n\t\tcurrentOffset += 1;\n\t}\n\n\tif (range) {\n\t\trange.setEnd(node, currentOffset);\n\t\tyield range;\n\t}\n}\n\nexport function *letters(wordRange) {\n\tlet currentText = wordRange.startContainer;\n\tlet max = currentText.length;\n\tlet currentOffset = wordRange.startOffset;\n\t// let currentLetter;\n\n\tlet range;\n\n\twhile(currentOffset < max) {\n\t\t // currentLetter = currentText[currentOffset];\n\t\t range = document.createRange();\n\t\t range.setStart(currentText, currentOffset);\n\t\t range.setEnd(currentText, currentOffset+1);\n\n\t\t yield range;\n\n\t\t currentOffset += 1;\n\t}\n}\n\nexport function isContainer(node) {\n\tlet container;\n\n\tif (typeof node.tagName === \"undefined\") {\n\t\treturn true;\n\t}\n\n\tif (node.style && node.style.display === \"none\") {\n\t\treturn false;\n\t}\n\n\tswitch (node.tagName) {\n\t\t// Inline\n\t\tcase \"A\":\n\t\tcase \"ABBR\":\n\t\tcase \"ACRONYM\":\n\t\tcase \"B\":\n\t\tcase \"BDO\":\n\t\tcase \"BIG\":\n\t\tcase \"BR\":\n\t\tcase \"BUTTON\":\n\t\tcase \"CITE\":\n\t\tcase \"CODE\":\n\t\tcase \"DFN\":\n\t\tcase \"EM\":\n\t\tcase \"I\":\n\t\tcase \"IMG\":\n\t\tcase \"INPUT\":\n\t\tcase \"KBD\":\n\t\tcase \"LABEL\":\n\t\tcase \"MAP\":\n\t\tcase \"OBJECT\":\n\t\tcase \"Q\":\n\t\tcase \"SAMP\":\n\t\tcase \"SCRIPT\":\n\t\tcase \"SELECT\":\n\t\tcase \"SMALL\":\n\t\tcase \"SPAN\":\n\t\tcase \"STRONG\":\n\t\tcase \"SUB\":\n\t\tcase \"SUP\":\n\t\tcase \"TEXTAREA\":\n\t\tcase \"TIME\":\n\t\tcase \"TT\":\n\t\tcase \"VAR\":\n\t\tcase \"P\":\n\t\tcase \"H1\":\n\t\tcase \"H2\":\n\t\tcase \"H3\":\n\t\tcase \"H4\":\n\t\tcase \"H5\":\n\t\tcase \"H6\":\n\t\tcase \"FIGCAPTION\":\n\t\tcase \"BLOCKQUOTE\":\n\t\tcase \"PRE\":\n\t\tcase \"LI\":\n\t\tcase \"TD\":\n\t\tcase \"DT\":\n\t\tcase \"DD\":\n\t\tcase \"VIDEO\":\n\t\tcase \"CANVAS\":\n\t\t\tcontainer = false;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tcontainer = true;\n\t}\n\n\treturn container;\n}\n\nexport function cloneNode(n, deep=false) {\n\treturn n.cloneNode(deep);\n}\n\nexport function findElement(node, doc, forceQuery) {\n\tconst ref = node.getAttribute(\"data-ref\");\n\treturn findRef(ref, doc, forceQuery);\n}\n\nexport function findRef(ref, doc, forceQuery) {\n\tif (!forceQuery && doc.indexOfRefs && doc.indexOfRefs[ref]) {\n\t\treturn doc.indexOfRefs[ref];\n\t} else {\n\t\treturn doc.querySelector(`[data-ref='${ref}']`);\n\t}\n}\n\nexport function validNode(node) {\n\tif (isText(node)) {\n\t\treturn true;\n\t}\n\n\tif (isElement(node) && node.dataset.ref) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nexport function prevValidNode(node) {\n\twhile (!validNode(node)) {\n\t\tif (node.previousSibling) {\n\t\t\tnode = node.previousSibling;\n\t\t} else {\n\t\t\tnode = node.parentNode;\n\t\t}\n\n\t\tif (!node) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn node;\n}\n\nexport function nextValidNode(node) {\n\twhile (!validNode(node)) {\n\t\tif (node.nextSibling) {\n\t\t\tnode = node.nextSibling;\n\t\t} else {\n\t\t\tnode = node.parentNode.nextSibling;\n\t\t}\n\n\t\tif (!node) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn node;\n}\n\n\nexport function indexOf(node) {\n\tlet parent = node.parentNode;\n\tif (!parent) {\n\t\treturn 0;\n\t}\n\treturn Array.prototype.indexOf.call(parent.childNodes, node);\n}\n\nexport function child(node, index) {\n\treturn node.childNodes[index];\n}\n\nexport function isVisible(node) {\n\tif (isElement(node) && window.getComputedStyle(node).display !== \"none\") {\n\t\treturn true;\n\t} else if (isText(node) &&\n\t\t\thasTextContent(node) &&\n\t\t\twindow.getComputedStyle(node.parentNode).display !== \"none\") {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nexport function hasContent(node) {\n\tif (isElement(node)) {\n\t\treturn true;\n\t} else if (isText(node) &&\n\t\t\tnode.textContent.trim().length) {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nexport function hasTextContent(node) {\n\tif (isElement(node)) {\n\t\tlet child;\n\t\tfor (var i = 0; i < node.childNodes.length; i++) {\n\t\t\tchild = node.childNodes[i];\n\t\t\tif (child && isText(child) && child.textContent.trim().length) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t} else if (isText(node) &&\n\t\t\tnode.textContent.trim().length) {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nexport function indexOfTextNode(node, parent) {\n\tif (!isText(node)) {\n\t\treturn -1;\n\t}\n\tlet nodeTextContent = node.textContent;\n\tlet child;\n\tlet index = -1;\n\tfor (var i = 0; i < parent.childNodes.length; i++) {\n\t\tchild = parent.childNodes[i];\n\t\tif (child.nodeType === 3) {\n\t\t\tlet text = parent.childNodes[i].textContent;\n\t\t\tif (text.includes(nodeTextContent)) {\n\t\t\t\tindex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn index;\n}\n\n\n/**\n * Throughout, whitespace is defined as one of the characters\n *  \"\\t\" TAB \\u0009\n *  \"\\n\" LF  \\u000A\n *  \"\\r\" CR  \\u000D\n *  \" \"  SPC \\u0020\n *\n * This does not use Javascript's \"\\s\" because that includes non-breaking\n * spaces (and also some other characters).\n */\n\n/**\n * Determine if a node should be ignored by the iterator functions.\n * taken from https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Whitespace#Whitespace_helper_functions\n *\n * @param {Node} node An object implementing the DOM1 |Node| interface.\n * @return {boolean} true if the node is:\n *  1) A |Text| node that is all whitespace\n *  2) A |Comment| node\n *  and otherwise false.\n */\nexport function isIgnorable(node) {\n\treturn (node.nodeType === 8) || // A comment node\n\t\t((node.nodeType === 3) && isAllWhitespace(node)); // a text node, all whitespace\n}\n\n/**\n * Determine whether a node's text content is entirely whitespace.\n *\n * @param {Node} node  A node implementing the |CharacterData| interface (i.e., a |Text|, |Comment|, or |CDATASection| node\n * @return {boolean} true if all of the text content of |nod| is whitespace, otherwise false.\n */\nexport function isAllWhitespace(node) {\n\treturn !(/[^\\t\\n\\r ]/.test(node.textContent));\n}\n\n/**\n * Version of |previousSibling| that skips nodes that are entirely\n * whitespace or comments.  (Normally |previousSibling| is a property\n * of all DOM nodes that gives the sibling node, the node that is\n * a child of the same parent, that occurs immediately before the\n * reference node.)\n *\n * @param {ChildNode} sib  The reference node.\n * @return {Node|null} Either:\n *  1) The closest previous sibling to |sib| that is not ignorable according to |is_ignorable|, or\n *  2) null if no such node exists.\n */\nexport function previousSignificantNode(sib) {\n\twhile ((sib = sib.previousSibling)) {\n\t\tif (!isIgnorable(sib)) return sib;\n\t}\n\treturn null;\n}\n\nfunction getNodeWithNamedPage(node, limiter) {\n\tif (node && node.dataset && node.dataset.page) {\n\t\treturn node;\n\t}\n\tif (node.parentNode) {\n\t\twhile ((node = node.parentNode)) {\n\t\t\tif (limiter && node === limiter) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (node.dataset && node.dataset.page) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport function breakInsideAvoidParentNode(node) {\n\twhile ((node = node.parentNode)) {\n\t\tif (node && node.dataset && node.dataset.breakInside === \"avoid\") {\n\t\t\treturn node;\n\t\t}\n\t}\n\treturn null;\n}\n\n/**\n * Find a parent with a given node name.\n * @param {Node} node - initial Node\n * @param {string} nodeName - node name (eg. \"TD\", \"TABLE\", \"STRONG\"...)\n * @param {Node} limiter - go up to the parent until there's no more parent or the current node is equals to the limiter\n * @returns {Node|undefined} - Either:\n *  1) The closest parent for a the given node name, or\n *  2) undefined if no such node exists.\n */\nexport function parentOf(node, nodeName, limiter) {\n\tif (limiter && node === limiter) {\n\t\treturn;\n\t}\n\tif (node.parentNode) {\n\t\twhile ((node = node.parentNode)) {\n\t\t\tif (limiter && node === limiter) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (node.nodeName === nodeName) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * Version of |nextSibling| that skips nodes that are entirely\n * whitespace or comments.\n *\n * @param {ChildNode} sib  The reference node.\n * @return {Node|null} Either:\n *  1) The closest next sibling to |sib| that is not ignorable according to |is_ignorable|, or\n *  2) null if no such node exists.\n */\nexport function nextSignificantNode(sib) {\n\twhile ((sib = sib.nextSibling)) {\n\t\tif (!isIgnorable(sib)) return sib;\n\t}\n\treturn null;\n}\n\nexport function filterTree(content, func, what) {\n\tconst treeWalker = document.createTreeWalker(\n\t\tcontent || this.dom,\n\t\twhat || NodeFilter.SHOW_ALL,\n\t\tfunc ? { acceptNode: func } : null,\n\t\tfalse\n\t);\n\n\tlet node;\n\tlet current;\n\tnode = treeWalker.nextNode();\n\twhile(node) {\n\t\tcurrent = node;\n\t\tnode = treeWalker.nextNode();\n\t\tcurrent.parentNode.removeChild(current);\n\t}\n}\n","import {\n\tisElement\n} from \"../utils/dom.js\";\n\n/**\n * BreakToken\n * @class\n */\nclass BreakToken {\n\n\tconstructor(node, offset) {\n\t\tthis.node = node;\n\t\tthis.offset = offset;\n\t}\n\n\tequals(otherBreakToken) {\n\t\tif (!otherBreakToken) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this[\"node\"] && otherBreakToken[\"node\"] &&\n\t\t\tthis[\"node\"] !== otherBreakToken[\"node\"]) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this[\"offset\"] && otherBreakToken[\"offset\"] &&\n\t\t\tthis[\"offset\"] !== otherBreakToken[\"offset\"]) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\ttoJSON(hash) {\n\t\tlet node;\n\t\tlet index = 0;\n\t\tif (!this.node) {\n\t\t\treturn {};\n\t\t}\n\t\tif (isElement(this.node) && this.node.dataset.ref) {\n\t\t\tnode = this.node.dataset.ref;\n\t\t} else if (hash) {\n\t\t\tnode = this.node.parentElement.dataset.ref;\n\t\t}\n\n\t\tif (this.node.parentElement) {\n\t\t\tconst children = Array.from(this.node.parentElement.childNodes);\n\t\t\tindex = children.indexOf(this.node);\n\t\t}\n\n\t\treturn JSON.stringify({\n\t\t\t\"node\": node,\n\t\t\t\"index\" : index,\n\t\t\t\"offset\": this.offset\n\t\t});\n\t}\n\n}\n\nexport default BreakToken;","/**\n * Render result.\n * @class\n */\nclass RenderResult {\n\n\tconstructor(breakToken, error) {\n\t\tthis.breakToken = breakToken;\n\t\tthis.error = error;\n\t}\n}\n\nexport class OverflowContentError extends Error {\n\tconstructor(message, items) {\n\t\tsuper(message);\n\t\tthis.items = items;\n\t}\n}\n\nexport default RenderResult;\n","\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n","\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n","\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n","\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src /*, srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString /*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1 /*, options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n","/**\n * Hooks allow for injecting functions that must all complete in order before finishing\n * They will execute in parallel but all must finish before continuing\n * Functions may return a promise if they are asycn.\n * From epubjs/src/utils/hooks\n * @param {any} context scope of this\n * @example this.content = new Hook(this);\n */\nclass Hook {\n\tconstructor(context){\n\t\tthis.context = context || this;\n\t\tthis.hooks = [];\n\t}\n\n\t/**\n\t * Adds a function to be run before a hook completes\n\t * @example this.content.register(function(){...});\n\t * @return {undefined} void\n\t */\n\tregister(){\n\t\tfor(var i = 0; i < arguments.length; ++i) {\n\t\t\tif (typeof arguments[i]  === \"function\") {\n\t\t\t\tthis.hooks.push(arguments[i]);\n\t\t\t} else {\n\t\t\t\t// unpack array\n\t\t\t\tfor(var j = 0; j < arguments[i].length; ++j) {\n\t\t\t\t\tthis.hooks.push(arguments[i][j]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Triggers a hook to run all functions\n\t * @example this.content.trigger(args).then(function(){...});\n\t * @return {Promise} results\n\t */\n\ttrigger(){\n\t\tvar args = arguments;\n\t\tvar context = this.context;\n\t\tvar promises = [];\n\n\t\tthis.hooks.forEach(function(task) {\n\t\t\tvar executing = task.apply(context, args);\n\n\t\t\tif(executing && typeof executing[\"then\"] === \"function\") {\n\t\t\t\t// Task is a function that returns a promise\n\t\t\t\tpromises.push(executing);\n\t\t\t} else {\n\t\t\t\t// Otherwise Task resolves immediately, add resolved promise with result\n\t\t\t\tpromises.push(new Promise((resolve, reject) => {\n\t\t\t\t\tresolve(executing);\n\t\t\t\t}));\n\t\t\t}\n\t\t});\n\n\n\t\treturn Promise.all(promises);\n\t}\n\n\t/**\n   * Triggers a hook to run all functions synchronously\n   * @example this.content.trigger(args).then(function(){...});\n   * @return {Array} results\n   */\n\ttriggerSync(){\n\t\tvar args = arguments;\n\t\tvar context = this.context;\n\t\tvar results = [];\n\n\t\tthis.hooks.forEach(function(task) {\n\t\t\tvar executing = task.apply(context, args);\n\n\t\t\tresults.push(executing);\n\t\t});\n\n\n\t\treturn results;\n\t}\n\n\t// Adds a function to be run before a hook completes\n\tlist(){\n\t\treturn this.hooks;\n\t}\n\n\tclear(){\n\t\treturn this.hooks = [];\n\t}\n}\nexport default Hook;\n","import { getBoundingClientRect, getClientRects } from \"../utils/utils.js\";\nimport {\n\tbreakInsideAvoidParentNode,\n\tchild,\n\tcloneNode,\n\tfindElement,\n\thasContent,\n\tindexOf,\n\tindexOfTextNode,\n\tisContainer,\n\tisElement,\n\tisText,\n\tletters,\n\tneedsBreakBefore,\n\tneedsPageBreak,\n\tneedsPreviousBreakAfter,\n\tnodeAfter,\n\tnodeBefore,\n\tparentOf,\n\tprevValidNode,\n\trebuildAncestors,\n\tvalidNode,\n\twalk,\n\twords\n} from \"../utils/dom.js\";\nimport BreakToken from \"./breaktoken.js\";\nimport RenderResult, { OverflowContentError } from \"./renderresult.js\";\nimport EventEmitter from \"event-emitter\";\nimport Hook from \"../utils/hook.js\";\n\nconst MAX_CHARS_PER_BREAK = 1500;\n\n/**\n * Layout\n * @class\n */\nclass Layout {\n\n\tconstructor(element, hooks, options) {\n\t\tthis.element = element;\n\n\t\tthis.bounds = this.element.getBoundingClientRect();\n\t\tthis.parentBounds = this.element.offsetParent.getBoundingClientRect();\n\t\tlet gap = parseFloat(window.getComputedStyle(this.element).columnGap);\n\t\n\t\tif (gap) {\n\t\t\tlet leftMargin = this.bounds.left - this.parentBounds.left;\n\t\t\tthis.gap =  gap - leftMargin;\t\n\t\t} else {\n\t\t\tthis.gap = 0;\n\t\t}\n\n\t\tif (hooks) {\n\t\t\tthis.hooks = hooks;\n\t\t} else {\n\t\t\tthis.hooks = {};\n\t\t\tthis.hooks.onPageLayout = new Hook();\n\t\t\tthis.hooks.layout = new Hook();\n\t\t\tthis.hooks.renderNode = new Hook();\n\t\t\tthis.hooks.layoutNode = new Hook();\n\t\t\tthis.hooks.beforeOverflow = new Hook();\n\t\t\tthis.hooks.onOverflow = new Hook();\n\t\t\tthis.hooks.afterOverflowRemoved = new Hook();\n\t\t\tthis.hooks.onBreakToken = new Hook();\n\t\t\tthis.hooks.beforeRenderResult = new Hook();\n\t\t}\n\n\t\tthis.settings = options || {};\n\n\t\tthis.maxChars = this.settings.maxChars || MAX_CHARS_PER_BREAK;\n\t\tthis.forceRenderBreak = false;\n\t}\n\n\tasync renderTo(wrapper, source, breakToken, bounds = this.bounds) {\n\t\tlet start = this.getStart(source, breakToken);\n\t\tlet walker = walk(start, source);\n\n\t\tlet node;\n\t\tlet prevNode;\n\t\tlet done;\n\t\tlet next;\n\n\t\tlet hasRenderedContent = false;\n\t\tlet newBreakToken;\n\n\t\tlet length = 0;\n\n\t\tlet prevBreakToken = breakToken || new BreakToken(start);\n\n\t\tthis.hooks && this.hooks.onPageLayout.trigger(wrapper, prevBreakToken, this);\n\n\t\twhile (!done && !newBreakToken) {\n\t\t\tnext = walker.next();\n\t\t\tprevNode = node;\n\t\t\tnode = next.value;\n\t\t\tdone = next.done;\n\n\t\t\tif (!node) {\n\t\t\t\tthis.hooks && this.hooks.layout.trigger(wrapper, this);\n\n\t\t\t\tlet imgs = wrapper.querySelectorAll(\"img\");\n\t\t\t\tif (imgs.length) {\n\t\t\t\t\tawait this.waitForImages(imgs);\n\t\t\t\t}\n\n\t\t\t\tnewBreakToken = this.findBreakToken(wrapper, source, bounds, prevBreakToken);\n\n\t\t\t\tif (newBreakToken && newBreakToken.equals(prevBreakToken)) {\n\t\t\t\t\tconsole.warn(\"Unable to layout item: \", prevNode);\n\t\t\t\t\tthis.hooks && this.hooks.beforeRenderResult.trigger(undefined, wrapper, this);\n\t\t\t\t\treturn new RenderResult(undefined, new OverflowContentError(\"Unable to layout item\", [prevNode]));\n\t\t\t\t}\n\n\t\t\t\tthis.rebuildTableFromBreakToken(newBreakToken, wrapper);\n\n\t\t\t\tthis.hooks && this.hooks.beforeRenderResult.trigger(newBreakToken, wrapper, this);\n\t\t\t\treturn new RenderResult(newBreakToken);\n\t\t\t}\n\n\t\t\tthis.hooks && this.hooks.layoutNode.trigger(node);\n\n\t\t\t// Check if the rendered element has a break set\n\t\t\tif (hasRenderedContent && this.shouldBreak(node, start)) {\n\t\t\t\tthis.hooks && this.hooks.layout.trigger(wrapper, this);\n\n\t\t\t\tlet imgs = wrapper.querySelectorAll(\"img\");\n\t\t\t\tif (imgs.length) {\n\t\t\t\t\tawait this.waitForImages(imgs);\n\t\t\t\t}\n\n\t\t\t\tnewBreakToken = this.findBreakToken(wrapper, source, bounds, prevBreakToken);\n\n\t\t\t\tif (!newBreakToken) {\n\t\t\t\t\tnewBreakToken = this.breakAt(node);\n\t\t\t\t} else {\n\t\t\t\t\tthis.rebuildTableFromBreakToken(newBreakToken, wrapper);\n\t\t\t\t}\n\n\t\t\t\tif (newBreakToken && newBreakToken.equals(prevBreakToken)) {\n\t\t\t\t\tconsole.warn(\"Unable to layout item: \", node);\n\t\t\t\t\tlet after = newBreakToken.node && nodeAfter(newBreakToken.node);\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\tnewBreakToken = new BreakToken(after);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn new RenderResult(undefined, new OverflowContentError(\"Unable to layout item\", [node]));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlength = 0;\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (node.dataset && node.dataset.page) {\n\t\t\t\tlet named = node.dataset.page;\n\t\t\t\tlet page = this.element.closest(\".pagedjs_page\");\n\t\t\t\tpage.classList.add(\"pagedjs_named_page\");\n\t\t\t\tpage.classList.add(\"pagedjs_\" + named + \"_page\");\n\n\t\t\t\tif (!node.dataset.splitFrom) {\n\t\t\t\t\tpage.classList.add(\"pagedjs_\" + named + \"_first_page\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Should the Node be a shallow or deep clone\n\t\t\tlet shallow = isContainer(node);\n\n\t\t\tlet rendered = this.append(node, wrapper, breakToken, shallow);\n\n\t\t\tlength += rendered.textContent.length;\n\n\t\t\t// Check if layout has content yet\n\t\t\tif (!hasRenderedContent) {\n\t\t\t\thasRenderedContent = hasContent(node);\n\t\t\t}\n\n\t\t\t// Skip to the next node if a deep clone was rendered\n\t\t\tif (!shallow) {\n\t\t\t\twalker = walk(nodeAfter(node, source), source);\n\t\t\t}\n\n\t\t\tif (this.forceRenderBreak) {\n\t\t\t\tthis.hooks && this.hooks.layout.trigger(wrapper, this);\n\n\t\t\t\tnewBreakToken = this.findBreakToken(wrapper, source, bounds, prevBreakToken);\n\n\t\t\t\tif (!newBreakToken) {\n\t\t\t\t\tnewBreakToken = this.breakAt(node);\n\t\t\t\t} else {\n\t\t\t\t\tthis.rebuildTableFromBreakToken(newBreakToken, wrapper);\n\t\t\t\t}\n\n\t\t\t\tlength = 0;\n\t\t\t\tthis.forceRenderBreak = false;\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Only check x characters\n\t\t\tif (length >= this.maxChars) {\n\n\t\t\t\tthis.hooks && this.hooks.layout.trigger(wrapper, this);\n\n\t\t\t\tlet imgs = wrapper.querySelectorAll(\"img\");\n\t\t\t\tif (imgs.length) {\n\t\t\t\t\tawait this.waitForImages(imgs);\n\t\t\t\t}\n\n\t\t\t\tnewBreakToken = this.findBreakToken(wrapper, source, bounds, prevBreakToken);\n\n\t\t\t\tif (newBreakToken) {\n\t\t\t\t\tlength = 0;\n\t\t\t\t\tthis.rebuildTableFromBreakToken(newBreakToken, wrapper);\n\t\t\t\t}\n\n\t\t\t\tif (newBreakToken && newBreakToken.equals(prevBreakToken)) {\n\t\t\t\t\tconsole.warn(\"Unable to layout item: \", node);\n\t\t\t\t\tlet after = newBreakToken.node && nodeAfter(newBreakToken.node);\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\tnewBreakToken = new BreakToken(after);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.hooks && this.hooks.beforeRenderResult.trigger(undefined, wrapper, this);\n\t\t\t\t\t\treturn new RenderResult(undefined, new OverflowContentError(\"Unable to layout item\", [node]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tthis.hooks && this.hooks.beforeRenderResult.trigger(newBreakToken, wrapper, this);\n\t\treturn new RenderResult(newBreakToken);\n\t}\n\n\tbreakAt(node, offset = 0) {\n\t\tlet newBreakToken = new BreakToken(\n\t\t\tnode,\n\t\t\toffset\n\t\t);\n\t\tlet breakHooks = this.hooks.onBreakToken.triggerSync(newBreakToken, undefined, node, this);\n\t\tbreakHooks.forEach((newToken) => {\n\t\t\tif (typeof newToken != \"undefined\") {\n\t\t\t\tnewBreakToken = newToken;\n\t\t\t}\n\t\t});\n\n\t\treturn newBreakToken;\n\t}\n\n\tshouldBreak(node, limiter) {\n\t\tlet previousNode = nodeBefore(node, limiter);\n\t\tlet parentNode = node.parentNode;\n\t\tlet parentBreakBefore = needsBreakBefore(node) && parentNode && !previousNode && needsBreakBefore(parentNode);\n\t\tlet doubleBreakBefore;\n\n\t\tif (parentBreakBefore) {\n\t\t\tdoubleBreakBefore = node.dataset.breakBefore === parentNode.dataset.breakBefore;\n\t\t}\n\n\t\treturn !doubleBreakBefore && needsBreakBefore(node) || needsPreviousBreakAfter(node) || needsPageBreak(node, previousNode);\n\t}\n\n\tforceBreak() {\n\t\tthis.forceRenderBreak = true;\n\t}\n\n\tgetStart(source, breakToken) {\n\t\tlet start;\n\t\tlet node = breakToken && breakToken.node;\n\n\t\tif (node) {\n\t\t\tstart = node;\n\t\t} else {\n\t\t\tstart = source.firstChild;\n\t\t}\n\n\t\treturn start;\n\t}\n\n\tappend(node, dest, breakToken, shallow = true, rebuild = true) {\n\n\t\tlet clone = cloneNode(node, !shallow);\n\n\t\tif (node.parentNode && isElement(node.parentNode)) {\n\t\t\tlet parent = findElement(node.parentNode, dest);\n\t\t\t// Rebuild chain\n\t\t\tif (parent) {\n\t\t\t\tparent.appendChild(clone);\n\t\t\t} else if (rebuild) {\n\t\t\t\tlet fragment = rebuildAncestors(node);\n\t\t\t\tparent = findElement(node.parentNode, fragment);\n\t\t\t\tif (!parent) {\n\t\t\t\t\tdest.appendChild(clone);\n\t\t\t\t} else if (breakToken && isText(breakToken.node) && breakToken.offset > 0) {\n\t\t\t\t\tclone.textContent = clone.textContent.substring(breakToken.offset);\n\t\t\t\t\tparent.appendChild(clone);\n\t\t\t\t} else {\n\t\t\t\t\tparent.appendChild(clone);\n\t\t\t\t}\n\n\t\t\t\tdest.appendChild(fragment);\n\t\t\t} else {\n\t\t\t\tdest.appendChild(clone);\n\t\t\t}\n\n\n\t\t} else {\n\t\t\tdest.appendChild(clone);\n\t\t}\n\n\t\tif (clone.dataset && clone.dataset.ref) {\n\t\t\tif (!dest.indexOfRefs) {\n\t\t\t\tdest.indexOfRefs = {};\n\t\t\t}\n\t\t\tdest.indexOfRefs[clone.dataset.ref] = clone;\n\t\t}\n\n\t\tlet nodeHooks = this.hooks.renderNode.triggerSync(clone, node, this);\n\t\tnodeHooks.forEach((newNode) => {\n\t\t\tif (typeof newNode != \"undefined\") {\n\t\t\t\tclone = newNode;\n\t\t\t}\n\t\t});\n\n\t\treturn clone;\n\t}\n\n\trebuildTableFromBreakToken(breakToken, dest) {\n\t\tif (!breakToken || !breakToken.node) {\n\t\t\treturn;\n\t\t}\n\t\tlet node = breakToken.node;\n\t\tlet td = isElement(node) ? node.closest(\"td\") : node.parentElement.closest(\"td\");\n\t\tif (td) {\n\t\t\tlet rendered = findElement(td, dest, true);\n\t\t\tif (!rendered) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twhile ((td = td.nextElementSibling)) {\n\t\t\t\tthis.append(td, dest, null, true);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync waitForImages(imgs) {\n\t\tlet results = Array.from(imgs).map(async (img) => {\n\t\t\treturn this.awaitImageLoaded(img);\n\t\t});\n\t\tawait Promise.all(results);\n\t}\n\n\tasync awaitImageLoaded(image) {\n\t\treturn new Promise(resolve => {\n\t\t\tif (image.complete !== true) {\n\t\t\t\timage.onload = function () {\n\t\t\t\t\tlet {width, height} = window.getComputedStyle(image);\n\t\t\t\t\tresolve(width, height);\n\t\t\t\t};\n\t\t\t\timage.onerror = function (e) {\n\t\t\t\t\tlet {width, height} = window.getComputedStyle(image);\n\t\t\t\t\tresolve(width, height, e);\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tlet {width, height} = window.getComputedStyle(image);\n\t\t\t\tresolve(width, height);\n\t\t\t}\n\t\t});\n\t}\n\n\tavoidBreakInside(node, limiter) {\n\t\tlet breakNode;\n\n\t\tif (node === limiter) {\n\t\t\treturn;\n\t\t}\n\n\t\twhile (node.parentNode) {\n\t\t\tnode = node.parentNode;\n\n\t\t\tif (node === limiter) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (window.getComputedStyle(node)[\"break-inside\"] === \"avoid\") {\n\t\t\t\tbreakNode = node;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t}\n\t\treturn breakNode;\n\t}\n\n\tcreateBreakToken(overflow, rendered, source) {\n\t\tlet container = overflow.startContainer;\n\t\tlet offset = overflow.startOffset;\n\t\tlet node, renderedNode, parent, index, temp;\n\n\t\tif (isElement(container)) {\n\t\t\ttemp = child(container, offset);\n\n\t\t\tif (isElement(temp)) {\n\t\t\t\trenderedNode = findElement(temp, rendered);\n\n\t\t\t\tif (!renderedNode) {\n\t\t\t\t\t// Find closest element with data-ref\n\t\t\t\t\tlet prevNode = prevValidNode(temp);\n\t\t\t\t\tif (!isElement(prevNode)) {\n\t\t\t\t\t\tprevNode = prevNode.parentElement;\n\t\t\t\t\t}\n\t\t\t\t\trenderedNode = findElement(prevNode, rendered);\n\t\t\t\t\t// Check if temp is the last rendered node at its level.\n\t\t\t\t\tif (!temp.nextSibling) {\n\t\t\t\t\t\t// We need to ensure that the previous sibling of temp is fully rendered.\n\t\t\t\t\t\tconst renderedNodeFromSource = findElement(renderedNode, source);\n\t\t\t\t\t\tconst walker = document.createTreeWalker(renderedNodeFromSource, NodeFilter.SHOW_ELEMENT);\n\t\t\t\t\t\tconst lastChildOfRenderedNodeFromSource = walker.lastChild();\n\t\t\t\t\t\tconst lastChildOfRenderedNodeMatchingFromRendered = findElement(lastChildOfRenderedNodeFromSource, rendered);\n\t\t\t\t\t\t// Check if we found that the last child in source\n\t\t\t\t\t\tif (!lastChildOfRenderedNodeMatchingFromRendered) {\n\t\t\t\t\t\t\t// Pending content to be rendered before virtual break token\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Otherwise we will return a break token as per below\n\t\t\t\t\t}\n\t\t\t\t\t// renderedNode is actually the last unbroken box that does not overflow.\n\t\t\t\t\t// Break Token is therefore the next sibling of renderedNode within source node.\n\t\t\t\t\tnode = findElement(renderedNode, source).nextSibling;\n\t\t\t\t\toffset = 0;\n\t\t\t\t} else {\n\t\t\t\t\tnode = findElement(renderedNode, source);\n\t\t\t\t\toffset = 0;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\trenderedNode = findElement(container, rendered);\n\n\t\t\t\tif (!renderedNode) {\n\t\t\t\t\trenderedNode = findElement(prevValidNode(container), rendered);\n\t\t\t\t}\n\n\t\t\t\tparent = findElement(renderedNode, source);\n\t\t\t\tindex = indexOfTextNode(temp, parent);\n\t\t\t\t// No seperatation for the first textNode of an element\n\t\t\t\tif(index === 0) {\n\t\t\t\t\tnode = parent;\n\t\t\t\t\toffset = 0;\n\t\t\t\t} else {\n\t\t\t\t\tnode = child(parent, index);\n\t\t\t\t\toffset = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\trenderedNode = findElement(container.parentNode, rendered);\n\n\t\t\tif (!renderedNode) {\n\t\t\t\trenderedNode = findElement(prevValidNode(container.parentNode), rendered);\n\t\t\t}\n\n\t\t\tparent = findElement(renderedNode, source);\n\t\t\tindex = indexOfTextNode(container, parent);\n\n\t\t\tif (index === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnode = child(parent, index);\n\n\t\t\toffset += node.textContent.indexOf(container.textContent);\n\t\t}\n\n\t\tif (!node) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn new BreakToken(\n\t\t\tnode,\n\t\t\toffset\n\t\t);\n\n\t}\n\n\tfindBreakToken(rendered, source, bounds = this.bounds, prevBreakToken, extract = true) {\n\t\tlet overflow = this.findOverflow(rendered, bounds);\n\t\tlet breakToken, breakLetter;\n\n\t\tlet overflowHooks = this.hooks.onOverflow.triggerSync(overflow, rendered, bounds, this);\n\t\toverflowHooks.forEach((newOverflow) => {\n\t\t\tif (typeof newOverflow != \"undefined\") {\n\t\t\t\toverflow = newOverflow;\n\t\t\t}\n\t\t});\n\n\t\tif (overflow) {\n\t\t\tbreakToken = this.createBreakToken(overflow, rendered, source);\n\t\t\t// breakToken is nullable\n\t\t\tlet breakHooks = this.hooks.onBreakToken.triggerSync(breakToken, overflow, rendered, this);\n\t\t\tbreakHooks.forEach((newToken) => {\n\t\t\t\tif (typeof newToken != \"undefined\") {\n\t\t\t\t\tbreakToken = newToken;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Stop removal if we are in a loop\n\t\t\tif (breakToken && breakToken.equals(prevBreakToken)) {\n\t\t\t\treturn breakToken;\n\t\t\t}\n\n\t\t\tif (breakToken && breakToken[\"node\"] && breakToken[\"offset\"] && breakToken[\"node\"].textContent) {\n\t\t\t\tbreakLetter = breakToken[\"node\"].textContent.charAt(breakToken[\"offset\"]);\n\t\t\t} else {\n\t\t\t\tbreakLetter = undefined;\n\t\t\t}\n\n\t\t\tif (breakToken && breakToken.node && extract) {\n\t\t\t\tlet removed = this.removeOverflow(overflow, breakLetter);\n\t\t\t\tthis.hooks && this.hooks.afterOverflowRemoved.trigger(removed, rendered, this);\n\t\t\t}\n\n\t\t}\n\t\treturn breakToken;\n\t}\n\n\thasOverflow(element, bounds = this.bounds) {\n\t\tlet constrainingElement = element && element.parentNode; // this gets the element, instead of the wrapper for the width workaround\n\t\tlet {width, height} = element.getBoundingClientRect();\n\t\tlet scrollWidth = constrainingElement ? constrainingElement.scrollWidth : 0;\n\t\tlet scrollHeight = constrainingElement ? constrainingElement.scrollHeight : 0;\n\t\treturn Math.max(Math.floor(width), scrollWidth) > Math.round(bounds.width) ||\n\t\t\tMath.max(Math.floor(height), scrollHeight) > Math.round(bounds.height);\n\t}\n\n\tfindOverflow(rendered, bounds = this.bounds, gap = this.gap) {\n\t\tif (!this.hasOverflow(rendered, bounds)) return;\n\n\t\tlet start = Math.floor(bounds.left);\n\t\tlet end = Math.round(bounds.right + gap);\n\t\tlet vStart = Math.round(bounds.top);\n\t\tlet vEnd = Math.round(bounds.bottom);\n\t\tlet range;\n\n\t\tlet walker = walk(rendered.firstChild, rendered);\n\n\t\t// Find Start\n\t\tlet next, done, node, offset, skip, breakAvoid, prev, br;\n\t\twhile (!done) {\n\t\t\tnext = walker.next();\n\t\t\tdone = next.done;\n\t\t\tnode = next.value;\n\t\t\tskip = false;\n\t\t\tbreakAvoid = false;\n\t\t\tprev = undefined;\n\t\t\tbr = undefined;\n\n\t\t\tif (node) {\n\t\t\t\tlet pos = getBoundingClientRect(node);\n\t\t\t\tlet left = Math.round(pos.left);\n\t\t\t\tlet right = Math.floor(pos.right);\n\t\t\t\tlet top = Math.round(pos.top);\n\t\t\t\tlet bottom = Math.floor(pos.bottom);\n\n\t\t\t\tif (!range && (left >= end || top >= vEnd)) {\n\t\t\t\t\t// Check if it is a float\n\t\t\t\t\tlet isFloat = false;\n\n\t\t\t\t\t// Check if the node is inside a break-inside: avoid table cell\n\t\t\t\t\tconst insideTableCell = parentOf(node, \"TD\", rendered);\n\t\t\t\t\tif (insideTableCell && window.getComputedStyle(insideTableCell)[\"break-inside\"] === \"avoid\") {\n\t\t\t\t\t\t// breaking inside a table cell produces unexpected result, as a workaround, we forcibly avoid break inside in a cell.\n\t\t\t\t\t\t// But we take the whole row, not just the cell that is causing the break.\n\t\t\t\t\t\tprev = insideTableCell.parentElement;\n\t\t\t\t\t} else if (isElement(node)) {\n\t\t\t\t\t\tlet styles = window.getComputedStyle(node);\n\t\t\t\t\t\tisFloat = styles.getPropertyValue(\"float\") !== \"none\";\n\t\t\t\t\t\tskip = styles.getPropertyValue(\"break-inside\") === \"avoid\";\n\t\t\t\t\t\tbreakAvoid = node.dataset.breakBefore === \"avoid\" || node.dataset.previousBreakAfter === \"avoid\";\n\t\t\t\t\t\tprev = breakAvoid && nodeBefore(node, rendered);\n\t\t\t\t\t\tbr = node.tagName === \"BR\" || node.tagName === \"WBR\";\n\t\t\t\t\t}\n\n\t\t\t\t\tlet tableRow;\n\t\t\t\t\tif (node.nodeName === \"TR\") {\n\t\t\t\t\t\ttableRow = node;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttableRow = parentOf(node, \"TR\", rendered);\n\t\t\t\t\t}\n\t\t\t\t\tif (tableRow) {\n\t\t\t\t\t\t// honor break-inside=\"avoid\" in parent tbody/thead\n\t\t\t\t\t\tlet container = tableRow.parentElement;\n\t\t\t\t\t\tif ([\"TBODY\", \"THEAD\"].includes(container.nodeName)) {\n\t\t\t\t\t\t\tlet styles = window.getComputedStyle(container);\n\t\t\t\t\t\t\tif (styles.getPropertyValue(\"break-inside\") === \"avoid\") prev = container;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Check if the node is inside a row with a rowspan\n\t\t\t\t\t\tconst table = parentOf(tableRow, \"TABLE\", rendered);\n\t\t\t\t\t\tconst rowspan = table.querySelector(\"[colspan]\");\n\t\t\t\t\t\tif (table && rowspan) {\n\t\t\t\t\t\t\tlet columnCount = 0;\n\t\t\t\t\t\t\tfor (const cell of Array.from(table.rows[0].cells)) {\n\t\t\t\t\t\t\t\tcolumnCount += parseInt(cell.getAttribute(\"colspan\") || \"1\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (tableRow.cells.length !== columnCount) {\n\t\t\t\t\t\t\t\tlet previousRow = tableRow.previousElementSibling;\n\t\t\t\t\t\t\t\tlet previousRowColumnCount;\n\t\t\t\t\t\t\t\twhile (previousRow !== null) {\n\t\t\t\t\t\t\t\t\tpreviousRowColumnCount = 0;\n\t\t\t\t\t\t\t\t\tfor (const cell of Array.from(previousRow.cells)) {\n\t\t\t\t\t\t\t\t\t\tpreviousRowColumnCount += parseInt(cell.getAttribute(\"colspan\") || \"1\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (previousRowColumnCount === columnCount) {\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tpreviousRow = previousRow.previousElementSibling;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (previousRowColumnCount === columnCount) {\n\t\t\t\t\t\t\t\t\tprev = previousRow;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (prev) {\n\t\t\t\t\t\trange = document.createRange();\n\t\t\t\t\t\trange.selectNode(prev);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!br && !isFloat && isElement(node)) {\n\t\t\t\t\t\trange = document.createRange();\n\t\t\t\t\t\trange.selectNode(node);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isText(node) && node.textContent.trim().length) {\n\t\t\t\t\t\trange = document.createRange();\n\t\t\t\t\t\trange.selectNode(node);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif (!range && isText(node) &&\n\t\t\t\t\tnode.textContent.trim().length &&\n\t\t\t\t\t!breakInsideAvoidParentNode(node.parentNode)) {\n\n\t\t\t\t\tlet rects = getClientRects(node);\n\t\t\t\t\tlet rect;\n\t\t\t\t\tleft = 0;\n\t\t\t\t\ttop = 0;\n\t\t\t\t\tfor (var i = 0; i != rects.length; i++) {\n\t\t\t\t\t\trect = rects[i];\n\t\t\t\t\t\tif (rect.width > 0 && (!left || rect.left > left)) {\n\t\t\t\t\t\t\tleft = rect.left;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (rect.height > 0 && (!top || rect.top > top)) {\n\t\t\t\t\t\t\ttop = rect.top;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (left >= end || top >= vEnd) {\n\t\t\t\t\t\trange = document.createRange();\n\t\t\t\t\t\toffset = this.textBreak(node, start, end, vStart, vEnd);\n\t\t\t\t\t\tif (!offset) {\n\t\t\t\t\t\t\trange = undefined;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trange.setStart(node, offset);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Skip children\n\t\t\t\tif (skip || (right <= end && bottom <= vEnd)) {\n\t\t\t\t\tnext = nodeAfter(node, rendered);\n\t\t\t\t\tif (next) {\n\t\t\t\t\t\twalker = walk(next, rendered);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\t// Find End\n\t\tif (range) {\n\t\t\trange.setEndAfter(rendered.lastChild);\n\t\t\treturn range;\n\t\t}\n\n\t}\n\n\tfindEndToken(rendered, source) {\n\t\tif (rendered.childNodes.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet lastChild = rendered.lastChild;\n\n\t\tlet lastNodeIndex;\n\t\twhile (lastChild && lastChild.lastChild) {\n\t\t\tif (!validNode(lastChild)) {\n\t\t\t\t// Only get elements with refs\n\t\t\t\tlastChild = lastChild.previousSibling;\n\t\t\t} else if (!validNode(lastChild.lastChild)) {\n\t\t\t\t// Deal with invalid dom items\n\t\t\t\tlastChild = prevValidNode(lastChild.lastChild);\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tlastChild = lastChild.lastChild;\n\t\t\t}\n\t\t}\n\n\t\tif (isText(lastChild)) {\n\n\t\t\tif (lastChild.parentNode.dataset.ref) {\n\t\t\t\tlastNodeIndex = indexOf(lastChild);\n\t\t\t\tlastChild = lastChild.parentNode;\n\t\t\t} else {\n\t\t\t\tlastChild = lastChild.previousSibling;\n\t\t\t}\n\t\t}\n\n\t\tlet original = findElement(lastChild, source);\n\n\t\tif (lastNodeIndex) {\n\t\t\toriginal = original.childNodes[lastNodeIndex];\n\t\t}\n\n\t\tlet after = nodeAfter(original);\n\n\t\treturn this.breakAt(after);\n\t}\n\n\ttextBreak(node, start, end, vStart, vEnd) {\n\t\tlet wordwalker = words(node);\n\t\tlet left = 0;\n\t\tlet right = 0;\n\t\tlet top = 0;\n\t\tlet bottom = 0;\n\t\tlet word, next, done, pos;\n\t\tlet offset;\n\t\twhile (!done) {\n\t\t\tnext = wordwalker.next();\n\t\t\tword = next.value;\n\t\t\tdone = next.done;\n\n\t\t\tif (!word) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tpos = getBoundingClientRect(word);\n\n\t\t\tleft = Math.floor(pos.left);\n\t\t\tright = Math.floor(pos.right);\n\t\t\ttop = Math.floor(pos.top);\n\t\t\tbottom = Math.floor(pos.bottom);\n\n\t\t\tif (left >= end || top >= vEnd) {\n\t\t\t\toffset = word.startOffset;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (right > end || bottom > vEnd) {\n\t\t\t\tlet letterwalker = letters(word);\n\t\t\t\tlet letter, nextLetter, doneLetter;\n\n\t\t\t\twhile (!doneLetter) {\n\t\t\t\t\tnextLetter = letterwalker.next();\n\t\t\t\t\tletter = nextLetter.value;\n\t\t\t\t\tdoneLetter = nextLetter.done;\n\n\t\t\t\t\tif (!letter) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tpos = getBoundingClientRect(letter);\n\t\t\t\t\tleft = Math.floor(pos.left);\n\t\t\t\t\ttop = Math.floor(pos.top);\n\n\t\t\t\t\tif (left >= end || top >= vEnd) {\n\t\t\t\t\t\toffset = letter.startOffset;\n\t\t\t\t\t\tdone = true;\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\treturn offset;\n\t}\n\n\tremoveOverflow(overflow, breakLetter) {\n\t\tlet {startContainer} = overflow;\n\t\tlet extracted = overflow.extractContents();\n\n\t\tthis.hyphenateAtBreak(startContainer, breakLetter);\n\n\t\treturn extracted;\n\t}\n\n\thyphenateAtBreak(startContainer, breakLetter) {\n\t\tif (isText(startContainer)) {\n\t\t\tlet startText = startContainer.textContent;\n\t\t\tlet prevLetter = startText[startText.length - 1];\n\n\t\t\t// Add a hyphen if previous character is a letter or soft hyphen\n\t\t\tif (\n\t\t\t\t(breakLetter && /^\\w|\\u00AD$/.test(prevLetter) && /^\\w|\\u00AD$/.test(breakLetter)) ||\n\t\t\t\t(!breakLetter && /^\\w|\\u00AD$/.test(prevLetter))\n\t\t\t) {\n\t\t\t\tstartContainer.parentNode.classList.add(\"pagedjs_hyphen\");\n\t\t\t\tstartContainer.textContent += this.settings.hyphenGlyph || \"\\u2011\";\n\t\t\t}\n\t\t}\n\t}\n\n\tequalTokens(a, b) {\n\t\tif (!a || !b) {\n\t\t\treturn false;\n\t\t}\n\t\tif (a[\"node\"] && b[\"node\"] && a[\"node\"] !== b[\"node\"]) {\n\t\t\treturn false;\n\t\t}\n\t\tif (a[\"offset\"] && b[\"offset\"] && a[\"offset\"] !== b[\"offset\"]) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n}\n\nEventEmitter(Layout.prototype);\n\nexport default Layout;\n","import Layout from \"./layout.js\";\nimport EventEmitter from \"event-emitter\";\n\n/**\n * Render a page\n * @class\n */\nclass Page {\n\tconstructor(pagesArea, pageTemplate, blank, hooks, options) {\n\t\tthis.pagesArea = pagesArea;\n\t\tthis.pageTemplate = pageTemplate;\n\t\tthis.blank = blank;\n\n\t\tthis.width = undefined;\n\t\tthis.height = undefined;\n\n\t\tthis.hooks = hooks;\n\n\t\tthis.settings = options || {};\n\n\t\t// this.element = this.create(this.pageTemplate);\n\t}\n\n\tcreate(template, after) {\n\t\t//let documentFragment = document.createRange().createContextualFragment( TEMPLATE );\n\t\t//let page = documentFragment.children[0];\n\t\tlet clone = document.importNode(this.pageTemplate.content, true);\n\n\t\tlet page, index;\n\t\tif (after) {\n\t\t\tthis.pagesArea.insertBefore(clone, after.nextElementSibling);\n\t\t\tindex = Array.prototype.indexOf.call(this.pagesArea.children, after.nextElementSibling);\n\t\t\tpage = this.pagesArea.children[index];\n\t\t} else {\n\t\t\tthis.pagesArea.appendChild(clone);\n\t\t\tpage = this.pagesArea.lastChild;\n\t\t}\n\n\t\tlet pagebox = page.querySelector(\".pagedjs_pagebox\");\n\t\tlet area = page.querySelector(\".pagedjs_page_content\");\n\t\tlet footnotesArea = page.querySelector(\".pagedjs_footnote_area\");\n\n\n\t\tlet size = area.getBoundingClientRect();\n\n\n\t\tarea.style.columnWidth = Math.round(size.width) + \"px\";\n\t\tarea.style.columnGap = \"calc(var(--pagedjs-margin-right) + var(--pagedjs-margin-left) + var(--pagedjs-bleed-right) + var(--pagedjs-bleed-left) + var(--pagedjs-column-gap-offset))\";\n\t\t// area.style.overflow = \"scroll\";\n\n\t\tthis.width = Math.round(size.width);\n\t\tthis.height = Math.round(size.height);\n\n\t\tthis.element = page;\n\t\tthis.pagebox = pagebox;\n\t\tthis.area = area;\n\t\tthis.footnotesArea = footnotesArea;\n\n\t\treturn page;\n\t}\n\n\tcreateWrapper() {\n\t\tlet wrapper = document.createElement(\"div\");\n\n\t\tthis.area.appendChild(wrapper);\n\n\t\tthis.wrapper = wrapper;\n\n\t\treturn wrapper;\n\t}\n\n\tindex(pgnum) {\n\t\tthis.position = pgnum;\n\n\t\tlet page = this.element;\n\t\t// let pagebox = this.pagebox;\n\n\t\tlet index = pgnum + 1;\n\n\t\tlet id = `page-${index}`;\n\n\t\tthis.id = id;\n\n\t\t// page.dataset.pageNumber = index;\n\n\t\tpage.dataset.pageNumber = index;\n\t\tpage.setAttribute(\"id\", id);\n\n\t\tif (this.name) {\n\t\t\tpage.classList.add(\"pagedjs_\" + this.name + \"_page\");\n\t\t}\n\n\t\tif (this.blank) {\n\t\t\tpage.classList.add(\"pagedjs_blank_page\");\n\t\t}\n\n\t\tif (pgnum === 0) {\n\t\t\tpage.classList.add(\"pagedjs_first_page\");\n\t\t}\n\n\t\tif (pgnum % 2 !== 1) {\n\t\t\tpage.classList.remove(\"pagedjs_left_page\");\n\t\t\tpage.classList.add(\"pagedjs_right_page\");\n\t\t} else {\n\t\t\tpage.classList.remove(\"pagedjs_right_page\");\n\t\t\tpage.classList.add(\"pagedjs_left_page\");\n\t\t}\n\t}\n\n\t/*\n\tsize(width, height) {\n\t\tif (width === this.width && height === this.height) {\n\t\t\treturn;\n\t\t}\n\t\tthis.width = width;\n\t\tthis.height = height;\n\n\t\tthis.element.style.width = Math.round(width) + \"px\";\n\t\tthis.element.style.height = Math.round(height) + \"px\";\n\t\tthis.element.style.columnWidth = Math.round(width) + \"px\";\n\t}\n\t*/\n\n\tasync layout(contents, breakToken, maxChars) {\n\n\t\tthis.clear();\n\n\t\tthis.startToken = breakToken;\n\n\t\tlet settings = this.settings;\n\t\tif (!settings.maxChars && maxChars) {\n\t\t\tsettings.maxChars = maxChars;\n\t\t}\n\n\t\tthis.layoutMethod = new Layout(this.area, this.hooks, settings);\n\n\t\tlet renderResult = await this.layoutMethod.renderTo(this.wrapper, contents, breakToken);\n\t\tlet newBreakToken = renderResult.breakToken;\n\n\t\tthis.addListeners(contents);\n\n\t\tthis.endToken = newBreakToken;\n\n\t\treturn newBreakToken;\n\t}\n\n\tasync append(contents, breakToken) {\n\n\t\tif (!this.layoutMethod) {\n\t\t\treturn this.layout(contents, breakToken);\n\t\t}\n\n\t\tlet renderResult = await this.layoutMethod.renderTo(this.wrapper, contents, breakToken);\n\t\tlet newBreakToken = renderResult.breakToken;\n\n\t\tthis.endToken = newBreakToken;\n\n\t\treturn newBreakToken;\n\t}\n\n\tgetByParent(ref, entries) {\n\t\tlet e;\n\t\tfor (var i = 0; i < entries.length; i++) {\n\t\t\te = entries[i];\n\t\t\tif (e.dataset.ref === ref) {\n\t\t\t\treturn e;\n\t\t\t}\n\t\t}\n\t}\n\n\tonOverflow(func) {\n\t\tthis._onOverflow = func;\n\t}\n\n\tonUnderflow(func) {\n\t\tthis._onUnderflow = func;\n\t}\n\n\tclear() {\n\t\tthis.removeListeners();\n\t\tthis.wrapper && this.wrapper.remove();\n\t\tthis.createWrapper();\n\t}\n\n\taddListeners(contents) {\n\t\tif (typeof ResizeObserver !== \"undefined\") {\n\t\t\tthis.addResizeObserver(contents);\n\t\t} else {\n\t\t\tthis._checkOverflowAfterResize = this.checkOverflowAfterResize.bind(this, contents);\n\t\t\tthis.element.addEventListener(\"overflow\", this._checkOverflowAfterResize, false);\n\t\t\tthis.element.addEventListener(\"underflow\", this._checkOverflowAfterResize, false);\n\t\t}\n\t\t// TODO: fall back to mutation observer?\n\n\t\tthis._onScroll = function () {\n\t\t\tif (this.listening) {\n\t\t\t\tthis.element.scrollLeft = 0;\n\t\t\t}\n\t\t}.bind(this);\n\n\t\t// Keep scroll left from changing\n\t\tthis.element.addEventListener(\"scroll\", this._onScroll);\n\n\t\tthis.listening = true;\n\n\t\treturn true;\n\t}\n\n\tremoveListeners() {\n\t\tthis.listening = false;\n\n\t\tif (typeof ResizeObserver !== \"undefined\" && this.ro) {\n\t\t\tthis.ro.disconnect();\n\t\t} else if (this.element) {\n\t\t\tthis.element.removeEventListener(\"overflow\", this._checkOverflowAfterResize, false);\n\t\t\tthis.element.removeEventListener(\"underflow\", this._checkOverflowAfterResize, false);\n\t\t}\n\n\t\tthis.element && this.element.removeEventListener(\"scroll\", this._onScroll);\n\n\t}\n\n\taddResizeObserver(contents) {\n\t\tlet wrapper = this.wrapper;\n\t\tlet prevHeight = wrapper.getBoundingClientRect().height;\n\t\tthis.ro = new ResizeObserver(entries => {\n\n\t\t\tif (!this.listening) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tfor (let entry of entries) {\n\t\t\t\t\tconst cr = entry.contentRect;\n\n\t\t\t\t\tif (cr.height > prevHeight) {\n\t\t\t\t\t\tthis.checkOverflowAfterResize(contents);\n\t\t\t\t\t\tprevHeight = wrapper.getBoundingClientRect().height;\n\t\t\t\t\t} else if (cr.height < prevHeight) { // TODO: calc line height && (prevHeight - cr.height) >= 22\n\t\t\t\t\t\tthis.checkUnderflowAfterResize(contents);\n\t\t\t\t\t\tprevHeight = cr.height;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tthis.ro.observe(wrapper);\n\t}\n\n\tcheckOverflowAfterResize(contents) {\n\t\tif (!this.listening || !this.layoutMethod) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet newBreakToken = this.layoutMethod.findBreakToken(this.wrapper, contents, this.startToken);\n\n\t\tif (newBreakToken) {\n\t\t\tthis.endToken = newBreakToken;\n\t\t\tthis._onOverflow && this._onOverflow(newBreakToken);\n\t\t}\n\t}\n\n\tcheckUnderflowAfterResize(contents) {\n\t\tif (!this.listening || !this.layoutMethod) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet endToken = this.layoutMethod.findEndToken(this.wrapper, contents);\n\n\t\tif (endToken) {\n\t\t\tthis._onUnderflow && this._onUnderflow(endToken);\n\t\t}\n\t}\n\n\n\tdestroy() {\n\t\tthis.removeListeners();\n\n\t\tthis.element.remove();\n\n\t\tthis.element = undefined;\n\t\tthis.wrapper = undefined;\n\t}\n}\n\nEventEmitter(Page.prototype);\n\n\nexport default Page;\n","import {UUID} from \"../utils/utils.js\";\n\n/**\n * Render a flow of text offscreen\n * @class\n */\nclass ContentParser {\n\n\tconstructor(content, cb) {\n\t\tif (content && content.nodeType) {\n\t\t\t// handle dom\n\t\t\tthis.dom = this.add(content);\n\t\t} else if (typeof content === \"string\") {\n\t\t\tthis.dom = this.parse(content);\n\t\t}\n\n\t\treturn this.dom;\n\t}\n\n\tparse(markup, mime) {\n\t\tlet range = document.createRange();\n\t\tlet fragment = range.createContextualFragment(markup);\n\n\t\tthis.addRefs(fragment);\n\n\t\treturn fragment;\n\t}\n\n\tadd(contents) {\n\t\t// let fragment = document.createDocumentFragment();\n\t\t//\n\t\t// let children = [...contents.childNodes];\n\t\t// for (let child of children) {\n\t\t// \tlet clone = child.cloneNode(true);\n\t\t// \tfragment.appendChild(clone);\n\t\t// }\n\n\t\tthis.addRefs(contents);\n\n\t\treturn contents;\n\t}\n\n\taddRefs(content) {\n\t\tvar treeWalker = document.createTreeWalker(\n\t\t\tcontent,\n\t\t\tNodeFilter.SHOW_ELEMENT,\n\t\t\tnull,\n\t\t\tfalse\n\t\t);\n\n\t\tlet node = treeWalker.nextNode();\n\t\twhile(node) {\n\n\t\t\tif (!node.hasAttribute(\"data-ref\")) {\n\t\t\t\tlet uuid = UUID();\n\t\t\t\tnode.setAttribute(\"data-ref\", uuid);\n\t\t\t}\n\n\t\t\tif (node.id) {\n\t\t\t\tnode.setAttribute(\"data-id\", node.id);\n\t\t\t}\n\n\t\t\t// node.setAttribute(\"data-children\", node.childNodes.length);\n\n\t\t\t// node.setAttribute(\"data-text\", node.textContent.trim().length);\n\t\t\tnode = treeWalker.nextNode();\n\t\t}\n\t}\n\n\tfind(ref) {\n\t\treturn this.refs[ref];\n\t}\n\n\tdestroy() {\n\t\tthis.refs = undefined;\n\t\tthis.dom = undefined;\n\t}\n}\n\nexport default ContentParser;\n","import {defer} from \"./utils.js\";\n\n/**\n * Queue for handling tasks one at a time\n * @class\n * @param {scope} context what this will resolve to in the tasks\n */\nclass Queue {\n\tconstructor(context){\n\t\tthis._q = [];\n\t\tthis.context = context;\n\t\tthis.tick = requestAnimationFrame;\n\t\tthis.running = false;\n\t\tthis.paused = false;\n\t}\n\n\t/**\n\t * Add an item to the queue\n\t * @return {Promise} enqueued\n\t */\n\tenqueue() {\n\t\tvar deferred, promise;\n\t\tvar queued;\n\t\tvar task = [].shift.call(arguments);\n\t\tvar args = arguments;\n\n\t\t// Handle single args without context\n\t\t// if(args && !Array.isArray(args)) {\n\t\t//   args = [args];\n\t\t// }\n\t\tif(!task) {\n\t\t\tthrow new Error(\"No Task Provided\");\n\t\t}\n\n\t\tif(typeof task === \"function\"){\n\n\t\t\tdeferred = new defer();\n\t\t\tpromise = deferred.promise;\n\n\t\t\tqueued = {\n\t\t\t\t\"task\" : task,\n\t\t\t\t\"args\"     : args,\n\t\t\t\t//\"context\"  : context,\n\t\t\t\t\"deferred\" : deferred,\n\t\t\t\t\"promise\" : promise\n\t\t\t};\n\n\t\t} else {\n\t\t\t// Task is a promise\n\t\t\tqueued = {\n\t\t\t\t\"promise\" : task\n\t\t\t};\n\n\t\t}\n\n\t\tthis._q.push(queued);\n\n\t\t// Wait to start queue flush\n\t\tif (this.paused == false && !this.running) {\n\t\t\tthis.run();\n\t\t}\n\n\t\treturn queued.promise;\n\t}\n\n\t/**\n\t * Run one item\n\t * @return {Promise} dequeued\n\t */\n\tdequeue(){\n\t\tvar inwait, task, result;\n\n\t\tif(this._q.length && !this.paused) {\n\t\t\tinwait = this._q.shift();\n\t\t\ttask = inwait.task;\n\t\t\tif(task){\n\t\t\t\t// console.log(task)\n\n\t\t\t\tresult = task.apply(this.context, inwait.args);\n\n\t\t\t\tif(result && typeof result[\"then\"] === \"function\") {\n\t\t\t\t\t// Task is a function that returns a promise\n\t\t\t\t\treturn result.then(function(){\n\t\t\t\t\t\tinwait.deferred.resolve.apply(this.context, arguments);\n\t\t\t\t\t}.bind(this), function() {\n\t\t\t\t\t\tinwait.deferred.reject.apply(this.context, arguments);\n\t\t\t\t\t}.bind(this));\n\t\t\t\t} else {\n\t\t\t\t\t// Task resolves immediately\n\t\t\t\t\tinwait.deferred.resolve.apply(this.context, result);\n\t\t\t\t\treturn inwait.promise;\n\t\t\t\t}\n\n\n\n\t\t\t} else if(inwait.promise) {\n\t\t\t\t// Task is a promise\n\t\t\t\treturn inwait.promise;\n\t\t\t}\n\n\t\t} else {\n\t\t\tinwait = new defer();\n\t\t\tinwait.deferred.resolve();\n\t\t\treturn inwait.promise;\n\t\t}\n\n\t}\n\n\t// Run All Immediately\n\tdump(){\n\t\twhile(this._q.length) {\n\t\t\tthis.dequeue();\n\t\t}\n\t}\n\n\t/**\n\t * Run all tasks sequentially, at convince\n\t * @return {Promise} all run\n\t */\n\trun(){\n\n\t\tif(!this.running){\n\t\t\tthis.running = true;\n\t\t\tthis.defered = new defer();\n\t\t}\n\n\t\tthis.tick.call(window, () => {\n\n\t\t\tif(this._q.length) {\n\n\t\t\t\tthis.dequeue()\n\t\t\t\t\t.then(function(){\n\t\t\t\t\t\tthis.run();\n\t\t\t\t\t}.bind(this));\n\n\t\t\t} else {\n\t\t\t\tthis.defered.resolve();\n\t\t\t\tthis.running = undefined;\n\t\t\t}\n\n\t\t});\n\n\t\t// Unpause\n\t\tif(this.paused == true) {\n\t\t\tthis.paused = false;\n\t\t}\n\n\t\treturn this.defered.promise;\n\t}\n\n\t/**\n\t * Flush all, as quickly as possible\n\t * @return {Promise} ran\n\t */\n\tflush(){\n\n\t\tif(this.running){\n\t\t\treturn this.running;\n\t\t}\n\n\t\tif(this._q.length) {\n\t\t\tthis.running = this.dequeue()\n\t\t\t\t.then(function(){\n\t\t\t\t\tthis.running = undefined;\n\t\t\t\t\treturn this.flush();\n\t\t\t\t}.bind(this));\n\n\t\t\treturn this.running;\n\t\t}\n\n\t}\n\n\t/**\n\t * Clear all items in wait\n\t * @return {void}\n\t */\n\tclear(){\n\t\tthis._q = [];\n\t}\n\n\t/**\n\t * Get the number of tasks in the queue\n\t * @return {number} tasks\n\t */\n\tlength(){\n\t\treturn this._q.length;\n\t}\n\n\t/**\n\t * Pause a running queue\n\t * @return {void}\n\t */\n\tpause(){\n\t\tthis.paused = true;\n\t}\n\n\t/**\n\t * End the queue\n\t * @return {void}\n\t */\n\tstop(){\n\t\tthis._q = [];\n\t\tthis.running = false;\n\t\tthis.paused = true;\n\t}\n}\n\n\n/**\n * Create a new task from a callback\n * @class\n * @private\n * @param {function} task task to complete\n * @param {array} args arguments for the task\n * @param {scope} context scope of the task\n * @return {function} task\n */\nclass Task {\n\tconstructor(task, args, context){\n\n\t\treturn function(){\n\t\t\tvar toApply = arguments || [];\n\n\t\t\treturn new Promise( (resolve, reject) => {\n\t\t\t\tvar callback = function(value, err){\n\t\t\t\t\tif (!value && err) {\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(value);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t// Add the callback to the arguments list\n\t\t\t\ttoApply.push(callback);\n\n\t\t\t\t// Apply all arguments to the functions\n\t\t\t\ttask.apply(context || this, toApply);\n\n\t\t\t});\n\n\t\t};\n\n\t}\n}\n\n\nexport default Queue;\nexport { Task };\n","import Page from \"./page.js\";\nimport ContentParser from \"./parser.js\";\nimport EventEmitter from \"event-emitter\";\nimport Hook from \"../utils/hook.js\";\nimport Queue from \"../utils/queue.js\";\nimport {\n\trequestIdleCallback\n} from \"../utils/utils.js\";\nimport { OverflowContentError } from \"./renderresult.js\";\n\nconst MAX_PAGES = false;\nconst MAX_LAYOUTS = false;\n\nconst TEMPLATE = `\n<div class=\"pagedjs_page\">\n\t<div class=\"pagedjs_sheet\">\n\t\t<div class=\"pagedjs_bleed pagedjs_bleed-top\">\n\t\t\t<div class=\"pagedjs_marks-crop\"></div>\n\t\t\t<div class=\"pagedjs_marks-middle\">\n\t\t\t\t<div class=\"pagedjs_marks-cross\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"pagedjs_marks-crop\"></div>\n\t\t</div>\n\t\t<div class=\"pagedjs_bleed pagedjs_bleed-bottom\">\n\t\t\t<div class=\"pagedjs_marks-crop\"></div>\n\t\t\t<div class=\"pagedjs_marks-middle\">\n\t\t\t\t<div class=\"pagedjs_marks-cross\"></div>\n\t\t\t</div>\t\t<div class=\"pagedjs_marks-crop\"></div>\n\t\t</div>\n\t\t<div class=\"pagedjs_bleed pagedjs_bleed-left\">\n\t\t\t<div class=\"pagedjs_marks-crop\"></div>\n\t\t\t<div class=\"pagedjs_marks-middle\">\n\t\t\t\t<div class=\"pagedjs_marks-cross\"></div>\n\t\t\t</div>\t\t<div class=\"pagedjs_marks-crop\"></div>\n\t\t</div>\n\t\t<div class=\"pagedjs_bleed pagedjs_bleed-right\">\n\t\t\t<div class=\"pagedjs_marks-crop\"></div>\n\t\t\t<div class=\"pagedjs_marks-middle\">\n\t\t\t\t<div class=\"pagedjs_marks-cross\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"pagedjs_marks-crop\"></div>\n\t\t</div>\n\t\t<div class=\"pagedjs_pagebox\">\n\t\t\t<div class=\"pagedjs_margin-top-left-corner-holder\">\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-top-left-corner\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t</div>\n\t\t\t<div class=\"pagedjs_margin-top\">\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-top-left\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-top-center\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-top-right\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t</div>\n\t\t\t<div class=\"pagedjs_margin-top-right-corner-holder\">\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-top-right-corner\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t</div>\n\t\t\t<div class=\"pagedjs_margin-right\">\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-right-top\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-right-middle\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-right-bottom\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t</div>\n\t\t\t<div class=\"pagedjs_margin-left\">\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-left-top\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-left-middle\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-left-bottom\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t</div>\n\t\t\t<div class=\"pagedjs_margin-bottom-left-corner-holder\">\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-bottom-left-corner\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t</div>\n\t\t\t<div class=\"pagedjs_margin-bottom\">\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-bottom-left\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-bottom-center\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-bottom-right\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t</div>\n\t\t\t<div class=\"pagedjs_margin-bottom-right-corner-holder\">\n\t\t\t\t<div class=\"pagedjs_margin pagedjs_margin-bottom-right-corner\"><div class=\"pagedjs_margin-content\"></div></div>\n\t\t\t</div>\n\t\t\t<div class=\"pagedjs_area\">\n\t\t\t\t<div class=\"pagedjs_page_content\"></div>\n\t\t\t\t<div class=\"pagedjs_footnote_area\">\n\t\t\t\t\t<div class=\"pagedjs_footnote_content pagedjs_footnote_empty\">\n\t\t\t\t\t\t<div class=\"pagedjs_footnote_inner_content\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>`;\n\n/**\n * Chop up text into flows\n * @class\n */\nclass Chunker {\n\tconstructor(content, renderTo, options) {\n\t\t// this.preview = preview;\n\n\t\tthis.settings = options || {};\n\n\t\tthis.hooks = {};\n\t\tthis.hooks.beforeParsed = new Hook(this);\n\t\tthis.hooks.filter = new Hook(this);\n\t\tthis.hooks.afterParsed = new Hook(this);\n\t\tthis.hooks.beforePageLayout = new Hook(this);\n\t\tthis.hooks.onPageLayout = new Hook(this);\n\t\tthis.hooks.layout = new Hook(this);\n\t\tthis.hooks.renderNode = new Hook(this);\n\t\tthis.hooks.layoutNode = new Hook(this);\n\t\tthis.hooks.onOverflow = new Hook(this);\n\t\tthis.hooks.afterOverflowRemoved = new Hook(this);\n\t\tthis.hooks.onBreakToken = new Hook();\n\t\tthis.hooks.beforeRenderResult = new Hook(this);\n\t\tthis.hooks.afterPageLayout = new Hook(this);\n\t\tthis.hooks.finalizePage = new Hook(this);\n\t\tthis.hooks.afterRendered = new Hook(this);\n\n\t\tthis.pages = [];\n\t\tthis.total = 0;\n\n\t\tthis.q = new Queue(this);\n\t\tthis.stopped = false;\n\t\tthis.rendered = false;\n\n\t\tthis.content = content;\n\n\t\tthis.charsPerBreak = [];\n\t\tthis.maxChars;\n\n\t\tif (content) {\n\t\t\tthis.flow(content, renderTo);\n\t\t}\n\t}\n\n\tsetup(renderTo) {\n\t\tthis.pagesArea = document.createElement(\"div\");\n\t\tthis.pagesArea.classList.add(\"pagedjs_pages\");\n\n\t\tif (renderTo) {\n\t\t\trenderTo.appendChild(this.pagesArea);\n\t\t} else {\n\t\t\tdocument.querySelector(\"body\").appendChild(this.pagesArea);\n\t\t}\n\n\t\tthis.pageTemplate = document.createElement(\"template\");\n\t\tthis.pageTemplate.innerHTML = TEMPLATE;\n\n\t}\n\n\tasync flow(content, renderTo) {\n\t\tlet parsed;\n\n\t\tawait this.hooks.beforeParsed.trigger(content, this);\n\n\t\tparsed = new ContentParser(content);\n\n\t\tthis.hooks.filter.triggerSync(parsed);\n\n\t\tthis.source = parsed;\n\t\tthis.breakToken = undefined;\n\n\t\tif (this.pagesArea && this.pageTemplate) {\n\t\t\tthis.q.clear();\n\t\t\tthis.removePages();\n\t\t} else {\n\t\t\tthis.setup(renderTo);\n\t\t}\n\n\t\tthis.emit(\"rendering\", parsed);\n\n\t\tawait this.hooks.afterParsed.trigger(parsed, this);\n\n\t\tawait this.loadFonts();\n\n\t\tlet rendered = await this.render(parsed, this.breakToken);\n\t\twhile (rendered.canceled) {\n\t\t\tthis.start();\n\t\t\trendered = await this.render(parsed, this.breakToken);\n\t\t}\n\n\t\tthis.rendered = true;\n\t\tthis.pagesArea.style.setProperty(\"--pagedjs-page-count\", this.total);\n\n\t\tawait this.hooks.afterRendered.trigger(this.pages, this);\n\n\t\tthis.emit(\"rendered\", this.pages);\n\n\n\n\t\treturn this;\n\t}\n\n\t// oversetPages() {\n\t// \tlet overset = [];\n\t// \tfor (let i = 0; i < this.pages.length; i++) {\n\t// \t\tlet page = this.pages[i];\n\t// \t\tif (page.overset) {\n\t// \t\t\toverset.push(page);\n\t// \t\t\t// page.overset = false;\n\t// \t\t}\n\t// \t}\n\t// \treturn overset;\n\t// }\n\t//\n\t// async handleOverset(parsed) {\n\t// \tlet overset = this.oversetPages();\n\t// \tif (overset.length) {\n\t// \t\tconsole.log(\"overset\", overset);\n\t// \t\tlet index = this.pages.indexOf(overset[0]) + 1;\n\t// \t\tconsole.log(\"INDEX\", index);\n\t//\n\t// \t\t// Remove pages\n\t// \t\t// this.removePages(index);\n\t//\n\t// \t\t// await this.render(parsed, overset[0].overset);\n\t//\n\t// \t\t// return this.handleOverset(parsed);\n\t// \t}\n\t// }\n\n\tasync render(parsed, startAt) {\n\t\tlet renderer = this.layout(parsed, startAt);\n\n\t\tlet done = false;\n\t\tlet result;\n\n\t\tlet loops = 0;\n\t\twhile (!done) {\n\t\t\tresult = await this.q.enqueue(() => { return this.renderAsync(renderer); });\n\t\t\tdone = result.done;\n\t\t\tif(MAX_LAYOUTS) {\n\t\t\t\tloops += 1;\n\t\t\t\tif (loops >= MAX_LAYOUTS) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tstart() {\n\t\tthis.rendered = false;\n\t\tthis.stopped = false;\n\t}\n\n\tstop() {\n\t\tthis.stopped = true;\n\t\t// this.q.clear();\n\t}\n\n\trenderOnIdle(renderer) {\n\t\treturn new Promise(resolve => {\n\t\t\trequestIdleCallback(async () => {\n\t\t\t\tif (this.stopped) {\n\t\t\t\t\treturn resolve({ done: true, canceled: true });\n\t\t\t\t}\n\t\t\t\tlet result = await renderer.next();\n\t\t\t\tif (this.stopped) {\n\t\t\t\t\tresolve({ done: true, canceled: true });\n\t\t\t\t} else {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tasync renderAsync(renderer) {\n\t\tif (this.stopped) {\n\t\t\treturn { done: true, canceled: true };\n\t\t}\n\t\tlet result = await renderer.next();\n\t\tif (this.stopped) {\n\t\t\treturn { done: true, canceled: true };\n\t\t} else {\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tasync handleBreaks(node, force) {\n\t\tlet currentPage = this.total + 1;\n\t\tlet currentPosition = currentPage % 2 === 0 ? \"left\" : \"right\";\n\t\t// TODO: Recto and Verso should reverse for rtl languages\n\t\tlet currentSide = currentPage % 2 === 0 ? \"verso\" : \"recto\";\n\t\tlet previousBreakAfter;\n\t\tlet breakBefore;\n\t\tlet page;\n\n\t\tif (currentPage === 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (node &&\n\t\t\t\ttypeof node.dataset !== \"undefined\" &&\n\t\t\t\ttypeof node.dataset.previousBreakAfter !== \"undefined\") {\n\t\t\tpreviousBreakAfter = node.dataset.previousBreakAfter;\n\t\t}\n\n\t\tif (node &&\n\t\t\t\ttypeof node.dataset !== \"undefined\" &&\n\t\t\t\ttypeof node.dataset.breakBefore !== \"undefined\") {\n\t\t\tbreakBefore = node.dataset.breakBefore;\n\t\t}\n\n\t\tif (force) {\n\t\t\tpage = this.addPage(true);\n\t\t} else if( previousBreakAfter &&\n\t\t\t\t(previousBreakAfter === \"left\" || previousBreakAfter === \"right\") &&\n\t\t\t\tpreviousBreakAfter !== currentPosition) {\n\t\t\tpage = this.addPage(true);\n\t\t} else if( previousBreakAfter &&\n\t\t\t\t(previousBreakAfter === \"verso\" || previousBreakAfter === \"recto\") &&\n\t\t\t\tpreviousBreakAfter !== currentSide) {\n\t\t\tpage = this.addPage(true);\n\t\t} else if( breakBefore &&\n\t\t\t\t(breakBefore === \"left\" || breakBefore === \"right\") &&\n\t\t\t\tbreakBefore !== currentPosition) {\n\t\t\tpage = this.addPage(true);\n\t\t} else if( breakBefore &&\n\t\t\t\t(breakBefore === \"verso\" || breakBefore === \"recto\") &&\n\t\t\t\tbreakBefore !== currentSide) {\n\t\t\tpage = this.addPage(true);\n\t\t}\n\n\t\tif (page) {\n\t\t\tawait this.hooks.beforePageLayout.trigger(page, undefined, undefined, this);\n\t\t\tthis.emit(\"page\", page);\n\t\t\t// await this.hooks.layout.trigger(page.element, page, undefined, this);\n\t\t\tawait this.hooks.afterPageLayout.trigger(page.element, page, undefined, this);\n\t\t\tawait this.hooks.finalizePage.trigger(page.element, page, undefined, this);\n\t\t\tthis.emit(\"renderedPage\", page);\n\t\t}\n\t}\n\n\tasync *layout(content, startAt) {\n\t\tlet breakToken = startAt || false;\n\t\tlet tokens = [];\n\n\t\twhile (breakToken !== undefined && (MAX_PAGES ? this.total < MAX_PAGES : true)) {\n\n\t\t\tif (breakToken && breakToken.node) {\n\t\t\t\tawait this.handleBreaks(breakToken.node);\n\t\t\t} else {\n\t\t\t\tawait this.handleBreaks(content.firstChild);\n\t\t\t}\n\n\t\t\tlet page = this.addPage();\n\n\t\t\tawait this.hooks.beforePageLayout.trigger(page, content, breakToken, this);\n\t\t\tthis.emit(\"page\", page);\n\n\t\t\t// Layout content in the page, starting from the breakToken\n\t\t\tbreakToken = await page.layout(content, breakToken, this.maxChars);\n\n\t\t\tif (breakToken) {\n\t\t\t\tlet newToken = breakToken.toJSON(true);\n\t\t\t\tif (tokens.lastIndexOf(newToken) > -1) {\n\t\t\t\t\t// loop\n\t\t\t\t\tlet err = new OverflowContentError(\"Layout repeated\", [breakToken.node]);\n\t\t\t\t\tconsole.error(\"Layout repeated at: \", breakToken.node);\n\t\t\t\t\treturn err;\n\t\t\t\t} else {\n\t\t\t\t\ttokens.push(newToken);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait this.hooks.afterPageLayout.trigger(page.element, page, breakToken, this);\n\t\t\tawait this.hooks.finalizePage.trigger(page.element, page, undefined, this);\n\t\t\tthis.emit(\"renderedPage\", page);\n\n\t\t\tthis.recoredCharLength(page.wrapper.textContent.length);\n\n\t\t\tyield breakToken;\n\n\t\t\t// Stop if we get undefined, showing we have reached the end of the content\n\t\t}\n\n\n\t}\n\n\trecoredCharLength(length) {\n\t\tif (length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.charsPerBreak.push(length);\n\n\t\t// Keep the length of the last few breaks\n\t\tif (this.charsPerBreak.length > 4) {\n\t\t\tthis.charsPerBreak.shift();\n\t\t}\n\n\t\tthis.maxChars = this.charsPerBreak.reduce((a, b) => a + b, 0) / (this.charsPerBreak.length);\n\t}\n\n\tremovePages(fromIndex=0) {\n\n\t\tif (fromIndex >= this.pages.length) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remove pages\n\t\tfor (let i = fromIndex; i < this.pages.length; i++) {\n\t\t\tthis.pages[i].destroy();\n\t\t}\n\n\t\tif (fromIndex > 0) {\n\t\t\tthis.pages.splice(fromIndex);\n\t\t} else {\n\t\t\tthis.pages = [];\n\t\t}\n\n\t\tthis.total = this.pages.length;\n\t}\n\n\taddPage(blank) {\n\t\tlet lastPage = this.pages[this.pages.length - 1];\n\t\t// Create a new page from the template\n\t\tlet page = new Page(this.pagesArea, this.pageTemplate, blank, this.hooks, this.settings);\n\n\t\tthis.pages.push(page);\n\n\t\t// Create the pages\n\t\tpage.create(undefined, lastPage && lastPage.element);\n\n\t\tpage.index(this.total);\n\n\t\tif (!blank) {\n\t\t\t// Listen for page overflow\n\t\t\tpage.onOverflow((overflowToken) => {\n\t\t\t\tconsole.warn(\"overflow on\", page.id, overflowToken);\n\n\t\t\t\t// Only reflow while rendering\n\t\t\t\tif (this.rendered) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet index = this.pages.indexOf(page) + 1;\n\n\t\t\t\t// Stop the rendering\n\t\t\t\tthis.stop();\n\n\t\t\t\t// Set the breakToken to resume at\n\t\t\t\tthis.breakToken = overflowToken;\n\n\t\t\t\t// Remove pages\n\t\t\t\tthis.removePages(index);\n\n\t\t\t\tif (this.rendered === true) {\n\t\t\t\t\tthis.rendered = false;\n\n\t\t\t\t\tthis.q.enqueue(async () => {\n\n\t\t\t\t\t\tthis.start();\n\n\t\t\t\t\t\tawait this.render(this.source, this.breakToken);\n\n\t\t\t\t\t\tthis.rendered = true;\n\n\t\t\t\t\t});\n\t\t\t\t}\n\n\n\t\t\t});\n\n\t\t\tpage.onUnderflow((overflowToken) => {\n\t\t\t\t// console.log(\"underflow on\", page.id, overflowToken);\n\n\t\t\t\t// page.append(this.source, overflowToken);\n\n\t\t\t});\n\t\t}\n\n\t\tthis.total = this.pages.length;\n\n\t\treturn page;\n\t}\n\t/*\n\tinsertPage(index, blank) {\n\t\tlet lastPage = this.pages[index];\n\t\t// Create a new page from the template\n\t\tlet page = new Page(this.pagesArea, this.pageTemplate, blank, this.hooks);\n\n\t\tlet total = this.pages.splice(index, 0, page);\n\n\t\t// Create the pages\n\t\tpage.create(undefined, lastPage && lastPage.element);\n\n\t\tpage.index(index + 1);\n\n\t\tfor (let i = index + 2; i < this.pages.length; i++) {\n\t\t\tthis.pages[i].index(i);\n\t\t}\n\n\t\tif (!blank) {\n\t\t\t// Listen for page overflow\n\t\t\tpage.onOverflow((overflowToken) => {\n\t\t\t\tif (total < this.pages.length) {\n\t\t\t\t\tthis.pages[total].layout(this.source, overflowToken);\n\t\t\t\t} else {\n\t\t\t\t\tlet newPage = this.addPage();\n\t\t\t\t\tnewPage.layout(this.source, overflowToken);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tpage.onUnderflow(() => {\n\t\t\t\t// console.log(\"underflow on\", page.id);\n\t\t\t});\n\t\t}\n\n\t\tthis.total += 1;\n\n\t\treturn page;\n\t}\n\t*/\n\n\tasync clonePage(originalPage) {\n\t\tlet lastPage = this.pages[this.pages.length - 1];\n\n\t\tlet page = new Page(this.pagesArea, this.pageTemplate, false, this.hooks);\n\n\t\tthis.pages.push(page);\n\n\t\t// Create the pages\n\t\tpage.create(undefined, lastPage && lastPage.element);\n\n\t\tpage.index(this.total);\n\n\t\tawait this.hooks.beforePageLayout.trigger(page, undefined, undefined, this);\n\t\tthis.emit(\"page\", page);\n\n\t\tfor (const className of originalPage.element.classList) {\n\t\t\tif (className !== \"pagedjs_left_page\" && className !== \"pagedjs_right_page\") {\n\t\t\t\tpage.element.classList.add(className);\n\t\t\t}\n\t\t}\n\n\t\tawait this.hooks.afterPageLayout.trigger(page.element, page, undefined, this);\n\t\tawait this.hooks.finalizePage.trigger(page.element, page, undefined, this);\n\t\tthis.emit(\"renderedPage\", page);\n\t}\n\n\tloadFonts() {\n\t\tlet fontPromises = [];\n\t\t(document.fonts || []).forEach((fontFace) => {\n\t\t\tif (fontFace.status !== \"loaded\") {\n\t\t\t\tlet fontLoaded = fontFace.load().then((r) => {\n\t\t\t\t\treturn fontFace.family;\n\t\t\t\t}, (r) => {\n\t\t\t\t\tconsole.warn(\"Failed to preload font-family:\", fontFace.family);\n\t\t\t\t\treturn fontFace.family;\n\t\t\t\t});\n\t\t\t\tfontPromises.push(fontLoaded);\n\t\t\t}\n\t\t});\n\t\treturn Promise.all(fontPromises).catch((err) => {\n\t\t\tconsole.warn(err);\n\t\t});\n\t}\n\n\tdestroy() {\n\t\tthis.pagesArea.remove();\n\t\tthis.pageTemplate.remove();\n\t}\n\n}\n\nEventEmitter(Chunker.prototype);\n\nexport default Chunker;\n","//\n//                              list\n//                            \n//             head \n//                            tail\n//                                         \n//                                                 \n//            item        item        item        item\n//                      \n//  null prev prev prev prev \n//           next next next next null\n//                      \n//           data      data      data      data \n//                      \n//\n\nfunction createItem(data) {\n    return {\n        prev: null,\n        next: null,\n        data: data\n    };\n}\n\nfunction allocateCursor(node, prev, next) {\n    var cursor;\n\n    if (cursors !== null) {\n        cursor = cursors;\n        cursors = cursors.cursor;\n        cursor.prev = prev;\n        cursor.next = next;\n        cursor.cursor = node.cursor;\n    } else {\n        cursor = {\n            prev: prev,\n            next: next,\n            cursor: node.cursor\n        };\n    }\n\n    node.cursor = cursor;\n\n    return cursor;\n}\n\nfunction releaseCursor(node) {\n    var cursor = node.cursor;\n\n    node.cursor = cursor.cursor;\n    cursor.prev = null;\n    cursor.next = null;\n    cursor.cursor = cursors;\n    cursors = cursor;\n}\n\nvar cursors = null;\nvar List = function() {\n    this.cursor = null;\n    this.head = null;\n    this.tail = null;\n};\n\nList.createItem = createItem;\nList.prototype.createItem = createItem;\n\nList.prototype.updateCursors = function(prevOld, prevNew, nextOld, nextNew) {\n    var cursor = this.cursor;\n\n    while (cursor !== null) {\n        if (cursor.prev === prevOld) {\n            cursor.prev = prevNew;\n        }\n\n        if (cursor.next === nextOld) {\n            cursor.next = nextNew;\n        }\n\n        cursor = cursor.cursor;\n    }\n};\n\nList.prototype.getSize = function() {\n    var size = 0;\n    var cursor = this.head;\n\n    while (cursor) {\n        size++;\n        cursor = cursor.next;\n    }\n\n    return size;\n};\n\nList.prototype.fromArray = function(array) {\n    var cursor = null;\n\n    this.head = null;\n\n    for (var i = 0; i < array.length; i++) {\n        var item = createItem(array[i]);\n\n        if (cursor !== null) {\n            cursor.next = item;\n        } else {\n            this.head = item;\n        }\n\n        item.prev = cursor;\n        cursor = item;\n    }\n\n    this.tail = cursor;\n\n    return this;\n};\n\nList.prototype.toArray = function() {\n    var cursor = this.head;\n    var result = [];\n\n    while (cursor) {\n        result.push(cursor.data);\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.toJSON = List.prototype.toArray;\n\nList.prototype.isEmpty = function() {\n    return this.head === null;\n};\n\nList.prototype.first = function() {\n    return this.head && this.head.data;\n};\n\nList.prototype.last = function() {\n    return this.tail && this.tail.data;\n};\n\nList.prototype.each = function(fn, context) {\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, null, this.head);\n\n    while (cursor.next !== null) {\n        item = cursor.next;\n        cursor.next = item.next;\n\n        fn.call(context, item.data, item, this);\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.forEach = List.prototype.each;\n\nList.prototype.eachRight = function(fn, context) {\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, this.tail, null);\n\n    while (cursor.prev !== null) {\n        item = cursor.prev;\n        cursor.prev = item.prev;\n\n        fn.call(context, item.data, item, this);\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.forEachRight = List.prototype.eachRight;\n\nList.prototype.reduce = function(fn, initialValue, context) {\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, null, this.head);\n    var acc = initialValue;\n\n    while (cursor.next !== null) {\n        item = cursor.next;\n        cursor.next = item.next;\n\n        acc = fn.call(context, acc, item.data, item, this);\n    }\n\n    // pop cursor\n    releaseCursor(this);\n\n    return acc;\n};\n\nList.prototype.reduceRight = function(fn, initialValue, context) {\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, this.tail, null);\n    var acc = initialValue;\n\n    while (cursor.prev !== null) {\n        item = cursor.prev;\n        cursor.prev = item.prev;\n\n        acc = fn.call(context, acc, item.data, item, this);\n    }\n\n    // pop cursor\n    releaseCursor(this);\n\n    return acc;\n};\n\nList.prototype.nextUntil = function(start, fn, context) {\n    if (start === null) {\n        return;\n    }\n\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, null, start);\n\n    while (cursor.next !== null) {\n        item = cursor.next;\n        cursor.next = item.next;\n\n        if (fn.call(context, item.data, item, this)) {\n            break;\n        }\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.prevUntil = function(start, fn, context) {\n    if (start === null) {\n        return;\n    }\n\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, start, null);\n\n    while (cursor.prev !== null) {\n        item = cursor.prev;\n        cursor.prev = item.prev;\n\n        if (fn.call(context, item.data, item, this)) {\n            break;\n        }\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.some = function(fn, context) {\n    var cursor = this.head;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    while (cursor !== null) {\n        if (fn.call(context, cursor.data, cursor, this)) {\n            return true;\n        }\n\n        cursor = cursor.next;\n    }\n\n    return false;\n};\n\nList.prototype.map = function(fn, context) {\n    var result = new List();\n    var cursor = this.head;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    while (cursor !== null) {\n        result.appendData(fn.call(context, cursor.data, cursor, this));\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.filter = function(fn, context) {\n    var result = new List();\n    var cursor = this.head;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    while (cursor !== null) {\n        if (fn.call(context, cursor.data, cursor, this)) {\n            result.appendData(cursor.data);\n        }\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.clear = function() {\n    this.head = null;\n    this.tail = null;\n};\n\nList.prototype.copy = function() {\n    var result = new List();\n    var cursor = this.head;\n\n    while (cursor !== null) {\n        result.insert(createItem(cursor.data));\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.prepend = function(item) {\n    //      head\n    //    ^\n    // item\n    this.updateCursors(null, item, this.head, item);\n\n    // insert to the beginning of the list\n    if (this.head !== null) {\n        // new item <- first item\n        this.head.prev = item;\n\n        // new item -> first item\n        item.next = this.head;\n    } else {\n        // if list has no head, then it also has no tail\n        // in this case tail points to the new item\n        this.tail = item;\n    }\n\n    // head always points to new item\n    this.head = item;\n\n    return this;\n};\n\nList.prototype.prependData = function(data) {\n    return this.prepend(createItem(data));\n};\n\nList.prototype.append = function(item) {\n    return this.insert(item);\n};\n\nList.prototype.appendData = function(data) {\n    return this.insert(createItem(data));\n};\n\nList.prototype.insert = function(item, before) {\n    if (before !== undefined && before !== null) {\n        // prev   before\n        //      ^\n        //     item\n        this.updateCursors(before.prev, item, before, item);\n\n        if (before.prev === null) {\n            // insert to the beginning of list\n            if (this.head !== before) {\n                throw new Error('before doesn\\'t belong to list');\n            }\n\n            // since head points to before therefore list doesn't empty\n            // no need to check tail\n            this.head = item;\n            before.prev = item;\n            item.next = before;\n\n            this.updateCursors(null, item);\n        } else {\n\n            // insert between two items\n            before.prev.next = item;\n            item.prev = before.prev;\n\n            before.prev = item;\n            item.next = before;\n        }\n    } else {\n        // tail\n        //      ^\n        //      item\n        this.updateCursors(this.tail, item, null, item);\n\n        // insert to the ending of the list\n        if (this.tail !== null) {\n            // last item -> new item\n            this.tail.next = item;\n\n            // last item <- new item\n            item.prev = this.tail;\n        } else {\n            // if list has no tail, then it also has no head\n            // in this case head points to new item\n            this.head = item;\n        }\n\n        // tail always points to new item\n        this.tail = item;\n    }\n\n    return this;\n};\n\nList.prototype.insertData = function(data, before) {\n    return this.insert(createItem(data), before);\n};\n\nList.prototype.remove = function(item) {\n    //      item\n    //       ^\n    // prev     next\n    this.updateCursors(item, item.prev, item, item.next);\n\n    if (item.prev !== null) {\n        item.prev.next = item.next;\n    } else {\n        if (this.head !== item) {\n            throw new Error('item doesn\\'t belong to list');\n        }\n\n        this.head = item.next;\n    }\n\n    if (item.next !== null) {\n        item.next.prev = item.prev;\n    } else {\n        if (this.tail !== item) {\n            throw new Error('item doesn\\'t belong to list');\n        }\n\n        this.tail = item.prev;\n    }\n\n    item.prev = null;\n    item.next = null;\n\n    return item;\n};\n\nList.prototype.push = function(data) {\n    this.insert(createItem(data));\n};\n\nList.prototype.pop = function() {\n    if (this.tail !== null) {\n        return this.remove(this.tail);\n    }\n};\n\nList.prototype.unshift = function(data) {\n    this.prepend(createItem(data));\n};\n\nList.prototype.shift = function() {\n    if (this.head !== null) {\n        return this.remove(this.head);\n    }\n};\n\nList.prototype.prependList = function(list) {\n    return this.insertList(list, this.head);\n};\n\nList.prototype.appendList = function(list) {\n    return this.insertList(list);\n};\n\nList.prototype.insertList = function(list, before) {\n    // ignore empty lists\n    if (list.head === null) {\n        return this;\n    }\n\n    if (before !== undefined && before !== null) {\n        this.updateCursors(before.prev, list.tail, before, list.head);\n\n        // insert in the middle of dist list\n        if (before.prev !== null) {\n            // before.prev <-> list.head\n            before.prev.next = list.head;\n            list.head.prev = before.prev;\n        } else {\n            this.head = list.head;\n        }\n\n        before.prev = list.tail;\n        list.tail.next = before;\n    } else {\n        this.updateCursors(this.tail, list.tail, null, list.head);\n\n        // insert to end of the list\n        if (this.tail !== null) {\n            // if destination list has a tail, then it also has a head,\n            // but head doesn't change\n\n            // dest tail -> source head\n            this.tail.next = list.head;\n\n            // dest tail <- source head\n            list.head.prev = this.tail;\n        } else {\n            // if list has no a tail, then it also has no a head\n            // in this case points head to new item\n            this.head = list.head;\n        }\n\n        // tail always start point to new item\n        this.tail = list.tail;\n    }\n\n    list.head = null;\n    list.tail = null;\n\n    return this;\n};\n\nList.prototype.replace = function(oldItem, newItemOrList) {\n    if ('head' in newItemOrList) {\n        this.insertList(newItemOrList, oldItem);\n    } else {\n        this.insert(newItemOrList, oldItem);\n    }\n\n    this.remove(oldItem);\n};\n\nmodule.exports = List;\n","module.exports = function createCustomError(name, message) {\n    // use Object.create(), because some VMs prevent setting line/column otherwise\n    // (iOS Safari 10 even throws an exception)\n    var error = Object.create(SyntaxError.prototype);\n    var errorStack = new Error();\n\n    error.name = name;\n    error.message = message;\n\n    Object.defineProperty(error, 'stack', {\n        get: function() {\n            return (errorStack.stack || '').replace(/^(.+\\n){1,3}/, name + ': ' + message + '\\n');\n        }\n    });\n\n    return error;\n};\n","var createCustomError = require('../utils/createCustomError');\nvar MAX_LINE_LENGTH = 100;\nvar OFFSET_CORRECTION = 60;\nvar TAB_REPLACEMENT = '    ';\n\nfunction sourceFragment(error, extraLines) {\n    function processLines(start, end) {\n        return lines.slice(start, end).map(function(line, idx) {\n            var num = String(start + idx + 1);\n\n            while (num.length < maxNumLength) {\n                num = ' ' + num;\n            }\n\n            return num + ' |' + line;\n        }).join('\\n');\n    }\n\n    var lines = error.source.split(/\\r\\n?|\\n|\\f/);\n    var line = error.line;\n    var column = error.column;\n    var startLine = Math.max(1, line - extraLines) - 1;\n    var endLine = Math.min(line + extraLines, lines.length + 1);\n    var maxNumLength = Math.max(4, String(endLine).length) + 1;\n    var cutLeft = 0;\n\n    // column correction according to replaced tab before column\n    column += (TAB_REPLACEMENT.length - 1) * (lines[line - 1].substr(0, column - 1).match(/\\t/g) || []).length;\n\n    if (column > MAX_LINE_LENGTH) {\n        cutLeft = column - OFFSET_CORRECTION + 3;\n        column = OFFSET_CORRECTION - 2;\n    }\n\n    for (var i = startLine; i <= endLine; i++) {\n        if (i >= 0 && i < lines.length) {\n            lines[i] = lines[i].replace(/\\t/g, TAB_REPLACEMENT);\n            lines[i] =\n                (cutLeft > 0 && lines[i].length > cutLeft ? '\\u2026' : '') +\n                lines[i].substr(cutLeft, MAX_LINE_LENGTH - 2) +\n                (lines[i].length > cutLeft + MAX_LINE_LENGTH - 1 ? '\\u2026' : '');\n        }\n    }\n\n    return [\n        processLines(startLine, line),\n        new Array(column + maxNumLength + 2).join('-') + '^',\n        processLines(line, endLine)\n    ].filter(Boolean).join('\\n');\n}\n\nvar SyntaxError = function(message, source, offset, line, column) {\n    var error = createCustomError('SyntaxError', message);\n\n    error.source = source;\n    error.offset = offset;\n    error.line = line;\n    error.column = column;\n\n    error.sourceFragment = function(extraLines) {\n        return sourceFragment(error, isNaN(extraLines) ? 0 : extraLines);\n    };\n    Object.defineProperty(error, 'formattedMessage', {\n        get: function() {\n            return (\n                'Parse error: ' + error.message + '\\n' +\n                sourceFragment(error, 2)\n            );\n        }\n    });\n\n    // for backward capability\n    error.parseError = {\n        offset: offset,\n        line: line,\n        column: column\n    };\n\n    return error;\n};\n\nmodule.exports = SyntaxError;\n","// CSS Syntax Module Level 3\n// https://www.w3.org/TR/css-syntax-3/\nvar TYPE = {\n    EOF: 0,                 // <EOF-token>\n    Ident: 1,               // <ident-token>\n    Function: 2,            // <function-token>\n    AtKeyword: 3,           // <at-keyword-token>\n    Hash: 4,                // <hash-token>\n    String: 5,              // <string-token>\n    BadString: 6,           // <bad-string-token>\n    Url: 7,                 // <url-token>\n    BadUrl: 8,              // <bad-url-token>\n    Delim: 9,               // <delim-token>\n    Number: 10,             // <number-token>\n    Percentage: 11,         // <percentage-token>\n    Dimension: 12,          // <dimension-token>\n    WhiteSpace: 13,         // <whitespace-token>\n    CDO: 14,                // <CDO-token>\n    CDC: 15,                // <CDC-token>\n    Colon: 16,              // <colon-token>     :\n    Semicolon: 17,          // <semicolon-token> ;\n    Comma: 18,              // <comma-token>     ,\n    LeftSquareBracket: 19,  // <[-token>\n    RightSquareBracket: 20, // <]-token>\n    LeftParenthesis: 21,    // <(-token>\n    RightParenthesis: 22,   // <)-token>\n    LeftCurlyBracket: 23,   // <{-token>\n    RightCurlyBracket: 24,  // <}-token>\n    Comment: 25\n};\n\nvar NAME = Object.keys(TYPE).reduce(function(result, key) {\n    result[TYPE[key]] = key;\n    return result;\n}, {});\n\nmodule.exports = {\n    TYPE: TYPE,\n    NAME: NAME\n};\n","var EOF = 0;\n\n// https://drafts.csswg.org/css-syntax-3/\n//  4.2. Definitions\n\n// digit\n// A code point between U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9).\nfunction isDigit(code) {\n    return code >= 0x0030 && code <= 0x0039;\n}\n\n// hex digit\n// A digit, or a code point between U+0041 LATIN CAPITAL LETTER A (A) and U+0046 LATIN CAPITAL LETTER F (F),\n// or a code point between U+0061 LATIN SMALL LETTER A (a) and U+0066 LATIN SMALL LETTER F (f).\nfunction isHexDigit(code) {\n    return (\n        isDigit(code) || // 0 .. 9\n        (code >= 0x0041 && code <= 0x0046) || // A .. F\n        (code >= 0x0061 && code <= 0x0066)    // a .. f\n    );\n}\n\n// uppercase letter\n// A code point between U+0041 LATIN CAPITAL LETTER A (A) and U+005A LATIN CAPITAL LETTER Z (Z).\nfunction isUppercaseLetter(code) {\n    return code >= 0x0041 && code <= 0x005A;\n}\n\n// lowercase letter\n// A code point between U+0061 LATIN SMALL LETTER A (a) and U+007A LATIN SMALL LETTER Z (z).\nfunction isLowercaseLetter(code) {\n    return code >= 0x0061 && code <= 0x007A;\n}\n\n// letter\n// An uppercase letter or a lowercase letter.\nfunction isLetter(code) {\n    return isUppercaseLetter(code) || isLowercaseLetter(code);\n}\n\n// non-ASCII code point\n// A code point with a value equal to or greater than U+0080 <control>.\nfunction isNonAscii(code) {\n    return code >= 0x0080;\n}\n\n// name-start code point\n// A letter, a non-ASCII code point, or U+005F LOW LINE (_).\nfunction isNameStart(code) {\n    return isLetter(code) || isNonAscii(code) || code === 0x005F;\n}\n\n// name code point\n// A name-start code point, a digit, or U+002D HYPHEN-MINUS (-).\nfunction isName(code) {\n    return isNameStart(code) || isDigit(code) || code === 0x002D;\n}\n\n// non-printable code point\n// A code point between U+0000 NULL and U+0008 BACKSPACE, or U+000B LINE TABULATION,\n// or a code point between U+000E SHIFT OUT and U+001F INFORMATION SEPARATOR ONE, or U+007F DELETE.\nfunction isNonPrintable(code) {\n    return (\n        (code >= 0x0000 && code <= 0x0008) ||\n        (code === 0x000B) ||\n        (code >= 0x000E && code <= 0x001F) ||\n        (code === 0x007F)\n    );\n}\n\n// newline\n// U+000A LINE FEED. Note that U+000D CARRIAGE RETURN and U+000C FORM FEED are not included in this definition,\n// as they are converted to U+000A LINE FEED during preprocessing.\n// TODO: we doesn't do a preprocessing, so check a code point for U+000D CARRIAGE RETURN and U+000C FORM FEED\nfunction isNewline(code) {\n    return code === 0x000A || code === 0x000D || code === 0x000C;\n}\n\n// whitespace\n// A newline, U+0009 CHARACTER TABULATION, or U+0020 SPACE.\nfunction isWhiteSpace(code) {\n    return isNewline(code) || code === 0x0020 || code === 0x0009;\n}\n\n//  4.3.8. Check if two code points are a valid escape\nfunction isValidEscape(first, second) {\n    // If the first code point is not U+005C REVERSE SOLIDUS (\\), return false.\n    if (first !== 0x005C) {\n        return false;\n    }\n\n    // Otherwise, if the second code point is a newline or EOF, return false.\n    if (isNewline(second) || second === EOF) {\n        return false;\n    }\n\n    // Otherwise, return true.\n    return true;\n}\n\n//  4.3.9. Check if three code points would start an identifier\nfunction isIdentifierStart(first, second, third) {\n    // Look at the first code point:\n\n    // U+002D HYPHEN-MINUS\n    if (first === 0x002D) {\n        // If the second code point is a name-start code point or a U+002D HYPHEN-MINUS,\n        // or the second and third code points are a valid escape, return true. Otherwise, return false.\n        return (\n            isNameStart(second) ||\n            second === 0x002D ||\n            isValidEscape(second, third)\n        );\n    }\n\n    // name-start code point\n    if (isNameStart(first)) {\n        // Return true.\n        return true;\n    }\n\n    // U+005C REVERSE SOLIDUS (\\)\n    if (first === 0x005C) {\n        // If the first and second code points are a valid escape, return true. Otherwise, return false.\n        return isValidEscape(first, second);\n    }\n\n    // anything else\n    // Return false.\n    return false;\n}\n\n//  4.3.10. Check if three code points would start a number\nfunction isNumberStart(first, second, third) {\n    // Look at the first code point:\n\n    // U+002B PLUS SIGN (+)\n    // U+002D HYPHEN-MINUS (-)\n    if (first === 0x002B || first === 0x002D) {\n        // If the second code point is a digit, return true.\n        if (isDigit(second)) {\n            return 2;\n        }\n\n        // Otherwise, if the second code point is a U+002E FULL STOP (.)\n        // and the third code point is a digit, return true.\n        // Otherwise, return false.\n        return second === 0x002E && isDigit(third) ? 3 : 0;\n    }\n\n    // U+002E FULL STOP (.)\n    if (first === 0x002E) {\n        // If the second code point is a digit, return true. Otherwise, return false.\n        return isDigit(second) ? 2 : 0;\n    }\n\n    // digit\n    if (isDigit(first)) {\n        // Return true.\n        return 1;\n    }\n\n    // anything else\n    // Return false.\n    return 0;\n}\n\n//\n// Misc\n//\n\n// detect BOM (https://en.wikipedia.org/wiki/Byte_order_mark)\nfunction isBOM(code) {\n    // UTF-16BE\n    if (code === 0xFEFF) {\n        return 1;\n    }\n\n    // UTF-16LE\n    if (code === 0xFFFE) {\n        return 1;\n    }\n\n    return 0;\n}\n\n// Fast code category\n//\n// https://drafts.csswg.org/css-syntax/#tokenizer-definitions\n// > non-ASCII code point\n// >   A code point with a value equal to or greater than U+0080 <control>\n// > name-start code point\n// >   A letter, a non-ASCII code point, or U+005F LOW LINE (_).\n// > name code point\n// >   A name-start code point, a digit, or U+002D HYPHEN-MINUS (-)\n// That means only ASCII code points has a special meaning and we define a maps for 0..127 codes only\nvar CATEGORY = new Array(0x80);\ncharCodeCategory.Eof = 0x80;\ncharCodeCategory.WhiteSpace = 0x82;\ncharCodeCategory.Digit = 0x83;\ncharCodeCategory.NameStart = 0x84;\ncharCodeCategory.NonPrintable = 0x85;\n\nfor (var i = 0; i < CATEGORY.length; i++) {\n    switch (true) {\n        case isWhiteSpace(i):\n            CATEGORY[i] = charCodeCategory.WhiteSpace;\n            break;\n\n        case isDigit(i):\n            CATEGORY[i] = charCodeCategory.Digit;\n            break;\n\n        case isNameStart(i):\n            CATEGORY[i] = charCodeCategory.NameStart;\n            break;\n\n        case isNonPrintable(i):\n            CATEGORY[i] = charCodeCategory.NonPrintable;\n            break;\n\n        default:\n            CATEGORY[i] = i || charCodeCategory.Eof;\n    }\n}\n\nfunction charCodeCategory(code) {\n    return code < 0x80 ? CATEGORY[code] : charCodeCategory.NameStart;\n};\n\nmodule.exports = {\n    isDigit: isDigit,\n    isHexDigit: isHexDigit,\n    isUppercaseLetter: isUppercaseLetter,\n    isLowercaseLetter: isLowercaseLetter,\n    isLetter: isLetter,\n    isNonAscii: isNonAscii,\n    isNameStart: isNameStart,\n    isName: isName,\n    isNonPrintable: isNonPrintable,\n    isNewline: isNewline,\n    isWhiteSpace: isWhiteSpace,\n    isValidEscape: isValidEscape,\n    isIdentifierStart: isIdentifierStart,\n    isNumberStart: isNumberStart,\n\n    isBOM: isBOM,\n    charCodeCategory: charCodeCategory\n};\n","var charCodeDef = require('./char-code-definitions');\nvar isDigit = charCodeDef.isDigit;\nvar isHexDigit = charCodeDef.isHexDigit;\nvar isUppercaseLetter = charCodeDef.isUppercaseLetter;\nvar isName = charCodeDef.isName;\nvar isWhiteSpace = charCodeDef.isWhiteSpace;\nvar isValidEscape = charCodeDef.isValidEscape;\n\nfunction getCharCode(source, offset) {\n    return offset < source.length ? source.charCodeAt(offset) : 0;\n}\n\nfunction getNewlineLength(source, offset, code) {\n    if (code === 13 /* \\r */ && getCharCode(source, offset + 1) === 10 /* \\n */) {\n        return 2;\n    }\n\n    return 1;\n}\n\nfunction cmpChar(testStr, offset, referenceCode) {\n    var code = testStr.charCodeAt(offset);\n\n    // code.toLowerCase() for A..Z\n    if (isUppercaseLetter(code)) {\n        code = code | 32;\n    }\n\n    return code === referenceCode;\n}\n\nfunction cmpStr(testStr, start, end, referenceStr) {\n    if (end - start !== referenceStr.length) {\n        return false;\n    }\n\n    if (start < 0 || end > testStr.length) {\n        return false;\n    }\n\n    for (var i = start; i < end; i++) {\n        var testCode = testStr.charCodeAt(i);\n        var referenceCode = referenceStr.charCodeAt(i - start);\n\n        // testCode.toLowerCase() for A..Z\n        if (isUppercaseLetter(testCode)) {\n            testCode = testCode | 32;\n        }\n\n        if (testCode !== referenceCode) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nfunction findWhiteSpaceStart(source, offset) {\n    for (; offset >= 0; offset--) {\n        if (!isWhiteSpace(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset + 1;\n}\n\nfunction findWhiteSpaceEnd(source, offset) {\n    for (; offset < source.length; offset++) {\n        if (!isWhiteSpace(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset;\n}\n\nfunction findDecimalNumberEnd(source, offset) {\n    for (; offset < source.length; offset++) {\n        if (!isDigit(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset;\n}\n\n//  4.3.7. Consume an escaped code point\nfunction consumeEscaped(source, offset) {\n    // It assumes that the U+005C REVERSE SOLIDUS (\\) has already been consumed and\n    // that the next input code point has already been verified to be part of a valid escape.\n    offset += 2;\n\n    // hex digit\n    if (isHexDigit(getCharCode(source, offset - 1))) {\n        // Consume as many hex digits as possible, but no more than 5.\n        // Note that this means 1-6 hex digits have been consumed in total.\n        for (var maxOffset = Math.min(source.length, offset + 5); offset < maxOffset; offset++) {\n            if (!isHexDigit(getCharCode(source, offset))) {\n                break;\n            }\n        }\n\n        // If the next input code point is whitespace, consume it as well.\n        var code = getCharCode(source, offset);\n        if (isWhiteSpace(code)) {\n            offset += getNewlineLength(source, offset, code);\n        }\n    }\n\n    return offset;\n}\n\n// 4.3.11. Consume a name\n// Note: This algorithm does not do the verification of the first few code points that are necessary\n// to ensure the returned code points would constitute an <ident-token>. If that is the intended use,\n// ensure that the stream starts with an identifier before calling this algorithm.\nfunction consumeName(source, offset) {\n    // Let result initially be an empty string.\n    // Repeatedly consume the next input code point from the stream:\n    for (; offset < source.length; offset++) {\n        var code = source.charCodeAt(offset);\n\n        // name code point\n        if (isName(code)) {\n            // Append the code point to result.\n            continue;\n        }\n\n        // the stream starts with a valid escape\n        if (isValidEscape(code, getCharCode(source, offset + 1))) {\n            // Consume an escaped code point. Append the returned code point to result.\n            offset = consumeEscaped(source, offset) - 1;\n            continue;\n        }\n\n        // anything else\n        // Reconsume the current input code point. Return result.\n        break;\n    }\n\n    return offset;\n}\n\n// 4.3.12. Consume a number\nfunction consumeNumber(source, offset) {\n    var code = source.charCodeAt(offset);\n\n    // 2. If the next input code point is U+002B PLUS SIGN (+) or U+002D HYPHEN-MINUS (-),\n    // consume it and append it to repr.\n    if (code === 0x002B || code === 0x002D) {\n        code = source.charCodeAt(offset += 1);\n    }\n\n    // 3. While the next input code point is a digit, consume it and append it to repr.\n    if (isDigit(code)) {\n        offset = findDecimalNumberEnd(source, offset + 1);\n        code = source.charCodeAt(offset);\n    }\n\n    // 4. If the next 2 input code points are U+002E FULL STOP (.) followed by a digit, then:\n    if (code === 0x002E && isDigit(source.charCodeAt(offset + 1))) {\n        // 4.1 Consume them.\n        // 4.2 Append them to repr.\n        code = source.charCodeAt(offset += 2);\n\n        // 4.3 Set type to \"number\".\n        // TODO\n\n        // 4.4 While the next input code point is a digit, consume it and append it to repr.\n\n        offset = findDecimalNumberEnd(source, offset);\n    }\n\n    // 5. If the next 2 or 3 input code points are U+0045 LATIN CAPITAL LETTER E (E)\n    // or U+0065 LATIN SMALL LETTER E (e), ... , followed by a digit, then:\n    if (cmpChar(source, offset, 101 /* e */)) {\n        var sign = 0;\n        code = source.charCodeAt(offset + 1);\n\n        // ... optionally followed by U+002D HYPHEN-MINUS (-) or U+002B PLUS SIGN (+) ...\n        if (code === 0x002D || code === 0x002B) {\n            sign = 1;\n            code = source.charCodeAt(offset + 2);\n        }\n\n        // ... followed by a digit\n        if (isDigit(code)) {\n            // 5.1 Consume them.\n            // 5.2 Append them to repr.\n\n            // 5.3 Set type to \"number\".\n            // TODO\n\n            // 5.4 While the next input code point is a digit, consume it and append it to repr.\n            offset = findDecimalNumberEnd(source, offset + 1 + sign + 1);\n        }\n    }\n\n    return offset;\n}\n\n//  4.3.14. Consume the remnants of a bad url\n// ... its sole use is to consume enough of the input stream to reach a recovery point\n// where normal tokenizing can resume.\nfunction consumeBadUrlRemnants(source, offset) {\n    // Repeatedly consume the next input code point from the stream:\n    for (; offset < source.length; offset++) {\n        var code = source.charCodeAt(offset);\n\n        // U+0029 RIGHT PARENTHESIS ())\n        // EOF\n        if (code === 0x0029) {\n            // Return.\n            offset++;\n            break;\n        }\n\n        if (isValidEscape(code, getCharCode(source, offset + 1))) {\n            // Consume an escaped code point.\n            // Note: This allows an escaped right parenthesis (\"\\)\") to be encountered\n            // without ending the <bad-url-token>. This is otherwise identical to\n            // the \"anything else\" clause.\n            offset = consumeEscaped(source, offset);\n        }\n    }\n\n    return offset;\n}\n\nmodule.exports = {\n    consumeEscaped: consumeEscaped,\n    consumeName: consumeName,\n    consumeNumber: consumeNumber,\n    consumeBadUrlRemnants: consumeBadUrlRemnants,\n\n    cmpChar: cmpChar,\n    cmpStr: cmpStr,\n\n    getNewlineLength: getNewlineLength,\n    findWhiteSpaceStart: findWhiteSpaceStart,\n    findWhiteSpaceEnd: findWhiteSpaceEnd\n};\n","var constants = require('../tokenizer/const');\nvar TYPE = constants.TYPE;\nvar NAME = constants.NAME;\n\nvar utils = require('../tokenizer/utils');\nvar cmpStr = utils.cmpStr;\n\nvar EOF = TYPE.EOF;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\n\nvar OFFSET_MASK = 0x00FFFFFF;\nvar TYPE_SHIFT = 24;\n\nvar TokenStream = function() {\n    this.offsetAndType = null;\n    this.balance = null;\n\n    this.reset();\n};\n\nTokenStream.prototype = {\n    reset: function() {\n        this.eof = false;\n        this.tokenIndex = -1;\n        this.tokenType = 0;\n        this.tokenStart = this.firstCharOffset;\n        this.tokenEnd = this.firstCharOffset;\n    },\n\n    lookupType: function(offset) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return this.offsetAndType[offset] >> TYPE_SHIFT;\n        }\n\n        return EOF;\n    },\n    lookupOffset: function(offset) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return this.offsetAndType[offset - 1] & OFFSET_MASK;\n        }\n\n        return this.source.length;\n    },\n    lookupValue: function(offset, referenceStr) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return cmpStr(\n                this.source,\n                this.offsetAndType[offset - 1] & OFFSET_MASK,\n                this.offsetAndType[offset] & OFFSET_MASK,\n                referenceStr\n            );\n        }\n\n        return false;\n    },\n    getTokenStart: function(tokenIndex) {\n        if (tokenIndex === this.tokenIndex) {\n            return this.tokenStart;\n        }\n\n        if (tokenIndex > 0) {\n            return tokenIndex < this.tokenCount\n                ? this.offsetAndType[tokenIndex - 1] & OFFSET_MASK\n                : this.offsetAndType[this.tokenCount] & OFFSET_MASK;\n        }\n\n        return this.firstCharOffset;\n    },\n\n    // TODO: -> skipUntilBalanced\n    getRawLength: function(startToken, mode) {\n        var cursor = startToken;\n        var balanceEnd;\n        var offset = this.offsetAndType[Math.max(cursor - 1, 0)] & OFFSET_MASK;\n        var type;\n\n        loop:\n        for (; cursor < this.tokenCount; cursor++) {\n            balanceEnd = this.balance[cursor];\n\n            // stop scanning on balance edge that points to offset before start token\n            if (balanceEnd < startToken) {\n                break loop;\n            }\n\n            type = this.offsetAndType[cursor] >> TYPE_SHIFT;\n\n            // check token is stop type\n            switch (mode(type, this.source, offset)) {\n                case 1:\n                    break loop;\n\n                case 2:\n                    cursor++;\n                    break loop;\n\n                default:\n                    // fast forward to the end of balanced block\n                    if (this.balance[balanceEnd] === cursor) {\n                        cursor = balanceEnd;\n                    }\n\n                    offset = this.offsetAndType[cursor] & OFFSET_MASK;\n            }\n        }\n\n        return cursor - this.tokenIndex;\n    },\n    isBalanceEdge: function(pos) {\n        return this.balance[this.tokenIndex] < pos;\n    },\n    isDelim: function(code, offset) {\n        if (offset) {\n            return (\n                this.lookupType(offset) === TYPE.Delim &&\n                this.source.charCodeAt(this.lookupOffset(offset)) === code\n            );\n        }\n\n        return (\n            this.tokenType === TYPE.Delim &&\n            this.source.charCodeAt(this.tokenStart) === code\n        );\n    },\n\n    getTokenValue: function() {\n        return this.source.substring(this.tokenStart, this.tokenEnd);\n    },\n    getTokenLength: function() {\n        return this.tokenEnd - this.tokenStart;\n    },\n    substrToCursor: function(start) {\n        return this.source.substring(start, this.tokenStart);\n    },\n\n    skipWS: function() {\n        for (var i = this.tokenIndex, skipTokenCount = 0; i < this.tokenCount; i++, skipTokenCount++) {\n            if ((this.offsetAndType[i] >> TYPE_SHIFT) !== WHITESPACE) {\n                break;\n            }\n        }\n\n        if (skipTokenCount > 0) {\n            this.skip(skipTokenCount);\n        }\n    },\n    skipSC: function() {\n        while (this.tokenType === WHITESPACE || this.tokenType === COMMENT) {\n            this.next();\n        }\n    },\n    skip: function(tokenCount) {\n        var next = this.tokenIndex + tokenCount;\n\n        if (next < this.tokenCount) {\n            this.tokenIndex = next;\n            this.tokenStart = this.offsetAndType[next - 1] & OFFSET_MASK;\n            next = this.offsetAndType[next];\n            this.tokenType = next >> TYPE_SHIFT;\n            this.tokenEnd = next & OFFSET_MASK;\n        } else {\n            this.tokenIndex = this.tokenCount;\n            this.next();\n        }\n    },\n    next: function() {\n        var next = this.tokenIndex + 1;\n\n        if (next < this.tokenCount) {\n            this.tokenIndex = next;\n            this.tokenStart = this.tokenEnd;\n            next = this.offsetAndType[next];\n            this.tokenType = next >> TYPE_SHIFT;\n            this.tokenEnd = next & OFFSET_MASK;\n        } else {\n            this.tokenIndex = this.tokenCount;\n            this.eof = true;\n            this.tokenType = EOF;\n            this.tokenStart = this.tokenEnd = this.source.length;\n        }\n    },\n\n    forEachToken(fn) {\n        for (var i = 0, offset = this.firstCharOffset; i < this.tokenCount; i++) {\n            var start = offset;\n            var item = this.offsetAndType[i];\n            var end = item & OFFSET_MASK;\n            var type = item >> TYPE_SHIFT;\n\n            offset = end;\n\n            fn(type, start, end, i);\n        }\n    },\n\n    dump() {\n        var tokens = new Array(this.tokenCount);\n\n        this.forEachToken((type, start, end, index) => {\n            tokens[index] = {\n                idx: index,\n                type: NAME[type],\n                chunk: this.source.substring(start, end),\n                balance: this.balance[index]\n            };\n        });\n\n        return tokens;\n    }\n};\n\nmodule.exports = TokenStream;\n","function noop(value) {\n    return value;\n}\n\nfunction generateMultiplier(multiplier) {\n    if (multiplier.min === 0 && multiplier.max === 0) {\n        return '*';\n    }\n\n    if (multiplier.min === 0 && multiplier.max === 1) {\n        return '?';\n    }\n\n    if (multiplier.min === 1 && multiplier.max === 0) {\n        return multiplier.comma ? '#' : '+';\n    }\n\n    if (multiplier.min === 1 && multiplier.max === 1) {\n        return '';\n    }\n\n    return (\n        (multiplier.comma ? '#' : '') +\n        (multiplier.min === multiplier.max\n            ? '{' + multiplier.min + '}'\n            : '{' + multiplier.min + ',' + (multiplier.max !== 0 ? multiplier.max : '') + '}'\n        )\n    );\n}\n\nfunction generateTypeOpts(node) {\n    switch (node.type) {\n        case 'Range':\n            return (\n                ' [' +\n                (node.min === null ? '-' : node.min) +\n                ',' +\n                (node.max === null ? '' : node.max) +\n                ']'\n            );\n\n        default:\n            throw new Error('Unknown node type `' + node.type + '`');\n    }\n}\n\nfunction generateSequence(node, decorate, forceBraces, compact) {\n    var combinator = node.combinator === ' ' || compact ? node.combinator : ' ' + node.combinator + ' ';\n    var result = node.terms.map(function(term) {\n        return generate(term, decorate, forceBraces, compact);\n    }).join(combinator);\n\n    if (node.explicit || forceBraces) {\n        result = (compact || result[0] === ',' ? '[' : '[ ') + result + (compact ? ']' : ' ]');\n    }\n\n    return result;\n}\n\nfunction generate(node, decorate, forceBraces, compact) {\n    var result;\n\n    switch (node.type) {\n        case 'Group':\n            result =\n                generateSequence(node, decorate, forceBraces, compact) +\n                (node.disallowEmpty ? '!' : '');\n            break;\n\n        case 'Multiplier':\n            // return since node is a composition\n            return (\n                generate(node.term, decorate, forceBraces, compact) +\n                decorate(generateMultiplier(node), node)\n            );\n\n        case 'Type':\n            result = '<' + node.name + (node.opts ? decorate(generateTypeOpts(node.opts), node.opts) : '') + '>';\n            break;\n\n        case 'Property':\n            result = '<\\'' + node.name + '\\'>';\n            break;\n\n        case 'Keyword':\n            result = node.name;\n            break;\n\n        case 'AtKeyword':\n            result = '@' + node.name;\n            break;\n\n        case 'Function':\n            result = node.name + '(';\n            break;\n\n        case 'String':\n        case 'Token':\n            result = node.value;\n            break;\n\n        case 'Comma':\n            result = ',';\n            break;\n\n        default:\n            throw new Error('Unknown node type `' + node.type + '`');\n    }\n\n    return decorate(result, node);\n}\n\nmodule.exports = function(node, options) {\n    var decorate = noop;\n    var forceBraces = false;\n    var compact = false;\n\n    if (typeof options === 'function') {\n        decorate = options;\n    } else if (options) {\n        forceBraces = Boolean(options.forceBraces);\n        compact = Boolean(options.compact);\n        if (typeof options.decorate === 'function') {\n            decorate = options.decorate;\n        }\n    }\n\n    return generate(node, decorate, forceBraces, compact);\n};\n","const createCustomError = require('../utils/createCustomError');\nconst generate = require('../definition-syntax/generate');\nconst defaultLoc = { offset: 0, line: 1, column: 1 };\n\nfunction locateMismatch(matchResult, node) {\n    const tokens = matchResult.tokens;\n    const longestMatch = matchResult.longestMatch;\n    const mismatchNode = longestMatch < tokens.length ? tokens[longestMatch].node || null : null;\n    const badNode = mismatchNode !== node ? mismatchNode : null;\n    let mismatchOffset = 0;\n    let mismatchLength = 0;\n    let entries = 0;\n    let css = '';\n    let start;\n    let end;\n\n    for (let i = 0; i < tokens.length; i++) {\n        const token = tokens[i].value;\n\n        if (i === longestMatch) {\n            mismatchLength = token.length;\n            mismatchOffset = css.length;\n        }\n\n        if (badNode !== null && tokens[i].node === badNode) {\n            if (i <= longestMatch) {\n                entries++;\n            } else {\n                entries = 0;\n            }\n        }\n\n        css += token;\n    }\n\n    if (longestMatch === tokens.length || entries > 1) { // last\n        start = fromLoc(badNode || node, 'end') || buildLoc(defaultLoc, css);\n        end = buildLoc(start);\n    } else {\n        start = fromLoc(badNode, 'start') ||\n            buildLoc(fromLoc(node, 'start') || defaultLoc, css.slice(0, mismatchOffset));\n        end = fromLoc(badNode, 'end') ||\n            buildLoc(start, css.substr(mismatchOffset, mismatchLength));\n    }\n\n    return {\n        css,\n        mismatchOffset,\n        mismatchLength,\n        start,\n        end\n    };\n}\n\nfunction fromLoc(node, point) {\n    const value = node && node.loc && node.loc[point];\n\n    if (value) {\n        return 'line' in value ? buildLoc(value) : value;\n    }\n\n    return null;\n}\n\nfunction buildLoc({ offset, line, column }, extra) {\n    const loc = {\n        offset,\n        line,\n        column\n    };\n\n    if (extra) {\n        const lines = extra.split(/\\n|\\r\\n?|\\f/);\n\n        loc.offset += extra.length;\n        loc.line += lines.length - 1;\n        loc.column = lines.length === 1 ? loc.column + extra.length : lines.pop().length + 1;\n    }\n\n    return loc;\n}\n\nconst SyntaxReferenceError = function(type, referenceName) {\n    const error = createCustomError(\n        'SyntaxReferenceError',\n        type + (referenceName ? ' `' + referenceName + '`' : '')\n    );\n\n    error.reference = referenceName;\n\n    return error;\n};\n\nconst SyntaxMatchError = function(message, syntax, node, matchResult) {\n    const error = createCustomError('SyntaxMatchError', message);\n    const {\n        css,\n        mismatchOffset,\n        mismatchLength,\n        start,\n        end\n    } = locateMismatch(matchResult, node);\n\n    error.rawMessage = message;\n    error.syntax = syntax ? generate(syntax) : '<generic>';\n    error.css = css;\n    error.mismatchOffset = mismatchOffset;\n    error.mismatchLength = mismatchLength;\n    error.message = message + '\\n' +\n        '  syntax: ' + error.syntax + '\\n' +\n        '   value: ' + (css || '<empty string>') + '\\n' +\n        '  --------' + new Array(error.mismatchOffset + 1).join('-') + '^';\n\n    Object.assign(error, start);\n    error.loc = {\n        source: (node && node.loc && node.loc.source) || '<unknown>',\n        start,\n        end\n    };\n\n    return error;\n};\n\nmodule.exports = {\n    SyntaxReferenceError,\n    SyntaxMatchError\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar keywords = Object.create(null);\nvar properties = Object.create(null);\nvar HYPHENMINUS = 45; // '-'.charCodeAt()\n\nfunction isCustomProperty(str, offset) {\n    offset = offset || 0;\n\n    return str.length - offset >= 2 &&\n           str.charCodeAt(offset) === HYPHENMINUS &&\n           str.charCodeAt(offset + 1) === HYPHENMINUS;\n}\n\nfunction getVendorPrefix(str, offset) {\n    offset = offset || 0;\n\n    // verdor prefix should be at least 3 chars length\n    if (str.length - offset >= 3) {\n        // vendor prefix starts with hyper minus following non-hyper minus\n        if (str.charCodeAt(offset) === HYPHENMINUS &&\n            str.charCodeAt(offset + 1) !== HYPHENMINUS) {\n            // vendor prefix should contain a hyper minus at the ending\n            var secondDashIndex = str.indexOf('-', offset + 2);\n\n            if (secondDashIndex !== -1) {\n                return str.substring(offset, secondDashIndex + 1);\n            }\n        }\n    }\n\n    return '';\n}\n\nfunction getKeywordDescriptor(keyword) {\n    if (hasOwnProperty.call(keywords, keyword)) {\n        return keywords[keyword];\n    }\n\n    var name = keyword.toLowerCase();\n\n    if (hasOwnProperty.call(keywords, name)) {\n        return keywords[keyword] = keywords[name];\n    }\n\n    var custom = isCustomProperty(name, 0);\n    var vendor = !custom ? getVendorPrefix(name, 0) : '';\n\n    return keywords[keyword] = Object.freeze({\n        basename: name.substr(vendor.length),\n        name: name,\n        vendor: vendor,\n        prefix: vendor,\n        custom: custom\n    });\n}\n\nfunction getPropertyDescriptor(property) {\n    if (hasOwnProperty.call(properties, property)) {\n        return properties[property];\n    }\n\n    var name = property;\n    var hack = property[0];\n\n    if (hack === '/') {\n        hack = property[1] === '/' ? '//' : '/';\n    } else if (hack !== '_' &&\n               hack !== '*' &&\n               hack !== '$' &&\n               hack !== '#' &&\n               hack !== '+' &&\n               hack !== '&') {\n        hack = '';\n    }\n\n    var custom = isCustomProperty(name, hack.length);\n\n    // re-use result when possible (the same as for lower case)\n    if (!custom) {\n        name = name.toLowerCase();\n        if (hasOwnProperty.call(properties, name)) {\n            return properties[property] = properties[name];\n        }\n    }\n\n    var vendor = !custom ? getVendorPrefix(name, hack.length) : '';\n    var prefix = name.substr(0, hack.length + vendor.length);\n\n    return properties[property] = Object.freeze({\n        basename: name.substr(prefix.length),\n        name: name.substr(hack.length),\n        hack: hack,\n        vendor: vendor,\n        prefix: prefix,\n        custom: custom\n    });\n}\n\nmodule.exports = {\n    keyword: getKeywordDescriptor,\n    property: getPropertyDescriptor,\n    isCustomProperty: isCustomProperty,\n    vendorPrefix: getVendorPrefix\n};\n","var MIN_SIZE = 16 * 1024;\nvar SafeUint32Array = typeof Uint32Array !== 'undefined' ? Uint32Array : Array; // fallback on Array when TypedArray is not supported\n\nmodule.exports = function adoptBuffer(buffer, size) {\n    if (buffer === null || buffer.length < size) {\n        return new SafeUint32Array(Math.max(size + 1024, MIN_SIZE));\n    }\n\n    return buffer;\n};\n","var TokenStream = require('../common/TokenStream');\nvar adoptBuffer = require('../common/adopt-buffer');\n\nvar constants = require('./const');\nvar TYPE = constants.TYPE;\n\nvar charCodeDefinitions = require('./char-code-definitions');\nvar isNewline = charCodeDefinitions.isNewline;\nvar isName = charCodeDefinitions.isName;\nvar isValidEscape = charCodeDefinitions.isValidEscape;\nvar isNumberStart = charCodeDefinitions.isNumberStart;\nvar isIdentifierStart = charCodeDefinitions.isIdentifierStart;\nvar charCodeCategory = charCodeDefinitions.charCodeCategory;\nvar isBOM = charCodeDefinitions.isBOM;\n\nvar utils = require('./utils');\nvar cmpStr = utils.cmpStr;\nvar getNewlineLength = utils.getNewlineLength;\nvar findWhiteSpaceEnd = utils.findWhiteSpaceEnd;\nvar consumeEscaped = utils.consumeEscaped;\nvar consumeName = utils.consumeName;\nvar consumeNumber = utils.consumeNumber;\nvar consumeBadUrlRemnants = utils.consumeBadUrlRemnants;\n\nvar OFFSET_MASK = 0x00FFFFFF;\nvar TYPE_SHIFT = 24;\n\nfunction tokenize(source, stream) {\n    function getCharCode(offset) {\n        return offset < sourceLength ? source.charCodeAt(offset) : 0;\n    }\n\n    //  4.3.3. Consume a numeric token\n    function consumeNumericToken() {\n        // Consume a number and let number be the result.\n        offset = consumeNumber(source, offset);\n\n        // If the next 3 input code points would start an identifier, then:\n        if (isIdentifierStart(getCharCode(offset), getCharCode(offset + 1), getCharCode(offset + 2))) {\n            // Create a <dimension-token> with the same value and type flag as number, and a unit set initially to the empty string.\n            // Consume a name. Set the <dimension-token>s unit to the returned value.\n            // Return the <dimension-token>.\n            type = TYPE.Dimension;\n            offset = consumeName(source, offset);\n            return;\n        }\n\n        // Otherwise, if the next input code point is U+0025 PERCENTAGE SIGN (%), consume it.\n        if (getCharCode(offset) === 0x0025) {\n            // Create a <percentage-token> with the same value as number, and return it.\n            type = TYPE.Percentage;\n            offset++;\n            return;\n        }\n\n        // Otherwise, create a <number-token> with the same value and type flag as number, and return it.\n        type = TYPE.Number;\n    }\n\n    //  4.3.4. Consume an ident-like token\n    function consumeIdentLikeToken() {\n        const nameStartOffset = offset;\n\n        // Consume a name, and let string be the result.\n        offset = consumeName(source, offset);\n\n        // If strings value is an ASCII case-insensitive match for \"url\",\n        // and the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.\n        if (cmpStr(source, nameStartOffset, offset, 'url') && getCharCode(offset) === 0x0028) {\n            // While the next two input code points are whitespace, consume the next input code point.\n            offset = findWhiteSpaceEnd(source, offset + 1);\n\n            // If the next one or two input code points are U+0022 QUOTATION MARK (\"), U+0027 APOSTROPHE ('),\n            // or whitespace followed by U+0022 QUOTATION MARK (\") or U+0027 APOSTROPHE ('),\n            // then create a <function-token> with its value set to string and return it.\n            if (getCharCode(offset) === 0x0022 ||\n                getCharCode(offset) === 0x0027) {\n                type = TYPE.Function;\n                offset = nameStartOffset + 4;\n                return;\n            }\n\n            // Otherwise, consume a url token, and return it.\n            consumeUrlToken();\n            return;\n        }\n\n        // Otherwise, if the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.\n        // Create a <function-token> with its value set to string and return it.\n        if (getCharCode(offset) === 0x0028) {\n            type = TYPE.Function;\n            offset++;\n            return;\n        }\n\n        // Otherwise, create an <ident-token> with its value set to string and return it.\n        type = TYPE.Ident;\n    }\n\n    //  4.3.5. Consume a string token\n    function consumeStringToken(endingCodePoint) {\n        // This algorithm may be called with an ending code point, which denotes the code point\n        // that ends the string. If an ending code point is not specified,\n        // the current input code point is used.\n        if (!endingCodePoint) {\n            endingCodePoint = getCharCode(offset++);\n        }\n\n        // Initially create a <string-token> with its value set to the empty string.\n        type = TYPE.String;\n\n        // Repeatedly consume the next input code point from the stream:\n        for (; offset < source.length; offset++) {\n            var code = source.charCodeAt(offset);\n\n            switch (charCodeCategory(code)) {\n                // ending code point\n                case endingCodePoint:\n                    // Return the <string-token>.\n                    offset++;\n                    return;\n\n                // EOF\n                case charCodeCategory.Eof:\n                    // This is a parse error. Return the <string-token>.\n                    return;\n\n                // newline\n                case charCodeCategory.WhiteSpace:\n                    if (isNewline(code)) {\n                        // This is a parse error. Reconsume the current input code point,\n                        // create a <bad-string-token>, and return it.\n                        offset += getNewlineLength(source, offset, code);\n                        type = TYPE.BadString;\n                        return;\n                    }\n                    break;\n\n                // U+005C REVERSE SOLIDUS (\\)\n                case 0x005C:\n                    // If the next input code point is EOF, do nothing.\n                    if (offset === source.length - 1) {\n                        break;\n                    }\n\n                    var nextCode = getCharCode(offset + 1);\n\n                    // Otherwise, if the next input code point is a newline, consume it.\n                    if (isNewline(nextCode)) {\n                        offset += getNewlineLength(source, offset + 1, nextCode);\n                    } else if (isValidEscape(code, nextCode)) {\n                        // Otherwise, (the stream starts with a valid escape) consume\n                        // an escaped code point and append the returned code point to\n                        // the <string-token>s value.\n                        offset = consumeEscaped(source, offset) - 1;\n                    }\n                    break;\n\n                // anything else\n                // Append the current input code point to the <string-token>s value.\n            }\n        }\n    }\n\n    //  4.3.6. Consume a url token\n    // Note: This algorithm assumes that the initial \"url(\" has already been consumed.\n    // This algorithm also assumes that its being called to consume an \"unquoted\" value, like url(foo).\n    // A quoted value, like url(\"foo\"), is parsed as a <function-token>. Consume an ident-like token\n    // automatically handles this distinction; this algorithm shouldnt be called directly otherwise.\n    function consumeUrlToken() {\n        // Initially create a <url-token> with its value set to the empty string.\n        type = TYPE.Url;\n\n        // Consume as much whitespace as possible.\n        offset = findWhiteSpaceEnd(source, offset);\n\n        // Repeatedly consume the next input code point from the stream:\n        for (; offset < source.length; offset++) {\n            var code = source.charCodeAt(offset);\n\n            switch (charCodeCategory(code)) {\n                // U+0029 RIGHT PARENTHESIS ())\n                case 0x0029:\n                    // Return the <url-token>.\n                    offset++;\n                    return;\n\n                // EOF\n                case charCodeCategory.Eof:\n                    // This is a parse error. Return the <url-token>.\n                    return;\n\n                // whitespace\n                case charCodeCategory.WhiteSpace:\n                    // Consume as much whitespace as possible.\n                    offset = findWhiteSpaceEnd(source, offset);\n\n                    // If the next input code point is U+0029 RIGHT PARENTHESIS ()) or EOF,\n                    // consume it and return the <url-token>\n                    // (if EOF was encountered, this is a parse error);\n                    if (getCharCode(offset) === 0x0029 || offset >= source.length) {\n                        if (offset < source.length) {\n                            offset++;\n                        }\n                        return;\n                    }\n\n                    // otherwise, consume the remnants of a bad url, create a <bad-url-token>,\n                    // and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // U+0022 QUOTATION MARK (\")\n                // U+0027 APOSTROPHE (')\n                // U+0028 LEFT PARENTHESIS (()\n                // non-printable code point\n                case 0x0022:\n                case 0x0027:\n                case 0x0028:\n                case charCodeCategory.NonPrintable:\n                    // This is a parse error. Consume the remnants of a bad url,\n                    // create a <bad-url-token>, and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // U+005C REVERSE SOLIDUS (\\)\n                case 0x005C:\n                    // If the stream starts with a valid escape, consume an escaped code point and\n                    // append the returned code point to the <url-token>s value.\n                    if (isValidEscape(code, getCharCode(offset + 1))) {\n                        offset = consumeEscaped(source, offset) - 1;\n                        break;\n                    }\n\n                    // Otherwise, this is a parse error. Consume the remnants of a bad url,\n                    // create a <bad-url-token>, and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // anything else\n                // Append the current input code point to the <url-token>s value.\n            }\n        }\n    }\n\n    if (!stream) {\n        stream = new TokenStream();\n    }\n\n    // ensure source is a string\n    source = String(source || '');\n\n    var sourceLength = source.length;\n    var offsetAndType = adoptBuffer(stream.offsetAndType, sourceLength + 1); // +1 because of eof-token\n    var balance = adoptBuffer(stream.balance, sourceLength + 1);\n    var tokenCount = 0;\n    var start = isBOM(getCharCode(0));\n    var offset = start;\n    var balanceCloseType = 0;\n    var balanceStart = 0;\n    var balancePrev = 0;\n\n    // https://drafts.csswg.org/css-syntax-3/#consume-token\n    //  4.3.1. Consume a token\n    while (offset < sourceLength) {\n        var code = source.charCodeAt(offset);\n        var type = 0;\n\n        balance[tokenCount] = sourceLength;\n\n        switch (charCodeCategory(code)) {\n            // whitespace\n            case charCodeCategory.WhiteSpace:\n                // Consume as much whitespace as possible. Return a <whitespace-token>.\n                type = TYPE.WhiteSpace;\n                offset = findWhiteSpaceEnd(source, offset + 1);\n                break;\n\n            // U+0022 QUOTATION MARK (\")\n            case 0x0022:\n                // Consume a string token and return it.\n                consumeStringToken();\n                break;\n\n            // U+0023 NUMBER SIGN (#)\n            case 0x0023:\n                // If the next input code point is a name code point or the next two input code points are a valid escape, then:\n                if (isName(getCharCode(offset + 1)) || isValidEscape(getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // Create a <hash-token>.\n                    type = TYPE.Hash;\n\n                    // If the next 3 input code points would start an identifier, set the <hash-token>s type flag to \"id\".\n                    // if (isIdentifierStart(getCharCode(offset + 1), getCharCode(offset + 2), getCharCode(offset + 3))) {\n                    //     // TODO: set id flag\n                    // }\n\n                    // Consume a name, and set the <hash-token>s value to the returned string.\n                    offset = consumeName(source, offset + 1);\n\n                    // Return the <hash-token>.\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+0027 APOSTROPHE (')\n            case 0x0027:\n                // Consume a string token and return it.\n                consumeStringToken();\n                break;\n\n            // U+0028 LEFT PARENTHESIS (()\n            case 0x0028:\n                // Return a <(-token>.\n                type = TYPE.LeftParenthesis;\n                offset++;\n                break;\n\n            // U+0029 RIGHT PARENTHESIS ())\n            case 0x0029:\n                // Return a <)-token>.\n                type = TYPE.RightParenthesis;\n                offset++;\n                break;\n\n            // U+002B PLUS SIGN (+)\n            case 0x002B:\n                // If the input stream starts with a number, ...\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // ... reconsume the current input code point, consume a numeric token, and return it.\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+002C COMMA (,)\n            case 0x002C:\n                // Return a <comma-token>.\n                type = TYPE.Comma;\n                offset++;\n                break;\n\n            // U+002D HYPHEN-MINUS (-)\n            case 0x002D:\n                // If the input stream starts with a number, reconsume the current input code point, consume a numeric token, and return it.\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, if the next 2 input code points are U+002D HYPHEN-MINUS U+003E GREATER-THAN SIGN (->), consume them and return a <CDC-token>.\n                    if (getCharCode(offset + 1) === 0x002D &&\n                        getCharCode(offset + 2) === 0x003E) {\n                        type = TYPE.CDC;\n                        offset = offset + 3;\n                    } else {\n                        // Otherwise, if the input stream starts with an identifier, ...\n                        if (isIdentifierStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                            // ... reconsume the current input code point, consume an ident-like token, and return it.\n                            consumeIdentLikeToken();\n                        } else {\n                            // Otherwise, return a <delim-token> with its value set to the current input code point.\n                            type = TYPE.Delim;\n                            offset++;\n                        }\n                    }\n                }\n                break;\n\n            // U+002E FULL STOP (.)\n            case 0x002E:\n                // If the input stream starts with a number, ...\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // ... reconsume the current input code point, consume a numeric token, and return it.\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+002F SOLIDUS (/)\n            case 0x002F:\n                // If the next two input code point are U+002F SOLIDUS (/) followed by a U+002A ASTERISK (*),\n                if (getCharCode(offset + 1) === 0x002A) {\n                    // ... consume them and all following code points up to and including the first U+002A ASTERISK (*)\n                    // followed by a U+002F SOLIDUS (/), or up to an EOF code point.\n                    type = TYPE.Comment;\n                    offset = source.indexOf('*/', offset + 2) + 2;\n                    if (offset === 1) {\n                        offset = source.length;\n                    }\n                } else {\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+003A COLON (:)\n            case 0x003A:\n                // Return a <colon-token>.\n                type = TYPE.Colon;\n                offset++;\n                break;\n\n            // U+003B SEMICOLON (;)\n            case 0x003B:\n                // Return a <semicolon-token>.\n                type = TYPE.Semicolon;\n                offset++;\n                break;\n\n            // U+003C LESS-THAN SIGN (<)\n            case 0x003C:\n                // If the next 3 input code points are U+0021 EXCLAMATION MARK U+002D HYPHEN-MINUS U+002D HYPHEN-MINUS (!--), ...\n                if (getCharCode(offset + 1) === 0x0021 &&\n                    getCharCode(offset + 2) === 0x002D &&\n                    getCharCode(offset + 3) === 0x002D) {\n                    // ... consume them and return a <CDO-token>.\n                    type = TYPE.CDO;\n                    offset = offset + 4;\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+0040 COMMERCIAL AT (@)\n            case 0x0040:\n                // If the next 3 input code points would start an identifier, ...\n                if (isIdentifierStart(getCharCode(offset + 1), getCharCode(offset + 2), getCharCode(offset + 3))) {\n                    // ... consume a name, create an <at-keyword-token> with its value set to the returned value, and return it.\n                    type = TYPE.AtKeyword;\n                    offset = consumeName(source, offset + 1);\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+005B LEFT SQUARE BRACKET ([)\n            case 0x005B:\n                // Return a <[-token>.\n                type = TYPE.LeftSquareBracket;\n                offset++;\n                break;\n\n            // U+005C REVERSE SOLIDUS (\\)\n            case 0x005C:\n                // If the input stream starts with a valid escape, ...\n                if (isValidEscape(code, getCharCode(offset + 1))) {\n                    // ... reconsume the current input code point, consume an ident-like token, and return it.\n                    consumeIdentLikeToken();\n                } else {\n                    // Otherwise, this is a parse error. Return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+005D RIGHT SQUARE BRACKET (])\n            case 0x005D:\n                // Return a <]-token>.\n                type = TYPE.RightSquareBracket;\n                offset++;\n                break;\n\n            // U+007B LEFT CURLY BRACKET ({)\n            case 0x007B:\n                // Return a <{-token>.\n                type = TYPE.LeftCurlyBracket;\n                offset++;\n                break;\n\n            // U+007D RIGHT CURLY BRACKET (})\n            case 0x007D:\n                // Return a <}-token>.\n                type = TYPE.RightCurlyBracket;\n                offset++;\n                break;\n\n            // digit\n            case charCodeCategory.Digit:\n                // Reconsume the current input code point, consume a numeric token, and return it.\n                consumeNumericToken();\n                break;\n\n            // name-start code point\n            case charCodeCategory.NameStart:\n                // Reconsume the current input code point, consume an ident-like token, and return it.\n                consumeIdentLikeToken();\n                break;\n\n            // EOF\n            case charCodeCategory.Eof:\n                // Return an <EOF-token>.\n                break;\n\n            // anything else\n            default:\n                // Return a <delim-token> with its value set to the current input code point.\n                type = TYPE.Delim;\n                offset++;\n        }\n\n        switch (type) {\n            case balanceCloseType:\n                balancePrev = balanceStart & OFFSET_MASK;\n                balanceStart = balance[balancePrev];\n                balanceCloseType = balanceStart >> TYPE_SHIFT;\n                balance[tokenCount] = balancePrev;\n                balance[balancePrev++] = tokenCount;\n                for (; balancePrev < tokenCount; balancePrev++) {\n                    if (balance[balancePrev] === sourceLength) {\n                        balance[balancePrev] = tokenCount;\n                    }\n                }\n                break;\n\n            case TYPE.LeftParenthesis:\n            case TYPE.Function:\n                balance[tokenCount] = balanceStart;\n                balanceCloseType = TYPE.RightParenthesis;\n                balanceStart = (balanceCloseType << TYPE_SHIFT) | tokenCount;\n                break;\n\n            case TYPE.LeftSquareBracket:\n                balance[tokenCount] = balanceStart;\n                balanceCloseType = TYPE.RightSquareBracket;\n                balanceStart = (balanceCloseType << TYPE_SHIFT) | tokenCount;\n                break;\n\n            case TYPE.LeftCurlyBracket:\n                balance[tokenCount] = balanceStart;\n                balanceCloseType = TYPE.RightCurlyBracket;\n                balanceStart = (balanceCloseType << TYPE_SHIFT) | tokenCount;\n                break;\n        }\n\n        offsetAndType[tokenCount++] = (type << TYPE_SHIFT) | offset;\n    }\n\n    // finalize buffers\n    offsetAndType[tokenCount] = (TYPE.EOF << TYPE_SHIFT) | offset; // <EOF-token>\n    balance[tokenCount] = sourceLength;\n    balance[sourceLength] = sourceLength; // prevents false positive balance match with any token\n    while (balanceStart !== 0) {\n        balancePrev = balanceStart & OFFSET_MASK;\n        balanceStart = balance[balancePrev];\n        balance[balancePrev] = sourceLength;\n    }\n\n    // update stream\n    stream.source = source;\n    stream.firstCharOffset = start;\n    stream.offsetAndType = offsetAndType;\n    stream.tokenCount = tokenCount;\n    stream.balance = balance;\n    stream.reset();\n    stream.next();\n\n    return stream;\n}\n\n// extend tokenizer with constants\nObject.keys(constants).forEach(function(key) {\n    tokenize[key] = constants[key];\n});\n\n// extend tokenizer with static methods from utils\nObject.keys(charCodeDefinitions).forEach(function(key) {\n    tokenize[key] = charCodeDefinitions[key];\n});\nObject.keys(utils).forEach(function(key) {\n    tokenize[key] = utils[key];\n});\n\nmodule.exports = tokenize;\n","var tokenizer = require('../tokenizer');\nvar isIdentifierStart = tokenizer.isIdentifierStart;\nvar isHexDigit = tokenizer.isHexDigit;\nvar isDigit = tokenizer.isDigit;\nvar cmpStr = tokenizer.cmpStr;\nvar consumeNumber = tokenizer.consumeNumber;\nvar TYPE = tokenizer.TYPE;\nvar anPlusB = require('./generic-an-plus-b');\nvar urange = require('./generic-urange');\n\nvar cssWideKeywords = ['unset', 'initial', 'inherit'];\nvar calcFunctionNames = ['calc(', '-moz-calc(', '-webkit-calc('];\n\n// https://www.w3.org/TR/css-values-3/#lengths\nvar LENGTH = {\n    // absolute length units\n    'px': true,\n    'mm': true,\n    'cm': true,\n    'in': true,\n    'pt': true,\n    'pc': true,\n    'q': true,\n\n    // relative length units\n    'em': true,\n    'ex': true,\n    'ch': true,\n    'rem': true,\n\n    // viewport-percentage lengths\n    'vh': true,\n    'vw': true,\n    'vmin': true,\n    'vmax': true,\n    'vm': true\n};\n\nvar ANGLE = {\n    'deg': true,\n    'grad': true,\n    'rad': true,\n    'turn': true\n};\n\nvar TIME = {\n    's': true,\n    'ms': true\n};\n\nvar FREQUENCY = {\n    'hz': true,\n    'khz': true\n};\n\n// https://www.w3.org/TR/css-values-3/#resolution (https://drafts.csswg.org/css-values/#resolution)\nvar RESOLUTION = {\n    'dpi': true,\n    'dpcm': true,\n    'dppx': true,\n    'x': true      // https://github.com/w3c/csswg-drafts/issues/461\n};\n\n// https://drafts.csswg.org/css-grid/#fr-unit\nvar FLEX = {\n    'fr': true\n};\n\n// https://www.w3.org/TR/css3-speech/#mixing-props-voice-volume\nvar DECIBEL = {\n    'db': true\n};\n\n// https://www.w3.org/TR/css3-speech/#voice-props-voice-pitch\nvar SEMITONES = {\n    'st': true\n};\n\n// safe char code getter\nfunction charCode(str, index) {\n    return index < str.length ? str.charCodeAt(index) : 0;\n}\n\nfunction eqStr(actual, expected) {\n    return cmpStr(actual, 0, actual.length, expected);\n}\n\nfunction eqStrAny(actual, expected) {\n    for (var i = 0; i < expected.length; i++) {\n        if (eqStr(actual, expected[i])) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n// IE postfix hack, i.e. 123\\0 or 123px\\9\nfunction isPostfixIeHack(str, offset) {\n    if (offset !== str.length - 2) {\n        return false;\n    }\n\n    return (\n        str.charCodeAt(offset) === 0x005C &&  // U+005C REVERSE SOLIDUS (\\)\n        isDigit(str.charCodeAt(offset + 1))\n    );\n}\n\nfunction outOfRange(opts, value, numEnd) {\n    if (opts && opts.type === 'Range') {\n        var num = Number(\n            numEnd !== undefined && numEnd !== value.length\n                ? value.substr(0, numEnd)\n                : value\n        );\n\n        if (isNaN(num)) {\n            return true;\n        }\n\n        if (opts.min !== null && num < opts.min) {\n            return true;\n        }\n\n        if (opts.max !== null && num > opts.max) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction consumeFunction(token, getNextToken) {\n    var startIdx = token.index;\n    var length = 0;\n\n    // balanced token consuming\n    do {\n        length++;\n\n        if (token.balance <= startIdx) {\n            break;\n        }\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// TODO: implement\n// can be used wherever <length>, <frequency>, <angle>, <time>, <percentage>, <number>, or <integer> values are allowed\n// https://drafts.csswg.org/css-values/#calc-notation\nfunction calc(next) {\n    return function(token, getNextToken, opts) {\n        if (token === null) {\n            return 0;\n        }\n\n        if (token.type === TYPE.Function && eqStrAny(token.value, calcFunctionNames)) {\n            return consumeFunction(token, getNextToken);\n        }\n\n        return next(token, getNextToken, opts);\n    };\n}\n\nfunction tokenType(expectedTokenType) {\n    return function(token) {\n        if (token === null || token.type !== expectedTokenType) {\n            return 0;\n        }\n\n        return 1;\n    };\n}\n\nfunction func(name) {\n    name = name + '(';\n\n    return function(token, getNextToken) {\n        if (token !== null && eqStr(token.value, name)) {\n            return consumeFunction(token, getNextToken);\n        }\n\n        return 0;\n    };\n}\n\n// =========================\n// Complex types\n//\n\n// https://drafts.csswg.org/css-values-4/#custom-idents\n// 4.2. Author-defined Identifiers: the <custom-ident> type\n// Some properties accept arbitrary author-defined identifiers as a component value.\n// This generic data type is denoted by <custom-ident>, and represents any valid CSS identifier\n// that would not be misinterpreted as a pre-defined keyword in that propertys value definition.\n//\n// See also: https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident\nfunction customIdent(token) {\n    if (token === null || token.type !== TYPE.Ident) {\n        return 0;\n    }\n\n    var name = token.value.toLowerCase();\n\n    // The CSS-wide keywords are not valid <custom-ident>s\n    if (eqStrAny(name, cssWideKeywords)) {\n        return 0;\n    }\n\n    // The default keyword is reserved and is also not a valid <custom-ident>\n    if (eqStr(name, 'default')) {\n        return 0;\n    }\n\n    // TODO: ignore property specific keywords (as described https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident)\n    // Specifications using <custom-ident> must specify clearly what other keywords\n    // are excluded from <custom-ident>, if anyfor example by saying that any pre-defined keywords\n    // in that propertys value definition are excluded. Excluded keywords are excluded\n    // in all ASCII case permutations.\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-variables/#typedef-custom-property-name\n// A custom property is any property whose name starts with two dashes (U+002D HYPHEN-MINUS), like --foo.\n// The <custom-property-name> production corresponds to this: its defined as any valid identifier\n// that starts with two dashes, except -- itself, which is reserved for future use by CSS.\n// NOTE: Current implementation treat `--` as a valid name since most (all?) major browsers treat it as valid.\nfunction customPropertyName(token) {\n    // ... defined as any valid identifier\n    if (token === null || token.type !== TYPE.Ident) {\n        return 0;\n    }\n\n    // ... that starts with two dashes (U+002D HYPHEN-MINUS)\n    if (charCode(token.value, 0) !== 0x002D || charCode(token.value, 1) !== 0x002D) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-color-4/#hex-notation\n// The syntax of a <hex-color> is a <hash-token> token whose value consists of 3, 4, 6, or 8 hexadecimal digits.\n// In other words, a hex color is written as a hash character, \"#\", followed by some number of digits 0-9 or\n// letters a-f (the case of the letters doesnt matter - #00ff00 is identical to #00FF00).\nfunction hexColor(token) {\n    if (token === null || token.type !== TYPE.Hash) {\n        return 0;\n    }\n\n    var length = token.value.length;\n\n    // valid values (length): #rgb (4), #rgba (5), #rrggbb (7), #rrggbbaa (9)\n    if (length !== 4 && length !== 5 && length !== 7 && length !== 9) {\n        return 0;\n    }\n\n    for (var i = 1; i < length; i++) {\n        if (!isHexDigit(token.value.charCodeAt(i))) {\n            return 0;\n        }\n    }\n\n    return 1;\n}\n\nfunction idSelector(token) {\n    if (token === null || token.type !== TYPE.Hash) {\n        return 0;\n    }\n\n    if (!isIdentifierStart(charCode(token.value, 1), charCode(token.value, 2), charCode(token.value, 3))) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-syntax/#any-value\n// It represents the entirety of what a valid declaration can have as its value.\nfunction declarationValue(token, getNextToken) {\n    if (!token) {\n        return 0;\n    }\n\n    var length = 0;\n    var level = 0;\n    var startIdx = token.index;\n\n    // The <declaration-value> production matches any sequence of one or more tokens,\n    // so long as the sequence ...\n    scan:\n    do {\n        switch (token.type) {\n            // ... does not contain <bad-string-token>, <bad-url-token>,\n            case TYPE.BadString:\n            case TYPE.BadUrl:\n                break scan;\n\n            // ... unmatched <)-token>, <]-token>, or <}-token>,\n            case TYPE.RightCurlyBracket:\n            case TYPE.RightParenthesis:\n            case TYPE.RightSquareBracket:\n                if (token.balance > token.index || token.balance < startIdx) {\n                    break scan;\n                }\n\n                level--;\n                break;\n\n            // ... or top-level <semicolon-token> tokens\n            case TYPE.Semicolon:\n                if (level === 0) {\n                    break scan;\n                }\n\n                break;\n\n            // ... or <delim-token> tokens with a value of \"!\"\n            case TYPE.Delim:\n                if (token.value === '!' && level === 0) {\n                    break scan;\n                }\n\n                break;\n\n            case TYPE.Function:\n            case TYPE.LeftParenthesis:\n            case TYPE.LeftSquareBracket:\n            case TYPE.LeftCurlyBracket:\n                level++;\n                break;\n        }\n\n        length++;\n\n        // until balance closing\n        if (token.balance <= startIdx) {\n            break;\n        }\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// https://drafts.csswg.org/css-syntax/#any-value\n// The <any-value> production is identical to <declaration-value>, but also\n// allows top-level <semicolon-token> tokens and <delim-token> tokens\n// with a value of \"!\". It represents the entirety of what valid CSS can be in any context.\nfunction anyValue(token, getNextToken) {\n    if (!token) {\n        return 0;\n    }\n\n    var startIdx = token.index;\n    var length = 0;\n\n    // The <any-value> production matches any sequence of one or more tokens,\n    // so long as the sequence ...\n    scan:\n    do {\n        switch (token.type) {\n            // ... does not contain <bad-string-token>, <bad-url-token>,\n            case TYPE.BadString:\n            case TYPE.BadUrl:\n                break scan;\n\n            // ... unmatched <)-token>, <]-token>, or <}-token>,\n            case TYPE.RightCurlyBracket:\n            case TYPE.RightParenthesis:\n            case TYPE.RightSquareBracket:\n                if (token.balance > token.index || token.balance < startIdx) {\n                    break scan;\n                }\n\n                break;\n        }\n\n        length++;\n\n        // until balance closing\n        if (token.balance <= startIdx) {\n            break;\n        }\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// =========================\n// Dimensions\n//\n\nfunction dimension(type) {\n    return function(token, getNextToken, opts) {\n        if (token === null || token.type !== TYPE.Dimension) {\n            return 0;\n        }\n\n        var numberEnd = consumeNumber(token.value, 0);\n\n        // check unit\n        if (type !== null) {\n            // check for IE postfix hack, i.e. 123px\\0 or 123px\\9\n            var reverseSolidusOffset = token.value.indexOf('\\\\', numberEnd);\n            var unit = reverseSolidusOffset === -1 || !isPostfixIeHack(token.value, reverseSolidusOffset)\n                ? token.value.substr(numberEnd)\n                : token.value.substring(numberEnd, reverseSolidusOffset);\n\n            if (type.hasOwnProperty(unit.toLowerCase()) === false) {\n                return 0;\n            }\n        }\n\n        // check range if specified\n        if (outOfRange(opts, token.value, numberEnd)) {\n            return 0;\n        }\n\n        return 1;\n    };\n}\n\n// =========================\n// Percentage\n//\n\n// 5.5. Percentages: the <percentage> type\n// https://drafts.csswg.org/css-values-4/#percentages\nfunction percentage(token, getNextToken, opts) {\n    // ... corresponds to the <percentage-token> production\n    if (token === null || token.type !== TYPE.Percentage) {\n        return 0;\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, token.value.length - 1)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// =========================\n// Numeric\n//\n\n// https://drafts.csswg.org/css-values-4/#numbers\n// The value <zero> represents a literal number with the value 0. Expressions that merely\n// evaluate to a <number> with the value 0 (for example, calc(0)) do not match <zero>;\n// only literal <number-token>s do.\nfunction zero(next) {\n    if (typeof next !== 'function') {\n        next = function() {\n            return 0;\n        };\n    }\n\n    return function(token, getNextToken, opts) {\n        if (token !== null && token.type === TYPE.Number) {\n            if (Number(token.value) === 0) {\n                return 1;\n            }\n        }\n\n        return next(token, getNextToken, opts);\n    };\n}\n\n//  5.3. Real Numbers: the <number> type\n// https://drafts.csswg.org/css-values-4/#numbers\n// Number values are denoted by <number>, and represent real numbers, possibly with a fractional component.\n// ... It corresponds to the <number-token> production\nfunction number(token, getNextToken, opts) {\n    if (token === null) {\n        return 0;\n    }\n\n    var numberEnd = consumeNumber(token.value, 0);\n    var isNumber = numberEnd === token.value.length;\n    if (!isNumber && !isPostfixIeHack(token.value, numberEnd)) {\n        return 0;\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, numberEnd)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// 5.2. Integers: the <integer> type\n// https://drafts.csswg.org/css-values-4/#integers\nfunction integer(token, getNextToken, opts) {\n    // ... corresponds to a subset of the <number-token> production\n    if (token === null || token.type !== TYPE.Number) {\n        return 0;\n    }\n\n    // The first digit of an integer may be immediately preceded by `-` or `+` to indicate the integers sign.\n    var i = token.value.charCodeAt(0) === 0x002B ||       // U+002B PLUS SIGN (+)\n            token.value.charCodeAt(0) === 0x002D ? 1 : 0; // U+002D HYPHEN-MINUS (-)\n\n    // When written literally, an integer is one or more decimal digits 0 through 9 ...\n    for (; i < token.value.length; i++) {\n        if (!isDigit(token.value.charCodeAt(i))) {\n            return 0;\n        }\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, i)) {\n        return 0;\n    }\n\n    return 1;\n}\n\nmodule.exports = {\n    // token types\n    'ident-token': tokenType(TYPE.Ident),\n    'function-token': tokenType(TYPE.Function),\n    'at-keyword-token': tokenType(TYPE.AtKeyword),\n    'hash-token': tokenType(TYPE.Hash),\n    'string-token': tokenType(TYPE.String),\n    'bad-string-token': tokenType(TYPE.BadString),\n    'url-token': tokenType(TYPE.Url),\n    'bad-url-token': tokenType(TYPE.BadUrl),\n    'delim-token': tokenType(TYPE.Delim),\n    'number-token': tokenType(TYPE.Number),\n    'percentage-token': tokenType(TYPE.Percentage),\n    'dimension-token': tokenType(TYPE.Dimension),\n    'whitespace-token': tokenType(TYPE.WhiteSpace),\n    'CDO-token': tokenType(TYPE.CDO),\n    'CDC-token': tokenType(TYPE.CDC),\n    'colon-token': tokenType(TYPE.Colon),\n    'semicolon-token': tokenType(TYPE.Semicolon),\n    'comma-token': tokenType(TYPE.Comma),\n    '[-token': tokenType(TYPE.LeftSquareBracket),\n    ']-token': tokenType(TYPE.RightSquareBracket),\n    '(-token': tokenType(TYPE.LeftParenthesis),\n    ')-token': tokenType(TYPE.RightParenthesis),\n    '{-token': tokenType(TYPE.LeftCurlyBracket),\n    '}-token': tokenType(TYPE.RightCurlyBracket),\n\n    // token type aliases\n    'string': tokenType(TYPE.String),\n    'ident': tokenType(TYPE.Ident),\n\n    // complex types\n    'custom-ident': customIdent,\n    'custom-property-name': customPropertyName,\n    'hex-color': hexColor,\n    'id-selector': idSelector, // element( <id-selector> )\n    'an-plus-b': anPlusB,\n    'urange': urange,\n    'declaration-value': declarationValue,\n    'any-value': anyValue,\n\n    // dimensions\n    'dimension': calc(dimension(null)),\n    'angle': calc(dimension(ANGLE)),\n    'decibel': calc(dimension(DECIBEL)),\n    'frequency': calc(dimension(FREQUENCY)),\n    'flex': calc(dimension(FLEX)),\n    'length': calc(zero(dimension(LENGTH))),\n    'resolution': calc(dimension(RESOLUTION)),\n    'semitones': calc(dimension(SEMITONES)),\n    'time': calc(dimension(TIME)),\n\n    // percentage\n    'percentage': calc(percentage),\n\n    // numeric\n    'zero': zero(),\n    'number': calc(number),\n    'integer': calc(integer),\n\n    // old IE stuff\n    '-ms-legacy-expression': func('expression')\n};\n","var isDigit = require('../tokenizer').isDigit;\nvar cmpChar = require('../tokenizer').cmpChar;\nvar TYPE = require('../tokenizer').TYPE;\n\nvar DELIM = TYPE.Delim;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nvar N = 0x006E;           // U+006E LATIN SMALL LETTER N (n)\nvar DISALLOW_SIGN = true;\nvar ALLOW_SIGN = false;\n\nfunction isDelim(token, code) {\n    return token !== null && token.type === DELIM && token.value.charCodeAt(0) === code;\n}\n\nfunction skipSC(token, offset, getNextToken) {\n    while (token !== null && (token.type === WHITESPACE || token.type === COMMENT)) {\n        token = getNextToken(++offset);\n    }\n\n    return offset;\n}\n\nfunction checkInteger(token, valueOffset, disallowSign, offset) {\n    if (!token) {\n        return 0;\n    }\n\n    var code = token.value.charCodeAt(valueOffset);\n\n    if (code === PLUSSIGN || code === HYPHENMINUS) {\n        if (disallowSign) {\n            // Number sign is not allowed\n            return 0;\n        }\n        valueOffset++;\n    }\n\n    for (; valueOffset < token.value.length; valueOffset++) {\n        if (!isDigit(token.value.charCodeAt(valueOffset))) {\n            // Integer is expected\n            return 0;\n        }\n    }\n\n    return offset + 1;\n}\n\n// ... <signed-integer>\n// ... ['+' | '-'] <signless-integer>\nfunction consumeB(token, offset_, getNextToken) {\n    var sign = false;\n    var offset = skipSC(token, offset_, getNextToken);\n\n    token = getNextToken(offset);\n\n    if (token === null) {\n        return offset_;\n    }\n\n    if (token.type !== NUMBER) {\n        if (isDelim(token, PLUSSIGN) || isDelim(token, HYPHENMINUS)) {\n            sign = true;\n            offset = skipSC(getNextToken(++offset), offset, getNextToken);\n            token = getNextToken(offset);\n\n            if (token === null && token.type !== NUMBER) {\n                return 0;\n            }\n        } else {\n            return offset_;\n        }\n    }\n\n    if (!sign) {\n        var code = token.value.charCodeAt(0);\n        if (code !== PLUSSIGN && code !== HYPHENMINUS) {\n            // Number sign is expected\n            return 0;\n        }\n    }\n\n    return checkInteger(token, sign ? 0 : 1, sign, offset);\n}\n\n// An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb\nmodule.exports = function anPlusB(token, getNextToken) {\n    /* eslint-disable brace-style*/\n    var offset = 0;\n\n    if (!token) {\n        return 0;\n    }\n\n    // <integer>\n    if (token.type === NUMBER) {\n        return checkInteger(token, 0, ALLOW_SIGN, offset); // b\n    }\n\n    // -n\n    // -n <signed-integer>\n    // -n ['+' | '-'] <signless-integer>\n    // -n- <signless-integer>\n    // <dashndashdigit-ident>\n    else if (token.type === IDENT && token.value.charCodeAt(0) === HYPHENMINUS) {\n        // expect 1st char is N\n        if (!cmpChar(token.value, 1, N)) {\n            return 0;\n        }\n\n        switch (token.value.length) {\n            // -n\n            // -n <signed-integer>\n            // -n ['+' | '-'] <signless-integer>\n            case 2:\n                return consumeB(getNextToken(++offset), offset, getNextToken);\n\n            // -n- <signless-integer>\n            case 3:\n                if (token.value.charCodeAt(2) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n\n            // <dashndashdigit-ident>\n            default:\n                if (token.value.charCodeAt(2) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                return checkInteger(token, 3, DISALLOW_SIGN, offset);\n        }\n    }\n\n    // '+'? n\n    // '+'? n <signed-integer>\n    // '+'? n ['+' | '-'] <signless-integer>\n    // '+'? n- <signless-integer>\n    // '+'? <ndashdigit-ident>\n    else if (token.type === IDENT || (isDelim(token, PLUSSIGN) && getNextToken(offset + 1).type === IDENT)) {\n        // just ignore a plus\n        if (token.type !== IDENT) {\n            token = getNextToken(++offset);\n        }\n\n        if (token === null || !cmpChar(token.value, 0, N)) {\n            return 0;\n        }\n\n        switch (token.value.length) {\n            // '+'? n\n            // '+'? n <signed-integer>\n            // '+'? n ['+' | '-'] <signless-integer>\n            case 1:\n                return consumeB(getNextToken(++offset), offset, getNextToken);\n\n            // '+'? n- <signless-integer>\n            case 2:\n                if (token.value.charCodeAt(1) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n\n            // '+'? <ndashdigit-ident>\n            default:\n                if (token.value.charCodeAt(1) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                return checkInteger(token, 2, DISALLOW_SIGN, offset);\n        }\n    }\n\n    // <ndashdigit-dimension>\n    // <ndash-dimension> <signless-integer>\n    // <n-dimension>\n    // <n-dimension> <signed-integer>\n    // <n-dimension> ['+' | '-'] <signless-integer>\n    else if (token.type === DIMENSION) {\n        var code = token.value.charCodeAt(0);\n        var sign = code === PLUSSIGN || code === HYPHENMINUS ? 1 : 0;\n\n        for (var i = sign; i < token.value.length; i++) {\n            if (!isDigit(token.value.charCodeAt(i))) {\n                break;\n            }\n        }\n\n        if (i === sign) {\n            // Integer is expected\n            return 0;\n        }\n\n        if (!cmpChar(token.value, i, N)) {\n            return 0;\n        }\n\n        // <n-dimension>\n        // <n-dimension> <signed-integer>\n        // <n-dimension> ['+' | '-'] <signless-integer>\n        if (i + 1 === token.value.length) {\n            return consumeB(getNextToken(++offset), offset, getNextToken);\n        } else {\n            if (token.value.charCodeAt(i + 1) !== HYPHENMINUS) {\n                return 0;\n            }\n\n            // <ndash-dimension> <signless-integer>\n            if (i + 2 === token.value.length) {\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n            }\n            // <ndashdigit-dimension>\n            else {\n                return checkInteger(token, i + 2, DISALLOW_SIGN, offset);\n            }\n        }\n    }\n\n    return 0;\n};\n","var isHexDigit = require('../tokenizer').isHexDigit;\nvar cmpChar = require('../tokenizer').cmpChar;\nvar TYPE = require('../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar DELIM = TYPE.Delim;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;     // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D;  // U+002D HYPHEN-MINUS (-)\nvar QUESTIONMARK = 0x003F; // U+003F QUESTION MARK (?)\nvar U = 0x0075;            // U+0075 LATIN SMALL LETTER U (u)\n\nfunction isDelim(token, code) {\n    return token !== null && token.type === DELIM && token.value.charCodeAt(0) === code;\n}\n\nfunction startsWith(token, code) {\n    return token.value.charCodeAt(0) === code;\n}\n\nfunction hexSequence(token, offset, allowDash) {\n    for (var pos = offset, hexlen = 0; pos < token.value.length; pos++) {\n        var code = token.value.charCodeAt(pos);\n\n        if (code === HYPHENMINUS && allowDash && hexlen !== 0) {\n            if (hexSequence(token, offset + hexlen + 1, false) > 0) {\n                return 6; // dissallow following question marks\n            }\n\n            return 0; // dash at the ending of a hex sequence is not allowed\n        }\n\n        if (!isHexDigit(code)) {\n            return 0; // not a hex digit\n        }\n\n        if (++hexlen > 6) {\n            return 0; // too many hex digits\n        };\n    }\n\n    return hexlen;\n}\n\nfunction withQuestionMarkSequence(consumed, length, getNextToken) {\n    if (!consumed) {\n        return 0; // nothing consumed\n    }\n\n    while (isDelim(getNextToken(length), QUESTIONMARK)) {\n        if (++consumed > 6) {\n            return 0; // too many question marks\n        }\n\n        length++;\n    }\n\n    return length;\n}\n\n// https://drafts.csswg.org/css-syntax/#urange\n// Informally, the <urange> production has three forms:\n// U+0001\n//      Defines a range consisting of a single code point, in this case the code point \"1\".\n// U+0001-00ff\n//      Defines a range of codepoints between the first and the second value, in this case\n//      the range between \"1\" and \"ff\" (255 in decimal) inclusive.\n// U+00??\n//      Defines a range of codepoints where the \"?\" characters range over all hex digits,\n//      in this case defining the same as the value U+0000-00ff.\n// In each form, a maximum of 6 digits is allowed for each hexadecimal number (if you treat \"?\" as a hexadecimal digit).\n//\n// <urange> =\n//   u '+' <ident-token> '?'* |\n//   u <dimension-token> '?'* |\n//   u <number-token> '?'* |\n//   u <number-token> <dimension-token> |\n//   u <number-token> <number-token> |\n//   u '+' '?'+\nmodule.exports = function urange(token, getNextToken) {\n    var length = 0;\n\n    // should start with `u` or `U`\n    if (token === null || token.type !== IDENT || !cmpChar(token.value, 0, U)) {\n        return 0;\n    }\n\n    token = getNextToken(++length);\n    if (token === null) {\n        return 0;\n    }\n\n    // u '+' <ident-token> '?'*\n    // u '+' '?'+\n    if (isDelim(token, PLUSSIGN)) {\n        token = getNextToken(++length);\n        if (token === null) {\n            return 0;\n        }\n\n        if (token.type === IDENT) {\n            // u '+' <ident-token> '?'*\n            return withQuestionMarkSequence(hexSequence(token, 0, true), ++length, getNextToken);\n        }\n\n        if (isDelim(token, QUESTIONMARK)) {\n            // u '+' '?'+\n            return withQuestionMarkSequence(1, ++length, getNextToken);\n        }\n\n        // Hex digit or question mark is expected\n        return 0;\n    }\n\n    // u <number-token> '?'*\n    // u <number-token> <dimension-token>\n    // u <number-token> <number-token>\n    if (token.type === NUMBER) {\n        if (!startsWith(token, PLUSSIGN)) {\n            return 0;\n        }\n\n        var consumedHexLength = hexSequence(token, 1, true);\n        if (consumedHexLength === 0) {\n            return 0;\n        }\n\n        token = getNextToken(++length);\n        if (token === null) {\n            // u <number-token> <eof>\n            return length;\n        }\n\n        if (token.type === DIMENSION || token.type === NUMBER) {\n            // u <number-token> <dimension-token>\n            // u <number-token> <number-token>\n            if (!startsWith(token, HYPHENMINUS) || !hexSequence(token, 1, false)) {\n                return 0;\n            }\n\n            return length + 1;\n        }\n\n        // u <number-token> '?'*\n        return withQuestionMarkSequence(consumedHexLength, length, getNextToken);\n    }\n\n    // u <dimension-token> '?'*\n    if (token.type === DIMENSION) {\n        if (!startsWith(token, PLUSSIGN)) {\n            return 0;\n        }\n\n        return withQuestionMarkSequence(hexSequence(token, 1, true), ++length, getNextToken);\n    }\n\n    return 0;\n};\n","var createCustomError = require('../utils/createCustomError');\n\nmodule.exports = function SyntaxError(message, input, offset) {\n    var error = createCustomError('SyntaxError', message);\n\n    error.input = input;\n    error.offset = offset;\n    error.rawMessage = message;\n    error.message = error.rawMessage + '\\n' +\n        '  ' + error.input + '\\n' +\n        '--' + new Array((error.offset || error.input.length) + 1).join('-') + '^';\n\n    return error;\n};\n","var Tokenizer = require('./tokenizer');\nvar TAB = 9;\nvar N = 10;\nvar F = 12;\nvar R = 13;\nvar SPACE = 32;\nvar EXCLAMATIONMARK = 33;    // !\nvar NUMBERSIGN = 35;         // #\nvar AMPERSAND = 38;          // &\nvar APOSTROPHE = 39;         // '\nvar LEFTPARENTHESIS = 40;    // (\nvar RIGHTPARENTHESIS = 41;   // )\nvar ASTERISK = 42;           // *\nvar PLUSSIGN = 43;           // +\nvar COMMA = 44;              // ,\nvar HYPERMINUS = 45;         // -\nvar LESSTHANSIGN = 60;       // <\nvar GREATERTHANSIGN = 62;    // >\nvar QUESTIONMARK = 63;       // ?\nvar COMMERCIALAT = 64;       // @\nvar LEFTSQUAREBRACKET = 91;  // [\nvar RIGHTSQUAREBRACKET = 93; // ]\nvar LEFTCURLYBRACKET = 123;  // {\nvar VERTICALLINE = 124;      // |\nvar RIGHTCURLYBRACKET = 125; // }\nvar INFINITY = 8734;         // \nvar NAME_CHAR = createCharMap(function(ch) {\n    return /[a-zA-Z0-9\\-]/.test(ch);\n});\nvar COMBINATOR_PRECEDENCE = {\n    ' ': 1,\n    '&&': 2,\n    '||': 3,\n    '|': 4\n};\n\nfunction createCharMap(fn) {\n    var array = typeof Uint32Array === 'function' ? new Uint32Array(128) : new Array(128);\n    for (var i = 0; i < 128; i++) {\n        array[i] = fn(String.fromCharCode(i)) ? 1 : 0;\n    }\n    return array;\n}\n\nfunction scanSpaces(tokenizer) {\n    return tokenizer.substringToPos(\n        tokenizer.findWsEnd(tokenizer.pos)\n    );\n}\n\nfunction scanWord(tokenizer) {\n    var end = tokenizer.pos;\n\n    for (; end < tokenizer.str.length; end++) {\n        var code = tokenizer.str.charCodeAt(end);\n        if (code >= 128 || NAME_CHAR[code] === 0) {\n            break;\n        }\n    }\n\n    if (tokenizer.pos === end) {\n        tokenizer.error('Expect a keyword');\n    }\n\n    return tokenizer.substringToPos(end);\n}\n\nfunction scanNumber(tokenizer) {\n    var end = tokenizer.pos;\n\n    for (; end < tokenizer.str.length; end++) {\n        var code = tokenizer.str.charCodeAt(end);\n        if (code < 48 || code > 57) {\n            break;\n        }\n    }\n\n    if (tokenizer.pos === end) {\n        tokenizer.error('Expect a number');\n    }\n\n    return tokenizer.substringToPos(end);\n}\n\nfunction scanString(tokenizer) {\n    var end = tokenizer.str.indexOf('\\'', tokenizer.pos + 1);\n\n    if (end === -1) {\n        tokenizer.pos = tokenizer.str.length;\n        tokenizer.error('Expect an apostrophe');\n    }\n\n    return tokenizer.substringToPos(end + 1);\n}\n\nfunction readMultiplierRange(tokenizer) {\n    var min = null;\n    var max = null;\n\n    tokenizer.eat(LEFTCURLYBRACKET);\n\n    min = scanNumber(tokenizer);\n\n    if (tokenizer.charCode() === COMMA) {\n        tokenizer.pos++;\n        if (tokenizer.charCode() !== RIGHTCURLYBRACKET) {\n            max = scanNumber(tokenizer);\n        }\n    } else {\n        max = min;\n    }\n\n    tokenizer.eat(RIGHTCURLYBRACKET);\n\n    return {\n        min: Number(min),\n        max: max ? Number(max) : 0\n    };\n}\n\nfunction readMultiplier(tokenizer) {\n    var range = null;\n    var comma = false;\n\n    switch (tokenizer.charCode()) {\n        case ASTERISK:\n            tokenizer.pos++;\n\n            range = {\n                min: 0,\n                max: 0\n            };\n\n            break;\n\n        case PLUSSIGN:\n            tokenizer.pos++;\n\n            range = {\n                min: 1,\n                max: 0\n            };\n\n            break;\n\n        case QUESTIONMARK:\n            tokenizer.pos++;\n\n            range = {\n                min: 0,\n                max: 1\n            };\n\n            break;\n\n        case NUMBERSIGN:\n            tokenizer.pos++;\n\n            comma = true;\n\n            if (tokenizer.charCode() === LEFTCURLYBRACKET) {\n                range = readMultiplierRange(tokenizer);\n            } else {\n                range = {\n                    min: 1,\n                    max: 0\n                };\n            }\n\n            break;\n\n        case LEFTCURLYBRACKET:\n            range = readMultiplierRange(tokenizer);\n            break;\n\n        default:\n            return null;\n    }\n\n    return {\n        type: 'Multiplier',\n        comma: comma,\n        min: range.min,\n        max: range.max,\n        term: null\n    };\n}\n\nfunction maybeMultiplied(tokenizer, node) {\n    var multiplier = readMultiplier(tokenizer);\n\n    if (multiplier !== null) {\n        multiplier.term = node;\n        return multiplier;\n    }\n\n    return node;\n}\n\nfunction maybeToken(tokenizer) {\n    var ch = tokenizer.peek();\n\n    if (ch === '') {\n        return null;\n    }\n\n    return {\n        type: 'Token',\n        value: ch\n    };\n}\n\nfunction readProperty(tokenizer) {\n    var name;\n\n    tokenizer.eat(LESSTHANSIGN);\n    tokenizer.eat(APOSTROPHE);\n\n    name = scanWord(tokenizer);\n\n    tokenizer.eat(APOSTROPHE);\n    tokenizer.eat(GREATERTHANSIGN);\n\n    return maybeMultiplied(tokenizer, {\n        type: 'Property',\n        name: name\n    });\n}\n\n// https://drafts.csswg.org/css-values-3/#numeric-ranges\n// 4.1. Range Restrictions and Range Definition Notation\n//\n// Range restrictions can be annotated in the numeric type notation using CSS bracketed\n// range notation[min,max]within the angle brackets, after the identifying keyword,\n// indicating a closed range between (and including) min and max.\n// For example, <integer [0, 10]> indicates an integer between 0 and 10, inclusive.\nfunction readTypeRange(tokenizer) {\n    // use null for Infinity to make AST format JSON serializable/deserializable\n    var min = null; // -Infinity\n    var max = null; // Infinity\n    var sign = 1;\n\n    tokenizer.eat(LEFTSQUAREBRACKET);\n\n    if (tokenizer.charCode() === HYPERMINUS) {\n        tokenizer.peek();\n        sign = -1;\n    }\n\n    if (sign == -1 && tokenizer.charCode() === INFINITY) {\n        tokenizer.peek();\n    } else {\n        min = sign * Number(scanNumber(tokenizer));\n    }\n\n    scanSpaces(tokenizer);\n    tokenizer.eat(COMMA);\n    scanSpaces(tokenizer);\n\n    if (tokenizer.charCode() === INFINITY) {\n        tokenizer.peek();\n    } else {\n        sign = 1;\n\n        if (tokenizer.charCode() === HYPERMINUS) {\n            tokenizer.peek();\n            sign = -1;\n        }\n\n        max = sign * Number(scanNumber(tokenizer));\n    }\n\n    tokenizer.eat(RIGHTSQUAREBRACKET);\n\n    // If no range is indicated, either by using the bracketed range notation\n    // or in the property description, then [,] is assumed.\n    if (min === null && max === null) {\n        return null;\n    }\n\n    return {\n        type: 'Range',\n        min: min,\n        max: max\n    };\n}\n\nfunction readType(tokenizer) {\n    var name;\n    var opts = null;\n\n    tokenizer.eat(LESSTHANSIGN);\n    name = scanWord(tokenizer);\n\n    if (tokenizer.charCode() === LEFTPARENTHESIS &&\n        tokenizer.nextCharCode() === RIGHTPARENTHESIS) {\n        tokenizer.pos += 2;\n        name += '()';\n    }\n\n    if (tokenizer.charCodeAt(tokenizer.findWsEnd(tokenizer.pos)) === LEFTSQUAREBRACKET) {\n        scanSpaces(tokenizer);\n        opts = readTypeRange(tokenizer);\n    }\n\n    tokenizer.eat(GREATERTHANSIGN);\n\n    return maybeMultiplied(tokenizer, {\n        type: 'Type',\n        name: name,\n        opts: opts\n    });\n}\n\nfunction readKeywordOrFunction(tokenizer) {\n    var name;\n\n    name = scanWord(tokenizer);\n\n    if (tokenizer.charCode() === LEFTPARENTHESIS) {\n        tokenizer.pos++;\n\n        return {\n            type: 'Function',\n            name: name\n        };\n    }\n\n    return maybeMultiplied(tokenizer, {\n        type: 'Keyword',\n        name: name\n    });\n}\n\nfunction regroupTerms(terms, combinators) {\n    function createGroup(terms, combinator) {\n        return {\n            type: 'Group',\n            terms: terms,\n            combinator: combinator,\n            disallowEmpty: false,\n            explicit: false\n        };\n    }\n\n    combinators = Object.keys(combinators).sort(function(a, b) {\n        return COMBINATOR_PRECEDENCE[a] - COMBINATOR_PRECEDENCE[b];\n    });\n\n    while (combinators.length > 0) {\n        var combinator = combinators.shift();\n        for (var i = 0, subgroupStart = 0; i < terms.length; i++) {\n            var term = terms[i];\n            if (term.type === 'Combinator') {\n                if (term.value === combinator) {\n                    if (subgroupStart === -1) {\n                        subgroupStart = i - 1;\n                    }\n                    terms.splice(i, 1);\n                    i--;\n                } else {\n                    if (subgroupStart !== -1 && i - subgroupStart > 1) {\n                        terms.splice(\n                            subgroupStart,\n                            i - subgroupStart,\n                            createGroup(terms.slice(subgroupStart, i), combinator)\n                        );\n                        i = subgroupStart + 1;\n                    }\n                    subgroupStart = -1;\n                }\n            }\n        }\n\n        if (subgroupStart !== -1 && combinators.length) {\n            terms.splice(\n                subgroupStart,\n                i - subgroupStart,\n                createGroup(terms.slice(subgroupStart, i), combinator)\n            );\n        }\n    }\n\n    return combinator;\n}\n\nfunction readImplicitGroup(tokenizer) {\n    var terms = [];\n    var combinators = {};\n    var token;\n    var prevToken = null;\n    var prevTokenPos = tokenizer.pos;\n\n    while (token = peek(tokenizer)) {\n        if (token.type !== 'Spaces') {\n            if (token.type === 'Combinator') {\n                // check for combinator in group beginning and double combinator sequence\n                if (prevToken === null || prevToken.type === 'Combinator') {\n                    tokenizer.pos = prevTokenPos;\n                    tokenizer.error('Unexpected combinator');\n                }\n\n                combinators[token.value] = true;\n            } else if (prevToken !== null && prevToken.type !== 'Combinator') {\n                combinators[' '] = true;  // a b\n                terms.push({\n                    type: 'Combinator',\n                    value: ' '\n                });\n            }\n\n            terms.push(token);\n            prevToken = token;\n            prevTokenPos = tokenizer.pos;\n        }\n    }\n\n    // check for combinator in group ending\n    if (prevToken !== null && prevToken.type === 'Combinator') {\n        tokenizer.pos -= prevTokenPos;\n        tokenizer.error('Unexpected combinator');\n    }\n\n    return {\n        type: 'Group',\n        terms: terms,\n        combinator: regroupTerms(terms, combinators) || ' ',\n        disallowEmpty: false,\n        explicit: false\n    };\n}\n\nfunction readGroup(tokenizer) {\n    var result;\n\n    tokenizer.eat(LEFTSQUAREBRACKET);\n    result = readImplicitGroup(tokenizer);\n    tokenizer.eat(RIGHTSQUAREBRACKET);\n\n    result.explicit = true;\n\n    if (tokenizer.charCode() === EXCLAMATIONMARK) {\n        tokenizer.pos++;\n        result.disallowEmpty = true;\n    }\n\n    return result;\n}\n\nfunction peek(tokenizer) {\n    var code = tokenizer.charCode();\n\n    if (code < 128 && NAME_CHAR[code] === 1) {\n        return readKeywordOrFunction(tokenizer);\n    }\n\n    switch (code) {\n        case RIGHTSQUAREBRACKET:\n            // don't eat, stop scan a group\n            break;\n\n        case LEFTSQUAREBRACKET:\n            return maybeMultiplied(tokenizer, readGroup(tokenizer));\n\n        case LESSTHANSIGN:\n            return tokenizer.nextCharCode() === APOSTROPHE\n                ? readProperty(tokenizer)\n                : readType(tokenizer);\n\n        case VERTICALLINE:\n            return {\n                type: 'Combinator',\n                value: tokenizer.substringToPos(\n                    tokenizer.nextCharCode() === VERTICALLINE\n                        ? tokenizer.pos + 2\n                        : tokenizer.pos + 1\n                )\n            };\n\n        case AMPERSAND:\n            tokenizer.pos++;\n            tokenizer.eat(AMPERSAND);\n\n            return {\n                type: 'Combinator',\n                value: '&&'\n            };\n\n        case COMMA:\n            tokenizer.pos++;\n            return {\n                type: 'Comma'\n            };\n\n        case APOSTROPHE:\n            return maybeMultiplied(tokenizer, {\n                type: 'String',\n                value: scanString(tokenizer)\n            });\n\n        case SPACE:\n        case TAB:\n        case N:\n        case R:\n        case F:\n            return {\n                type: 'Spaces',\n                value: scanSpaces(tokenizer)\n            };\n\n        case COMMERCIALAT:\n            code = tokenizer.nextCharCode();\n\n            if (code < 128 && NAME_CHAR[code] === 1) {\n                tokenizer.pos++;\n                return {\n                    type: 'AtKeyword',\n                    name: scanWord(tokenizer)\n                };\n            }\n\n            return maybeToken(tokenizer);\n\n        case ASTERISK:\n        case PLUSSIGN:\n        case QUESTIONMARK:\n        case NUMBERSIGN:\n        case EXCLAMATIONMARK:\n            // prohibited tokens (used as a multiplier start)\n            break;\n\n        case LEFTCURLYBRACKET:\n            // LEFTCURLYBRACKET is allowed since mdn/data uses it w/o quoting\n            // check next char isn't a number, because it's likely a disjoined multiplier\n            code = tokenizer.nextCharCode();\n\n            if (code < 48 || code > 57) {\n                return maybeToken(tokenizer);\n            }\n\n            break;\n\n        default:\n            return maybeToken(tokenizer);\n    }\n}\n\nfunction parse(source) {\n    var tokenizer = new Tokenizer(source);\n    var result = readImplicitGroup(tokenizer);\n\n    if (tokenizer.pos !== source.length) {\n        tokenizer.error('Unexpected input');\n    }\n\n    // reduce redundant groups with single group term\n    if (result.terms.length === 1 && result.terms[0].type === 'Group') {\n        result = result.terms[0];\n    }\n\n    return result;\n}\n\n// warm up parse to elimitate code branches that never execute\n// fix soft deoptimizations (insufficient type feedback)\nparse('[a&&<b>#|<\\'c\\'>*||e() f{2} /,(% g#{1,2} h{2,})]!');\n\nmodule.exports = parse;\n","var SyntaxError = require('./SyntaxError');\n\nvar TAB = 9;\nvar N = 10;\nvar F = 12;\nvar R = 13;\nvar SPACE = 32;\n\nvar Tokenizer = function(str) {\n    this.str = str;\n    this.pos = 0;\n};\n\nTokenizer.prototype = {\n    charCodeAt: function(pos) {\n        return pos < this.str.length ? this.str.charCodeAt(pos) : 0;\n    },\n    charCode: function() {\n        return this.charCodeAt(this.pos);\n    },\n    nextCharCode: function() {\n        return this.charCodeAt(this.pos + 1);\n    },\n    nextNonWsCode: function(pos) {\n        return this.charCodeAt(this.findWsEnd(pos));\n    },\n    findWsEnd: function(pos) {\n        for (; pos < this.str.length; pos++) {\n            var code = this.str.charCodeAt(pos);\n            if (code !== R && code !== N && code !== F && code !== SPACE && code !== TAB) {\n                break;\n            }\n        }\n\n        return pos;\n    },\n    substringToPos: function(end) {\n        return this.str.substring(this.pos, this.pos = end);\n    },\n    eat: function(code) {\n        if (this.charCode() !== code) {\n            this.error('Expect `' + String.fromCharCode(code) + '`');\n        }\n\n        this.pos++;\n    },\n    peek: function() {\n        return this.pos < this.str.length ? this.str.charAt(this.pos++) : '';\n    },\n    error: function(message) {\n        throw new SyntaxError(message, this.str, this.pos);\n    }\n};\n\nmodule.exports = Tokenizer;\n","var noop = function() {};\n\nfunction ensureFunction(value) {\n    return typeof value === 'function' ? value : noop;\n}\n\nmodule.exports = function(node, options, context) {\n    function walk(node) {\n        enter.call(context, node);\n\n        switch (node.type) {\n            case 'Group':\n                node.terms.forEach(walk);\n                break;\n\n            case 'Multiplier':\n                walk(node.term);\n                break;\n\n            case 'Type':\n            case 'Property':\n            case 'Keyword':\n            case 'AtKeyword':\n            case 'Function':\n            case 'String':\n            case 'Token':\n            case 'Comma':\n                break;\n\n            default:\n                throw new Error('Unknown type: ' + node.type);\n        }\n\n        leave.call(context, node);\n    }\n\n    var enter = noop;\n    var leave = noop;\n\n    if (typeof options === 'function') {\n        enter = options;\n    } else if (options) {\n        enter = ensureFunction(options.enter);\n        leave = ensureFunction(options.leave);\n    }\n\n    if (enter === noop && leave === noop) {\n        throw new Error('Neither `enter` nor `leave` walker handler is set or both aren\\'t a function');\n    }\n\n    walk(node, context);\n};\n","var parse = require('../definition-syntax/parse');\n\nvar MATCH = { type: 'Match' };\nvar MISMATCH = { type: 'Mismatch' };\nvar DISALLOW_EMPTY = { type: 'DisallowEmpty' };\nvar LEFTPARENTHESIS = 40;  // (\nvar RIGHTPARENTHESIS = 41; // )\n\nfunction createCondition(match, thenBranch, elseBranch) {\n    // reduce node count\n    if (thenBranch === MATCH && elseBranch === MISMATCH) {\n        return match;\n    }\n\n    if (match === MATCH && thenBranch === MATCH && elseBranch === MATCH) {\n        return match;\n    }\n\n    if (match.type === 'If' && match.else === MISMATCH && thenBranch === MATCH) {\n        thenBranch = match.then;\n        match = match.match;\n    }\n\n    return {\n        type: 'If',\n        match: match,\n        then: thenBranch,\n        else: elseBranch\n    };\n}\n\nfunction isFunctionType(name) {\n    return (\n        name.length > 2 &&\n        name.charCodeAt(name.length - 2) === LEFTPARENTHESIS &&\n        name.charCodeAt(name.length - 1) === RIGHTPARENTHESIS\n    );\n}\n\nfunction isEnumCapatible(term) {\n    return (\n        term.type === 'Keyword' ||\n        term.type === 'AtKeyword' ||\n        term.type === 'Function' ||\n        term.type === 'Type' && isFunctionType(term.name)\n    );\n}\n\nfunction buildGroupMatchGraph(combinator, terms, atLeastOneTermMatched) {\n    switch (combinator) {\n        case ' ':\n            // Juxtaposing components means that all of them must occur, in the given order.\n            //\n            // a b c\n            // =\n            // match a\n            //   then match b\n            //     then match c\n            //       then MATCH\n            //       else MISMATCH\n            //     else MISMATCH\n            //   else MISMATCH\n            var result = MATCH;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n\n                result = createCondition(\n                    term,\n                    result,\n                    MISMATCH\n                );\n            };\n\n            return result;\n\n        case '|':\n            // A bar (|) separates two or more alternatives: exactly one of them must occur.\n            //\n            // a | b | c\n            // =\n            // match a\n            //   then MATCH\n            //   else match b\n            //     then MATCH\n            //     else match c\n            //       then MATCH\n            //       else MISMATCH\n\n            var result = MISMATCH;\n            var map = null;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n\n                // reduce sequence of keywords into a Enum\n                if (isEnumCapatible(term)) {\n                    if (map === null && i > 0 && isEnumCapatible(terms[i - 1])) {\n                        map = Object.create(null);\n                        result = createCondition(\n                            {\n                                type: 'Enum',\n                                map: map\n                            },\n                            MATCH,\n                            result\n                        );\n                    }\n\n                    if (map !== null) {\n                        var key = (isFunctionType(term.name) ? term.name.slice(0, -1) : term.name).toLowerCase();\n                        if (key in map === false) {\n                            map[key] = term;\n                            continue;\n                        }\n                    }\n                }\n\n                map = null;\n\n                // create a new conditonal node\n                result = createCondition(\n                    term,\n                    MATCH,\n                    result\n                );\n            };\n\n            return result;\n\n        case '&&':\n            // A double ampersand (&&) separates two or more components,\n            // all of which must occur, in any order.\n\n            // Use MatchOnce for groups with a large number of terms,\n            // since &&-groups produces at least N!-node trees\n            if (terms.length > 5) {\n                return {\n                    type: 'MatchOnce',\n                    terms: terms,\n                    all: true\n                };\n            }\n\n            // Use a combination tree for groups with small number of terms\n            //\n            // a && b && c\n            // =\n            // match a\n            //   then [b && c]\n            //   else match b\n            //     then [a && c]\n            //     else match c\n            //       then [a && b]\n            //       else MISMATCH\n            //\n            // a && b\n            // =\n            // match a\n            //   then match b\n            //     then MATCH\n            //     else MISMATCH\n            //   else match b\n            //     then match a\n            //       then MATCH\n            //       else MISMATCH\n            //     else MISMATCH\n            var result = MISMATCH;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n                var thenClause;\n\n                if (terms.length > 1) {\n                    thenClause = buildGroupMatchGraph(\n                        combinator,\n                        terms.filter(function(newGroupTerm) {\n                            return newGroupTerm !== term;\n                        }),\n                        false\n                    );\n                } else {\n                    thenClause = MATCH;\n                }\n\n                result = createCondition(\n                    term,\n                    thenClause,\n                    result\n                );\n            };\n\n            return result;\n\n        case '||':\n            // A double bar (||) separates two or more options:\n            // one or more of them must occur, in any order.\n\n            // Use MatchOnce for groups with a large number of terms,\n            // since ||-groups produces at least N!-node trees\n            if (terms.length > 5) {\n                return {\n                    type: 'MatchOnce',\n                    terms: terms,\n                    all: false\n                };\n            }\n\n            // Use a combination tree for groups with small number of terms\n            //\n            // a || b || c\n            // =\n            // match a\n            //   then [b || c]\n            //   else match b\n            //     then [a || c]\n            //     else match c\n            //       then [a || b]\n            //       else MISMATCH\n            //\n            // a || b\n            // =\n            // match a\n            //   then match b\n            //     then MATCH\n            //     else MATCH\n            //   else match b\n            //     then match a\n            //       then MATCH\n            //       else MATCH\n            //     else MISMATCH\n            var result = atLeastOneTermMatched ? MATCH : MISMATCH;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n                var thenClause;\n\n                if (terms.length > 1) {\n                    thenClause = buildGroupMatchGraph(\n                        combinator,\n                        terms.filter(function(newGroupTerm) {\n                            return newGroupTerm !== term;\n                        }),\n                        true\n                    );\n                } else {\n                    thenClause = MATCH;\n                }\n\n                result = createCondition(\n                    term,\n                    thenClause,\n                    result\n                );\n            };\n\n            return result;\n    }\n}\n\nfunction buildMultiplierMatchGraph(node) {\n    var result = MATCH;\n    var matchTerm = buildMatchGraph(node.term);\n\n    if (node.max === 0) {\n        // disable repeating of empty match to prevent infinite loop\n        matchTerm = createCondition(\n            matchTerm,\n            DISALLOW_EMPTY,\n            MISMATCH\n        );\n\n        // an occurrence count is not limited, make a cycle;\n        // to collect more terms on each following matching mismatch\n        result = createCondition(\n            matchTerm,\n            null, // will be a loop\n            MISMATCH\n        );\n\n        result.then = createCondition(\n            MATCH,\n            MATCH,\n            result // make a loop\n        );\n\n        if (node.comma) {\n            result.then.else = createCondition(\n                { type: 'Comma', syntax: node },\n                result,\n                MISMATCH\n            );\n        }\n    } else {\n        // create a match node chain for [min .. max] interval with optional matches\n        for (var i = node.min || 1; i <= node.max; i++) {\n            if (node.comma && result !== MATCH) {\n                result = createCondition(\n                    { type: 'Comma', syntax: node },\n                    result,\n                    MISMATCH\n                );\n            }\n\n            result = createCondition(\n                matchTerm,\n                createCondition(\n                    MATCH,\n                    MATCH,\n                    result\n                ),\n                MISMATCH\n            );\n        }\n    }\n\n    if (node.min === 0) {\n        // allow zero match\n        result = createCondition(\n            MATCH,\n            MATCH,\n            result\n        );\n    } else {\n        // create a match node chain to collect [0 ... min - 1] required matches\n        for (var i = 0; i < node.min - 1; i++) {\n            if (node.comma && result !== MATCH) {\n                result = createCondition(\n                    { type: 'Comma', syntax: node },\n                    result,\n                    MISMATCH\n                );\n            }\n\n            result = createCondition(\n                matchTerm,\n                result,\n                MISMATCH\n            );\n        }\n    }\n\n    return result;\n}\n\nfunction buildMatchGraph(node) {\n    if (typeof node === 'function') {\n        return {\n            type: 'Generic',\n            fn: node\n        };\n    }\n\n    switch (node.type) {\n        case 'Group':\n            var result = buildGroupMatchGraph(\n                node.combinator,\n                node.terms.map(buildMatchGraph),\n                false\n            );\n\n            if (node.disallowEmpty) {\n                result = createCondition(\n                    result,\n                    DISALLOW_EMPTY,\n                    MISMATCH\n                );\n            }\n\n            return result;\n\n        case 'Multiplier':\n            return buildMultiplierMatchGraph(node);\n\n        case 'Type':\n        case 'Property':\n            return {\n                type: node.type,\n                name: node.name,\n                syntax: node\n            };\n\n        case 'Keyword':\n            return {\n                type: node.type,\n                name: node.name.toLowerCase(),\n                syntax: node\n            };\n\n        case 'AtKeyword':\n            return {\n                type: node.type,\n                name: '@' + node.name.toLowerCase(),\n                syntax: node\n            };\n\n        case 'Function':\n            return {\n                type: node.type,\n                name: node.name.toLowerCase() + '(',\n                syntax: node\n            };\n\n        case 'String':\n            // convert a one char length String to a Token\n            if (node.value.length === 3) {\n                return {\n                    type: 'Token',\n                    value: node.value.charAt(1),\n                    syntax: node\n                };\n            }\n\n            // otherwise use it as is\n            return {\n                type: node.type,\n                value: node.value.substr(1, node.value.length - 2).replace(/\\\\'/g, '\\''),\n                syntax: node\n            };\n\n        case 'Token':\n            return {\n                type: node.type,\n                value: node.value,\n                syntax: node\n            };\n\n        case 'Comma':\n            return {\n                type: node.type,\n                syntax: node\n            };\n\n        default:\n            throw new Error('Unknown node type:', node.type);\n    }\n}\n\nmodule.exports = {\n    MATCH: MATCH,\n    MISMATCH: MISMATCH,\n    DISALLOW_EMPTY: DISALLOW_EMPTY,\n    buildMatchGraph: function(syntaxTree, ref) {\n        if (typeof syntaxTree === 'string') {\n            syntaxTree = parse(syntaxTree);\n        }\n\n        return {\n            type: 'MatchGraph',\n            match: buildMatchGraph(syntaxTree),\n            syntax: ref || null,\n            source: syntaxTree\n        };\n    }\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar matchGraph = require('./match-graph');\nvar MATCH = matchGraph.MATCH;\nvar MISMATCH = matchGraph.MISMATCH;\nvar DISALLOW_EMPTY = matchGraph.DISALLOW_EMPTY;\nvar TYPE = require('../tokenizer/const').TYPE;\n\nvar STUB = 0;\nvar TOKEN = 1;\nvar OPEN_SYNTAX = 2;\nvar CLOSE_SYNTAX = 3;\n\nvar EXIT_REASON_MATCH = 'Match';\nvar EXIT_REASON_MISMATCH = 'Mismatch';\nvar EXIT_REASON_ITERATION_LIMIT = 'Maximum iteration number exceeded (please fill an issue on https://github.com/csstree/csstree/issues)';\n\nvar ITERATION_LIMIT = 15000;\nvar totalIterationCount = 0;\n\nfunction reverseList(list) {\n    var prev = null;\n    var next = null;\n    var item = list;\n\n    while (item !== null) {\n        next = item.prev;\n        item.prev = prev;\n        prev = item;\n        item = next;\n    }\n\n    return prev;\n}\n\nfunction areStringsEqualCaseInsensitive(testStr, referenceStr) {\n    if (testStr.length !== referenceStr.length) {\n        return false;\n    }\n\n    for (var i = 0; i < testStr.length; i++) {\n        var testCode = testStr.charCodeAt(i);\n        var referenceCode = referenceStr.charCodeAt(i);\n\n        // testCode.toLowerCase() for U+0041 LATIN CAPITAL LETTER A (A) .. U+005A LATIN CAPITAL LETTER Z (Z).\n        if (testCode >= 0x0041 && testCode <= 0x005A) {\n            testCode = testCode | 32;\n        }\n\n        if (testCode !== referenceCode) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nfunction isContextEdgeDelim(token) {\n    if (token.type !== TYPE.Delim) {\n        return false;\n    }\n\n    // Fix matching for unicode-range: U+30??, U+FF00-FF9F\n    // Probably we need to check out previous match instead\n    return token.value !== '?';\n}\n\nfunction isCommaContextStart(token) {\n    if (token === null) {\n        return true;\n    }\n\n    return (\n        token.type === TYPE.Comma ||\n        token.type === TYPE.Function ||\n        token.type === TYPE.LeftParenthesis ||\n        token.type === TYPE.LeftSquareBracket ||\n        token.type === TYPE.LeftCurlyBracket ||\n        isContextEdgeDelim(token)\n    );\n}\n\nfunction isCommaContextEnd(token) {\n    if (token === null) {\n        return true;\n    }\n\n    return (\n        token.type === TYPE.RightParenthesis ||\n        token.type === TYPE.RightSquareBracket ||\n        token.type === TYPE.RightCurlyBracket ||\n        token.type === TYPE.Delim\n    );\n}\n\nfunction internalMatch(tokens, state, syntaxes) {\n    function moveToNextToken() {\n        do {\n            tokenIndex++;\n            token = tokenIndex < tokens.length ? tokens[tokenIndex] : null;\n        } while (token !== null && (token.type === TYPE.WhiteSpace || token.type === TYPE.Comment));\n    }\n\n    function getNextToken(offset) {\n        var nextIndex = tokenIndex + offset;\n\n        return nextIndex < tokens.length ? tokens[nextIndex] : null;\n    }\n\n    function stateSnapshotFromSyntax(nextState, prev) {\n        return {\n            nextState: nextState,\n            matchStack: matchStack,\n            syntaxStack: syntaxStack,\n            thenStack: thenStack,\n            tokenIndex: tokenIndex,\n            prev: prev\n        };\n    }\n\n    function pushThenStack(nextState) {\n        thenStack = {\n            nextState: nextState,\n            matchStack: matchStack,\n            syntaxStack: syntaxStack,\n            prev: thenStack\n        };\n    }\n\n    function pushElseStack(nextState) {\n        elseStack = stateSnapshotFromSyntax(nextState, elseStack);\n    }\n\n    function addTokenToMatch() {\n        matchStack = {\n            type: TOKEN,\n            syntax: state.syntax,\n            token: token,\n            prev: matchStack\n        };\n\n        moveToNextToken();\n        syntaxStash = null;\n\n        if (tokenIndex > longestMatch) {\n            longestMatch = tokenIndex;\n        }\n    }\n\n    function openSyntax() {\n        syntaxStack = {\n            syntax: state.syntax,\n            opts: state.syntax.opts || (syntaxStack !== null && syntaxStack.opts) || null,\n            prev: syntaxStack\n        };\n\n        matchStack = {\n            type: OPEN_SYNTAX,\n            syntax: state.syntax,\n            token: matchStack.token,\n            prev: matchStack\n        };\n    }\n\n    function closeSyntax() {\n        if (matchStack.type === OPEN_SYNTAX) {\n            matchStack = matchStack.prev;\n        } else {\n            matchStack = {\n                type: CLOSE_SYNTAX,\n                syntax: syntaxStack.syntax,\n                token: matchStack.token,\n                prev: matchStack\n            };\n        }\n\n        syntaxStack = syntaxStack.prev;\n    }\n\n    var syntaxStack = null;\n    var thenStack = null;\n    var elseStack = null;\n\n    // null  stashing allowed, nothing stashed\n    // false  stashing disabled, nothing stashed\n    // anithing else  fail stashable syntaxes, some syntax stashed\n    var syntaxStash = null;\n\n    var iterationCount = 0; // count iterations and prevent infinite loop\n    var exitReason = null;\n\n    var token = null;\n    var tokenIndex = -1;\n    var longestMatch = 0;\n    var matchStack = {\n        type: STUB,\n        syntax: null,\n        token: null,\n        prev: null\n    };\n\n    moveToNextToken();\n\n    while (exitReason === null && ++iterationCount < ITERATION_LIMIT) {\n        // function mapList(list, fn) {\n        //     var result = [];\n        //     while (list) {\n        //         result.unshift(fn(list));\n        //         list = list.prev;\n        //     }\n        //     return result;\n        // }\n        // console.log('--\\n',\n        //     '#' + iterationCount,\n        //     require('util').inspect({\n        //         match: mapList(matchStack, x => x.type === TOKEN ? x.token && x.token.value : x.syntax ? ({ [OPEN_SYNTAX]: '<', [CLOSE_SYNTAX]: '</' }[x.type] || x.type) + '!' + x.syntax.name : null),\n        //         token: token && token.value,\n        //         tokenIndex,\n        //         syntax: syntax.type + (syntax.id ? ' #' + syntax.id : '')\n        //     }, { depth: null })\n        // );\n        switch (state.type) {\n            case 'Match':\n                if (thenStack === null) {\n                    // turn to MISMATCH when some tokens left unmatched\n                    if (token !== null) {\n                        // doesn't mismatch if just one token left and it's an IE hack\n                        if (tokenIndex !== tokens.length - 1 || (token.value !== '\\\\0' && token.value !== '\\\\9')) {\n                            state = MISMATCH;\n                            break;\n                        }\n                    }\n\n                    // break the main loop, return a result - MATCH\n                    exitReason = EXIT_REASON_MATCH;\n                    break;\n                }\n\n                // go to next syntax (`then` branch)\n                state = thenStack.nextState;\n\n                // check match is not empty\n                if (state === DISALLOW_EMPTY) {\n                    if (thenStack.matchStack === matchStack) {\n                        state = MISMATCH;\n                        break;\n                    } else {\n                        state = MATCH;\n                    }\n                }\n\n                // close syntax if needed\n                while (thenStack.syntaxStack !== syntaxStack) {\n                    closeSyntax();\n                }\n\n                // pop stack\n                thenStack = thenStack.prev;\n                break;\n\n            case 'Mismatch':\n                // when some syntax is stashed\n                if (syntaxStash !== null && syntaxStash !== false) {\n                    // there is no else branches or a branch reduce match stack\n                    if (elseStack === null || tokenIndex > elseStack.tokenIndex) {\n                        // restore state from the stash\n                        elseStack = syntaxStash;\n                        syntaxStash = false; // disable stashing\n                    }\n                } else if (elseStack === null) {\n                    // no else branches -> break the main loop\n                    // return a result - MISMATCH\n                    exitReason = EXIT_REASON_MISMATCH;\n                    break;\n                }\n\n                // go to next syntax (`else` branch)\n                state = elseStack.nextState;\n\n                // restore all the rest stack states\n                thenStack = elseStack.thenStack;\n                syntaxStack = elseStack.syntaxStack;\n                matchStack = elseStack.matchStack;\n                tokenIndex = elseStack.tokenIndex;\n                token = tokenIndex < tokens.length ? tokens[tokenIndex] : null;\n\n                // pop stack\n                elseStack = elseStack.prev;\n                break;\n\n            case 'MatchGraph':\n                state = state.match;\n                break;\n\n            case 'If':\n                // IMPORTANT: else stack push must go first,\n                // since it stores the state of thenStack before changes\n                if (state.else !== MISMATCH) {\n                    pushElseStack(state.else);\n                }\n\n                if (state.then !== MATCH) {\n                    pushThenStack(state.then);\n                }\n\n                state = state.match;\n                break;\n\n            case 'MatchOnce':\n                state = {\n                    type: 'MatchOnceBuffer',\n                    syntax: state,\n                    index: 0,\n                    mask: 0\n                };\n                break;\n\n            case 'MatchOnceBuffer':\n                var terms = state.syntax.terms;\n\n                if (state.index === terms.length) {\n                    // no matches at all or it's required all terms to be matched\n                    if (state.mask === 0 || state.syntax.all) {\n                        state = MISMATCH;\n                        break;\n                    }\n\n                    // a partial match is ok\n                    state = MATCH;\n                    break;\n                }\n\n                // all terms are matched\n                if (state.mask === (1 << terms.length) - 1) {\n                    state = MATCH;\n                    break;\n                }\n\n                for (; state.index < terms.length; state.index++) {\n                    var matchFlag = 1 << state.index;\n\n                    if ((state.mask & matchFlag) === 0) {\n                        // IMPORTANT: else stack push must go first,\n                        // since it stores the state of thenStack before changes\n                        pushElseStack(state);\n                        pushThenStack({\n                            type: 'AddMatchOnce',\n                            syntax: state.syntax,\n                            mask: state.mask | matchFlag\n                        });\n\n                        // match\n                        state = terms[state.index++];\n                        break;\n                    }\n                }\n                break;\n\n            case 'AddMatchOnce':\n                state = {\n                    type: 'MatchOnceBuffer',\n                    syntax: state.syntax,\n                    index: 0,\n                    mask: state.mask\n                };\n                break;\n\n            case 'Enum':\n                if (token !== null) {\n                    var name = token.value.toLowerCase();\n\n                    // drop \\0 and \\9 hack from keyword name\n                    if (name.indexOf('\\\\') !== -1) {\n                        name = name.replace(/\\\\[09].*$/, '');\n                    }\n\n                    if (hasOwnProperty.call(state.map, name)) {\n                        state = state.map[name];\n                        break;\n                    }\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Generic':\n                var opts = syntaxStack !== null ? syntaxStack.opts : null;\n                var lastTokenIndex = tokenIndex + Math.floor(state.fn(token, getNextToken, opts));\n\n                if (!isNaN(lastTokenIndex) && lastTokenIndex > tokenIndex) {\n                    while (tokenIndex < lastTokenIndex) {\n                        addTokenToMatch();\n                    }\n\n                    state = MATCH;\n                } else {\n                    state = MISMATCH;\n                }\n\n                break;\n\n            case 'Type':\n            case 'Property':\n                var syntaxDict = state.type === 'Type' ? 'types' : 'properties';\n                var dictSyntax = hasOwnProperty.call(syntaxes, syntaxDict) ? syntaxes[syntaxDict][state.name] : null;\n\n                if (!dictSyntax || !dictSyntax.match) {\n                    throw new Error(\n                        'Bad syntax reference: ' +\n                        (state.type === 'Type'\n                            ? '<' + state.name + '>'\n                            : '<\\'' + state.name + '\\'>')\n                    );\n                }\n\n                // stash a syntax for types with low priority\n                if (syntaxStash !== false && token !== null && state.type === 'Type') {\n                    var lowPriorityMatching =\n                        // https://drafts.csswg.org/css-values-4/#custom-idents\n                        // When parsing positionally-ambiguous keywords in a property value, a <custom-ident> production\n                        // can only claim the keyword if no other unfulfilled production can claim it.\n                        (state.name === 'custom-ident' && token.type === TYPE.Ident) ||\n\n                        // https://drafts.csswg.org/css-values-4/#lengths\n                        // ... if a `0` could be parsed as either a <number> or a <length> in a property (such as line-height),\n                        // it must parse as a <number>\n                        (state.name === 'length' && token.value === '0');\n\n                    if (lowPriorityMatching) {\n                        if (syntaxStash === null) {\n                            syntaxStash = stateSnapshotFromSyntax(state, elseStack);\n                        }\n\n                        state = MISMATCH;\n                        break;\n                    }\n                }\n\n                openSyntax();\n                state = dictSyntax.match;\n                break;\n\n            case 'Keyword':\n                var name = state.name;\n\n                if (token !== null) {\n                    var keywordName = token.value;\n\n                    // drop \\0 and \\9 hack from keyword name\n                    if (keywordName.indexOf('\\\\') !== -1) {\n                        keywordName = keywordName.replace(/\\\\[09].*$/, '');\n                    }\n\n                    if (areStringsEqualCaseInsensitive(keywordName, name)) {\n                        addTokenToMatch();\n                        state = MATCH;\n                        break;\n                    }\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'AtKeyword':\n            case 'Function':\n                if (token !== null && areStringsEqualCaseInsensitive(token.value, state.name)) {\n                    addTokenToMatch();\n                    state = MATCH;\n                    break;\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Token':\n                if (token !== null && token.value === state.value) {\n                    addTokenToMatch();\n                    state = MATCH;\n                    break;\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Comma':\n                if (token !== null && token.type === TYPE.Comma) {\n                    if (isCommaContextStart(matchStack.token)) {\n                        state = MISMATCH;\n                    } else {\n                        addTokenToMatch();\n                        state = isCommaContextEnd(token) ? MISMATCH : MATCH;\n                    }\n                } else {\n                    state = isCommaContextStart(matchStack.token) || isCommaContextEnd(token) ? MATCH : MISMATCH;\n                }\n\n                break;\n\n            case 'String':\n                var string = '';\n\n                for (var lastTokenIndex = tokenIndex; lastTokenIndex < tokens.length && string.length < state.value.length; lastTokenIndex++) {\n                    string += tokens[lastTokenIndex].value;\n                }\n\n                if (areStringsEqualCaseInsensitive(string, state.value)) {\n                    while (tokenIndex < lastTokenIndex) {\n                        addTokenToMatch();\n                    }\n\n                    state = MATCH;\n                } else {\n                    state = MISMATCH;\n                }\n\n                break;\n\n            default:\n                throw new Error('Unknown node type: ' + state.type);\n        }\n    }\n\n    totalIterationCount += iterationCount;\n\n    switch (exitReason) {\n        case null:\n            console.warn('[csstree-match] BREAK after ' + ITERATION_LIMIT + ' iterations');\n            exitReason = EXIT_REASON_ITERATION_LIMIT;\n            matchStack = null;\n            break;\n\n        case EXIT_REASON_MATCH:\n            while (syntaxStack !== null) {\n                closeSyntax();\n            }\n            break;\n\n        default:\n            matchStack = null;\n    }\n\n    return {\n        tokens: tokens,\n        reason: exitReason,\n        iterations: iterationCount,\n        match: matchStack,\n        longestMatch: longestMatch\n    };\n}\n\nfunction matchAsList(tokens, matchGraph, syntaxes) {\n    var matchResult = internalMatch(tokens, matchGraph, syntaxes || {});\n\n    if (matchResult.match !== null) {\n        var item = reverseList(matchResult.match).prev;\n\n        matchResult.match = [];\n\n        while (item !== null) {\n            switch (item.type) {\n                case STUB:\n                    break;\n\n                case OPEN_SYNTAX:\n                case CLOSE_SYNTAX:\n                    matchResult.match.push({\n                        type: item.type,\n                        syntax: item.syntax\n                    });\n                    break;\n\n                default:\n                    matchResult.match.push({\n                        token: item.token.value,\n                        node: item.token.node\n                    });\n                    break;\n            }\n\n            item = item.prev;\n        }\n    }\n\n    return matchResult;\n}\n\nfunction matchAsTree(tokens, matchGraph, syntaxes) {\n    var matchResult = internalMatch(tokens, matchGraph, syntaxes || {});\n\n    if (matchResult.match === null) {\n        return matchResult;\n    }\n\n    var item = matchResult.match;\n    var host = matchResult.match = {\n        syntax: matchGraph.syntax || null,\n        match: []\n    };\n    var hostStack = [host];\n\n    // revert a list and start with 2nd item since 1st is a stub item\n    item = reverseList(item).prev;\n\n    // build a tree\n    while (item !== null) {\n        switch (item.type) {\n            case OPEN_SYNTAX:\n                host.match.push(host = {\n                    syntax: item.syntax,\n                    match: []\n                });\n                hostStack.push(host);\n                break;\n\n            case CLOSE_SYNTAX:\n                hostStack.pop();\n                host = hostStack[hostStack.length - 1];\n                break;\n\n            default:\n                host.match.push({\n                    syntax: item.syntax || null,\n                    token: item.token.value,\n                    node: item.token.node\n                });\n        }\n\n        item = item.prev;\n    }\n\n    return matchResult;\n}\n\nmodule.exports = {\n    matchAsList: matchAsList,\n    matchAsTree: matchAsTree,\n    getTotalIterationCount: function() {\n        return totalIterationCount;\n    }\n};\n","function getTrace(node) {\n    function shouldPutToTrace(syntax) {\n        if (syntax === null) {\n            return false;\n        }\n\n        return (\n            syntax.type === 'Type' ||\n            syntax.type === 'Property' ||\n            syntax.type === 'Keyword'\n        );\n    }\n\n    function hasMatch(matchNode) {\n        if (Array.isArray(matchNode.match)) {\n            // use for-loop for better perfomance\n            for (var i = 0; i < matchNode.match.length; i++) {\n                if (hasMatch(matchNode.match[i])) {\n                    if (shouldPutToTrace(matchNode.syntax)) {\n                        result.unshift(matchNode.syntax);\n                    }\n\n                    return true;\n                }\n            }\n        } else if (matchNode.node === node) {\n            result = shouldPutToTrace(matchNode.syntax)\n                ? [matchNode.syntax]\n                : [];\n\n            return true;\n        }\n\n        return false;\n    }\n\n    var result = null;\n\n    if (this.matched !== null) {\n        hasMatch(this.matched);\n    }\n\n    return result;\n}\n\nfunction testNode(match, node, fn) {\n    var trace = getTrace.call(match, node);\n\n    if (trace === null) {\n        return false;\n    }\n\n    return trace.some(fn);\n}\n\nfunction isType(node, type) {\n    return testNode(this, node, function(matchNode) {\n        return matchNode.type === 'Type' && matchNode.name === type;\n    });\n}\n\nfunction isProperty(node, property) {\n    return testNode(this, node, function(matchNode) {\n        return matchNode.type === 'Property' && matchNode.name === property;\n    });\n}\n\nfunction isKeyword(node) {\n    return testNode(this, node, function(matchNode) {\n        return matchNode.type === 'Keyword';\n    });\n}\n\nmodule.exports = {\n    getTrace: getTrace,\n    isType: isType,\n    isProperty: isProperty,\n    isKeyword: isKeyword\n};\n","var List = require('../common/List');\n\nfunction getFirstMatchNode(matchNode) {\n    if ('node' in matchNode) {\n        return matchNode.node;\n    }\n\n    return getFirstMatchNode(matchNode.match[0]);\n}\n\nfunction getLastMatchNode(matchNode) {\n    if ('node' in matchNode) {\n        return matchNode.node;\n    }\n\n    return getLastMatchNode(matchNode.match[matchNode.match.length - 1]);\n}\n\nfunction matchFragments(lexer, ast, match, type, name) {\n    function findFragments(matchNode) {\n        if (matchNode.syntax !== null &&\n            matchNode.syntax.type === type &&\n            matchNode.syntax.name === name) {\n            var start = getFirstMatchNode(matchNode);\n            var end = getLastMatchNode(matchNode);\n\n            lexer.syntax.walk(ast, function(node, item, list) {\n                if (node === start) {\n                    var nodes = new List();\n\n                    do {\n                        nodes.appendData(item.data);\n\n                        if (item.data === end) {\n                            break;\n                        }\n\n                        item = item.next;\n                    } while (item !== null);\n\n                    fragments.push({\n                        parent: list,\n                        nodes: nodes\n                    });\n                }\n            });\n        }\n\n        if (Array.isArray(matchNode.match)) {\n            matchNode.match.forEach(findFragments);\n        }\n    }\n\n    var fragments = [];\n\n    if (match.matched !== null) {\n        findFragments(match.matched);\n    }\n\n    return fragments;\n}\n\nmodule.exports = {\n    matchFragments: matchFragments\n};\n","var SyntaxReferenceError = require('./error').SyntaxReferenceError;\nvar SyntaxMatchError = require('./error').SyntaxMatchError;\nvar names = require('../utils/names');\nvar generic = require('./generic');\nvar parse = require('../definition-syntax/parse');\nvar generate = require('../definition-syntax/generate');\nvar walk = require('../definition-syntax/walk');\nvar prepareTokens = require('./prepare-tokens');\nvar buildMatchGraph = require('./match-graph').buildMatchGraph;\nvar matchAsTree = require('./match').matchAsTree;\nvar trace = require('./trace');\nvar search = require('./search');\nvar getStructureFromConfig = require('./structure').getStructureFromConfig;\nvar cssWideKeywords = buildMatchGraph('inherit | initial | unset');\nvar cssWideKeywordsWithExpression = buildMatchGraph('inherit | initial | unset | <-ms-legacy-expression>');\n\nfunction dumpMapSyntax(map, compact, syntaxAsAst) {\n    var result = {};\n\n    for (var name in map) {\n        if (map[name].syntax) {\n            result[name] = syntaxAsAst\n                ? map[name].syntax\n                : generate(map[name].syntax, { compact: compact });\n        }\n    }\n\n    return result;\n}\n\nfunction dumpAtruleMapSyntax(map, compact, syntaxAsAst) {\n    const result = {};\n\n    for (const [name, atrule] of Object.entries(map)) {\n        result[name] = {\n            prelude: atrule.prelude && (\n                syntaxAsAst\n                    ? atrule.prelude.syntax\n                    : generate(atrule.prelude.syntax, { compact })\n            ),\n            descriptors: atrule.descriptors && dumpMapSyntax(atrule.descriptors, compact, syntaxAsAst)\n        };\n    }\n\n    return result;\n}\n\nfunction valueHasVar(tokens) {\n    for (var i = 0; i < tokens.length; i++) {\n        if (tokens[i].value.toLowerCase() === 'var(') {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction buildMatchResult(match, error, iterations) {\n    return {\n        matched: match,\n        iterations: iterations,\n        error: error,\n        getTrace: trace.getTrace,\n        isType: trace.isType,\n        isProperty: trace.isProperty,\n        isKeyword: trace.isKeyword\n    };\n}\n\nfunction matchSyntax(lexer, syntax, value, useCommon) {\n    var tokens = prepareTokens(value, lexer.syntax);\n    var result;\n\n    if (valueHasVar(tokens)) {\n        return buildMatchResult(null, new Error('Matching for a tree with var() is not supported'));\n    }\n\n    if (useCommon) {\n        result = matchAsTree(tokens, lexer.valueCommonSyntax, lexer);\n    }\n\n    if (!useCommon || !result.match) {\n        result = matchAsTree(tokens, syntax.match, lexer);\n        if (!result.match) {\n            return buildMatchResult(\n                null,\n                new SyntaxMatchError(result.reason, syntax.syntax, value, result),\n                result.iterations\n            );\n        }\n    }\n\n    return buildMatchResult(result.match, null, result.iterations);\n}\n\nvar Lexer = function(config, syntax, structure) {\n    this.valueCommonSyntax = cssWideKeywords;\n    this.syntax = syntax;\n    this.generic = false;\n    this.atrules = {};\n    this.properties = {};\n    this.types = {};\n    this.structure = structure || getStructureFromConfig(config);\n\n    if (config) {\n        if (config.types) {\n            for (var name in config.types) {\n                this.addType_(name, config.types[name]);\n            }\n        }\n\n        if (config.generic) {\n            this.generic = true;\n            for (var name in generic) {\n                this.addType_(name, generic[name]);\n            }\n        }\n\n        if (config.atrules) {\n            for (var name in config.atrules) {\n                this.addAtrule_(name, config.atrules[name]);\n            }\n        }\n\n        if (config.properties) {\n            for (var name in config.properties) {\n                this.addProperty_(name, config.properties[name]);\n            }\n        }\n    }\n};\n\nLexer.prototype = {\n    structure: {},\n    checkStructure: function(ast) {\n        function collectWarning(node, message) {\n            warns.push({\n                node: node,\n                message: message\n            });\n        }\n\n        var structure = this.structure;\n        var warns = [];\n\n        this.syntax.walk(ast, function(node) {\n            if (structure.hasOwnProperty(node.type)) {\n                structure[node.type].check(node, collectWarning);\n            } else {\n                collectWarning(node, 'Unknown node type `' + node.type + '`');\n            }\n        });\n\n        return warns.length ? warns : false;\n    },\n\n    createDescriptor: function(syntax, type, name, parent = null) {\n        var ref = {\n            type: type,\n            name: name\n        };\n        var descriptor = {\n            type: type,\n            name: name,\n            parent: parent,\n            syntax: null,\n            match: null\n        };\n\n        if (typeof syntax === 'function') {\n            descriptor.match = buildMatchGraph(syntax, ref);\n        } else {\n            if (typeof syntax === 'string') {\n                // lazy parsing on first access\n                Object.defineProperty(descriptor, 'syntax', {\n                    get: function() {\n                        Object.defineProperty(descriptor, 'syntax', {\n                            value: parse(syntax)\n                        });\n\n                        return descriptor.syntax;\n                    }\n                });\n            } else {\n                descriptor.syntax = syntax;\n            }\n\n            // lazy graph build on first access\n            Object.defineProperty(descriptor, 'match', {\n                get: function() {\n                    Object.defineProperty(descriptor, 'match', {\n                        value: buildMatchGraph(descriptor.syntax, ref)\n                    });\n\n                    return descriptor.match;\n                }\n            });\n        }\n\n        return descriptor;\n    },\n    addAtrule_: function(name, syntax) {\n        if (!syntax) {\n            return;\n        }\n\n        this.atrules[name] = {\n            type: 'Atrule',\n            name: name,\n            prelude: syntax.prelude ? this.createDescriptor(syntax.prelude, 'AtrulePrelude', name) : null,\n            descriptors: syntax.descriptors\n                ? Object.keys(syntax.descriptors).reduce((res, descName) => {\n                    res[descName] = this.createDescriptor(syntax.descriptors[descName], 'AtruleDescriptor', descName, name);\n                    return res;\n                }, {})\n                : null\n        };\n    },\n    addProperty_: function(name, syntax) {\n        if (!syntax) {\n            return;\n        }\n\n        this.properties[name] = this.createDescriptor(syntax, 'Property', name);\n    },\n    addType_: function(name, syntax) {\n        if (!syntax) {\n            return;\n        }\n\n        this.types[name] = this.createDescriptor(syntax, 'Type', name);\n\n        if (syntax === generic['-ms-legacy-expression']) {\n            this.valueCommonSyntax = cssWideKeywordsWithExpression;\n        }\n    },\n\n    checkAtruleName: function(atruleName) {\n        if (!this.getAtrule(atruleName)) {\n            return new SyntaxReferenceError('Unknown at-rule', '@' + atruleName);\n        }\n    },\n    checkAtrulePrelude: function(atruleName, prelude) {\n        let error = this.checkAtruleName(atruleName);\n\n        if (error) {\n            return error;\n        }\n\n        var atrule = this.getAtrule(atruleName);\n\n        if (!atrule.prelude && prelude) {\n            return new SyntaxError('At-rule `@' + atruleName + '` should not contain a prelude');\n        }\n\n        if (atrule.prelude && !prelude) {\n            return new SyntaxError('At-rule `@' + atruleName + '` should contain a prelude');\n        }\n    },\n    checkAtruleDescriptorName: function(atruleName, descriptorName) {\n        let error = this.checkAtruleName(atruleName);\n\n        if (error) {\n            return error;\n        }\n\n        var atrule = this.getAtrule(atruleName);\n        var descriptor = names.keyword(descriptorName);\n\n        if (!atrule.descriptors) {\n            return new SyntaxError('At-rule `@' + atruleName + '` has no known descriptors');\n        }\n\n        if (!atrule.descriptors[descriptor.name] &&\n            !atrule.descriptors[descriptor.basename]) {\n            return new SyntaxReferenceError('Unknown at-rule descriptor', descriptorName);\n        }\n    },\n    checkPropertyName: function(propertyName) {\n        var property = names.property(propertyName);\n\n        // don't match syntax for a custom property\n        if (property.custom) {\n            return new Error('Lexer matching doesn\\'t applicable for custom properties');\n        }\n\n        if (!this.getProperty(propertyName)) {\n            return new SyntaxReferenceError('Unknown property', propertyName);\n        }\n    },\n\n    matchAtrulePrelude: function(atruleName, prelude) {\n        var error = this.checkAtrulePrelude(atruleName, prelude);\n\n        if (error) {\n            return buildMatchResult(null, error);\n        }\n\n        if (!prelude) {\n            return buildMatchResult(null, null);\n        }\n\n        return matchSyntax(this, this.getAtrule(atruleName).prelude, prelude, false);\n    },\n    matchAtruleDescriptor: function(atruleName, descriptorName, value) {\n        var error = this.checkAtruleDescriptorName(atruleName, descriptorName);\n\n        if (error) {\n            return buildMatchResult(null, error);\n        }\n\n        var atrule = this.getAtrule(atruleName);\n        var descriptor = names.keyword(descriptorName);\n\n        return matchSyntax(this, atrule.descriptors[descriptor.name] || atrule.descriptors[descriptor.basename], value, false);\n    },\n    matchDeclaration: function(node) {\n        if (node.type !== 'Declaration') {\n            return buildMatchResult(null, new Error('Not a Declaration node'));\n        }\n\n        return this.matchProperty(node.property, node.value);\n    },\n    matchProperty: function(propertyName, value) {\n        var error = this.checkPropertyName(propertyName);\n\n        if (error) {\n            return buildMatchResult(null, error);\n        }\n\n        return matchSyntax(this, this.getProperty(propertyName), value, true);\n    },\n    matchType: function(typeName, value) {\n        var typeSyntax = this.getType(typeName);\n\n        if (!typeSyntax) {\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown type', typeName));\n        }\n\n        return matchSyntax(this, typeSyntax, value, false);\n    },\n    match: function(syntax, value) {\n        if (typeof syntax !== 'string' && (!syntax || !syntax.type)) {\n            return buildMatchResult(null, new SyntaxReferenceError('Bad syntax'));\n        }\n\n        if (typeof syntax === 'string' || !syntax.match) {\n            syntax = this.createDescriptor(syntax, 'Type', 'anonymous');\n        }\n\n        return matchSyntax(this, syntax, value, false);\n    },\n\n    findValueFragments: function(propertyName, value, type, name) {\n        return search.matchFragments(this, value, this.matchProperty(propertyName, value), type, name);\n    },\n    findDeclarationValueFragments: function(declaration, type, name) {\n        return search.matchFragments(this, declaration.value, this.matchDeclaration(declaration), type, name);\n    },\n    findAllFragments: function(ast, type, name) {\n        var result = [];\n\n        this.syntax.walk(ast, {\n            visit: 'Declaration',\n            enter: function(declaration) {\n                result.push.apply(result, this.findDeclarationValueFragments(declaration, type, name));\n            }.bind(this)\n        });\n\n        return result;\n    },\n\n    getAtrule: function(atruleName, fallbackBasename = true) {\n        var atrule = names.keyword(atruleName);\n        var atruleEntry = atrule.vendor && fallbackBasename\n            ? this.atrules[atrule.name] || this.atrules[atrule.basename]\n            : this.atrules[atrule.name];\n\n        return atruleEntry || null;\n    },\n    getAtrulePrelude: function(atruleName, fallbackBasename = true) {\n        const atrule = this.getAtrule(atruleName, fallbackBasename);\n\n        return atrule && atrule.prelude || null;\n    },\n    getAtruleDescriptor: function(atruleName, name) {\n        return this.atrules.hasOwnProperty(atruleName) && this.atrules.declarators\n            ? this.atrules[atruleName].declarators[name] || null\n            : null;\n    },\n    getProperty: function(propertyName, fallbackBasename = true) {\n        var property = names.property(propertyName);\n        var propertyEntry = property.vendor && fallbackBasename\n            ? this.properties[property.name] || this.properties[property.basename]\n            : this.properties[property.name];\n\n        return propertyEntry || null;\n    },\n    getType: function(name) {\n        return this.types.hasOwnProperty(name) ? this.types[name] : null;\n    },\n\n    validate: function() {\n        function validate(syntax, name, broken, descriptor) {\n            if (broken.hasOwnProperty(name)) {\n                return broken[name];\n            }\n\n            broken[name] = false;\n            if (descriptor.syntax !== null) {\n                walk(descriptor.syntax, function(node) {\n                    if (node.type !== 'Type' && node.type !== 'Property') {\n                        return;\n                    }\n\n                    var map = node.type === 'Type' ? syntax.types : syntax.properties;\n                    var brokenMap = node.type === 'Type' ? brokenTypes : brokenProperties;\n\n                    if (!map.hasOwnProperty(node.name) || validate(syntax, node.name, brokenMap, map[node.name])) {\n                        broken[name] = true;\n                    }\n                }, this);\n            }\n        }\n\n        var brokenTypes = {};\n        var brokenProperties = {};\n\n        for (var key in this.types) {\n            validate(this, key, brokenTypes, this.types[key]);\n        }\n\n        for (var key in this.properties) {\n            validate(this, key, brokenProperties, this.properties[key]);\n        }\n\n        brokenTypes = Object.keys(brokenTypes).filter(function(name) {\n            return brokenTypes[name];\n        });\n        brokenProperties = Object.keys(brokenProperties).filter(function(name) {\n            return brokenProperties[name];\n        });\n\n        if (brokenTypes.length || brokenProperties.length) {\n            return {\n                types: brokenTypes,\n                properties: brokenProperties\n            };\n        }\n\n        return null;\n    },\n    dump: function(syntaxAsAst, pretty) {\n        return {\n            generic: this.generic,\n            types: dumpMapSyntax(this.types, !pretty, syntaxAsAst),\n            properties: dumpMapSyntax(this.properties, !pretty, syntaxAsAst),\n            atrules: dumpAtruleMapSyntax(this.atrules, !pretty, syntaxAsAst)\n        };\n    },\n    toString: function() {\n        return JSON.stringify(this.dump());\n    }\n};\n\nmodule.exports = Lexer;\n","var tokenize = require('../tokenizer');\nvar TokenStream = require('../common/TokenStream');\nvar tokenStream = new TokenStream();\nvar astToTokens = {\n    decorator: function(handlers) {\n        var curNode = null;\n        var prev = { len: 0, node: null };\n        var nodes = [prev];\n        var buffer = '';\n\n        return {\n            children: handlers.children,\n            node: function(node) {\n                var tmp = curNode;\n                curNode = node;\n                handlers.node.call(this, node);\n                curNode = tmp;\n            },\n            chunk: function(chunk) {\n                buffer += chunk;\n                if (prev.node !== curNode) {\n                    nodes.push({\n                        len: chunk.length,\n                        node: curNode\n                    });\n                } else {\n                    prev.len += chunk.length;\n                }\n            },\n            result: function() {\n                return prepareTokens(buffer, nodes);\n            }\n        };\n    }\n};\n\nfunction prepareTokens(str, nodes) {\n    var tokens = [];\n    var nodesOffset = 0;\n    var nodesIndex = 0;\n    var currentNode = nodes ? nodes[nodesIndex].node : null;\n\n    tokenize(str, tokenStream);\n\n    while (!tokenStream.eof) {\n        if (nodes) {\n            while (nodesIndex < nodes.length && nodesOffset + nodes[nodesIndex].len <= tokenStream.tokenStart) {\n                nodesOffset += nodes[nodesIndex++].len;\n                currentNode = nodes[nodesIndex].node;\n            }\n        }\n\n        tokens.push({\n            type: tokenStream.tokenType,\n            value: tokenStream.getTokenValue(),\n            index: tokenStream.tokenIndex, // TODO: remove it, temporary solution\n            balance: tokenStream.balance[tokenStream.tokenIndex], // TODO: remove it, temporary solution\n            node: currentNode\n        });\n        tokenStream.next();\n        // console.log({ ...tokens[tokens.length - 1], node: undefined });\n    }\n\n    return tokens;\n}\n\nmodule.exports = function(value, syntax) {\n    if (typeof value === 'string') {\n        return prepareTokens(value, null);\n    }\n\n    return syntax.generate(value, astToTokens);\n};\n","var List = require('../common/List');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isValidNumber(value) {\n    // Number.isInteger(value) && value >= 0\n    return (\n        typeof value === 'number' &&\n        isFinite(value) &&\n        Math.floor(value) === value &&\n        value >= 0\n    );\n}\n\nfunction isValidLocation(loc) {\n    return (\n        Boolean(loc) &&\n        isValidNumber(loc.offset) &&\n        isValidNumber(loc.line) &&\n        isValidNumber(loc.column)\n    );\n}\n\nfunction createNodeStructureChecker(type, fields) {\n    return function checkNode(node, warn) {\n        if (!node || node.constructor !== Object) {\n            return warn(node, 'Type of node should be an Object');\n        }\n\n        for (var key in node) {\n            var valid = true;\n\n            if (hasOwnProperty.call(node, key) === false) {\n                continue;\n            }\n\n            if (key === 'type') {\n                if (node.type !== type) {\n                    warn(node, 'Wrong node type `' + node.type + '`, expected `' + type + '`');\n                }\n            } else if (key === 'loc') {\n                if (node.loc === null) {\n                    continue;\n                } else if (node.loc && node.loc.constructor === Object) {\n                    if (typeof node.loc.source !== 'string') {\n                        key += '.source';\n                    } else if (!isValidLocation(node.loc.start)) {\n                        key += '.start';\n                    } else if (!isValidLocation(node.loc.end)) {\n                        key += '.end';\n                    } else {\n                        continue;\n                    }\n                }\n\n                valid = false;\n            } else if (fields.hasOwnProperty(key)) {\n                for (var i = 0, valid = false; !valid && i < fields[key].length; i++) {\n                    var fieldType = fields[key][i];\n\n                    switch (fieldType) {\n                        case String:\n                            valid = typeof node[key] === 'string';\n                            break;\n\n                        case Boolean:\n                            valid = typeof node[key] === 'boolean';\n                            break;\n\n                        case null:\n                            valid = node[key] === null;\n                            break;\n\n                        default:\n                            if (typeof fieldType === 'string') {\n                                valid = node[key] && node[key].type === fieldType;\n                            } else if (Array.isArray(fieldType)) {\n                                valid = node[key] instanceof List;\n                            }\n                    }\n                }\n            } else {\n                warn(node, 'Unknown field `' + key + '` for ' + type + ' node type');\n            }\n\n            if (!valid) {\n                warn(node, 'Bad value for `' + type + '.' + key + '`');\n            }\n        }\n\n        for (var key in fields) {\n            if (hasOwnProperty.call(fields, key) &&\n                hasOwnProperty.call(node, key) === false) {\n                warn(node, 'Field `' + type + '.' + key + '` is missed');\n            }\n        }\n    };\n}\n\nfunction processStructure(name, nodeType) {\n    var structure = nodeType.structure;\n    var fields = {\n        type: String,\n        loc: true\n    };\n    var docs = {\n        type: '\"' + name + '\"'\n    };\n\n    for (var key in structure) {\n        if (hasOwnProperty.call(structure, key) === false) {\n            continue;\n        }\n\n        var docsTypes = [];\n        var fieldTypes = fields[key] = Array.isArray(structure[key])\n            ? structure[key].slice()\n            : [structure[key]];\n\n        for (var i = 0; i < fieldTypes.length; i++) {\n            var fieldType = fieldTypes[i];\n            if (fieldType === String || fieldType === Boolean) {\n                docsTypes.push(fieldType.name);\n            } else if (fieldType === null) {\n                docsTypes.push('null');\n            } else if (typeof fieldType === 'string') {\n                docsTypes.push('<' + fieldType + '>');\n            } else if (Array.isArray(fieldType)) {\n                docsTypes.push('List'); // TODO: use type enum\n            } else {\n                throw new Error('Wrong value `' + fieldType + '` in `' + name + '.' + key + '` structure definition');\n            }\n        }\n\n        docs[key] = docsTypes.join(' | ');\n    }\n\n    return {\n        docs: docs,\n        check: createNodeStructureChecker(name, fields)\n    };\n}\n\nmodule.exports = {\n    getStructureFromConfig: function(config) {\n        var structure = {};\n\n        if (config.node) {\n            for (var name in config.node) {\n                if (hasOwnProperty.call(config.node, name)) {\n                    var nodeType = config.node[name];\n\n                    if (nodeType.structure) {\n                        structure[name] = processStructure(name, nodeType);\n                    } else {\n                        throw new Error('Missed `structure` field in `' + name + '` node type definition');\n                    }\n                }\n            }\n        }\n\n        return structure;\n    }\n};\n","module.exports = {\n    SyntaxError: require('./SyntaxError'),\n    parse: require('./parse'),\n    generate: require('./generate'),\n    walk: require('./walk')\n};\n","var adoptBuffer = require('./adopt-buffer');\nvar isBOM = require('../tokenizer').isBOM;\n\nvar N = 10;\nvar F = 12;\nvar R = 13;\n\nfunction computeLinesAndColumns(host, source) {\n    var sourceLength = source.length;\n    var lines = adoptBuffer(host.lines, sourceLength); // +1\n    var line = host.startLine;\n    var columns = adoptBuffer(host.columns, sourceLength);\n    var column = host.startColumn;\n    var startOffset = source.length > 0 ? isBOM(source.charCodeAt(0)) : 0;\n\n    for (var i = startOffset; i < sourceLength; i++) { // -1\n        var code = source.charCodeAt(i);\n\n        lines[i] = line;\n        columns[i] = column++;\n\n        if (code === N || code === R || code === F) {\n            if (code === R && i + 1 < sourceLength && source.charCodeAt(i + 1) === N) {\n                i++;\n                lines[i] = line;\n                columns[i] = column;\n            }\n\n            line++;\n            column = 1;\n        }\n    }\n\n    lines[i] = line;\n    columns[i] = column;\n\n    host.lines = lines;\n    host.columns = columns;\n}\n\nvar OffsetToLocation = function() {\n    this.lines = null;\n    this.columns = null;\n    this.linesAndColumnsComputed = false;\n};\n\nOffsetToLocation.prototype = {\n    setSource: function(source, startOffset, startLine, startColumn) {\n        this.source = source;\n        this.startOffset = typeof startOffset === 'undefined' ? 0 : startOffset;\n        this.startLine = typeof startLine === 'undefined' ? 1 : startLine;\n        this.startColumn = typeof startColumn === 'undefined' ? 1 : startColumn;\n        this.linesAndColumnsComputed = false;\n    },\n\n    ensureLinesAndColumnsComputed: function() {\n        if (!this.linesAndColumnsComputed) {\n            computeLinesAndColumns(this, this.source);\n            this.linesAndColumnsComputed = true;\n        }\n    },\n    getLocation: function(offset, filename) {\n        this.ensureLinesAndColumnsComputed();\n\n        return {\n            source: filename,\n            offset: this.startOffset + offset,\n            line: this.lines[offset],\n            column: this.columns[offset]\n        };\n    },\n    getLocationRange: function(start, end, filename) {\n        this.ensureLinesAndColumnsComputed();\n\n        return {\n            source: filename,\n            start: {\n                offset: this.startOffset + start,\n                line: this.lines[start],\n                column: this.columns[start]\n            },\n            end: {\n                offset: this.startOffset + end,\n                line: this.lines[end],\n                column: this.columns[end]\n            }\n        };\n    }\n};\n\nmodule.exports = OffsetToLocation;\n","var TYPE = require('../tokenizer').TYPE;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\n\nmodule.exports = function readSequence(recognizer) {\n    var children = this.createList();\n    var child = null;\n    var context = {\n        recognizer: recognizer,\n        space: null,\n        ignoreWS: false,\n        ignoreWSAfter: false\n    };\n\n    this.scanner.skipSC();\n\n    while (!this.scanner.eof) {\n        switch (this.scanner.tokenType) {\n            case COMMENT:\n                this.scanner.next();\n                continue;\n\n            case WHITESPACE:\n                if (context.ignoreWS) {\n                    this.scanner.next();\n                } else {\n                    context.space = this.WhiteSpace();\n                }\n                continue;\n        }\n\n        child = recognizer.getNode.call(this, context);\n\n        if (child === undefined) {\n            break;\n        }\n\n        if (context.space !== null) {\n            children.push(context.space);\n            context.space = null;\n        }\n\n        children.push(child);\n\n        if (context.ignoreWSAfter) {\n            context.ignoreWSAfter = false;\n            context.ignoreWS = true;\n        } else {\n            context.ignoreWS = false;\n        }\n    }\n\n    return children;\n};\n","var OffsetToLocation = require('../common/OffsetToLocation');\nvar SyntaxError = require('../common/SyntaxError');\nvar TokenStream = require('../common/TokenStream');\nvar List = require('../common/List');\nvar tokenize = require('../tokenizer');\nvar constants = require('../tokenizer/const');\nvar { findWhiteSpaceStart, cmpStr } = require('../tokenizer/utils');\nvar sequence = require('./sequence');\nvar noop = function() {};\n\nvar TYPE = constants.TYPE;\nvar NAME = constants.NAME;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar URL = TYPE.Url;\nvar HASH = TYPE.Hash;\nvar PERCENTAGE = TYPE.Percentage;\nvar NUMBER = TYPE.Number;\nvar NUMBERSIGN = 0x0023; // U+0023 NUMBER SIGN (#)\nvar NULL = 0;\n\nfunction createParseContext(name) {\n    return function() {\n        return this[name]();\n    };\n}\n\nfunction processConfig(config) {\n    var parserConfig = {\n        context: {},\n        scope: {},\n        atrule: {},\n        pseudo: {}\n    };\n\n    if (config.parseContext) {\n        for (var name in config.parseContext) {\n            switch (typeof config.parseContext[name]) {\n                case 'function':\n                    parserConfig.context[name] = config.parseContext[name];\n                    break;\n\n                case 'string':\n                    parserConfig.context[name] = createParseContext(config.parseContext[name]);\n                    break;\n            }\n        }\n    }\n\n    if (config.scope) {\n        for (var name in config.scope) {\n            parserConfig.scope[name] = config.scope[name];\n        }\n    }\n\n    if (config.atrule) {\n        for (var name in config.atrule) {\n            var atrule = config.atrule[name];\n\n            if (atrule.parse) {\n                parserConfig.atrule[name] = atrule.parse;\n            }\n        }\n    }\n\n    if (config.pseudo) {\n        for (var name in config.pseudo) {\n            var pseudo = config.pseudo[name];\n\n            if (pseudo.parse) {\n                parserConfig.pseudo[name] = pseudo.parse;\n            }\n        }\n    }\n\n    if (config.node) {\n        for (var name in config.node) {\n            parserConfig[name] = config.node[name].parse;\n        }\n    }\n\n    return parserConfig;\n}\n\nmodule.exports = function createParser(config) {\n    var parser = {\n        scanner: new TokenStream(),\n        locationMap: new OffsetToLocation(),\n\n        filename: '<unknown>',\n        needPositions: false,\n        onParseError: noop,\n        onParseErrorThrow: false,\n        parseAtrulePrelude: true,\n        parseRulePrelude: true,\n        parseValue: true,\n        parseCustomProperty: false,\n\n        readSequence: sequence,\n\n        createList: function() {\n            return new List();\n        },\n        createSingleNodeList: function(node) {\n            return new List().appendData(node);\n        },\n        getFirstListNode: function(list) {\n            return list && list.first();\n        },\n        getLastListNode: function(list) {\n            return list.last();\n        },\n\n        parseWithFallback: function(consumer, fallback) {\n            var startToken = this.scanner.tokenIndex;\n\n            try {\n                return consumer.call(this);\n            } catch (e) {\n                if (this.onParseErrorThrow) {\n                    throw e;\n                }\n\n                var fallbackNode = fallback.call(this, startToken);\n\n                this.onParseErrorThrow = true;\n                this.onParseError(e, fallbackNode);\n                this.onParseErrorThrow = false;\n\n                return fallbackNode;\n            }\n        },\n\n        lookupNonWSType: function(offset) {\n            do {\n                var type = this.scanner.lookupType(offset++);\n                if (type !== WHITESPACE) {\n                    return type;\n                }\n            } while (type !== NULL);\n\n            return NULL;\n        },\n\n        eat: function(tokenType) {\n            if (this.scanner.tokenType !== tokenType) {\n                var offset = this.scanner.tokenStart;\n                var message = NAME[tokenType] + ' is expected';\n\n                // tweak message and offset\n                switch (tokenType) {\n                    case IDENT:\n                        // when identifier is expected but there is a function or url\n                        if (this.scanner.tokenType === FUNCTION || this.scanner.tokenType === URL) {\n                            offset = this.scanner.tokenEnd - 1;\n                            message = 'Identifier is expected but function found';\n                        } else {\n                            message = 'Identifier is expected';\n                        }\n                        break;\n\n                    case HASH:\n                        if (this.scanner.isDelim(NUMBERSIGN)) {\n                            this.scanner.next();\n                            offset++;\n                            message = 'Name is expected';\n                        }\n                        break;\n\n                    case PERCENTAGE:\n                        if (this.scanner.tokenType === NUMBER) {\n                            offset = this.scanner.tokenEnd;\n                            message = 'Percent sign is expected';\n                        }\n                        break;\n\n                    default:\n                        // when test type is part of another token show error for current position + 1\n                        // e.g. eat(HYPHENMINUS) will fail on \"-foo\", but pointing on \"-\" is odd\n                        if (this.scanner.source.charCodeAt(this.scanner.tokenStart) === tokenType) {\n                            offset = offset + 1;\n                        }\n                }\n\n                this.error(message, offset);\n            }\n\n            this.scanner.next();\n        },\n\n        consume: function(tokenType) {\n            var value = this.scanner.getTokenValue();\n\n            this.eat(tokenType);\n\n            return value;\n        },\n        consumeFunctionName: function() {\n            var name = this.scanner.source.substring(this.scanner.tokenStart, this.scanner.tokenEnd - 1);\n\n            this.eat(FUNCTION);\n\n            return name;\n        },\n\n        getLocation: function(start, end) {\n            if (this.needPositions) {\n                return this.locationMap.getLocationRange(\n                    start,\n                    end,\n                    this.filename\n                );\n            }\n\n            return null;\n        },\n        getLocationFromList: function(list) {\n            if (this.needPositions) {\n                var head = this.getFirstListNode(list);\n                var tail = this.getLastListNode(list);\n                return this.locationMap.getLocationRange(\n                    head !== null ? head.loc.start.offset - this.locationMap.startOffset : this.scanner.tokenStart,\n                    tail !== null ? tail.loc.end.offset - this.locationMap.startOffset : this.scanner.tokenStart,\n                    this.filename\n                );\n            }\n\n            return null;\n        },\n\n        error: function(message, offset) {\n            var location = typeof offset !== 'undefined' && offset < this.scanner.source.length\n                ? this.locationMap.getLocation(offset)\n                : this.scanner.eof\n                    ? this.locationMap.getLocation(findWhiteSpaceStart(this.scanner.source, this.scanner.source.length - 1))\n                    : this.locationMap.getLocation(this.scanner.tokenStart);\n\n            throw new SyntaxError(\n                message || 'Unexpected input',\n                this.scanner.source,\n                location.offset,\n                location.line,\n                location.column\n            );\n        }\n    };\n\n    config = processConfig(config || {});\n    for (var key in config) {\n        parser[key] = config[key];\n    }\n\n    return function(source, options) {\n        options = options || {};\n\n        var context = options.context || 'default';\n        var onComment = options.onComment;\n        var ast;\n\n        tokenize(source, parser.scanner);\n        parser.locationMap.setSource(\n            source,\n            options.offset,\n            options.line,\n            options.column\n        );\n\n        parser.filename = options.filename || '<unknown>';\n        parser.needPositions = Boolean(options.positions);\n        parser.onParseError = typeof options.onParseError === 'function' ? options.onParseError : noop;\n        parser.onParseErrorThrow = false;\n        parser.parseAtrulePrelude = 'parseAtrulePrelude' in options ? Boolean(options.parseAtrulePrelude) : true;\n        parser.parseRulePrelude = 'parseRulePrelude' in options ? Boolean(options.parseRulePrelude) : true;\n        parser.parseValue = 'parseValue' in options ? Boolean(options.parseValue) : true;\n        parser.parseCustomProperty = 'parseCustomProperty' in options ? Boolean(options.parseCustomProperty) : false;\n\n        if (!parser.context.hasOwnProperty(context)) {\n            throw new Error('Unknown context `' + context + '`');\n        }\n\n        if (typeof onComment === 'function') {\n            parser.scanner.forEachToken((type, start, end) => {\n                if (type === COMMENT) {\n                    const loc = parser.getLocation(start, end);\n                    const value = cmpStr(source, end - 2, end, '*/')\n                        ? source.slice(start + 2, end - 2)\n                        : source.slice(start + 2, end);\n\n                    onComment(value, loc);\n                }\n            });\n        }\n\n        ast = parser.context[context].call(parser, options);\n\n        if (!parser.scanner.eof) {\n            parser.error();\n        }\n\n        return ast;\n    };\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n\n  var parts = path.split(/\\/+/);\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n}\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || urlRegexp.test(aPath);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 === null) {\n    return 1; // aStr2 !== null\n  }\n\n  if (aStr2 === null) {\n    return -1; // aStr1 !== null\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n\n/**\n * Strip any JSON XSSI avoidance prefix from the string (as documented\n * in the source maps specification), and then parse the string as\n * JSON.\n */\nfunction parseSourceMapInput(str) {\n  return JSON.parse(str.replace(/^\\)]}'[^\\n]*\\n/, ''));\n}\nexports.parseSourceMapInput = parseSourceMapInput;\n\n/**\n * Compute the URL of a source given the the source root, the source's\n * URL, and the source map's URL.\n */\nfunction computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {\n  sourceURL = sourceURL || '';\n\n  if (sourceRoot) {\n    // This follows what Chrome does.\n    if (sourceRoot[sourceRoot.length - 1] !== '/' && sourceURL[0] !== '/') {\n      sourceRoot += '/';\n    }\n    // The spec says:\n    //   Line 4: An optional source root, useful for relocating source\n    //   files on a server or removing repeated values in the\n    //   sources entry.  This value is prepended to the individual\n    //   entries in the source field.\n    sourceURL = sourceRoot + sourceURL;\n  }\n\n  // Historically, SourceMapConsumer did not take the sourceMapURL as\n  // a parameter.  This mode is still somewhat supported, which is why\n  // this code block is conditional.  However, it's preferable to pass\n  // the source map URL to SourceMapConsumer, so that this function\n  // can implement the source URL resolution algorithm as outlined in\n  // the spec.  This block is basically the equivalent of:\n  //    new URL(sourceURL, sourceMapURL).toString()\n  // ... except it avoids using URL, which wasn't available in the\n  // older releases of node still supported by this library.\n  //\n  // The spec says:\n  //   If the sources are not absolute URLs after prepending of the\n  //   sourceRoot, the sources are resolved relative to the\n  //   SourceMap (like resolving script src in a html document).\n  if (sourceMapURL) {\n    var parsed = urlParse(sourceMapURL);\n    if (!parsed) {\n      throw new Error(\"sourceMapURL could not be parsed\");\n    }\n    if (parsed.path) {\n      // Strip the last path component, but keep the \"/\".\n      var index = parsed.path.lastIndexOf('/');\n      if (index >= 0) {\n        parsed.path = parsed.path.substring(0, index + 1);\n      }\n    }\n    sourceURL = join(urlGenerate(parsed), sourceURL);\n  }\n\n  return normalize(sourceURL);\n}\nexports.computeSourceURL = computeSourceURL;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\n\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA ||\n         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true;\n  // Serves as infimum\n  this._last = {generatedLine: -1, generatedColumn: 0};\n}\n\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\nMappingList.prototype.unsortedForEach =\n  function MappingList_forEach(aCallback, aThisArg) {\n    this._array.forEach(aCallback, aThisArg);\n  };\n\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n    this._array.push(aMapping);\n  }\n};\n\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n    this._sorted = true;\n  }\n  return this._array;\n};\n\nexports.MappingList = MappingList;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar base64VLQ = require('./base64-vlq');\nvar util = require('./util');\nvar ArraySet = require('./array-set').ArraySet;\nvar MappingList = require('./mapping-list').MappingList;\n\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\nSourceMapGenerator.fromSourceMap =\n  function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\n    var sourceRoot = aSourceMapConsumer.sourceRoot;\n    var generator = new SourceMapGenerator({\n      file: aSourceMapConsumer.file,\n      sourceRoot: sourceRoot\n    });\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      var newMapping = {\n        generated: {\n          line: mapping.generatedLine,\n          column: mapping.generatedColumn\n        }\n      };\n\n      if (mapping.source != null) {\n        newMapping.source = mapping.source;\n        if (sourceRoot != null) {\n          newMapping.source = util.relative(sourceRoot, newMapping.source);\n        }\n\n        newMapping.original = {\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        };\n\n        if (mapping.name != null) {\n          newMapping.name = mapping.name;\n        }\n      }\n\n      generator.addMapping(newMapping);\n    });\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var sourceRelative = sourceFile;\n      if (sourceRoot !== null) {\n        sourceRelative = util.relative(sourceRoot, sourceFile);\n      }\n\n      if (!generator._sources.has(sourceRelative)) {\n        generator._sources.add(sourceRelative);\n      }\n\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        generator.setSourceContent(sourceFile, content);\n      }\n    });\n    return generator;\n  };\n\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\nSourceMapGenerator.prototype.addMapping =\n  function SourceMapGenerator_addMapping(aArgs) {\n    var generated = util.getArg(aArgs, 'generated');\n    var original = util.getArg(aArgs, 'original', null);\n    var source = util.getArg(aArgs, 'source', null);\n    var name = util.getArg(aArgs, 'name', null);\n\n    if (!this._skipValidation) {\n      this._validateMapping(generated, original, source, name);\n    }\n\n    if (source != null) {\n      source = String(source);\n      if (!this._sources.has(source)) {\n        this._sources.add(source);\n      }\n    }\n\n    if (name != null) {\n      name = String(name);\n      if (!this._names.has(name)) {\n        this._names.add(name);\n      }\n    }\n\n    this._mappings.add({\n      generatedLine: generated.line,\n      generatedColumn: generated.column,\n      originalLine: original != null && original.line,\n      originalColumn: original != null && original.column,\n      source: source,\n      name: name\n    });\n  };\n\n/**\n * Set the source content for a source file.\n */\nSourceMapGenerator.prototype.setSourceContent =\n  function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n    var source = aSourceFile;\n    if (this._sourceRoot != null) {\n      source = util.relative(this._sourceRoot, source);\n    }\n\n    if (aSourceContent != null) {\n      // Add the source content to the _sourcesContents map.\n      // Create a new _sourcesContents map if the property is null.\n      if (!this._sourcesContents) {\n        this._sourcesContents = Object.create(null);\n      }\n      this._sourcesContents[util.toSetString(source)] = aSourceContent;\n    } else if (this._sourcesContents) {\n      // Remove the source file from the _sourcesContents map.\n      // If the _sourcesContents map is empty, set the property to null.\n      delete this._sourcesContents[util.toSetString(source)];\n      if (Object.keys(this._sourcesContents).length === 0) {\n        this._sourcesContents = null;\n      }\n    }\n  };\n\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\nSourceMapGenerator.prototype.applySourceMap =\n  function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n    var sourceFile = aSourceFile;\n    // If aSourceFile is omitted, we will use the file property of the SourceMap\n    if (aSourceFile == null) {\n      if (aSourceMapConsumer.file == null) {\n        throw new Error(\n          'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\n          'or the source map\\'s \"file\" property. Both were omitted.'\n        );\n      }\n      sourceFile = aSourceMapConsumer.file;\n    }\n    var sourceRoot = this._sourceRoot;\n    // Make \"sourceFile\" relative if an absolute Url is passed.\n    if (sourceRoot != null) {\n      sourceFile = util.relative(sourceRoot, sourceFile);\n    }\n    // Applying the SourceMap can add and remove items from the sources and\n    // the names array.\n    var newSources = new ArraySet();\n    var newNames = new ArraySet();\n\n    // Find mappings for the \"sourceFile\"\n    this._mappings.unsortedForEach(function (mapping) {\n      if (mapping.source === sourceFile && mapping.originalLine != null) {\n        // Check if it can be mapped by the source map, then update the mapping.\n        var original = aSourceMapConsumer.originalPositionFor({\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        });\n        if (original.source != null) {\n          // Copy mapping\n          mapping.source = original.source;\n          if (aSourceMapPath != null) {\n            mapping.source = util.join(aSourceMapPath, mapping.source)\n          }\n          if (sourceRoot != null) {\n            mapping.source = util.relative(sourceRoot, mapping.source);\n          }\n          mapping.originalLine = original.line;\n          mapping.originalColumn = original.column;\n          if (original.name != null) {\n            mapping.name = original.name;\n          }\n        }\n      }\n\n      var source = mapping.source;\n      if (source != null && !newSources.has(source)) {\n        newSources.add(source);\n      }\n\n      var name = mapping.name;\n      if (name != null && !newNames.has(name)) {\n        newNames.add(name);\n      }\n\n    }, this);\n    this._sources = newSources;\n    this._names = newNames;\n\n    // Copy sourcesContents of applied map.\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aSourceMapPath != null) {\n          sourceFile = util.join(aSourceMapPath, sourceFile);\n        }\n        if (sourceRoot != null) {\n          sourceFile = util.relative(sourceRoot, sourceFile);\n        }\n        this.setSourceContent(sourceFile, content);\n      }\n    }, this);\n  };\n\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\nSourceMapGenerator.prototype._validateMapping =\n  function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\n                                              aName) {\n    // When aOriginal is truthy but has empty values for .line and .column,\n    // it is most likely a programmer error. In this case we throw a very\n    // specific error message to try to guide them the right way.\n    // For example: https://github.com/Polymer/polymer-bundler/pull/519\n    if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {\n        throw new Error(\n            'original.line and original.column are not numbers -- you probably meant to omit ' +\n            'the original mapping entirely and only map the generated position. If so, pass ' +\n            'null for the original mapping instead of an object with empty or null values.'\n        );\n    }\n\n    if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n        && aGenerated.line > 0 && aGenerated.column >= 0\n        && !aOriginal && !aSource && !aName) {\n      // Case 1.\n      return;\n    }\n    else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n             && aOriginal && 'line' in aOriginal && 'column' in aOriginal\n             && aGenerated.line > 0 && aGenerated.column >= 0\n             && aOriginal.line > 0 && aOriginal.column >= 0\n             && aSource) {\n      // Cases 2 and 3.\n      return;\n    }\n    else {\n      throw new Error('Invalid mapping: ' + JSON.stringify({\n        generated: aGenerated,\n        source: aSource,\n        original: aOriginal,\n        name: aName\n      }));\n    }\n  };\n\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\nSourceMapGenerator.prototype._serializeMappings =\n  function SourceMapGenerator_serializeMappings() {\n    var previousGeneratedColumn = 0;\n    var previousGeneratedLine = 1;\n    var previousOriginalColumn = 0;\n    var previousOriginalLine = 0;\n    var previousName = 0;\n    var previousSource = 0;\n    var result = '';\n    var next;\n    var mapping;\n    var nameIdx;\n    var sourceIdx;\n\n    var mappings = this._mappings.toArray();\n    for (var i = 0, len = mappings.length; i < len; i++) {\n      mapping = mappings[i];\n      next = ''\n\n      if (mapping.generatedLine !== previousGeneratedLine) {\n        previousGeneratedColumn = 0;\n        while (mapping.generatedLine !== previousGeneratedLine) {\n          next += ';';\n          previousGeneratedLine++;\n        }\n      }\n      else {\n        if (i > 0) {\n          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n            continue;\n          }\n          next += ',';\n        }\n      }\n\n      next += base64VLQ.encode(mapping.generatedColumn\n                                 - previousGeneratedColumn);\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (mapping.source != null) {\n        sourceIdx = this._sources.indexOf(mapping.source);\n        next += base64VLQ.encode(sourceIdx - previousSource);\n        previousSource = sourceIdx;\n\n        // lines are stored 0-based in SourceMap spec version 3\n        next += base64VLQ.encode(mapping.originalLine - 1\n                                   - previousOriginalLine);\n        previousOriginalLine = mapping.originalLine - 1;\n\n        next += base64VLQ.encode(mapping.originalColumn\n                                   - previousOriginalColumn);\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (mapping.name != null) {\n          nameIdx = this._names.indexOf(mapping.name);\n          next += base64VLQ.encode(nameIdx - previousName);\n          previousName = nameIdx;\n        }\n      }\n\n      result += next;\n    }\n\n    return result;\n  };\n\nSourceMapGenerator.prototype._generateSourcesContent =\n  function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n    return aSources.map(function (source) {\n      if (!this._sourcesContents) {\n        return null;\n      }\n      if (aSourceRoot != null) {\n        source = util.relative(aSourceRoot, source);\n      }\n      var key = util.toSetString(source);\n      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\n        ? this._sourcesContents[key]\n        : null;\n    }, this);\n  };\n\n/**\n * Externalize the source map.\n */\nSourceMapGenerator.prototype.toJSON =\n  function SourceMapGenerator_toJSON() {\n    var map = {\n      version: this._version,\n      sources: this._sources.toArray(),\n      names: this._names.toArray(),\n      mappings: this._serializeMappings()\n    };\n    if (this._file != null) {\n      map.file = this._file;\n    }\n    if (this._sourceRoot != null) {\n      map.sourceRoot = this._sourceRoot;\n    }\n    if (this._sourcesContents) {\n      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n    }\n\n    return map;\n  };\n\n/**\n * Render the source map being generated to a string.\n */\nSourceMapGenerator.prototype.toString =\n  function SourceMapGenerator_toString() {\n    return JSON.stringify(this.toJSON());\n  };\n\nexports.SourceMapGenerator = SourceMapGenerator;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\nvar hasNativeMap = typeof Map !== \"undefined\";\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = hasNativeMap ? new Map() : Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);\n  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    if (hasNativeMap) {\n      this._set.set(aStr, idx);\n    } else {\n      this._set[sStr] = idx;\n    }\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  if (hasNativeMap) {\n    return this._set.has(aStr);\n  } else {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  }\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  if (hasNativeMap) {\n    var idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n  } else {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n","var SourceMapGenerator = require('source-map/lib/source-map-generator').SourceMapGenerator;\nvar trackNodes = {\n    Atrule: true,\n    Selector: true,\n    Declaration: true\n};\n\nmodule.exports = function generateSourceMap(handlers) {\n    var map = new SourceMapGenerator();\n    var line = 1;\n    var column = 0;\n    var generated = {\n        line: 1,\n        column: 0\n    };\n    var original = {\n        line: 0, // should be zero to add first mapping\n        column: 0\n    };\n    var sourceMappingActive = false;\n    var activatedGenerated = {\n        line: 1,\n        column: 0\n    };\n    var activatedMapping = {\n        generated: activatedGenerated\n    };\n\n    var handlersNode = handlers.node;\n    handlers.node = function(node) {\n        if (node.loc && node.loc.start && trackNodes.hasOwnProperty(node.type)) {\n            var nodeLine = node.loc.start.line;\n            var nodeColumn = node.loc.start.column - 1;\n\n            if (original.line !== nodeLine ||\n                original.column !== nodeColumn) {\n                original.line = nodeLine;\n                original.column = nodeColumn;\n\n                generated.line = line;\n                generated.column = column;\n\n                if (sourceMappingActive) {\n                    sourceMappingActive = false;\n                    if (generated.line !== activatedGenerated.line ||\n                        generated.column !== activatedGenerated.column) {\n                        map.addMapping(activatedMapping);\n                    }\n                }\n\n                sourceMappingActive = true;\n                map.addMapping({\n                    source: node.loc.source,\n                    original: original,\n                    generated: generated\n                });\n            }\n        }\n\n        handlersNode.call(this, node);\n\n        if (sourceMappingActive && trackNodes.hasOwnProperty(node.type)) {\n            activatedGenerated.line = line;\n            activatedGenerated.column = column;\n        }\n    };\n\n    var handlersChunk = handlers.chunk;\n    handlers.chunk = function(chunk) {\n        for (var i = 0; i < chunk.length; i++) {\n            if (chunk.charCodeAt(i) === 10) { // \\n\n                line++;\n                column = 0;\n            } else {\n                column++;\n            }\n        }\n\n        handlersChunk(chunk);\n    };\n\n    var handlersResult = handlers.result;\n    handlers.result = function() {\n        if (sourceMappingActive) {\n            map.addMapping(activatedMapping);\n        }\n\n        return {\n            css: handlersResult(),\n            map: map\n        };\n    };\n\n    return handlers;\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar noop = function() {};\n\nfunction ensureFunction(value) {\n    return typeof value === 'function' ? value : noop;\n}\n\nfunction invokeForType(fn, type) {\n    return function(node, item, list) {\n        if (node.type === type) {\n            fn.call(this, node, item, list);\n        }\n    };\n}\n\nfunction getWalkersFromStructure(name, nodeType) {\n    var structure = nodeType.structure;\n    var walkers = [];\n\n    for (var key in structure) {\n        if (hasOwnProperty.call(structure, key) === false) {\n            continue;\n        }\n\n        var fieldTypes = structure[key];\n        var walker = {\n            name: key,\n            type: false,\n            nullable: false\n        };\n\n        if (!Array.isArray(structure[key])) {\n            fieldTypes = [structure[key]];\n        }\n\n        for (var i = 0; i < fieldTypes.length; i++) {\n            var fieldType = fieldTypes[i];\n            if (fieldType === null) {\n                walker.nullable = true;\n            } else if (typeof fieldType === 'string') {\n                walker.type = 'node';\n            } else if (Array.isArray(fieldType)) {\n                walker.type = 'list';\n            }\n        }\n\n        if (walker.type) {\n            walkers.push(walker);\n        }\n    }\n\n    if (walkers.length) {\n        return {\n            context: nodeType.walkContext,\n            fields: walkers\n        };\n    }\n\n    return null;\n}\n\nfunction getTypesFromConfig(config) {\n    var types = {};\n\n    for (var name in config.node) {\n        if (hasOwnProperty.call(config.node, name)) {\n            var nodeType = config.node[name];\n\n            if (!nodeType.structure) {\n                throw new Error('Missed `structure` field in `' + name + '` node type definition');\n            }\n\n            types[name] = getWalkersFromStructure(name, nodeType);\n        }\n    }\n\n    return types;\n}\n\nfunction createTypeIterator(config, reverse) {\n    var fields = config.fields.slice();\n    var contextName = config.context;\n    var useContext = typeof contextName === 'string';\n\n    if (reverse) {\n        fields.reverse();\n    }\n\n    return function(node, context, walk, walkReducer) {\n        var prevContextValue;\n\n        if (useContext) {\n            prevContextValue = context[contextName];\n            context[contextName] = node;\n        }\n\n        for (var i = 0; i < fields.length; i++) {\n            var field = fields[i];\n            var ref = node[field.name];\n\n            if (!field.nullable || ref) {\n                if (field.type === 'list') {\n                    var breakWalk = reverse\n                        ? ref.reduceRight(walkReducer, false)\n                        : ref.reduce(walkReducer, false);\n\n                    if (breakWalk) {\n                        return true;\n                    }\n                } else if (walk(ref)) {\n                    return true;\n                }\n            }\n        }\n\n        if (useContext) {\n            context[contextName] = prevContextValue;\n        }\n    };\n}\n\nfunction createFastTraveralMap(iterators) {\n    return {\n        Atrule: {\n            StyleSheet: iterators.StyleSheet,\n            Atrule: iterators.Atrule,\n            Rule: iterators.Rule,\n            Block: iterators.Block\n        },\n        Rule: {\n            StyleSheet: iterators.StyleSheet,\n            Atrule: iterators.Atrule,\n            Rule: iterators.Rule,\n            Block: iterators.Block\n        },\n        Declaration: {\n            StyleSheet: iterators.StyleSheet,\n            Atrule: iterators.Atrule,\n            Rule: iterators.Rule,\n            Block: iterators.Block,\n            DeclarationList: iterators.DeclarationList\n        }\n    };\n}\n\nmodule.exports = function createWalker(config) {\n    var types = getTypesFromConfig(config);\n    var iteratorsNatural = {};\n    var iteratorsReverse = {};\n    var breakWalk = Symbol('break-walk');\n    var skipNode = Symbol('skip-node');\n\n    for (var name in types) {\n        if (hasOwnProperty.call(types, name) && types[name] !== null) {\n            iteratorsNatural[name] = createTypeIterator(types[name], false);\n            iteratorsReverse[name] = createTypeIterator(types[name], true);\n        }\n    }\n\n    var fastTraversalIteratorsNatural = createFastTraveralMap(iteratorsNatural);\n    var fastTraversalIteratorsReverse = createFastTraveralMap(iteratorsReverse);\n\n    var walk = function(root, options) {\n        function walkNode(node, item, list) {\n            var enterRet = enter.call(context, node, item, list);\n\n            if (enterRet === breakWalk) {\n                debugger;\n                return true;\n            }\n\n            if (enterRet === skipNode) {\n                return false;\n            }\n\n            if (iterators.hasOwnProperty(node.type)) {\n                if (iterators[node.type](node, context, walkNode, walkReducer)) {\n                    return true;\n                }\n            }\n\n            if (leave.call(context, node, item, list) === breakWalk) {\n                return true;\n            }\n\n            return false;\n        }\n\n        var walkReducer = (ret, data, item, list) => ret || walkNode(data, item, list);\n        var enter = noop;\n        var leave = noop;\n        var iterators = iteratorsNatural;\n        var context = {\n            break: breakWalk,\n            skip: skipNode,\n\n            root: root,\n            stylesheet: null,\n            atrule: null,\n            atrulePrelude: null,\n            rule: null,\n            selector: null,\n            block: null,\n            declaration: null,\n            function: null\n        };\n\n        if (typeof options === 'function') {\n            enter = options;\n        } else if (options) {\n            enter = ensureFunction(options.enter);\n            leave = ensureFunction(options.leave);\n\n            if (options.reverse) {\n                iterators = iteratorsReverse;\n            }\n\n            if (options.visit) {\n                if (fastTraversalIteratorsNatural.hasOwnProperty(options.visit)) {\n                    iterators = options.reverse\n                        ? fastTraversalIteratorsReverse[options.visit]\n                        : fastTraversalIteratorsNatural[options.visit];\n                } else if (!types.hasOwnProperty(options.visit)) {\n                    throw new Error('Bad value `' + options.visit + '` for `visit` option (should be: ' + Object.keys(types).join(', ') + ')');\n                }\n\n                enter = invokeForType(enter, options.visit);\n                leave = invokeForType(leave, options.visit);\n            }\n        }\n\n        if (enter === noop && leave === noop) {\n            throw new Error('Neither `enter` nor `leave` walker handler is set or both aren\\'t a function');\n        }\n\n        walkNode(root);\n    };\n\n    walk.break = breakWalk;\n    walk.skip = skipNode;\n\n    walk.find = function(ast, fn) {\n        var found = null;\n\n        walk(ast, function(node, item, list) {\n            if (fn.call(this, node, item, list)) {\n                found = node;\n                return breakWalk;\n            }\n        });\n\n        return found;\n    };\n\n    walk.findLast = function(ast, fn) {\n        var found = null;\n\n        walk(ast, {\n            reverse: true,\n            enter: function(node, item, list) {\n                if (fn.call(this, node, item, list)) {\n                    found = node;\n                    return breakWalk;\n                }\n            }\n        });\n\n        return found;\n    };\n\n    walk.findAll = function(ast, fn) {\n        var found = [];\n\n        walk(ast, function(node, item, list) {\n            if (fn.call(this, node, item, list)) {\n                found.push(node);\n            }\n        });\n\n        return found;\n    };\n\n    return walk;\n};\n","var List = require('../common/List');\n\nmodule.exports = function clone(node) {\n    var result = {};\n\n    for (var key in node) {\n        var value = node[key];\n\n        if (value) {\n            if (Array.isArray(value) || value instanceof List) {\n                value = value.map(clone);\n            } else if (value.constructor === Object) {\n                value = clone(value);\n            }\n        }\n\n        result[key] = value;\n    }\n\n    return result;\n};\n","const hasOwnProperty = Object.prototype.hasOwnProperty;\nconst shape = {\n    generic: true,\n    types: appendOrAssign,\n    atrules: {\n        prelude: appendOrAssignOrNull,\n        descriptors: appendOrAssignOrNull\n    },\n    properties: appendOrAssign,\n    parseContext: assign,\n    scope: deepAssign,\n    atrule: ['parse'],\n    pseudo: ['parse'],\n    node: ['name', 'structure', 'parse', 'generate', 'walkContext']\n};\n\nfunction isObject(value) {\n    return value && value.constructor === Object;\n}\n\nfunction copy(value) {\n    return isObject(value)\n        ? Object.assign({}, value)\n        : value;\n}\n\nfunction assign(dest, src) {\n    return Object.assign(dest, src);\n}\n\nfunction deepAssign(dest, src) {\n    for (const key in src) {\n        if (hasOwnProperty.call(src, key)) {\n            if (isObject(dest[key])) {\n                deepAssign(dest[key], copy(src[key]));\n            } else {\n                dest[key] = copy(src[key]);\n            }\n        }\n    }\n\n    return dest;\n}\n\nfunction append(a, b) {\n    if (typeof b === 'string' && /^\\s*\\|/.test(b)) {\n        return typeof a === 'string'\n            ? a + b\n            : b.replace(/^\\s*\\|\\s*/, '');\n    }\n\n    return b || null;\n}\n\nfunction appendOrAssign(a, b) {\n    if (typeof b === 'string') {\n        return append(a, b);\n    }\n\n    const result = Object.assign({}, a);\n    for (let key in b) {\n        if (hasOwnProperty.call(b, key)) {\n            result[key] = append(hasOwnProperty.call(a, key) ? a[key] : undefined, b[key]);\n        }\n    }\n\n    return result;\n}\n\nfunction appendOrAssignOrNull(a, b) {\n    const result = appendOrAssign(a, b);\n\n    return !isObject(result) || Object.keys(result).length\n        ? result\n        : null;\n}\n\nfunction mix(dest, src, shape) {\n    for (const key in shape) {\n        if (hasOwnProperty.call(shape, key) === false) {\n            continue;\n        }\n\n        if (shape[key] === true) {\n            if (key in src) {\n                if (hasOwnProperty.call(src, key)) {\n                    dest[key] = copy(src[key]);\n                }\n            }\n        } else if (shape[key]) {\n            if (typeof shape[key] === 'function') {\n                const fn = shape[key];\n                dest[key] = fn({}, dest[key]);\n                dest[key] = fn(dest[key] || {}, src[key]);\n            } else if (isObject(shape[key])) {\n                const result = {};\n\n                for (let name in dest[key]) {\n                    result[name] = mix({}, dest[key][name], shape[key]);\n                }\n\n                for (let name in src[key]) {\n                    result[name] = mix(result[name] || {}, src[key][name], shape[key]);\n                }\n\n                dest[key] = result;\n            } else if (Array.isArray(shape[key])) {\n                const res = {};\n                const innerShape = shape[key].reduce(function(s, k) {\n                    s[k] = true;\n                    return s;\n                }, {});\n\n                for (const [name, value] of Object.entries(dest[key] || {})) {\n                    res[name] = {};\n                    if (value) {\n                        mix(res[name], value, innerShape);\n                    }\n                }\n\n                for (const name in src[key]) {\n                    if (hasOwnProperty.call(src[key], name)) {\n                        if (!res[name]) {\n                            res[name] = {};\n                        }\n\n                        if (src[key] && src[key][name]) {\n                            mix(res[name], src[key][name], innerShape);\n                        }\n                    }\n                }\n\n                dest[key] = res;\n            }\n        }\n    }\n    return dest;\n}\n\nmodule.exports = (dest, src) => mix(dest, src, shape);\n","var List = require('../common/List');\nvar SyntaxError = require('../common/SyntaxError');\nvar TokenStream = require('../common/TokenStream');\nvar Lexer = require('../lexer/Lexer');\nvar definitionSyntax = require('../definition-syntax');\nvar tokenize = require('../tokenizer');\nvar createParser = require('../parser/create');\nvar createGenerator = require('../generator/create');\nvar createConvertor = require('../convertor/create');\nvar createWalker = require('../walker/create');\nvar clone = require('../utils/clone');\nvar names = require('../utils/names');\nvar mix = require('./config/mix');\n\nfunction createSyntax(config) {\n    var parse = createParser(config);\n    var walk = createWalker(config);\n    var generate = createGenerator(config);\n    var convert = createConvertor(walk);\n\n    var syntax = {\n        List: List,\n        SyntaxError: SyntaxError,\n        TokenStream: TokenStream,\n        Lexer: Lexer,\n\n        vendorPrefix: names.vendorPrefix,\n        keyword: names.keyword,\n        property: names.property,\n        isCustomProperty: names.isCustomProperty,\n\n        definitionSyntax: definitionSyntax,\n        lexer: null,\n        createLexer: function(config) {\n            return new Lexer(config, syntax, syntax.lexer.structure);\n        },\n\n        tokenize: tokenize,\n        parse: parse,\n        walk: walk,\n        generate: generate,\n\n        find: walk.find,\n        findLast: walk.findLast,\n        findAll: walk.findAll,\n\n        clone: clone,\n        fromPlainObject: convert.fromPlainObject,\n        toPlainObject: convert.toPlainObject,\n\n        createSyntax: function(config) {\n            return createSyntax(mix({}, config));\n        },\n        fork: function(extension) {\n            var base = mix({}, config); // copy of config\n            return createSyntax(\n                typeof extension === 'function'\n                    ? extension(base, Object.assign)\n                    : mix(base, extension)\n            );\n        }\n    };\n\n    syntax.lexer = new Lexer({\n        generic: true,\n        types: config.types,\n        atrules: config.atrules,\n        properties: config.properties,\n        node: config.node\n    }, syntax);\n\n    return syntax;\n};\n\nexports.create = function(config) {\n    return createSyntax(mix({}, config));\n};\n","var sourceMap = require('./sourceMap');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction processChildren(node, delimeter) {\n    var list = node.children;\n    var prev = null;\n\n    if (typeof delimeter !== 'function') {\n        list.forEach(this.node, this);\n    } else {\n        list.forEach(function(node) {\n            if (prev !== null) {\n                delimeter.call(this, prev);\n            }\n\n            this.node(node);\n            prev = node;\n        }, this);\n    }\n}\n\nmodule.exports = function createGenerator(config) {\n    function processNode(node) {\n        if (hasOwnProperty.call(types, node.type)) {\n            types[node.type].call(this, node);\n        } else {\n            throw new Error('Unknown node type: ' + node.type);\n        }\n    }\n\n    var types = {};\n\n    if (config.node) {\n        for (var name in config.node) {\n            types[name] = config.node[name].generate;\n        }\n    }\n\n    return function(node, options) {\n        var buffer = '';\n        var handlers = {\n            children: processChildren,\n            node: processNode,\n            chunk: function(chunk) {\n                buffer += chunk;\n            },\n            result: function() {\n                return buffer;\n            }\n        };\n\n        if (options) {\n            if (typeof options.decorator === 'function') {\n                handlers = options.decorator(handlers);\n            }\n\n            if (options.sourceMap) {\n                handlers = sourceMap(handlers);\n            }\n        }\n\n        handlers.node(node);\n\n        return handlers.result();\n    };\n};\n","var List = require('../common/List');\n\nmodule.exports = function createConvertors(walk) {\n    return {\n        fromPlainObject: function(ast) {\n            walk(ast, {\n                enter: function(node) {\n                    if (node.children && node.children instanceof List === false) {\n                        node.children = new List().fromArray(node.children);\n                    }\n                }\n            });\n\n            return ast;\n        },\n        toPlainObject: function(ast) {\n            walk(ast, {\n                leave: function(node) {\n                    if (node.children && node.children instanceof List) {\n                        node.children = node.children.toArray();\n                    }\n                }\n            });\n\n            return ast;\n        }\n    };\n};\n","const mdnAtrules = require('mdn-data/css/at-rules.json');\nconst mdnProperties = require('mdn-data/css/properties.json');\nconst mdnSyntaxes = require('mdn-data/css/syntaxes.json');\nconst patch = require('./patch.json');\nconst extendSyntax = /^\\s*\\|\\s*/;\n\nfunction preprocessAtrules(dict) {\n    const result = Object.create(null);\n\n    for (const atruleName in dict) {\n        const atrule = dict[atruleName];\n        let descriptors = null;\n\n        if (atrule.descriptors) {\n            descriptors = Object.create(null);\n\n            for (const descriptor in atrule.descriptors) {\n                descriptors[descriptor] = atrule.descriptors[descriptor].syntax;\n            }\n        }\n\n        result[atruleName.substr(1)] = {\n            prelude: atrule.syntax.trim().match(/^@\\S+\\s+([^;\\{]*)/)[1].trim() || null,\n            descriptors\n        };\n    }\n\n    return result;\n}\n\nfunction patchDictionary(dict, patchDict) {\n    const result = {};\n\n    // copy all syntaxes for an original dict\n    for (const key in dict) {\n        result[key] = dict[key].syntax || dict[key];\n    }\n\n    // apply a patch\n    for (const key in patchDict) {\n        if (key in dict) {\n            if (patchDict[key].syntax) {\n                result[key] = extendSyntax.test(patchDict[key].syntax)\n                    ? result[key] + ' ' + patchDict[key].syntax.trim()\n                    : patchDict[key].syntax;\n            } else {\n                delete result[key];\n            }\n        } else {\n            if (patchDict[key].syntax) {\n                result[key] = patchDict[key].syntax.replace(extendSyntax, '');\n            }\n        }\n    }\n\n    return result;\n}\n\nfunction unpackSyntaxes(dict) {\n    const result = {};\n\n    for (const key in dict) {\n        result[key] = dict[key].syntax;\n    }\n\n    return result;\n}\n\nfunction patchAtrules(dict, patchDict) {\n    const result = {};\n\n    // copy all syntaxes for an original dict\n    for (const key in dict) {\n        const patchDescriptors = (patchDict[key] && patchDict[key].descriptors) || null;\n\n        result[key] = {\n            prelude: key in patchDict && 'prelude' in patchDict[key]\n                ? patchDict[key].prelude\n                : dict[key].prelude || null,\n            descriptors: dict[key].descriptors\n                ? patchDictionary(dict[key].descriptors, patchDescriptors || {})\n                : patchDescriptors && unpackSyntaxes(patchDescriptors)\n        };\n    }\n\n    // apply a patch\n    for (const key in patchDict) {\n        if (!hasOwnProperty.call(dict, key)) {\n            result[key] = {\n                prelude: patchDict[key].prelude || null,\n                descriptors: patchDict[key].descriptors && unpackSyntaxes(patchDict[key].descriptors)\n            };\n        }\n    }\n\n    return result;\n}\n\nmodule.exports = {\n    types: patchDictionary(mdnSyntaxes, patch.syntaxes),\n    atrules: patchAtrules(preprocessAtrules(mdnAtrules), patch.atrules),\n    properties: patchDictionary(mdnProperties, patch.properties)\n};\n","var cmpChar = require('../../tokenizer').cmpChar;\nvar isDigit = require('../../tokenizer').isDigit;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nvar N = 0x006E;           // U+006E LATIN SMALL LETTER N (n)\nvar DISALLOW_SIGN = true;\nvar ALLOW_SIGN = false;\n\nfunction checkInteger(offset, disallowSign) {\n    var pos = this.scanner.tokenStart + offset;\n    var code = this.scanner.source.charCodeAt(pos);\n\n    if (code === PLUSSIGN || code === HYPHENMINUS) {\n        if (disallowSign) {\n            this.error('Number sign is not allowed');\n        }\n        pos++;\n    }\n\n    for (; pos < this.scanner.tokenEnd; pos++) {\n        if (!isDigit(this.scanner.source.charCodeAt(pos))) {\n            this.error('Integer is expected', pos);\n        }\n    }\n}\n\nfunction checkTokenIsInteger(disallowSign) {\n    return checkInteger.call(this, 0, disallowSign);\n}\n\nfunction expectCharCode(offset, code) {\n    if (!cmpChar(this.scanner.source, this.scanner.tokenStart + offset, code)) {\n        var msg = '';\n\n        switch (code) {\n            case N:\n                msg = 'N is expected';\n                break;\n            case HYPHENMINUS:\n                msg = 'HyphenMinus is expected';\n                break;\n        }\n\n        this.error(msg, this.scanner.tokenStart + offset);\n    }\n}\n\n// ... <signed-integer>\n// ... ['+' | '-'] <signless-integer>\nfunction consumeB() {\n    var offset = 0;\n    var sign = 0;\n    var type = this.scanner.tokenType;\n\n    while (type === WHITESPACE || type === COMMENT) {\n        type = this.scanner.lookupType(++offset);\n    }\n\n    if (type !== NUMBER) {\n        if (this.scanner.isDelim(PLUSSIGN, offset) ||\n            this.scanner.isDelim(HYPHENMINUS, offset)) {\n            sign = this.scanner.isDelim(PLUSSIGN, offset) ? PLUSSIGN : HYPHENMINUS;\n\n            do {\n                type = this.scanner.lookupType(++offset);\n            } while (type === WHITESPACE || type === COMMENT);\n\n            if (type !== NUMBER) {\n                this.scanner.skip(offset);\n                checkTokenIsInteger.call(this, DISALLOW_SIGN);\n            }\n        } else {\n            return null;\n        }\n    }\n\n    if (offset > 0) {\n        this.scanner.skip(offset);\n    }\n\n    if (sign === 0) {\n        type = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n        if (type !== PLUSSIGN && type !== HYPHENMINUS) {\n            this.error('Number sign is expected');\n        }\n    }\n\n    checkTokenIsInteger.call(this, sign !== 0);\n    return sign === HYPHENMINUS ? '-' + this.consume(NUMBER) : this.consume(NUMBER);\n}\n\n// An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb\nmodule.exports = {\n    name: 'AnPlusB',\n    structure: {\n        a: [String, null],\n        b: [String, null]\n    },\n    parse: function() {\n        /* eslint-disable brace-style*/\n        var start = this.scanner.tokenStart;\n        var a = null;\n        var b = null;\n\n        // <integer>\n        if (this.scanner.tokenType === NUMBER) {\n            checkTokenIsInteger.call(this, ALLOW_SIGN);\n            b = this.consume(NUMBER);\n        }\n\n        // -n\n        // -n <signed-integer>\n        // -n ['+' | '-'] <signless-integer>\n        // -n- <signless-integer>\n        // <dashndashdigit-ident>\n        else if (this.scanner.tokenType === IDENT && cmpChar(this.scanner.source, this.scanner.tokenStart, HYPHENMINUS)) {\n            a = '-1';\n\n            expectCharCode.call(this, 1, N);\n\n            switch (this.scanner.getTokenLength()) {\n                // -n\n                // -n <signed-integer>\n                // -n ['+' | '-'] <signless-integer>\n                case 2:\n                    this.scanner.next();\n                    b = consumeB.call(this);\n                    break;\n\n                // -n- <signless-integer>\n                case 3:\n                    expectCharCode.call(this, 2, HYPHENMINUS);\n\n                    this.scanner.next();\n                    this.scanner.skipSC();\n\n                    checkTokenIsInteger.call(this, DISALLOW_SIGN);\n\n                    b = '-' + this.consume(NUMBER);\n                    break;\n\n                // <dashndashdigit-ident>\n                default:\n                    expectCharCode.call(this, 2, HYPHENMINUS);\n                    checkInteger.call(this, 3, DISALLOW_SIGN);\n                    this.scanner.next();\n\n                    b = this.scanner.substrToCursor(start + 2);\n            }\n        }\n\n        // '+'? n\n        // '+'? n <signed-integer>\n        // '+'? n ['+' | '-'] <signless-integer>\n        // '+'? n- <signless-integer>\n        // '+'? <ndashdigit-ident>\n        else if (this.scanner.tokenType === IDENT || (this.scanner.isDelim(PLUSSIGN) && this.scanner.lookupType(1) === IDENT)) {\n            var sign = 0;\n            a = '1';\n\n            // just ignore a plus\n            if (this.scanner.isDelim(PLUSSIGN)) {\n                sign = 1;\n                this.scanner.next();\n            }\n\n            expectCharCode.call(this, 0, N);\n\n            switch (this.scanner.getTokenLength()) {\n                // '+'? n\n                // '+'? n <signed-integer>\n                // '+'? n ['+' | '-'] <signless-integer>\n                case 1:\n                    this.scanner.next();\n                    b = consumeB.call(this);\n                    break;\n\n                // '+'? n- <signless-integer>\n                case 2:\n                    expectCharCode.call(this, 1, HYPHENMINUS);\n\n                    this.scanner.next();\n                    this.scanner.skipSC();\n\n                    checkTokenIsInteger.call(this, DISALLOW_SIGN);\n\n                    b = '-' + this.consume(NUMBER);\n                    break;\n\n                // '+'? <ndashdigit-ident>\n                default:\n                    expectCharCode.call(this, 1, HYPHENMINUS);\n                    checkInteger.call(this, 2, DISALLOW_SIGN);\n                    this.scanner.next();\n\n                    b = this.scanner.substrToCursor(start + sign + 1);\n            }\n        }\n\n        // <ndashdigit-dimension>\n        // <ndash-dimension> <signless-integer>\n        // <n-dimension>\n        // <n-dimension> <signed-integer>\n        // <n-dimension> ['+' | '-'] <signless-integer>\n        else if (this.scanner.tokenType === DIMENSION) {\n            var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n            var sign = code === PLUSSIGN || code === HYPHENMINUS;\n\n            for (var i = this.scanner.tokenStart + sign; i < this.scanner.tokenEnd; i++) {\n                if (!isDigit(this.scanner.source.charCodeAt(i))) {\n                    break;\n                }\n            }\n\n            if (i === this.scanner.tokenStart + sign) {\n                this.error('Integer is expected', this.scanner.tokenStart + sign);\n            }\n\n            expectCharCode.call(this, i - this.scanner.tokenStart, N);\n            a = this.scanner.source.substring(start, i);\n\n            // <n-dimension>\n            // <n-dimension> <signed-integer>\n            // <n-dimension> ['+' | '-'] <signless-integer>\n            if (i + 1 === this.scanner.tokenEnd) {\n                this.scanner.next();\n                b = consumeB.call(this);\n            } else {\n                expectCharCode.call(this, i - this.scanner.tokenStart + 1, HYPHENMINUS);\n\n                // <ndash-dimension> <signless-integer>\n                if (i + 2 === this.scanner.tokenEnd) {\n                    this.scanner.next();\n                    this.scanner.skipSC();\n                    checkTokenIsInteger.call(this, DISALLOW_SIGN);\n                    b = '-' + this.consume(NUMBER);\n                }\n                // <ndashdigit-dimension>\n                else {\n                    checkInteger.call(this, i - this.scanner.tokenStart + 2, DISALLOW_SIGN);\n                    this.scanner.next();\n                    b = this.scanner.substrToCursor(i + 1);\n                }\n            }\n        } else {\n            this.error();\n        }\n\n        if (a !== null && a.charCodeAt(0) === PLUSSIGN) {\n            a = a.substr(1);\n        }\n\n        if (b !== null && b.charCodeAt(0) === PLUSSIGN) {\n            b = b.substr(1);\n        }\n\n        return {\n            type: 'AnPlusB',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            a: a,\n            b: b\n        };\n    },\n    generate: function(node) {\n        var a = node.a !== null && node.a !== undefined;\n        var b = node.b !== null && node.b !== undefined;\n\n        if (a) {\n            this.chunk(\n                node.a === '+1' ? '+n' : // eslint-disable-line operator-linebreak, indent\n                node.a ===  '1' ?  'n' : // eslint-disable-line operator-linebreak, indent\n                node.a === '-1' ? '-n' : // eslint-disable-line operator-linebreak, indent\n                node.a + 'n'             // eslint-disable-line operator-linebreak, indent\n            );\n\n            if (b) {\n                b = String(node.b);\n                if (b.charAt(0) === '-' || b.charAt(0) === '+') {\n                    this.chunk(b.charAt(0));\n                    this.chunk(b.substr(1));\n                } else {\n                    this.chunk('+');\n                    this.chunk(b);\n                }\n            }\n        } else {\n            this.chunk(String(node.b));\n        }\n    }\n};\n","var tokenizer = require('../../tokenizer');\nvar TYPE = tokenizer.TYPE;\n\nvar WhiteSpace = TYPE.WhiteSpace;\nvar Semicolon = TYPE.Semicolon;\nvar LeftCurlyBracket = TYPE.LeftCurlyBracket;\nvar Delim = TYPE.Delim;\nvar EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\n\nfunction getOffsetExcludeWS() {\n    if (this.scanner.tokenIndex > 0) {\n        if (this.scanner.lookupType(-1) === WhiteSpace) {\n            return this.scanner.tokenIndex > 1\n                ? this.scanner.getTokenStart(this.scanner.tokenIndex - 1)\n                : this.scanner.firstCharOffset;\n        }\n    }\n\n    return this.scanner.tokenStart;\n}\n\n// 0, 0, false\nfunction balanceEnd() {\n    return 0;\n}\n\n// LEFTCURLYBRACKET, 0, false\nfunction leftCurlyBracket(tokenType) {\n    return tokenType === LeftCurlyBracket ? 1 : 0;\n}\n\n// LEFTCURLYBRACKET, SEMICOLON, false\nfunction leftCurlyBracketOrSemicolon(tokenType) {\n    return tokenType === LeftCurlyBracket || tokenType === Semicolon ? 1 : 0;\n}\n\n// EXCLAMATIONMARK, SEMICOLON, false\nfunction exclamationMarkOrSemicolon(tokenType, source, offset) {\n    if (tokenType === Delim && source.charCodeAt(offset) === EXCLAMATIONMARK) {\n        return 1;\n    }\n\n    return tokenType === Semicolon ? 1 : 0;\n}\n\n// 0, SEMICOLON, true\nfunction semicolonIncluded(tokenType) {\n    return tokenType === Semicolon ? 2 : 0;\n}\n\nmodule.exports = {\n    name: 'Raw',\n    structure: {\n        value: String\n    },\n    parse: function(startToken, mode, excludeWhiteSpace) {\n        var startOffset = this.scanner.getTokenStart(startToken);\n        var endOffset;\n\n        this.scanner.skip(\n            this.scanner.getRawLength(startToken, mode || balanceEnd)\n        );\n\n        if (excludeWhiteSpace && this.scanner.tokenStart > startOffset) {\n            endOffset = getOffsetExcludeWS.call(this);\n        } else {\n            endOffset = this.scanner.tokenStart;\n        }\n\n        return {\n            type: 'Raw',\n            loc: this.getLocation(startOffset, endOffset),\n            value: this.scanner.source.substring(startOffset, endOffset)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    },\n\n    mode: {\n        default: balanceEnd,\n        leftCurlyBracket: leftCurlyBracket,\n        leftCurlyBracketOrSemicolon: leftCurlyBracketOrSemicolon,\n        exclamationMarkOrSemicolon: exclamationMarkOrSemicolon,\n        semicolonIncluded: semicolonIncluded\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar ATKEYWORD = TYPE.AtKeyword;\nvar SEMICOLON = TYPE.Semicolon;\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\nvar RIGHTCURLYBRACKET = TYPE.RightCurlyBracket;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, rawMode.leftCurlyBracketOrSemicolon, true);\n}\n\nfunction isDeclarationBlockAtrule() {\n    for (var offset = 1, type; type = this.scanner.lookupType(offset); offset++) {\n        if (type === RIGHTCURLYBRACKET) {\n            return true;\n        }\n\n        if (type === LEFTCURLYBRACKET ||\n            type === ATKEYWORD) {\n            return false;\n        }\n    }\n\n    return false;\n}\n\nmodule.exports = {\n    name: 'Atrule',\n    structure: {\n        name: String,\n        prelude: ['AtrulePrelude', 'Raw', null],\n        block: ['Block', null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var name;\n        var nameLowerCase;\n        var prelude = null;\n        var block = null;\n\n        this.eat(ATKEYWORD);\n\n        name = this.scanner.substrToCursor(start + 1);\n        nameLowerCase = name.toLowerCase();\n        this.scanner.skipSC();\n\n        // parse prelude\n        if (this.scanner.eof === false &&\n            this.scanner.tokenType !== LEFTCURLYBRACKET &&\n            this.scanner.tokenType !== SEMICOLON) {\n            if (this.parseAtrulePrelude) {\n                prelude = this.parseWithFallback(this.AtrulePrelude.bind(this, name), consumeRaw);\n\n                // turn empty AtrulePrelude into null\n                if (prelude.type === 'AtrulePrelude' && prelude.children.head === null) {\n                    prelude = null;\n                }\n            } else {\n                prelude = consumeRaw.call(this, this.scanner.tokenIndex);\n            }\n\n            this.scanner.skipSC();\n        }\n\n        switch (this.scanner.tokenType) {\n            case SEMICOLON:\n                this.scanner.next();\n                break;\n\n            case LEFTCURLYBRACKET:\n                if (this.atrule.hasOwnProperty(nameLowerCase) &&\n                    typeof this.atrule[nameLowerCase].block === 'function') {\n                    block = this.atrule[nameLowerCase].block.call(this);\n                } else {\n                    // TODO: should consume block content as Raw?\n                    block = this.Block(isDeclarationBlockAtrule.call(this));\n                }\n\n                break;\n        }\n\n        return {\n            type: 'Atrule',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            prelude: prelude,\n            block: block\n        };\n    },\n    generate: function(node) {\n        this.chunk('@');\n        this.chunk(node.name);\n\n        if (node.prelude !== null) {\n            this.chunk(' ');\n            this.node(node.prelude);\n        }\n\n        if (node.block) {\n            this.node(node.block);\n        } else {\n            this.chunk(';');\n        }\n    },\n    walkContext: 'atrule'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar SEMICOLON = TYPE.Semicolon;\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\n\nmodule.exports = {\n    name: 'AtrulePrelude',\n    structure: {\n        children: [[]]\n    },\n    parse: function(name) {\n        var children = null;\n\n        if (name !== null) {\n            name = name.toLowerCase();\n        }\n\n        this.scanner.skipSC();\n\n        if (this.atrule.hasOwnProperty(name) &&\n            typeof this.atrule[name].prelude === 'function') {\n            // custom consumer\n            children = this.atrule[name].prelude.call(this);\n        } else {\n            // default consumer\n            children = this.readSequence(this.scope.AtrulePrelude);\n        }\n\n        this.scanner.skipSC();\n\n        if (this.scanner.eof !== true &&\n            this.scanner.tokenType !== LEFTCURLYBRACKET &&\n            this.scanner.tokenType !== SEMICOLON) {\n            this.error('Semicolon or block is expected');\n        }\n\n        if (children === null) {\n            children = this.createList();\n        }\n\n        return {\n            type: 'AtrulePrelude',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    },\n    walkContext: 'atrulePrelude'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar STRING = TYPE.String;\nvar COLON = TYPE.Colon;\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar RIGHTSQUAREBRACKET = TYPE.RightSquareBracket;\nvar DOLLARSIGN = 0x0024;       // U+0024 DOLLAR SIGN ($)\nvar ASTERISK = 0x002A;         // U+002A ASTERISK (*)\nvar EQUALSSIGN = 0x003D;       // U+003D EQUALS SIGN (=)\nvar CIRCUMFLEXACCENT = 0x005E; // U+005E (^)\nvar VERTICALLINE = 0x007C;     // U+007C VERTICAL LINE (|)\nvar TILDE = 0x007E;            // U+007E TILDE (~)\n\nfunction getAttributeName() {\n    if (this.scanner.eof) {\n        this.error('Unexpected end of input');\n    }\n\n    var start = this.scanner.tokenStart;\n    var expectIdent = false;\n    var checkColon = true;\n\n    if (this.scanner.isDelim(ASTERISK)) {\n        expectIdent = true;\n        checkColon = false;\n        this.scanner.next();\n    } else if (!this.scanner.isDelim(VERTICALLINE)) {\n        this.eat(IDENT);\n    }\n\n    if (this.scanner.isDelim(VERTICALLINE)) {\n        if (this.scanner.source.charCodeAt(this.scanner.tokenStart + 1) !== EQUALSSIGN) {\n            this.scanner.next();\n            this.eat(IDENT);\n        } else if (expectIdent) {\n            this.error('Identifier is expected', this.scanner.tokenEnd);\n        }\n    } else if (expectIdent) {\n        this.error('Vertical line is expected');\n    }\n\n    if (checkColon && this.scanner.tokenType === COLON) {\n        this.scanner.next();\n        this.eat(IDENT);\n    }\n\n    return {\n        type: 'Identifier',\n        loc: this.getLocation(start, this.scanner.tokenStart),\n        name: this.scanner.substrToCursor(start)\n    };\n}\n\nfunction getOperator() {\n    var start = this.scanner.tokenStart;\n    var code = this.scanner.source.charCodeAt(start);\n\n    if (code !== EQUALSSIGN &&        // =\n        code !== TILDE &&             // ~=\n        code !== CIRCUMFLEXACCENT &&  // ^=\n        code !== DOLLARSIGN &&        // $=\n        code !== ASTERISK &&          // *=\n        code !== VERTICALLINE         // |=\n    ) {\n        this.error('Attribute selector (=, ~=, ^=, $=, *=, |=) is expected');\n    }\n\n    this.scanner.next();\n\n    if (code !== EQUALSSIGN) {\n        if (!this.scanner.isDelim(EQUALSSIGN)) {\n            this.error('Equal sign is expected');\n        }\n\n        this.scanner.next();\n    }\n\n    return this.scanner.substrToCursor(start);\n}\n\n// '[' <wq-name> ']'\n// '[' <wq-name> <attr-matcher> [ <string-token> | <ident-token> ] <attr-modifier>? ']'\nmodule.exports = {\n    name: 'AttributeSelector',\n    structure: {\n        name: 'Identifier',\n        matcher: [String, null],\n        value: ['String', 'Identifier', null],\n        flags: [String, null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var name;\n        var matcher = null;\n        var value = null;\n        var flags = null;\n\n        this.eat(LEFTSQUAREBRACKET);\n        this.scanner.skipSC();\n\n        name = getAttributeName.call(this);\n        this.scanner.skipSC();\n\n        if (this.scanner.tokenType !== RIGHTSQUAREBRACKET) {\n            // avoid case `[name i]`\n            if (this.scanner.tokenType !== IDENT) {\n                matcher = getOperator.call(this);\n\n                this.scanner.skipSC();\n\n                value = this.scanner.tokenType === STRING\n                    ? this.String()\n                    : this.Identifier();\n\n                this.scanner.skipSC();\n            }\n\n            // attribute flags\n            if (this.scanner.tokenType === IDENT) {\n                flags = this.scanner.getTokenValue();\n                this.scanner.next();\n\n                this.scanner.skipSC();\n            }\n        }\n\n        this.eat(RIGHTSQUAREBRACKET);\n\n        return {\n            type: 'AttributeSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            matcher: matcher,\n            value: value,\n            flags: flags\n        };\n    },\n    generate: function(node) {\n        var flagsPrefix = ' ';\n\n        this.chunk('[');\n        this.node(node.name);\n\n        if (node.matcher !== null) {\n            this.chunk(node.matcher);\n\n            if (node.value !== null) {\n                this.node(node.value);\n\n                // space between string and flags is not required\n                if (node.value.type === 'String') {\n                    flagsPrefix = '';\n                }\n            }\n        }\n\n        if (node.flags !== null) {\n            this.chunk(flagsPrefix);\n            this.chunk(node.flags);\n        }\n\n        this.chunk(']');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar SEMICOLON = TYPE.Semicolon;\nvar ATKEYWORD = TYPE.AtKeyword;\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\nvar RIGHTCURLYBRACKET = TYPE.RightCurlyBracket;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, null, true);\n}\nfunction consumeRule() {\n    return this.parseWithFallback(this.Rule, consumeRaw);\n}\nfunction consumeRawDeclaration(startToken) {\n    return this.Raw(startToken, rawMode.semicolonIncluded, true);\n}\nfunction consumeDeclaration() {\n    if (this.scanner.tokenType === SEMICOLON) {\n        return consumeRawDeclaration.call(this, this.scanner.tokenIndex);\n    }\n\n    var node = this.parseWithFallback(this.Declaration, consumeRawDeclaration);\n\n    if (this.scanner.tokenType === SEMICOLON) {\n        this.scanner.next();\n    }\n\n    return node;\n}\n\nmodule.exports = {\n    name: 'Block',\n    structure: {\n        children: [[\n            'Atrule',\n            'Rule',\n            'Declaration'\n        ]]\n    },\n    parse: function(isDeclaration) {\n        var consumer = isDeclaration ? consumeDeclaration : consumeRule;\n\n        var start = this.scanner.tokenStart;\n        var children = this.createList();\n\n        this.eat(LEFTCURLYBRACKET);\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case RIGHTCURLYBRACKET:\n                    break scan;\n\n                case WHITESPACE:\n                case COMMENT:\n                    this.scanner.next();\n                    break;\n\n                case ATKEYWORD:\n                    children.push(this.parseWithFallback(this.Atrule, consumeRaw));\n                    break;\n\n                default:\n                    children.push(consumer.call(this));\n            }\n        }\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTCURLYBRACKET);\n        }\n\n        return {\n            type: 'Block',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('{');\n        this.children(node, function(prev) {\n            if (prev.type === 'Declaration') {\n                this.chunk(';');\n            }\n        });\n        this.chunk('}');\n    },\n    walkContext: 'block'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar RIGHTSQUAREBRACKET = TYPE.RightSquareBracket;\n\nmodule.exports = {\n    name: 'Brackets',\n    structure: {\n        children: [[]]\n    },\n    parse: function(readSequence, recognizer) {\n        var start = this.scanner.tokenStart;\n        var children = null;\n\n        this.eat(LEFTSQUAREBRACKET);\n\n        children = readSequence.call(this, recognizer);\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTSQUAREBRACKET);\n        }\n\n        return {\n            type: 'Brackets',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('[');\n        this.children(node);\n        this.chunk(']');\n    }\n};\n","var CDC = require('../../tokenizer').TYPE.CDC;\n\nmodule.exports = {\n    name: 'CDC',\n    structure: [],\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.eat(CDC); // -->\n\n        return {\n            type: 'CDC',\n            loc: this.getLocation(start, this.scanner.tokenStart)\n        };\n    },\n    generate: function() {\n        this.chunk('-->');\n    }\n};\n","var CDO = require('../../tokenizer').TYPE.CDO;\n\nmodule.exports = {\n    name: 'CDO',\n    structure: [],\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.eat(CDO); // <!--\n\n        return {\n            type: 'CDO',\n            loc: this.getLocation(start, this.scanner.tokenStart)\n        };\n    },\n    generate: function() {\n        this.chunk('<!--');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar FULLSTOP = 0x002E; // U+002E FULL STOP (.)\n\n// '.' ident\nmodule.exports = {\n    name: 'ClassSelector',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        if (!this.scanner.isDelim(FULLSTOP)) {\n            this.error('Full stop is expected');\n        }\n\n        this.scanner.next();\n\n        return {\n            type: 'ClassSelector',\n            loc: this.getLocation(this.scanner.tokenStart - 1, this.scanner.tokenEnd),\n            name: this.consume(IDENT)\n        };\n    },\n    generate: function(node) {\n        this.chunk('.');\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\nvar GREATERTHANSIGN = 0x003E; // U+003E GREATER-THAN SIGN (>)\nvar TILDE = 0x007E;           // U+007E TILDE (~)\n\n// + | > | ~ | /deep/\nmodule.exports = {\n    name: 'Combinator',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n\n        switch (code) {\n            case GREATERTHANSIGN:\n            case PLUSSIGN:\n            case TILDE:\n                this.scanner.next();\n                break;\n\n            case SOLIDUS:\n                this.scanner.next();\n\n                if (this.scanner.tokenType !== IDENT || this.scanner.lookupValue(0, 'deep') === false) {\n                    this.error('Identifier `deep` is expected');\n                }\n\n                this.scanner.next();\n\n                if (!this.scanner.isDelim(SOLIDUS)) {\n                    this.error('Solidus is expected');\n                }\n\n                this.scanner.next();\n                break;\n\n            default:\n                this.error('Combinator is expected');\n        }\n\n        return {\n            type: 'Combinator',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar COMMENT = TYPE.Comment;\nvar ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\n\n// '/*' .* '*/'\nmodule.exports = {\n    name: 'Comment',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var end = this.scanner.tokenEnd;\n\n        this.eat(COMMENT);\n\n        if ((end - start + 2) >= 2 &&\n            this.scanner.source.charCodeAt(end - 2) === ASTERISK &&\n            this.scanner.source.charCodeAt(end - 1) === SOLIDUS) {\n            end -= 2;\n        }\n\n        return {\n            type: 'Comment',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.source.substring(start + 2, end)\n        };\n    },\n    generate: function(node) {\n        this.chunk('/*');\n        this.chunk(node.value);\n        this.chunk('*/');\n    }\n};\n","var isCustomProperty = require('../../utils/names').isCustomProperty;\nvar TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar IDENT = TYPE.Ident;\nvar HASH = TYPE.Hash;\nvar COLON = TYPE.Colon;\nvar SEMICOLON = TYPE.Semicolon;\nvar DELIM = TYPE.Delim;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\nvar NUMBERSIGN = 0x0023;      // U+0023 NUMBER SIGN (#)\nvar DOLLARSIGN = 0x0024;      // U+0024 DOLLAR SIGN ($)\nvar AMPERSAND = 0x0026;       // U+0026 ANPERSAND (&)\nvar ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nvar PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\n\nfunction consumeValueRaw(startToken) {\n    return this.Raw(startToken, rawMode.exclamationMarkOrSemicolon, true);\n}\n\nfunction consumeCustomPropertyRaw(startToken) {\n    return this.Raw(startToken, rawMode.exclamationMarkOrSemicolon, false);\n}\n\nfunction consumeValue() {\n    var startValueToken = this.scanner.tokenIndex;\n    var value = this.Value();\n\n    if (value.type !== 'Raw' &&\n        this.scanner.eof === false &&\n        this.scanner.tokenType !== SEMICOLON &&\n        this.scanner.isDelim(EXCLAMATIONMARK) === false &&\n        this.scanner.isBalanceEdge(startValueToken) === false) {\n        this.error();\n    }\n\n    return value;\n}\n\nmodule.exports = {\n    name: 'Declaration',\n    structure: {\n        important: [Boolean, String],\n        property: String,\n        value: ['Value', 'Raw']\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var startToken = this.scanner.tokenIndex;\n        var property = readProperty.call(this);\n        var customProperty = isCustomProperty(property);\n        var parseValue = customProperty ? this.parseCustomProperty : this.parseValue;\n        var consumeRaw = customProperty ? consumeCustomPropertyRaw : consumeValueRaw;\n        var important = false;\n        var value;\n\n        this.scanner.skipSC();\n        this.eat(COLON);\n\n        const valueStart = this.scanner.tokenIndex;\n\n        if (!customProperty) {\n            this.scanner.skipSC();\n        }\n\n        if (parseValue) {\n            value = this.parseWithFallback(consumeValue, consumeRaw);\n        } else {\n            value = consumeRaw.call(this, this.scanner.tokenIndex);\n        }\n\n        if (customProperty && value.type === 'Value' && value.children.isEmpty()) {\n            for (let offset = valueStart - this.scanner.tokenIndex; offset <= 0; offset++) {\n                if (this.scanner.lookupType(offset) === WHITESPACE) {\n                    value.children.appendData({\n                        type: 'WhiteSpace',\n                        loc: null,\n                        value: ' '\n                    });\n                    break;\n                }\n            }\n        }\n\n        if (this.scanner.isDelim(EXCLAMATIONMARK)) {\n            important = getImportant.call(this);\n            this.scanner.skipSC();\n        }\n\n        // Do not include semicolon to range per spec\n        // https://drafts.csswg.org/css-syntax/#declaration-diagram\n\n        if (this.scanner.eof === false &&\n            this.scanner.tokenType !== SEMICOLON &&\n            this.scanner.isBalanceEdge(startToken) === false) {\n            this.error();\n        }\n\n        return {\n            type: 'Declaration',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            important: important,\n            property: property,\n            value: value\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.property);\n        this.chunk(':');\n        this.node(node.value);\n\n        if (node.important) {\n            this.chunk(node.important === true ? '!important' : '!' + node.important);\n        }\n    },\n    walkContext: 'declaration'\n};\n\nfunction readProperty() {\n    var start = this.scanner.tokenStart;\n    var prefix = 0;\n\n    // hacks\n    if (this.scanner.tokenType === DELIM) {\n        switch (this.scanner.source.charCodeAt(this.scanner.tokenStart)) {\n            case ASTERISK:\n            case DOLLARSIGN:\n            case PLUSSIGN:\n            case NUMBERSIGN:\n            case AMPERSAND:\n                this.scanner.next();\n                break;\n\n            // TODO: not sure we should support this hack\n            case SOLIDUS:\n                this.scanner.next();\n                if (this.scanner.isDelim(SOLIDUS)) {\n                    this.scanner.next();\n                }\n                break;\n        }\n    }\n\n    if (prefix) {\n        this.scanner.skip(prefix);\n    }\n\n    if (this.scanner.tokenType === HASH) {\n        this.eat(HASH);\n    } else {\n        this.eat(IDENT);\n    }\n\n    return this.scanner.substrToCursor(start);\n}\n\n// ! ws* important\nfunction getImportant() {\n    this.eat(DELIM);\n    this.scanner.skipSC();\n\n    var important = this.consume(IDENT);\n\n    // store original value in case it differ from `important`\n    // for better original source restoring and hacks like `!ie` support\n    return important === 'important' ? true : important;\n}\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar SEMICOLON = TYPE.Semicolon;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, rawMode.semicolonIncluded, true);\n}\n\nmodule.exports = {\n    name: 'DeclarationList',\n    structure: {\n        children: [[\n            'Declaration'\n        ]]\n    },\n    parse: function() {\n        var children = this.createList();\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case WHITESPACE:\n                case COMMENT:\n                case SEMICOLON:\n                    this.scanner.next();\n                    break;\n\n                default:\n                    children.push(this.parseWithFallback(this.Declaration, consumeRaw));\n            }\n        }\n\n        return {\n            type: 'DeclarationList',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node, function(prev) {\n            if (prev.type === 'Declaration') {\n                this.chunk(';');\n            }\n        });\n    }\n};\n","var consumeNumber = require('../../tokenizer/utils').consumeNumber;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar DIMENSION = TYPE.Dimension;\n\nmodule.exports = {\n    name: 'Dimension',\n    structure: {\n        value: String,\n        unit: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var numberEnd = consumeNumber(this.scanner.source, start);\n\n        this.eat(DIMENSION);\n\n        return {\n            type: 'Dimension',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.source.substring(start, numberEnd),\n            unit: this.scanner.source.substring(numberEnd, this.scanner.tokenStart)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n        this.chunk(node.unit);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// <function-token> <sequence> )\nmodule.exports = {\n    name: 'Function',\n    structure: {\n        name: String,\n        children: [[]]\n    },\n    parse: function(readSequence, recognizer) {\n        var start = this.scanner.tokenStart;\n        var name = this.consumeFunctionName();\n        var nameLowerCase = name.toLowerCase();\n        var children;\n\n        children = recognizer.hasOwnProperty(nameLowerCase)\n            ? recognizer[nameLowerCase].call(this, recognizer)\n            : readSequence.call(this, recognizer);\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTPARENTHESIS);\n        }\n\n        return {\n            type: 'Function',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n        this.chunk('(');\n        this.children(node);\n        this.chunk(')');\n    },\n    walkContext: 'function'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar HASH = TYPE.Hash;\n\n// '#' ident\nmodule.exports = {\n    name: 'Hash',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.eat(HASH);\n\n        return {\n            type: 'Hash',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.substrToCursor(start + 1)\n        };\n    },\n    generate: function(node) {\n        this.chunk('#');\n        this.chunk(node.value);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\n\nmodule.exports = {\n    name: 'Identifier',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        return {\n            type: 'Identifier',\n            loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n            name: this.consume(IDENT)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar HASH = TYPE.Hash;\n\n// <hash-token>\nmodule.exports = {\n    name: 'IdSelector',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        // TODO: check value is an ident\n        this.eat(HASH);\n\n        return {\n            type: 'IdSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: this.scanner.substrToCursor(start + 1)\n        };\n    },\n    generate: function(node) {\n        this.chunk('#');\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\nvar COLON = TYPE.Colon;\nvar DELIM = TYPE.Delim;\n\nmodule.exports = {\n    name: 'MediaFeature',\n    structure: {\n        name: String,\n        value: ['Identifier', 'Number', 'Dimension', 'Ratio', null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var name;\n        var value = null;\n\n        this.eat(LEFTPARENTHESIS);\n        this.scanner.skipSC();\n\n        name = this.consume(IDENT);\n        this.scanner.skipSC();\n\n        if (this.scanner.tokenType !== RIGHTPARENTHESIS) {\n            this.eat(COLON);\n            this.scanner.skipSC();\n\n            switch (this.scanner.tokenType) {\n                case NUMBER:\n                    if (this.lookupNonWSType(1) === DELIM) {\n                        value = this.Ratio();\n                    } else {\n                        value = this.Number();\n                    }\n\n                    break;\n\n                case DIMENSION:\n                    value = this.Dimension();\n                    break;\n\n                case IDENT:\n                    value = this.Identifier();\n\n                    break;\n\n                default:\n                    this.error('Number, dimension, ratio or identifier is expected');\n            }\n\n            this.scanner.skipSC();\n        }\n\n        this.eat(RIGHTPARENTHESIS);\n\n        return {\n            type: 'MediaFeature',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            value: value\n        };\n    },\n    generate: function(node) {\n        this.chunk('(');\n        this.chunk(node.name);\n        if (node.value !== null) {\n            this.chunk(':');\n            this.node(node.value);\n        }\n        this.chunk(')');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\n\nmodule.exports = {\n    name: 'MediaQuery',\n    structure: {\n        children: [[\n            'Identifier',\n            'MediaFeature',\n            'WhiteSpace'\n        ]]\n    },\n    parse: function() {\n        this.scanner.skipSC();\n\n        var children = this.createList();\n        var child = null;\n        var space = null;\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case COMMENT:\n                    this.scanner.next();\n                    continue;\n\n                case WHITESPACE:\n                    space = this.WhiteSpace();\n                    continue;\n\n                case IDENT:\n                    child = this.Identifier();\n                    break;\n\n                case LEFTPARENTHESIS:\n                    child = this.MediaFeature();\n                    break;\n\n                default:\n                    break scan;\n            }\n\n            if (space !== null) {\n                children.push(space);\n                space = null;\n            }\n\n            children.push(child);\n        }\n\n        if (child === null) {\n            this.error('Identifier or parenthesis is expected');\n        }\n\n        return {\n            type: 'MediaQuery',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    }\n};\n","var COMMA = require('../../tokenizer').TYPE.Comma;\n\nmodule.exports = {\n    name: 'MediaQueryList',\n    structure: {\n        children: [[\n            'MediaQuery'\n        ]]\n    },\n    parse: function(relative) {\n        var children = this.createList();\n\n        this.scanner.skipSC();\n\n        while (!this.scanner.eof) {\n            children.push(this.MediaQuery(relative));\n\n            if (this.scanner.tokenType !== COMMA) {\n                break;\n            }\n\n            this.scanner.next();\n        }\n\n        return {\n            type: 'MediaQueryList',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node, function() {\n            this.chunk(',');\n        });\n    }\n};\n","var NUMBER = require('../../tokenizer').TYPE.Number;\n\nmodule.exports = {\n    name: 'Number',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        return {\n            type: 'Number',\n            loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n            value: this.consume(NUMBER)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\nmodule.exports = {\n    name: 'Parentheses',\n    structure: {\n        children: [[]]\n    },\n    parse: function(readSequence, recognizer) {\n        var start = this.scanner.tokenStart;\n        var children = null;\n\n        this.eat(LEFTPARENTHESIS);\n\n        children = readSequence.call(this, recognizer);\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTPARENTHESIS);\n        }\n\n        return {\n            type: 'Parentheses',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('(');\n        this.children(node);\n        this.chunk(')');\n    }\n};\n","var consumeNumber = require('../../tokenizer/utils').consumeNumber;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar PERCENTAGE = TYPE.Percentage;\n\nmodule.exports = {\n    name: 'Percentage',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var numberEnd = consumeNumber(this.scanner.source, start);\n\n        this.eat(PERCENTAGE);\n\n        return {\n            type: 'Percentage',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.source.substring(start, numberEnd)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n        this.chunk('%');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar COLON = TYPE.Colon;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// : [ <ident> | <function-token> <any-value>? ) ]\nmodule.exports = {\n    name: 'PseudoClassSelector',\n    structure: {\n        name: String,\n        children: [['Raw'], null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = null;\n        var name;\n        var nameLowerCase;\n\n        this.eat(COLON);\n\n        if (this.scanner.tokenType === FUNCTION) {\n            name = this.consumeFunctionName();\n            nameLowerCase = name.toLowerCase();\n\n            if (this.pseudo.hasOwnProperty(nameLowerCase)) {\n                this.scanner.skipSC();\n                children = this.pseudo[nameLowerCase].call(this);\n                this.scanner.skipSC();\n            } else {\n                children = this.createList();\n                children.push(\n                    this.Raw(this.scanner.tokenIndex, null, false)\n                );\n            }\n\n            this.eat(RIGHTPARENTHESIS);\n        } else {\n            name = this.consume(IDENT);\n        }\n\n        return {\n            type: 'PseudoClassSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk(':');\n        this.chunk(node.name);\n\n        if (node.children !== null) {\n            this.chunk('(');\n            this.children(node);\n            this.chunk(')');\n        }\n    },\n    walkContext: 'function'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar COLON = TYPE.Colon;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// :: [ <ident> | <function-token> <any-value>? ) ]\nmodule.exports = {\n    name: 'PseudoElementSelector',\n    structure: {\n        name: String,\n        children: [['Raw'], null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = null;\n        var name;\n        var nameLowerCase;\n\n        this.eat(COLON);\n        this.eat(COLON);\n\n        if (this.scanner.tokenType === FUNCTION) {\n            name = this.consumeFunctionName();\n            nameLowerCase = name.toLowerCase();\n\n            if (this.pseudo.hasOwnProperty(nameLowerCase)) {\n                this.scanner.skipSC();\n                children = this.pseudo[nameLowerCase].call(this);\n                this.scanner.skipSC();\n            } else {\n                children = this.createList();\n                children.push(\n                    this.Raw(this.scanner.tokenIndex, null, false)\n                );\n            }\n\n            this.eat(RIGHTPARENTHESIS);\n        } else {\n            name = this.consume(IDENT);\n        }\n\n        return {\n            type: 'PseudoElementSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('::');\n        this.chunk(node.name);\n\n        if (node.children !== null) {\n            this.chunk('(');\n            this.children(node);\n            this.chunk(')');\n        }\n    },\n    walkContext: 'function'\n};\n","var isDigit = require('../../tokenizer').isDigit;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar NUMBER = TYPE.Number;\nvar DELIM = TYPE.Delim;\nvar SOLIDUS = 0x002F;  // U+002F SOLIDUS (/)\nvar FULLSTOP = 0x002E; // U+002E FULL STOP (.)\n\n// Terms of <ratio> should be a positive numbers (not zero or negative)\n// (see https://drafts.csswg.org/mediaqueries-3/#values)\n// However, -o-min-device-pixel-ratio takes fractional values as a ratio's term\n// and this is using by various sites. Therefore we relax checking on parse\n// to test a term is unsigned number without an exponent part.\n// Additional checking may be applied on lexer validation.\nfunction consumeNumber() {\n    this.scanner.skipWS();\n\n    var value = this.consume(NUMBER);\n\n    for (var i = 0; i < value.length; i++) {\n        var code = value.charCodeAt(i);\n        if (!isDigit(code) && code !== FULLSTOP) {\n            this.error('Unsigned number is expected', this.scanner.tokenStart - value.length + i);\n        }\n    }\n\n    if (Number(value) === 0) {\n        this.error('Zero number is not allowed', this.scanner.tokenStart - value.length);\n    }\n\n    return value;\n}\n\n// <positive-integer> S* '/' S* <positive-integer>\nmodule.exports = {\n    name: 'Ratio',\n    structure: {\n        left: String,\n        right: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var left = consumeNumber.call(this);\n        var right;\n\n        this.scanner.skipWS();\n\n        if (!this.scanner.isDelim(SOLIDUS)) {\n            this.error('Solidus is expected');\n        }\n        this.eat(DELIM);\n        right = consumeNumber.call(this);\n\n        return {\n            type: 'Ratio',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            left: left,\n            right: right\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.left);\n        this.chunk('/');\n        this.chunk(node.right);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, rawMode.leftCurlyBracket, true);\n}\n\nfunction consumePrelude() {\n    var prelude = this.SelectorList();\n\n    if (prelude.type !== 'Raw' &&\n        this.scanner.eof === false &&\n        this.scanner.tokenType !== LEFTCURLYBRACKET) {\n        this.error();\n    }\n\n    return prelude;\n}\n\nmodule.exports = {\n    name: 'Rule',\n    structure: {\n        prelude: ['SelectorList', 'Raw'],\n        block: ['Block']\n    },\n    parse: function() {\n        var startToken = this.scanner.tokenIndex;\n        var startOffset = this.scanner.tokenStart;\n        var prelude;\n        var block;\n\n        if (this.parseRulePrelude) {\n            prelude = this.parseWithFallback(consumePrelude, consumeRaw);\n        } else {\n            prelude = consumeRaw.call(this, startToken);\n        }\n\n        block = this.Block(true);\n\n        return {\n            type: 'Rule',\n            loc: this.getLocation(startOffset, this.scanner.tokenStart),\n            prelude: prelude,\n            block: block\n        };\n    },\n    generate: function(node) {\n        this.node(node.prelude);\n        this.node(node.block);\n    },\n    walkContext: 'rule'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar COMMA = TYPE.Comma;\n\nmodule.exports = {\n    name: 'SelectorList',\n    structure: {\n        children: [[\n            'Selector',\n            'Raw'\n        ]]\n    },\n    parse: function() {\n        var children = this.createList();\n\n        while (!this.scanner.eof) {\n            children.push(this.Selector());\n\n            if (this.scanner.tokenType === COMMA) {\n                this.scanner.next();\n                continue;\n            }\n\n            break;\n        }\n\n        return {\n            type: 'SelectorList',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node, function() {\n            this.chunk(',');\n        });\n    },\n    walkContext: 'selector'\n};\n","var STRING = require('../../tokenizer').TYPE.String;\n\nmodule.exports = {\n    name: 'String',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        return {\n            type: 'String',\n            loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n            value: this.consume(STRING)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar ATKEYWORD = TYPE.AtKeyword;\nvar CDO = TYPE.CDO;\nvar CDC = TYPE.CDC;\nvar EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, null, false);\n}\n\nmodule.exports = {\n    name: 'StyleSheet',\n    structure: {\n        children: [[\n            'Comment',\n            'CDO',\n            'CDC',\n            'Atrule',\n            'Rule',\n            'Raw'\n        ]]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = this.createList();\n        var child;\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case WHITESPACE:\n                    this.scanner.next();\n                    continue;\n\n                case COMMENT:\n                    // ignore comments except exclamation comments (i.e. /*! .. */) on top level\n                    if (this.scanner.source.charCodeAt(this.scanner.tokenStart + 2) !== EXCLAMATIONMARK) {\n                        this.scanner.next();\n                        continue;\n                    }\n\n                    child = this.Comment();\n                    break;\n\n                case CDO: // <!--\n                    child = this.CDO();\n                    break;\n\n                case CDC: // -->\n                    child = this.CDC();\n                    break;\n\n                // CSS Syntax Module Level 3\n                // 2.2 Error handling\n                // At the \"top level\" of a stylesheet, an <at-keyword-token> starts an at-rule.\n                case ATKEYWORD:\n                    child = this.parseWithFallback(this.Atrule, consumeRaw);\n                    break;\n\n                // Anything else starts a qualified rule ...\n                default:\n                    child = this.parseWithFallback(this.Rule, consumeRaw);\n            }\n\n            children.push(child);\n        }\n\n        return {\n            type: 'StyleSheet',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    },\n    walkContext: 'stylesheet'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar ASTERISK = 0x002A;     // U+002A ASTERISK (*)\nvar VERTICALLINE = 0x007C; // U+007C VERTICAL LINE (|)\n\nfunction eatIdentifierOrAsterisk() {\n    if (this.scanner.tokenType !== IDENT &&\n        this.scanner.isDelim(ASTERISK) === false) {\n        this.error('Identifier or asterisk is expected');\n    }\n\n    this.scanner.next();\n}\n\n// ident\n// ident|ident\n// ident|*\n// *\n// *|ident\n// *|*\n// |ident\n// |*\nmodule.exports = {\n    name: 'TypeSelector',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        if (this.scanner.isDelim(VERTICALLINE)) {\n            this.scanner.next();\n            eatIdentifierOrAsterisk.call(this);\n        } else {\n            eatIdentifierOrAsterisk.call(this);\n\n            if (this.scanner.isDelim(VERTICALLINE)) {\n                this.scanner.next();\n                eatIdentifierOrAsterisk.call(this);\n            }\n        }\n\n        return {\n            type: 'TypeSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n    }\n};\n","var isHexDigit = require('../../tokenizer').isHexDigit;\nvar cmpChar = require('../../tokenizer').cmpChar;\nvar TYPE = require('../../tokenizer').TYPE;\nvar NAME = require('../../tokenizer').NAME;\n\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;     // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D;  // U+002D HYPHEN-MINUS (-)\nvar QUESTIONMARK = 0x003F; // U+003F QUESTION MARK (?)\nvar U = 0x0075;            // U+0075 LATIN SMALL LETTER U (u)\n\nfunction eatHexSequence(offset, allowDash) {\n    for (var pos = this.scanner.tokenStart + offset, len = 0; pos < this.scanner.tokenEnd; pos++) {\n        var code = this.scanner.source.charCodeAt(pos);\n\n        if (code === HYPHENMINUS && allowDash && len !== 0) {\n            if (eatHexSequence.call(this, offset + len + 1, false) === 0) {\n                this.error();\n            }\n\n            return -1;\n        }\n\n        if (!isHexDigit(code)) {\n            this.error(\n                allowDash && len !== 0\n                    ? 'HyphenMinus' + (len < 6 ? ' or hex digit' : '') + ' is expected'\n                    : (len < 6 ? 'Hex digit is expected' : 'Unexpected input'),\n                pos\n            );\n        }\n\n        if (++len > 6) {\n            this.error('Too many hex digits', pos);\n        };\n    }\n\n    this.scanner.next();\n    return len;\n}\n\nfunction eatQuestionMarkSequence(max) {\n    var count = 0;\n\n    while (this.scanner.isDelim(QUESTIONMARK)) {\n        if (++count > max) {\n            this.error('Too many question marks');\n        }\n\n        this.scanner.next();\n    }\n}\n\nfunction startsWith(code) {\n    if (this.scanner.source.charCodeAt(this.scanner.tokenStart) !== code) {\n        this.error(NAME[code] + ' is expected');\n    }\n}\n\n// https://drafts.csswg.org/css-syntax/#urange\n// Informally, the <urange> production has three forms:\n// U+0001\n//      Defines a range consisting of a single code point, in this case the code point \"1\".\n// U+0001-00ff\n//      Defines a range of codepoints between the first and the second value, in this case\n//      the range between \"1\" and \"ff\" (255 in decimal) inclusive.\n// U+00??\n//      Defines a range of codepoints where the \"?\" characters range over all hex digits,\n//      in this case defining the same as the value U+0000-00ff.\n// In each form, a maximum of 6 digits is allowed for each hexadecimal number (if you treat \"?\" as a hexadecimal digit).\n//\n// <urange> =\n//   u '+' <ident-token> '?'* |\n//   u <dimension-token> '?'* |\n//   u <number-token> '?'* |\n//   u <number-token> <dimension-token> |\n//   u <number-token> <number-token> |\n//   u '+' '?'+\nfunction scanUnicodeRange() {\n    var hexLength = 0;\n\n    // u '+' <ident-token> '?'*\n    // u '+' '?'+\n    if (this.scanner.isDelim(PLUSSIGN)) {\n        this.scanner.next();\n\n        if (this.scanner.tokenType === IDENT) {\n            hexLength = eatHexSequence.call(this, 0, true);\n            if (hexLength > 0) {\n                eatQuestionMarkSequence.call(this, 6 - hexLength);\n            }\n            return;\n        }\n\n        if (this.scanner.isDelim(QUESTIONMARK)) {\n            this.scanner.next();\n            eatQuestionMarkSequence.call(this, 5);\n            return;\n        }\n\n        this.error('Hex digit or question mark is expected');\n        return;\n    }\n\n    // u <number-token> '?'*\n    // u <number-token> <dimension-token>\n    // u <number-token> <number-token>\n    if (this.scanner.tokenType === NUMBER) {\n        startsWith.call(this, PLUSSIGN);\n        hexLength = eatHexSequence.call(this, 1, true);\n\n        if (this.scanner.isDelim(QUESTIONMARK)) {\n            eatQuestionMarkSequence.call(this, 6 - hexLength);\n            return;\n        }\n\n        if (this.scanner.tokenType === DIMENSION ||\n            this.scanner.tokenType === NUMBER) {\n            startsWith.call(this, HYPHENMINUS);\n            eatHexSequence.call(this, 1, false);\n            return;\n        }\n\n        return;\n    }\n\n    // u <dimension-token> '?'*\n    if (this.scanner.tokenType === DIMENSION) {\n        startsWith.call(this, PLUSSIGN);\n        hexLength = eatHexSequence.call(this, 1, true);\n\n        if (hexLength > 0) {\n            eatQuestionMarkSequence.call(this, 6 - hexLength);\n        }\n\n        return;\n    }\n\n    this.error();\n}\n\nmodule.exports = {\n    name: 'UnicodeRange',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        // U or u\n        if (!cmpChar(this.scanner.source, start, U)) {\n            this.error('U is expected');\n        }\n\n        if (!cmpChar(this.scanner.source, start + 1, PLUSSIGN)) {\n            this.error('Plus sign is expected');\n        }\n\n        this.scanner.next();\n        scanUnicodeRange.call(this);\n\n        return {\n            type: 'UnicodeRange',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","var isWhiteSpace = require('../../tokenizer').isWhiteSpace;\nvar cmpStr = require('../../tokenizer').cmpStr;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar FUNCTION = TYPE.Function;\nvar URL = TYPE.Url;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// <url-token> | <function-token> <string> )\nmodule.exports = {\n    name: 'Url',\n    structure: {\n        value: ['String', 'Raw']\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var value;\n\n        switch (this.scanner.tokenType) {\n            case URL:\n                var rawStart = start + 4;\n                var rawEnd = this.scanner.tokenEnd - 1;\n\n                while (rawStart < rawEnd && isWhiteSpace(this.scanner.source.charCodeAt(rawStart))) {\n                    rawStart++;\n                }\n\n                while (rawStart < rawEnd && isWhiteSpace(this.scanner.source.charCodeAt(rawEnd - 1))) {\n                    rawEnd--;\n                }\n\n                value = {\n                    type: 'Raw',\n                    loc: this.getLocation(rawStart, rawEnd),\n                    value: this.scanner.source.substring(rawStart, rawEnd)\n                };\n\n                this.eat(URL);\n                break;\n\n            case FUNCTION:\n                if (!cmpStr(this.scanner.source, this.scanner.tokenStart, this.scanner.tokenEnd, 'url(')) {\n                    this.error('Function name must be `url`');\n                }\n\n                this.eat(FUNCTION);\n                this.scanner.skipSC();\n                value = this.String();\n                this.scanner.skipSC();\n                this.eat(RIGHTPARENTHESIS);\n                break;\n\n            default:\n                this.error('Url or Function is expected');\n        }\n\n        return {\n            type: 'Url',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: value\n        };\n    },\n    generate: function(node) {\n        this.chunk('url');\n        this.chunk('(');\n        this.node(node.value);\n        this.chunk(')');\n    }\n};\n","var WHITESPACE = require('../../tokenizer').TYPE.WhiteSpace;\nvar SPACE = Object.freeze({\n    type: 'WhiteSpace',\n    loc: null,\n    value: ' '\n});\n\nmodule.exports = {\n    name: 'WhiteSpace',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        this.eat(WHITESPACE);\n        return SPACE;\n\n        // return {\n        //     type: 'WhiteSpace',\n        //     loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n        //     value: this.consume(WHITESPACE)\n        // };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","module.exports = {\n    AnPlusB: require('./AnPlusB'),\n    Atrule: require('./Atrule'),\n    AtrulePrelude: require('./AtrulePrelude'),\n    AttributeSelector: require('./AttributeSelector'),\n    Block: require('./Block'),\n    Brackets: require('./Brackets'),\n    CDC: require('./CDC'),\n    CDO: require('./CDO'),\n    ClassSelector: require('./ClassSelector'),\n    Combinator: require('./Combinator'),\n    Comment: require('./Comment'),\n    Declaration: require('./Declaration'),\n    DeclarationList: require('./DeclarationList'),\n    Dimension: require('./Dimension'),\n    Function: require('./Function'),\n    Hash: require('./Hash'),\n    Identifier: require('./Identifier'),\n    IdSelector: require('./IdSelector'),\n    MediaFeature: require('./MediaFeature'),\n    MediaQuery: require('./MediaQuery'),\n    MediaQueryList: require('./MediaQueryList'),\n    Nth: require('./Nth'),\n    Number: require('./Number'),\n    Operator: require('./Operator'),\n    Parentheses: require('./Parentheses'),\n    Percentage: require('./Percentage'),\n    PseudoClassSelector: require('./PseudoClassSelector'),\n    PseudoElementSelector: require('./PseudoElementSelector'),\n    Ratio: require('./Ratio'),\n    Raw: require('./Raw'),\n    Rule: require('./Rule'),\n    Selector: require('./Selector'),\n    SelectorList: require('./SelectorList'),\n    String: require('./String'),\n    StyleSheet: require('./StyleSheet'),\n    TypeSelector: require('./TypeSelector'),\n    UnicodeRange: require('./UnicodeRange'),\n    Url: require('./Url'),\n    Value: require('./Value'),\n    WhiteSpace: require('./WhiteSpace')\n};\n","module.exports = {\n    name: 'Nth',\n    structure: {\n        nth: ['AnPlusB', 'Identifier'],\n        selector: ['SelectorList', null]\n    },\n    parse: function(allowOfClause) {\n        this.scanner.skipSC();\n\n        var start = this.scanner.tokenStart;\n        var end = start;\n        var selector = null;\n        var query;\n\n        if (this.scanner.lookupValue(0, 'odd') || this.scanner.lookupValue(0, 'even')) {\n            query = this.Identifier();\n        } else {\n            query = this.AnPlusB();\n        }\n\n        this.scanner.skipSC();\n\n        if (allowOfClause && this.scanner.lookupValue(0, 'of')) {\n            this.scanner.next();\n\n            selector = this.SelectorList();\n\n            if (this.needPositions) {\n                end = this.getLastListNode(selector.children).loc.end.offset;\n            }\n        } else {\n            if (this.needPositions) {\n                end = query.loc.end.offset;\n            }\n        }\n\n        return {\n            type: 'Nth',\n            loc: this.getLocation(start, end),\n            nth: query,\n            selector: selector\n        };\n    },\n    generate: function(node) {\n        this.node(node.nth);\n        if (node.selector !== null) {\n            this.chunk(' of ');\n            this.node(node.selector);\n        }\n    }\n};\n","// '/' | '*' | ',' | ':' | '+' | '-'\nmodule.exports = {\n    name: 'Operator',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.scanner.next();\n\n        return {\n            type: 'Operator',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","module.exports = {\n    name: 'Selector',\n    structure: {\n        children: [[\n            'TypeSelector',\n            'IdSelector',\n            'ClassSelector',\n            'AttributeSelector',\n            'PseudoClassSelector',\n            'PseudoElementSelector',\n            'Combinator',\n            'WhiteSpace'\n        ]]\n    },\n    parse: function() {\n        var children = this.readSequence(this.scope.Selector);\n\n        // nothing were consumed\n        if (this.getFirstListNode(children) === null) {\n            this.error('Selector is expected');\n        }\n\n        return {\n            type: 'Selector',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    }\n};\n","module.exports = {\n    name: 'Value',\n    structure: {\n        children: [[]]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = this.readSequence(this.scope.Value);\n\n        return {\n            type: 'Value',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    }\n};\n","var cmpChar = require('../../tokenizer').cmpChar;\nvar cmpStr = require('../../tokenizer').cmpStr;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar STRING = TYPE.String;\nvar NUMBER = TYPE.Number;\nvar FUNCTION = TYPE.Function;\nvar URL = TYPE.Url;\nvar HASH = TYPE.Hash;\nvar DIMENSION = TYPE.Dimension;\nvar PERCENTAGE = TYPE.Percentage;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar COMMA = TYPE.Comma;\nvar DELIM = TYPE.Delim;\nvar NUMBERSIGN = 0x0023;  // U+0023 NUMBER SIGN (#)\nvar ASTERISK = 0x002A;    // U+002A ASTERISK (*)\nvar PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nvar SOLIDUS = 0x002F;     // U+002F SOLIDUS (/)\nvar U = 0x0075;           // U+0075 LATIN SMALL LETTER U (u)\n\nmodule.exports = function defaultRecognizer(context) {\n    switch (this.scanner.tokenType) {\n        case HASH:\n            return this.Hash();\n\n        case COMMA:\n            context.space = null;\n            context.ignoreWSAfter = true;\n            return this.Operator();\n\n        case LEFTPARENTHESIS:\n            return this.Parentheses(this.readSequence, context.recognizer);\n\n        case LEFTSQUAREBRACKET:\n            return this.Brackets(this.readSequence, context.recognizer);\n\n        case STRING:\n            return this.String();\n\n        case DIMENSION:\n            return this.Dimension();\n\n        case PERCENTAGE:\n            return this.Percentage();\n\n        case NUMBER:\n            return this.Number();\n\n        case FUNCTION:\n            return cmpStr(this.scanner.source, this.scanner.tokenStart, this.scanner.tokenEnd, 'url(')\n                ? this.Url()\n                : this.Function(this.readSequence, context.recognizer);\n\n        case URL:\n            return this.Url();\n\n        case IDENT:\n            // check for unicode range, it should start with u+ or U+\n            if (cmpChar(this.scanner.source, this.scanner.tokenStart, U) &&\n                cmpChar(this.scanner.source, this.scanner.tokenStart + 1, PLUSSIGN)) {\n                return this.UnicodeRange();\n            } else {\n                return this.Identifier();\n            }\n\n        case DELIM:\n            var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n\n            if (code === SOLIDUS ||\n                code === ASTERISK ||\n                code === PLUSSIGN ||\n                code === HYPHENMINUS) {\n                return this.Operator(); // TODO: replace with Delim\n            }\n\n            // TODO: produce a node with Delim node type\n\n            if (code === NUMBERSIGN) {\n                this.error('Hex or identifier is expected', this.scanner.tokenStart + 1);\n            }\n\n            break;\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar DELIM = TYPE.Delim;\nvar IDENT = TYPE.Ident;\nvar DIMENSION = TYPE.Dimension;\nvar PERCENTAGE = TYPE.Percentage;\nvar NUMBER = TYPE.Number;\nvar HASH = TYPE.Hash;\nvar COLON = TYPE.Colon;\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar NUMBERSIGN = 0x0023;      // U+0023 NUMBER SIGN (#)\nvar ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nvar PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\nvar FULLSTOP = 0x002E;        // U+002E FULL STOP (.)\nvar GREATERTHANSIGN = 0x003E; // U+003E GREATER-THAN SIGN (>)\nvar VERTICALLINE = 0x007C;    // U+007C VERTICAL LINE (|)\nvar TILDE = 0x007E;           // U+007E TILDE (~)\n\nfunction getNode(context) {\n    switch (this.scanner.tokenType) {\n        case LEFTSQUAREBRACKET:\n            return this.AttributeSelector();\n\n        case HASH:\n            return this.IdSelector();\n\n        case COLON:\n            if (this.scanner.lookupType(1) === COLON) {\n                return this.PseudoElementSelector();\n            } else {\n                return this.PseudoClassSelector();\n            }\n\n        case IDENT:\n            return this.TypeSelector();\n\n        case NUMBER:\n        case PERCENTAGE:\n            return this.Percentage();\n\n        case DIMENSION:\n            // throws when .123ident\n            if (this.scanner.source.charCodeAt(this.scanner.tokenStart) === FULLSTOP) {\n                this.error('Identifier is expected', this.scanner.tokenStart + 1);\n            }\n            break;\n\n        case DELIM:\n            var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n\n            switch (code) {\n                case PLUSSIGN:\n                case GREATERTHANSIGN:\n                case TILDE:\n                    context.space = null;\n                    context.ignoreWSAfter = true;\n                    return this.Combinator();\n\n                case SOLIDUS:  // /deep/\n                    return this.Combinator();\n\n                case FULLSTOP:\n                    return this.ClassSelector();\n\n                case ASTERISK:\n                case VERTICALLINE:\n                    return this.TypeSelector();\n\n                case NUMBERSIGN:\n                    return this.IdSelector();\n            }\n\n            break;\n    }\n};\n\nmodule.exports = {\n    getNode: getNode\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('../node/Raw').mode;\n\nvar COMMA = TYPE.Comma;\nvar WHITESPACE = TYPE.WhiteSpace;\n\n// var( <ident> , <value>? )\nmodule.exports = function() {\n    var children = this.createList();\n\n    this.scanner.skipSC();\n\n    // NOTE: Don't check more than a first argument is an ident, rest checks are for lexer\n    children.push(this.Identifier());\n\n    this.scanner.skipSC();\n\n    if (this.scanner.tokenType === COMMA) {\n        children.push(this.Operator());\n\n        const startIndex = this.scanner.tokenIndex;\n        const value = this.parseCustomProperty\n            ? this.Value(null)\n            : this.Raw(this.scanner.tokenIndex, rawMode.exclamationMarkOrSemicolon, false);\n\n        if (value.type === 'Value' && value.children.isEmpty()) {\n            for (let offset = startIndex - this.scanner.tokenIndex; offset <= 0; offset++) {\n                if (this.scanner.lookupType(offset) === WHITESPACE) {\n                    value.children.appendData({\n                        type: 'WhiteSpace',\n                        loc: null,\n                        value: ' '\n                    });\n                    break;\n                }\n            }\n        }\n\n        children.push(value);\n    }\n\n    return children;\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar STRING = TYPE.String;\nvar IDENT = TYPE.Ident;\nvar URL = TYPE.Url;\nvar FUNCTION = TYPE.Function;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\n\nmodule.exports = {\n    parse: {\n        prelude: function() {\n            var children = this.createList();\n\n            this.scanner.skipSC();\n\n            switch (this.scanner.tokenType) {\n                case STRING:\n                    children.push(this.String());\n                    break;\n\n                case URL:\n                case FUNCTION:\n                    children.push(this.Url());\n                    break;\n\n                default:\n                    this.error('String or url() is expected');\n            }\n\n            if (this.lookupNonWSType(0) === IDENT ||\n                this.lookupNonWSType(0) === LEFTPARENTHESIS) {\n                children.push(this.WhiteSpace());\n                children.push(this.MediaQueryList());\n            }\n\n            return children;\n        },\n        block: null\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar COLON = TYPE.Colon;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\n\nfunction consumeRaw() {\n    return this.createSingleNodeList(\n        this.Raw(this.scanner.tokenIndex, null, false)\n    );\n}\n\nfunction parentheses() {\n    this.scanner.skipSC();\n\n    if (this.scanner.tokenType === IDENT &&\n        this.lookupNonWSType(1) === COLON) {\n        return this.createSingleNodeList(\n            this.Declaration()\n        );\n    }\n\n    return readSequence.call(this);\n}\n\nfunction readSequence() {\n    var children = this.createList();\n    var space = null;\n    var child;\n\n    this.scanner.skipSC();\n\n    scan:\n    while (!this.scanner.eof) {\n        switch (this.scanner.tokenType) {\n            case WHITESPACE:\n                space = this.WhiteSpace();\n                continue;\n\n            case COMMENT:\n                this.scanner.next();\n                continue;\n\n            case FUNCTION:\n                child = this.Function(consumeRaw, this.scope.AtrulePrelude);\n                break;\n\n            case IDENT:\n                child = this.Identifier();\n                break;\n\n            case LEFTPARENTHESIS:\n                child = this.Parentheses(parentheses, this.scope.AtrulePrelude);\n                break;\n\n            default:\n                break scan;\n        }\n\n        if (space !== null) {\n            children.push(space);\n            space = null;\n        }\n\n        children.push(child);\n    }\n\n    return children;\n}\n\nmodule.exports = {\n    parse: {\n        prelude: function() {\n            var children = readSequence.call(this);\n\n            if (this.getFirstListNode(children) === null) {\n                this.error('Condition is expected');\n            }\n\n            return children;\n        },\n        block: function() {\n            return this.Block(false);\n        }\n    }\n};\n","module.exports = {\n    parse: function selectorList() {\n        return this.createSingleNodeList(\n            this.SelectorList()\n        );\n    }\n};\n","var ALLOW_OF_CLAUSE = true;\n\nmodule.exports = {\n    parse: function nthWithOfClause() {\n        return this.createSingleNodeList(\n            this.Nth(ALLOW_OF_CLAUSE)\n        );\n    }\n};\n","var DISALLOW_OF_CLAUSE = false;\n\nmodule.exports = {\n    parse: function nth() {\n        return this.createSingleNodeList(\n            this.Nth(DISALLOW_OF_CLAUSE)\n        );\n    }\n};\n","function merge() {\n    var dest = {};\n\n    for (var i = 0; i < arguments.length; i++) {\n        var src = arguments[i];\n        for (var key in src) {\n            dest[key] = src[key];\n        }\n    }\n\n    return dest;\n}\n\nmodule.exports = require('./create').create(\n    merge(\n        require('./config/lexer'),\n        require('./config/parser'),\n        require('./config/walker')\n    )\n);\nmodule.exports.version = require('../../package.json').version;\n","var data = require('../../../data');\n\nmodule.exports = {\n    generic: true,\n    types: data.types,\n    atrules: data.atrules,\n    properties: data.properties,\n    node: require('../node')\n};\n","module.exports = {\n    parseContext: {\n        default: 'StyleSheet',\n        stylesheet: 'StyleSheet',\n        atrule: 'Atrule',\n        atrulePrelude: function(options) {\n            return this.AtrulePrelude(options.atrule ? String(options.atrule) : null);\n        },\n        mediaQueryList: 'MediaQueryList',\n        mediaQuery: 'MediaQuery',\n        rule: 'Rule',\n        selectorList: 'SelectorList',\n        selector: 'Selector',\n        block: function() {\n            return this.Block(true);\n        },\n        declarationList: 'DeclarationList',\n        declaration: 'Declaration',\n        value: 'Value'\n    },\n    scope: require('../scope'),\n    atrule: require('../atrule'),\n    pseudo: require('../pseudo'),\n    node: require('../node')\n};\n","module.exports = {\n    AtrulePrelude: require('./atrulePrelude'),\n    Selector: require('./selector'),\n    Value: require('./value')\n};\n","module.exports = {\n    getNode: require('./default')\n};\n","module.exports = {\n    getNode: require('./default'),\n    'expression': require('../function/expression'),\n    'var': require('../function/var')\n};\n","// legacy IE function\n// expression( <any-value> )\nmodule.exports = function() {\n    return this.createSingleNodeList(\n        this.Raw(this.scanner.tokenIndex, null, false)\n    );\n};\n","module.exports = {\n    'font-face': require('./font-face'),\n    'import': require('./import'),\n    'media': require('./media'),\n    'page': require('./page'),\n    'supports': require('./supports')\n};\n","module.exports = {\n    parse: {\n        prelude: null,\n        block: function() {\n            return this.Block(true);\n        }\n    }\n};\n","module.exports = {\n    parse: {\n        prelude: function() {\n            return this.createSingleNodeList(\n                this.MediaQueryList()\n            );\n        },\n        block: function() {\n            return this.Block(false);\n        }\n    }\n};\n","module.exports = {\n    parse: {\n        prelude: function() {\n            return this.createSingleNodeList(\n                this.SelectorList()\n            );\n        },\n        block: function() {\n            return this.Block(true);\n        }\n    }\n};\n","module.exports = {\n    'dir': require('./dir'),\n    'has': require('./has'),\n    'lang': require('./lang'),\n    'matches': require('./matches'),\n    'not': require('./not'),\n    'nth-child': require('./nth-child'),\n    'nth-last-child': require('./nth-last-child'),\n    'nth-last-of-type': require('./nth-last-of-type'),\n    'nth-of-type': require('./nth-of-type'),\n    'slotted': require('./slotted')\n};\n","module.exports = {\n    parse: function() {\n        return this.createSingleNodeList(\n            this.Identifier()\n        );\n    }\n};\n","module.exports = {\n    parse: function() {\n        return this.createSingleNodeList(\n            this.SelectorList()\n        );\n    }\n};\n","module.exports = {\n    parse: function() {\n        return this.createSingleNodeList(\n            this.Identifier()\n        );\n    }\n};\n","module.exports = require('./common/selectorList');\n","module.exports = require('./common/selectorList');\n","module.exports = require('./common/nthWithOfClause');\n","module.exports = require('./common/nthWithOfClause');\n","module.exports = require('./common/nth');\n","module.exports = require('./common/nth');\n","module.exports = {\n    parse: function compoundSelector() {\n        return this.createSingleNodeList(\n            this.Selector()\n        );\n    }\n};\n","module.exports = {\n    node: require('../node')\n};\n","module.exports = require('./syntax');\n","import csstree from \"css-tree\";\nimport { UUID } from \"../utils/utils.js\";\nimport Hook from \"../utils/hook.js\";\n\nclass Sheet {\n\tconstructor(url, hooks) {\n\n\t\tif (hooks) {\n\t\t\tthis.hooks = hooks;\n\t\t} else {\n\t\t\tthis.hooks = {};\n\t\t\tthis.hooks.onUrl = new Hook(this);\n\t\t\tthis.hooks.onAtPage = new Hook(this);\n\t\t\tthis.hooks.onAtMedia = new Hook(this);\n\t\t\tthis.hooks.onRule = new Hook(this);\n\t\t\tthis.hooks.onDeclaration = new Hook(this);\n\t\t\tthis.hooks.onSelector = new Hook(this);\n\t\t\tthis.hooks.onPseudoSelector = new Hook(this);\n\n\t\t\tthis.hooks.onContent = new Hook(this);\n\t\t\tthis.hooks.onImport = new Hook(this);\n\n\t\t\tthis.hooks.beforeTreeParse = new Hook(this);\n\t\t\tthis.hooks.beforeTreeWalk = new Hook(this);\n\t\t\tthis.hooks.afterTreeWalk = new Hook(this);\n\t\t}\n\n\t\ttry {\n\t\t\tthis.url = new URL(url, window.location.href);\n\t\t} catch (e) {\n\t\t\tthis.url = new URL(window.location.href);\n\t\t}\n\t}\n\n\n\n\t// parse\n\tasync parse(text) {\n\t\tthis.text = text;\n\n\t\tawait this.hooks.beforeTreeParse.trigger(this.text, this);\n\n\t\t// send to csstree\n\t\tthis.ast = csstree.parse(this._text);\n\n\t\tawait this.hooks.beforeTreeWalk.trigger(this.ast);\n\n\t\t// Replace urls\n\t\tthis.replaceUrls(this.ast);\n\n\t\t// Scope\n\t\tthis.id = UUID();\n\t\t// this.addScope(this.ast, this.uuid);\n\n\t\t// Replace IDs with data-id\n\t\tthis.replaceIds(this.ast);\n\n\t\tthis.imported = [];\n\n\t\t// Trigger Hooks\n\t\tthis.urls(this.ast);\n\t\tthis.rules(this.ast);\n\t\tthis.atrules(this.ast);\n\n\t\tawait this.hooks.afterTreeWalk.trigger(this.ast, this);\n\n\t\t// return ast\n\t\treturn this.ast;\n\t}\n\n\n\n\tinsertRule(rule) {\n\t\tlet inserted = this.ast.children.appendData(rule);\n\n\t\tthis.declarations(rule);\n\n\t\treturn inserted;\n\t}\n\n\turls(ast) {\n\t\tcsstree.walk(ast, {\n\t\t\tvisit: \"Url\",\n\t\t\tenter: (node, item, list) => {\n\t\t\t\tthis.hooks.onUrl.trigger(node, item, list);\n\t\t\t}\n\t\t});\n\t}\n\n\tatrules(ast) {\n\t\tcsstree.walk(ast, {\n\t\t\tvisit: \"Atrule\",\n\t\t\tenter: (node, item, list) => {\n\t\t\t\tconst basename = csstree.keyword(node.name).basename;\n\n\t\t\t\tif (basename === \"page\") {\n\t\t\t\t\tthis.hooks.onAtPage.trigger(node, item, list);\n\t\t\t\t\tthis.declarations(node, item, list);\n\t\t\t\t}\n\n\t\t\t\tif (basename === \"media\") {\n\t\t\t\t\tthis.hooks.onAtMedia.trigger(node, item, list);\n\t\t\t\t\tthis.declarations(node, item, list);\n\t\t\t\t}\n\n\t\t\t\tif (basename === \"import\") {\n\t\t\t\t\tthis.hooks.onImport.trigger(node, item, list);\n\t\t\t\t\tthis.imports(node, item, list);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\n\trules(ast) {\n\t\tcsstree.walk(ast, {\n\t\t\tvisit: \"Rule\",\n\t\t\tenter: (ruleNode, ruleItem, rulelist) => {\n\n\t\t\t\tthis.hooks.onRule.trigger(ruleNode, ruleItem, rulelist);\n\t\t\t\tthis.declarations(ruleNode, ruleItem, rulelist);\n\t\t\t\tthis.onSelector(ruleNode, ruleItem, rulelist);\n\n\t\t\t}\n\t\t});\n\t}\n\n\tdeclarations(ruleNode, ruleItem, rulelist) {\n\t\tcsstree.walk(ruleNode, {\n\t\t\tvisit: \"Declaration\",\n\t\t\tenter: (declarationNode, dItem, dList) => {\n\n\t\t\t\tthis.hooks.onDeclaration.trigger(declarationNode, dItem, dList, {ruleNode, ruleItem, rulelist});\n\n\t\t\t\tif (declarationNode.property === \"content\") {\n\t\t\t\t\tcsstree.walk(declarationNode, {\n\t\t\t\t\t\tvisit: \"Function\",\n\t\t\t\t\t\tenter: (funcNode, fItem, fList) => {\n\t\t\t\t\t\t\tthis.hooks.onContent.trigger(funcNode, fItem, fList, {declarationNode, dItem, dList}, {ruleNode, ruleItem, rulelist});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t}\n\t\t});\n\t}\n\n\t// add pseudo elements to parser\n\tonSelector(ruleNode, ruleItem, rulelist) {\n\t\tcsstree.walk(ruleNode, {\n\t\t\tvisit: \"Selector\",\n\t\t\tenter: (selectNode, selectItem, selectList) => {\n\t\t\t\tthis.hooks.onSelector.trigger(selectNode, selectItem, selectList, {ruleNode, ruleItem, rulelist});\n\n\t\t\t\tif (selectNode.children.forEach(node => {if (node.type === \"PseudoElementSelector\") {\n\t\t\t\t\tcsstree.walk(node, {\n\t\t\t\t\t\tvisit: \"PseudoElementSelector\",\n\t\t\t\t\t\tenter: (pseudoNode, pItem, pList) => {\n\t\t\t\t\t\t\tthis.hooks.onPseudoSelector.trigger(pseudoNode, pItem, pList, {selectNode, selectItem, selectList}, {ruleNode, ruleItem, rulelist});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}}));\n\t\t\t}\n\t\t});\n\t}\n\n\treplaceUrls(ast) {\n\t\tcsstree.walk(ast, {\n\t\t\tvisit: \"Url\",\n\t\t\tenter: (node, item, list) => {\n\t\t\t\tlet content = node.value.value;\n\t\t\t\tif ((node.value.type === \"Raw\" && content.startsWith(\"data:\")) || (node.value.type === \"String\" && (content.startsWith(\"\\\"data:\") || content.startsWith(\"'data:\")))) {\n\t\t\t\t\t// data-uri should not be parsed using the URL interface.\n\t\t\t\t} else {\n\t\t\t\t\tlet href = content.replace(/[\"']/g, \"\");\n\t\t\t\t\tlet url = new URL(href, this.url);\n\t\t\t\t\tnode.value.value = url.toString();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\taddScope(ast, id) {\n\t\t// Get all selector lists\n\t\t// add an id\n\t\tcsstree.walk(ast, {\n\t\t\tvisit: \"Selector\",\n\t\t\tenter: (node, item, list) => {\n\t\t\t\tlet children = node.children;\n\t\t\t\tchildren.prepend(children.createItem({\n\t\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\t\tvalue: \" \"\n\t\t\t\t}));\n\t\t\t\tchildren.prepend(children.createItem({\n\t\t\t\t\ttype: \"IdSelector\",\n\t\t\t\t\tname: id,\n\t\t\t\t\tloc: null,\n\t\t\t\t\tchildren: null\n\t\t\t\t}));\n\t\t\t}\n\t\t});\n\t}\n\n\tgetNamedPageSelectors(ast) {\n\t\tlet namedPageSelectors = {};\n\t\tcsstree.walk(ast, {\n\t\t\tvisit: \"Rule\",\n\t\t\tenter: (node, item, list) => {\n\t\t\t\tcsstree.walk(node, {\n\t\t\t\t\tvisit: \"Declaration\",\n\t\t\t\t\tenter: (declaration, dItem, dList) => {\n\t\t\t\t\t\tif (declaration.property === \"page\") {\n\t\t\t\t\t\t\tlet value = declaration.value.children.first();\n\t\t\t\t\t\t\tlet name = value.name;\n\t\t\t\t\t\t\tlet selector = csstree.generate(node.prelude);\n\t\t\t\t\t\t\tnamedPageSelectors[name] = {\n\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\tselector: selector\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// dList.remove(dItem);\n\n\t\t\t\t\t\t\t// Add in page break\n\t\t\t\t\t\t\tdeclaration.property = \"break-before\";\n\t\t\t\t\t\t\tvalue.type = \"Identifier\";\n\t\t\t\t\t\t\tvalue.name = \"always\";\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn namedPageSelectors;\n\t}\n\n\treplaceIds(ast) {\n\t\tcsstree.walk(ast, {\n\t\t\tvisit: \"Rule\",\n\t\t\tenter: (node, item, list) => {\n\n\t\t\t\tcsstree.walk(node, {\n\t\t\t\t\tvisit: \"IdSelector\",\n\t\t\t\t\tenter: (idNode, idItem, idList) => {\n\t\t\t\t\t\tlet name = idNode.name;\n\t\t\t\t\t\tidNode.flags = null;\n\t\t\t\t\t\tidNode.matcher = \"=\";\n\t\t\t\t\t\tidNode.name = {type: \"Identifier\", loc: null, name: \"data-id\"};\n\t\t\t\t\t\tidNode.type = \"AttributeSelector\";\n\t\t\t\t\t\tidNode.value = {type: \"String\", loc: null, value: `\"${name}\"`};\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\timports(node, item, list) {\n\t\t// console.log(\"import\", node, item, list);\n\t\tlet queries = [];\n\t\tcsstree.walk(node, {\n\t\t\tvisit: \"MediaQuery\",\n\t\t\tenter: (mqNode, mqItem, mqList) => {\n\t\t\t\tcsstree.walk(mqNode, {\n\t\t\t\t\tvisit: \"Identifier\",\n\t\t\t\t\tenter: (identNode, identItem, identList) => {\n\t\t\t\t\t\tqueries.push(identNode.name);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// Just basic media query support for now\n\t\tlet shouldNotApply = queries.some((query, index) => {\n\t\t\tlet q = query;\n\t\t\tif (q === \"not\") {\n\t\t\t\tq = queries[index + 1];\n\t\t\t\treturn !(q === \"screen\" || q === \"speech\");\n\t\t\t} else {\n\t\t\t\treturn (q === \"screen\" || q === \"speech\");\n\t\t\t}\n\t\t});\n\n\t\tif (shouldNotApply) {\n\t\t\treturn;\n\t\t}\n\n\t\tcsstree.walk(node, {\n\t\t\tvisit: \"String\",\n\t\t\tenter: (urlNode, urlItem, urlList) => {\n\t\t\t\tlet href = urlNode.value.replace(/[\"']/g, \"\");\n\t\t\t\tlet url = new URL(href, this.url);\n\t\t\t\tlet value = url.toString();\n\n\t\t\t\tthis.imported.push(value);\n\n\t\t\t\t// Remove the original\n\t\t\t\tlist.remove(item);\n\t\t\t}\n\t\t});\n\t}\n\n\tset text(t) {\n\t\tthis._text = t;\n\t}\n\n\tget text() {\n\t\treturn this._text;\n\t}\n\n\t// generate string\n\ttoString(ast) {\n\t\treturn csstree.generate(ast || this.ast);\n\t}\n}\n\nexport default Sheet;\n","export default async function request(url, options={}) {\n\treturn new Promise(function(resolve, reject) {\n\t\tlet request = new XMLHttpRequest();\n\n\t\trequest.open(options.method || \"get\", url, true);\n\n\t\tfor (let i in options.headers) {\n\t\t\trequest.setRequestHeader(i, options.headers[i]);\n\t\t}\n\n\t\trequest.withCredentials = options.credentials === \"include\";\n\n\t\trequest.onload = () => {\n\t\t\t// Chrome returns a status code of 0 for local files\n\t\t\tconst status = request.status === 0 && url.startsWith(\"file://\") ? 200 : request.status;\n\t\t\tresolve(new Response(request.responseText, {status}));\n\t\t};\n\n\t\trequest.onerror = reject;\n\n\t\trequest.send(options.body || null);\n\t});\n}\n","import Sheet from \"./sheet.js\";\nimport baseStyles from \"./base.js\";\nimport Hook from \"../utils/hook.js\";\nimport request from \"../utils/request.js\";\n\nclass Polisher {\n\tconstructor(setup) {\n\t\tthis.sheets = [];\n\t\tthis.inserted = [];\n\n\t\tthis.hooks = {};\n\t\tthis.hooks.onUrl = new Hook(this);\n\t\tthis.hooks.onAtPage = new Hook(this);\n\t\tthis.hooks.onAtMedia = new Hook(this);\n\t\tthis.hooks.onRule = new Hook(this);\n\t\tthis.hooks.onDeclaration = new Hook(this);\n\t\tthis.hooks.onContent = new Hook(this);\n\t\tthis.hooks.onSelector = new Hook(this);\n\t\tthis.hooks.onPseudoSelector = new Hook(this);\n\n\t\tthis.hooks.onImport = new Hook(this);\n\n\t\tthis.hooks.beforeTreeParse = new Hook(this);\n\t\tthis.hooks.beforeTreeWalk = new Hook(this);\n\t\tthis.hooks.afterTreeWalk = new Hook(this);\n\n\t\tif (setup !== false) {\n\t\t\tthis.setup();\n\t\t}\n\t}\n\n\tsetup() {\n\t\tthis.base = this.insert(baseStyles);\n\t\tthis.styleEl = document.createElement(\"style\");\n\t\tdocument.head.appendChild(this.styleEl);\n\t\tthis.styleSheet = this.styleEl.sheet;\n\t\treturn this.styleSheet;\n\t}\n\n\tasync add() {\n\t\tlet fetched = [];\n\t\tlet urls = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tlet f;\n\n\t\t\tif (typeof arguments[i] === \"object\") {\n\t\t\t\tfor (let url in arguments[i]) {\n\t\t\t\t\tlet obj = arguments[i];\n\t\t\t\t\tf = new Promise(function(resolve, reject) {\n\t\t\t\t\t\turls.push(url);\n\t\t\t\t\t\tresolve(obj[url]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\turls.push(arguments[i]);\n\t\t\t\tf = request(arguments[i]).then((response) => {\n\t\t\t\t\treturn response.text();\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t\tfetched.push(f);\n\t\t}\n\n\t\treturn await Promise.all(fetched)\n\t\t\t.then(async (originals) => {\n\t\t\t\tlet text = \"\";\n\t\t\t\tfor (let index = 0; index < originals.length; index++) {\n\t\t\t\t\ttext = await this.convertViaSheet(originals[index], urls[index]);\n\t\t\t\t\tthis.insert(text);\n\t\t\t\t}\n\t\t\t\treturn text;\n\t\t\t});\n\t}\n\n\tasync convertViaSheet(cssStr, href) {\n\t\tlet sheet = new Sheet(href, this.hooks);\n\t\tawait sheet.parse(cssStr);\n\n\t\t// Insert the imported sheets first\n\t\tfor (let url of sheet.imported) {\n\t\t\tlet str = await request(url).then((response) => {\n\t\t\t\treturn response.text();\n\t\t\t});\n\t\t\tlet text = await this.convertViaSheet(str, url);\n\t\t\tthis.insert(text);\n\t\t}\n\n\t\tthis.sheets.push(sheet);\n\n\t\tif (typeof sheet.width !== \"undefined\") {\n\t\t\tthis.width = sheet.width;\n\t\t}\n\t\tif (typeof sheet.height !== \"undefined\") {\n\t\t\tthis.height = sheet.height;\n\t\t}\n\t\tif (typeof sheet.orientation !== \"undefined\") {\n\t\t\tthis.orientation = sheet.orientation;\n\t\t}\n\t\treturn sheet.toString();\n\t}\n\n\tinsert(text){\n\t\tlet head = document.querySelector(\"head\");\n\t\tlet style = document.createElement(\"style\");\n\t\tstyle.setAttribute(\"data-pagedjs-inserted-styles\", \"true\");\n\n\t\tstyle.appendChild(document.createTextNode(text));\n\n\t\thead.appendChild(style);\n\n\t\tthis.inserted.push(style);\n\t\treturn style;\n\t}\n\n\tdestroy() {\n\t\tthis.styleEl.remove();\n\t\tthis.inserted.forEach((s) => {\n\t\t\ts.remove();\n\t\t});\n\t\tthis.sheets = [];\n\t}\n}\n\nexport default Polisher;\n","export default `\n:root {\n\t--pagedjs-width: 8.5in;\n\t--pagedjs-height: 11in;\n\t--pagedjs-width-right: 8.5in;\n\t--pagedjs-height-right: 11in;\n\t--pagedjs-width-left: 8.5in;\n\t--pagedjs-height-left: 11in;\n\t--pagedjs-pagebox-width: 8.5in;\n\t--pagedjs-pagebox-height: 11in;\n\t--pagedjs-footnotes-height: 0mm;\n\t--pagedjs-margin-top: 1in;\n\t--pagedjs-margin-right: 1in;\n\t--pagedjs-margin-bottom: 1in;\n\t--pagedjs-margin-left: 1in;\n\t--pagedjs-padding-top: 0mm;\n\t--pagedjs-padding-right: 0mm;\n\t--pagedjs-padding-bottom: 0mm;\n\t--pagedjs-padding-left: 0mm;\n\t--pagedjs-border-top: 0mm;\n\t--pagedjs-border-right: 0mm;\n\t--pagedjs-border-bottom: 0mm;\n\t--pagedjs-border-left: 0mm;\n\t--pagedjs-bleed-top: 0mm;\n\t--pagedjs-bleed-right: 0mm;\n\t--pagedjs-bleed-bottom: 0mm;\n\t--pagedjs-bleed-left: 0mm;\n\t--pagedjs-bleed-right-top: 0mm;\n\t--pagedjs-bleed-right-right: 0mm;\n\t--pagedjs-bleed-right-bottom: 0mm;\n\t--pagedjs-bleed-right-left: 0mm;\n\t--pagedjs-bleed-left-top: 0mm;\n\t--pagedjs-bleed-left-right: 0mm;\n\t--pagedjs-bleed-left-bottom: 0mm;\n\t--pagedjs-bleed-left-left: 0mm;\n\t--pagedjs-crop-color: black;\n\t--pagedjs-crop-shadow: white;\n\t--pagedjs-crop-offset: 2mm;\n\t--pagedjs-crop-stroke: 1px;\n\t--pagedjs-cross-size: 5mm;\n\t--pagedjs-mark-cross-display: none;\n\t--pagedjs-mark-crop-display: none;\n\t--pagedjs-page-count: 0;\n\t--pagedjs-page-counter-increment: 1;\n\t--pagedjs-footnotes-count: 0;\n\t--pagedjs-column-gap-offset: 1000px;\n}\n\n@page {\n\tsize: letter;\n\tmargin: 0;\n}\n\n.pagedjs_sheet {\n\tbox-sizing: border-box;\n\twidth: var(--pagedjs-width);\n\theight: var(--pagedjs-height);\n\toverflow: hidden;\n\tposition: relative;\n\tdisplay: grid;\n\tgrid-template-columns: [bleed-left] var(--pagedjs-bleed-left) [sheet-center] calc(var(--pagedjs-width) - var(--pagedjs-bleed-left) - var(--pagedjs-bleed-right)) [bleed-right] var(--pagedjs-bleed-right);\n\tgrid-template-rows: [bleed-top] var(--pagedjs-bleed-top) [sheet-middle] calc(var(--pagedjs-height) - var(--pagedjs-bleed-top) - var(--pagedjs-bleed-bottom)) [bleed-bottom] var(--pagedjs-bleed-bottom);\n}\n\n.pagedjs_right_page .pagedjs_sheet {\n\twidth: var(--pagedjs-width-right);\n\theight: var(--pagedjs-height-right);\n\tgrid-template-columns: [bleed-left] var(--pagedjs-bleed-right-left) [sheet-center] calc(var(--pagedjs-width) - var(--pagedjs-bleed-right-left) - var(--pagedjs-bleed-right-right)) [bleed-right] var(--pagedjs-bleed-right-right);\n\tgrid-template-rows: [bleed-top] var(--pagedjs-bleed-right-top) [sheet-middle] calc(var(--pagedjs-height) - var(--pagedjs-bleed-right-top) - var(--pagedjs-bleed-right-bottom)) [bleed-bottom] var(--pagedjs-bleed-right-bottom);\n}\n\n.pagedjs_left_page .pagedjs_sheet {\n\twidth: var(--pagedjs-width-left);\n\theight: var(--pagedjs-height-left);\n\tgrid-template-columns: [bleed-left] var(--pagedjs-bleed-left-left) [sheet-center] calc(var(--pagedjs-width) - var(--pagedjs-bleed-left-left) - var(--pagedjs-bleed-left-right)) [bleed-right] var(--pagedjs-bleed-left-right);\n\tgrid-template-rows: [bleed-top] var(--pagedjs-bleed-left-top) [sheet-middle] calc(var(--pagedjs-height) - var(--pagedjs-bleed-left-top) - var(--pagedjs-bleed-left-bottom)) [bleed-bottom] var(--pagedjs-bleed-left-bottom);\n}\n\n.pagedjs_bleed {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tflex-wrap: nowrap;\n\toverflow: hidden;\n}\n\n.pagedjs_bleed-top {\n\tgrid-column: bleed-left / -1;\n\tgrid-row: bleed-top;\n\tflex-direction: row;\n}\n\n.pagedjs_bleed-bottom {\n\tgrid-column: bleed-left / -1;\n\tgrid-row: bleed-bottom;\n\tflex-direction: row;\n}\n\n.pagedjs_bleed-left {\n\tgrid-column: bleed-left;\n\tgrid-row: bleed-top / -1;\n\tflex-direction: column;\n}\n\n.pagedjs_bleed-right {\n\tgrid-column: bleed-right;\n\tgrid-row: bleed-top / -1;\n\tflex-direction: column;\n}\n\n.pagedjs_marks-crop {\n\tdisplay: var(--pagedjs-mark-crop-display);\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\tz-index: 9999999999;\n}\n\n.pagedjs_bleed-top .pagedjs_marks-crop:nth-child(1),\n.pagedjs_bleed-bottom .pagedjs_marks-crop:nth-child(1) {\n\twidth: calc(var(--pagedjs-bleed-left) - var(--pagedjs-crop-stroke));\n\tborder-right: var(--pagedjs-crop-stroke) solid var(--pagedjs-crop-color);\n\tbox-shadow: 1px 0px 0px 0px var(--pagedjs-crop-shadow);\n}\n\n.pagedjs_right_page .pagedjs_bleed-top .pagedjs_marks-crop:nth-child(1),\n.pagedjs_right_page .pagedjs_bleed-bottom .pagedjs_marks-crop:nth-child(1) {\n\twidth: calc(var(--pagedjs-bleed-right-left) - var(--pagedjs-crop-stroke));\n}\n\n.pagedjs_left_page .pagedjs_bleed-top .pagedjs_marks-crop:nth-child(1),\n.pagedjs_left_page .pagedjs_bleed-bottom .pagedjs_marks-crop:nth-child(1) {\n\twidth: calc(var(--pagedjs-bleed-left-left) - var(--pagedjs-crop-stroke));\n}\n\n.pagedjs_bleed-top .pagedjs_marks-crop:nth-child(3),\n.pagedjs_bleed-bottom .pagedjs_marks-crop:nth-child(3) {\n\twidth: calc(var(--pagedjs-bleed-right) - var(--pagedjs-crop-stroke));\n\tborder-left: var(--pagedjs-crop-stroke) solid var(--pagedjs-crop-color);\n\tbox-shadow: -1px 0px 0px 0px var(--pagedjs-crop-shadow);\n}\n\n.pagedjs_right_page .pagedjs_bleed-top .pagedjs_marks-crop:nth-child(3),\n.pagedjs_right_page .pagedjs_bleed-bottom .pagedjs_marks-crop:nth-child(3) {\n\twidth: calc(var(--pagedjs-bleed-right-right) - var(--pagedjs-crop-stroke));\n}\n\n.pagedjs_left_page .pagedjs_bleed-top .pagedjs_marks-crop:nth-child(3),\n.pagedjs_left_page .pagedjs_bleed-bottom .pagedjs_marks-crop:nth-child(3) {\n\twidth: calc(var(--pagedjs-bleed-left-right) - var(--pagedjs-crop-stroke));\n}\n\n.pagedjs_bleed-top .pagedjs_marks-crop {\n\talign-self: flex-start;\n\theight: calc(var(--pagedjs-bleed-top) - var(--pagedjs-crop-offset));\n}\n\n.pagedjs_right_page .pagedjs_bleed-top .pagedjs_marks-crop {\n\theight: calc(var(--pagedjs-bleed-right-top) - var(--pagedjs-crop-offset));\n}\n\n.pagedjs_left_page .pagedjs_bleed-top .pagedjs_marks-crop {\n\theight: calc(var(--pagedjs-bleed-left-top) - var(--pagedjs-crop-offset));\n}\n\n.pagedjs_bleed-bottom .pagedjs_marks-crop {\n\talign-self: flex-end;\n\theight: calc(var(--pagedjs-bleed-bottom) - var(--pagedjs-crop-offset));\n}\n\n.pagedjs_right_page .pagedjs_bleed-bottom .pagedjs_marks-crop {\n\theight: calc(var(--pagedjs-bleed-right-bottom) - var(--pagedjs-crop-offset));\n}\n\n.pagedjs_left_page .pagedjs_bleed-bottom .pagedjs_marks-crop {\n\theight: calc(var(--pagedjs-bleed-left-bottom) - var(--pagedjs-crop-offset));\n}\n\n.pagedjs_bleed-left .pagedjs_marks-crop:nth-child(1),\n.pagedjs_bleed-right .pagedjs_marks-crop:nth-child(1) {\n\theight: calc(var(--pagedjs-bleed-top) - var(--pagedjs-crop-stroke));\n\tborder-bottom: var(--pagedjs-crop-stroke) solid var(--pagedjs-crop-color);\n\tbox-shadow: 0px 1px 0px 0px var(--pagedjs-crop-shadow);\n}\n\n.pagedjs_right_page .pagedjs_bleed-left .pagedjs_marks-crop:nth-child(1),\n.pagedjs_right_page .pagedjs_bleed-right .pagedjs_marks-crop:nth-child(1) {\n\theight: calc(var(--pagedjs-bleed-right-top) - var(--pagedjs-crop-stroke));\n}\n\n.pagedjs_left_page .pagedjs_bleed-left .pagedjs_marks-crop:nth-child(1),\n.pagedjs_left_page .pagedjs_bleed-right .pagedjs_marks-crop:nth-child(1) {\n\theight: calc(var(--pagedjs-bleed-left-top) - var(--pagedjs-crop-stroke));\n}\n\n.pagedjs_bleed-left .pagedjs_marks-crop:nth-child(3),\n.pagedjs_bleed-right .pagedjs_marks-crop:nth-child(3) {\n\theight: calc(var(--pagedjs-bleed-bottom) - var(--pagedjs-crop-stroke));\n\tborder-top: var(--pagedjs-crop-stroke) solid var(--pagedjs-crop-color);\n\tbox-shadow: 0px -1px 0px 0px var(--pagedjs-crop-shadow);\n}\n\n.pagedjs_right_page .pagedjs_bleed-left .pagedjs_marks-crop:nth-child(3),\n.pagedjs_right_page .pagedjs_bleed-right .pagedjs_marks-crop:nth-child(3) {\n\theight: calc(var(--pagedjs-bleed-right-bottom) - var(--pagedjs-crop-stroke));\n}\n\n.pagedjs_left_page .pagedjs_bleed-left .pagedjs_marks-crop:nth-child(3),\n.pagedjs_left_page .pagedjs_bleed-right .pagedjs_marks-crop:nth-child(3) {\n\theight: calc(var(--pagedjs-bleed-left-bottom) - var(--pagedjs-crop-stroke));\n}\n\n.pagedjs_bleed-left .pagedjs_marks-crop {\n\twidth: calc(var(--pagedjs-bleed-left) - var(--pagedjs-crop-offset));\n\talign-self: flex-start;\n}\n\n.pagedjs_right_page .pagedjs_bleed-left .pagedjs_marks-crop {\n\twidth: calc(var(--pagedjs-bleed-right-left) - var(--pagedjs-crop-offset));\n}\n\n.pagedjs_left_page .pagedjs_bleed-left .pagedjs_marks-crop {\n\twidth: calc(var(--pagedjs-bleed-left-left) - var(--pagedjs-crop-offset));\n}\n\n.pagedjs_bleed-right .pagedjs_marks-crop {\n\twidth: calc(var(--pagedjs-bleed-right) - var(--pagedjs-crop-offset));\n\talign-self: flex-end;\n}\n\n.pagedjs_right_page .pagedjs_bleed-right .pagedjs_marks-crop {\n\twidth: calc(var(--pagedjs-bleed-right-right) - var(--pagedjs-crop-offset));\n}\n\n.pagedjs_left_page .pagedjs_bleed-right .pagedjs_marks-crop {\n\twidth: calc(var(--pagedjs-bleed-left-right) - var(--pagedjs-crop-offset));\n}\n\n.pagedjs_marks-middle {\n\tdisplay: flex;\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.pagedjs_marks-cross {\n\tdisplay: var(--pagedjs-mark-cross-display);\n\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIzMi41MzdweCIgaGVpZ2h0PSIzMi41MzdweCIgdmlld0JveD0iMC4xMDQgMC4xMDQgMzIuNTM3IDMyLjUzNyIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwLjEwNCAwLjEwNCAzMi41MzcgMzIuNTM3IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMy4zODkzIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0yOS45MzEsMTYuMzczYzAsNy40ODktNi4wNjgsMTMuNTYtMTMuNTU4LDEzLjU2Yy03LjQ4MywwLTEzLjU1Ny02LjA3Mi0xMy41NTctMTMuNTZjMC03LjQ4Niw2LjA3NC0xMy41NTQsMTMuNTU3LTEzLjU1NEMyMy44NjIsMi44MTksMjkuOTMxLDguODg3LDI5LjkzMSwxNi4zNzN6Ii8+PGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjRkZGRkZGIiBzdHJva2Utd2lkdGg9IjMuMzg5MyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMC4xMDQiIHkxPSIxNi4zNzMiIHgyPSIzMi42NDIiIHkyPSIxNi4zNzMiLz48bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMy4zODkzIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSIxNi4zNzMiIHkxPSIwLjEwNCIgeDI9IjE2LjM3MyIgeTI9IjMyLjY0MiIvPjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0ZGRkZGRiIgc3Ryb2tlLXdpZHRoPSIzLjM4OTMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTI0LjUwOCwxNi4zNzNjMCw0LjQ5Ni0zLjYzOCw4LjEzNS04LjEzNSw4LjEzNWMtNC40OTEsMC04LjEzNS0zLjYzOC04LjEzNS04LjEzNWMwLTQuNDg5LDMuNjQ0LTguMTM1LDguMTM1LTguMTM1QzIwLjg2OSw4LjIzOSwyNC41MDgsMTEuODg0LDI0LjUwOCwxNi4zNzN6Ii8+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjAuNjc3OCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMjkuOTMxLDE2LjM3M2MwLDcuNDg5LTYuMDY4LDEzLjU2LTEzLjU1OCwxMy41NmMtNy40ODMsMC0xMy41NTctNi4wNzItMTMuNTU3LTEzLjU2YzAtNy40ODYsNi4wNzQtMTMuNTU0LDEzLjU1Ny0xMy41NTRDMjMuODYyLDIuODE5LDI5LjkzMSw4Ljg4NywyOS45MzEsMTYuMzczeiIvPjxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIwLjY3NzgiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjAuMTA0IiB5MT0iMTYuMzczIiB4Mj0iMzIuNjQyIiB5Mj0iMTYuMzczIi8+PGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjAuNjc3OCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMTYuMzczIiB5MT0iMC4xMDQiIHgyPSIxNi4zNzMiIHkyPSIzMi42NDIiLz48cGF0aCBkPSJNMjQuNTA4LDE2LjM3M2MwLDQuNDk2LTMuNjM4LDguMTM1LTguMTM1LDguMTM1Yy00LjQ5MSwwLTguMTM1LTMuNjM4LTguMTM1LTguMTM1YzAtNC40ODksMy42NDQtOC4xMzUsOC4xMzUtOC4xMzVDMjAuODY5LDguMjM5LDI0LjUwOCwxMS44ODQsMjQuNTA4LDE2LjM3MyIvPjxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0ZGRkZGRiIgc3Ryb2tlLXdpZHRoPSIwLjY3NzgiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjguMjM5IiB5MT0iMTYuMzczIiB4Mj0iMjQuNTA4IiB5Mj0iMTYuMzczIi8+PGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjRkZGRkZGIiBzdHJva2Utd2lkdGg9IjAuNjc3OCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMTYuMzczIiB5MT0iOC4yMzkiIHgyPSIxNi4zNzMiIHkyPSIyNC41MDgiLz48L3N2Zz4=);\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-size: var(--pagedjs-cross-size);\n\n  z-index: 2147483647;\n\twidth: var(--pagedjs-cross-size);\n\theight: var(--pagedjs-cross-size);\n}\n\n.pagedjs_pagebox {\n\tbox-sizing: border-box;\n\twidth: var(--pagedjs-pagebox-width);\n\theight: var(--pagedjs-pagebox-height);\n\tposition: relative;\n\tdisplay: grid;\n\tgrid-template-columns: [left] var(--pagedjs-margin-left) [center] calc(var(--pagedjs-pagebox-width) - var(--pagedjs-margin-left) - var(--pagedjs-margin-right)) [right] var(--pagedjs-margin-right);\n\tgrid-template-rows: [header] var(--pagedjs-margin-top) [page] calc(var(--pagedjs-pagebox-height) - var(--pagedjs-margin-top) - var(--pagedjs-margin-bottom)) [footer] var(--pagedjs-margin-bottom);\n\tgrid-column: sheet-center;\n\tgrid-row: sheet-middle;\n}\n\n.pagedjs_pagebox * {\n\tbox-sizing: border-box;\n}\n\n.pagedjs_margin-top {\n\twidth: calc(var(--pagedjs-pagebox-width) - var(--pagedjs-margin-left) - var(--pagedjs-margin-right));\n\theight: var(--pagedjs-margin-top);\n\tgrid-column: center;\n\tgrid-row: header;\n\tflex-wrap: nowrap;\n\tdisplay: grid;\n\tgrid-template-columns: repeat(3, 1fr);\n\tgrid-template-rows: 100%;\n}\n\n.pagedjs_margin-top-left-corner-holder {\n\twidth: var(--pagedjs-margin-left);\n\theight: var(--pagedjs-margin-top);\n\tdisplay: flex;\n\tgrid-column: left;\n\tgrid-row: header;\n}\n\n.pagedjs_margin-top-right-corner-holder {\n\twidth: var(--pagedjs-margin-right);\n\theight: var(--pagedjs-margin-top);\n\tdisplay: flex;\n\tgrid-column: right;\n\tgrid-row: header;\n}\n\n.pagedjs_margin-top-left-corner {\n\twidth: var(--pagedjs-margin-left);\n}\n\n.pagedjs_margin-top-right-corner {\n\twidth: var(--pagedjs-margin-right);\n}\n\n.pagedjs_margin-right {\n\theight: calc(var(--pagedjs-pagebox-height) - var(--pagedjs-margin-top) - var(--pagedjs-margin-bottom));\n\twidth: var(--pagedjs-margin-right);\n\tright: 0;\n\tgrid-column: right;\n\tgrid-row: page;\n\tdisplay: grid;\n\tgrid-template-rows: repeat(3, 33.3333%);\n\tgrid-template-columns: 100%;\n}\n\n.pagedjs_margin-bottom {\n\twidth: calc(var(--pagedjs-pagebox-width) - var(--pagedjs-margin-left) - var(--pagedjs-margin-right));\n\theight: var(--pagedjs-margin-bottom);\n\tgrid-column: center;\n\tgrid-row: footer;\n\tdisplay: grid;\n\tgrid-template-columns: repeat(3, 1fr);\n\tgrid-template-rows: 100%;\n}\n\n.pagedjs_margin-bottom-left-corner-holder {\n\twidth: var(--pagedjs-margin-left);\n\theight: var(--pagedjs-margin-bottom);\n\tdisplay: flex;\n\tgrid-column: left;\n\tgrid-row: footer;\n}\n\n.pagedjs_margin-bottom-right-corner-holder {\n\twidth: var(--pagedjs-margin-right);\n\theight: var(--pagedjs-margin-bottom);\n\tdisplay: flex;\n\tgrid-column: right;\n\tgrid-row: footer;\n}\n\n.pagedjs_margin-bottom-left-corner {\n\twidth: var(--pagedjs-margin-left);\n}\n\n.pagedjs_margin-bottom-right-corner {\n\twidth: var(--pagedjs-margin-right);\n}\n\n\n\n.pagedjs_margin-left {\n\theight: calc(var(--pagedjs-pagebox-height) - var(--pagedjs-margin-top) - var(--pagedjs-margin-bottom));\n\twidth: var(--pagedjs-margin-left);\n\tgrid-column: left;\n\tgrid-row: page;\n\tdisplay: grid;\n\tgrid-template-rows: repeat(3, 33.33333%);\n\tgrid-template-columns: 100%;\n}\n\n.pagedjs_pages .pagedjs_pagebox .pagedjs_margin:not(.hasContent) {\n\tvisibility: hidden;\n}\n\n.pagedjs_pagebox > .pagedjs_area {\n\tgrid-column: center;\n\tgrid-row: page;\n\twidth: 100%;\n\theight: 100%;\n\tpadding: var(--pagedjs-padding-top) var(--pagedjs-padding-right) var(--pagedjs-padding-bottom) var(--pagedjs-padding-left);\n\tborder-top: var(--pagedjs-border-top);\n\tborder-right: var(--pagedjs-border-right);\n\tborder-bottom: var(--pagedjs-border-bottom);\n\tborder-left: var(--pagedjs-border-left);\n}\n\n.pagedjs_pagebox > .pagedjs_area > .pagedjs_page_content {\n\twidth: 100%;\n\theight: calc(100% - var(--pagedjs-footnotes-height));\n\tposition: relative;\n\tcolumn-fill: auto;\n}\n\n.pagedjs_pagebox > .pagedjs_area > .pagedjs_page_content > div {\n\theight: inherit;\n}\n\n.pagedjs_pagebox > .pagedjs_area > .pagedjs_footnote_area {\n\tposition: relative;\n\toverflow: hidden;\n\theight: var(--pagedjs-footnotes-height);\n\tdisplay: flex;\n    justify-content: flex-end;\n    flex-flow: column;\n}\n\n.pagedjs_pagebox > .pagedjs_area > .pagedjs_footnote_area > .pagedjs_footnote_content {\n\toverflow: hidden;\n}\n\n.pagedjs_pagebox > .pagedjs_area > .pagedjs_footnote_area > .pagedjs_footnote_inner_content {\n\toverflow: hidden;\n}\n\n.pagedjs_area [data-footnote-call] {\n\tall: unset;\n\tcounter-increment: footnote;\n}\n\n.pagedjs_area [data-split-from] {\n\tcounter-increment: unset;\n\tcounter-reset: unset;\n}\n\n[data-footnote-call]::after {\n\tvertical-align: super;\n\tfont-size: 65%;\n\tline-height: normal;\n\tcontent: counter(footnote);\n}\n\n@supports ( font-variant-position: super ) {\n\t[data-footnote-call]::after {\n\t\tvertical-align: baseline;\n\t\tfont-size: 100%;\n\t\tline-height: inherit;\n\t\tfont-variant-position: super;\n\t}\n}\n\n.pagedjs_footnote_empty {\n\tdisplay: none;\n}\n\n.pagedjs_area [data-split-from] {\n\tcounter-increment: unset;\n\tcounter-reset: unset;\n}\n\n[data-footnote-marker] {\n\ttext-indent: 0;\n\tdisplay: list-item;\n\tlist-style-position: inside;\n}\n\n[data-footnote-marker][data-split-from] {\n\tlist-style: none;\n}\n\n[data-footnote-marker]:not([data-split-from]) {\n\tcounter-increment: footnote-marker;\n}\n\n[data-footnote-marker]::marker {\n\tcontent: counter(footnote-marker) \". \";\n}\n\n[data-footnote-marker][data-split-from]::marker {\n\tcontent: unset;\n}\n\n.pagedjs_area .pagedjs_footnote_inner_content [data-note-display=\"inline\"] {\n \tdisplay: inline;\n}\n\n.pagedjs_page {\n\tcounter-increment: page var(--pagedjs-page-counter-increment);\n\twidth: var(--pagedjs-width);\n\theight: var(--pagedjs-height);\n}\n\n.pagedjs_page.pagedjs_right_page {\n\twidth: var(--pagedjs-width-right);\n\theight: var(--pagedjs-height-right);\n}\n\n.pagedjs_page.pagedjs_left_page {\n\twidth: var(--pagedjs-width-left);\n\theight: var(--pagedjs-height-left);\n}\n\n.pagedjs_pages {\n\tcounter-reset: pages var(--pagedjs-page-count) footnote var(--pagedjs-footnotes-count) footnote-marker var(--pagedjs-footnotes-count);\n}\n\n.pagedjs_pagebox .pagedjs_margin-top-left-corner,\n.pagedjs_pagebox .pagedjs_margin-top-right-corner,\n.pagedjs_pagebox .pagedjs_margin-bottom-left-corner,\n.pagedjs_pagebox .pagedjs_margin-bottom-right-corner,\n.pagedjs_pagebox .pagedjs_margin-top-left,\n.pagedjs_pagebox .pagedjs_margin-top-right,\n.pagedjs_pagebox .pagedjs_margin-bottom-left,\n.pagedjs_pagebox .pagedjs_margin-bottom-right,\n.pagedjs_pagebox .pagedjs_margin-top-center,\n.pagedjs_pagebox .pagedjs_margin-bottom-center,\n.pagedjs_pagebox .pagedjs_margin-top-center,\n.pagedjs_pagebox .pagedjs_margin-bottom-center,\n.pagedjs_margin-right-middle,\n.pagedjs_margin-left-middle  {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.pagedjs_margin-right-top,\n.pagedjs_margin-left-top  {\n\tdisplay: flex;\n\talign-items: flex-top;\n}\n\n\n.pagedjs_margin-right-bottom,\n.pagedjs_margin-left-bottom  {\n\tdisplay: flex;\n\talign-items: flex-end;\n}\n\n\n\n/*\n.pagedjs_pagebox .pagedjs_margin-top-center,\n.pagedjs_pagebox .pagedjs_margin-bottom-center {\n\theight: 100%;\n\tdisplay: none;\n\talign-items: center;\n\tflex: 1 0 33%;\n\tmargin: 0 auto;\n}\n\n.pagedjs_pagebox .pagedjs_margin-top-left-corner,\n.pagedjs_pagebox .pagedjs_margin-top-right-corner,\n.pagedjs_pagebox .pagedjs_margin-bottom-right-corner,\n.pagedjs_pagebox .pagedjs_margin-bottom-left-corner {\n\tdisplay: none;\n\talign-items: center;\n}\n\n.pagedjs_pagebox .pagedjs_margin-left-top,\n.pagedjs_pagebox .pagedjs_margin-right-top {\n\tdisplay: none;\n\talign-items: flex-start;\n}\n\n.pagedjs_pagebox .pagedjs_margin-right-middle,\n.pagedjs_pagebox .pagedjs_margin-left-middle {\n\tdisplay: none;\n\talign-items: center;\n}\n\n.pagedjs_pagebox .pagedjs_margin-left-bottom,\n.pagedjs_pagebox .pagedjs_margin-right-bottom {\n\tdisplay: none;\n\talign-items: flex-end;\n}\n*/\n\n.pagedjs_pagebox .pagedjs_margin-top-left,\n.pagedjs_pagebox .pagedjs_margin-top-right-corner,\n.pagedjs_pagebox .pagedjs_margin-bottom-left,\n.pagedjs_pagebox .pagedjs_margin-bottom-right-corner { text-align: left; }\n\n.pagedjs_pagebox .pagedjs_margin-top-left-corner,\n.pagedjs_pagebox .pagedjs_margin-top-right,\n.pagedjs_pagebox .pagedjs_margin-bottom-left-corner,\n.pagedjs_pagebox .pagedjs_margin-bottom-right { text-align: right; }\n\n.pagedjs_pagebox .pagedjs_margin-top-center,\n.pagedjs_pagebox .pagedjs_margin-bottom-center,\n.pagedjs_pagebox .pagedjs_margin-left-top,\n.pagedjs_pagebox .pagedjs_margin-left-middle,\n.pagedjs_pagebox .pagedjs_margin-left-bottom,\n.pagedjs_pagebox .pagedjs_margin-right-top,\n.pagedjs_pagebox .pagedjs_margin-right-middle,\n.pagedjs_pagebox .pagedjs_margin-right-bottom { text-align: center; }\n\n.pagedjs_pages .pagedjs_margin .pagedjs_margin-content {\n\twidth: 100%;\n}\n\n.pagedjs_pages .pagedjs_margin-left .pagedjs_margin-content::after,\n.pagedjs_pages .pagedjs_margin-top .pagedjs_margin-content::after,\n.pagedjs_pages .pagedjs_margin-right .pagedjs_margin-content::after,\n.pagedjs_pages .pagedjs_margin-bottom .pagedjs_margin-content::after {\n\tdisplay: block;\n}\n\n.pagedjs_pages > .pagedjs_page > .pagedjs_sheet > .pagedjs_pagebox > .pagedjs_area > div [data-split-to] {\n\tmargin-bottom: unset;\n\tpadding-bottom: unset;\n}\n\n.pagedjs_pages > .pagedjs_page > .pagedjs_sheet > .pagedjs_pagebox > .pagedjs_area > div [data-split-from] {\n\ttext-indent: unset;\n\tmargin-top: unset;\n\tpadding-top: unset;\n\tinitial-letter: unset;\n}\n\n.pagedjs_pages > .pagedjs_page > .pagedjs_sheet > .pagedjs_pagebox > .pagedjs_area > div [data-split-from] > *::first-letter,\n.pagedjs_pages > .pagedjs_page > .pagedjs_sheet > .pagedjs_pagebox > .pagedjs_area > div [data-split-from]::first-letter {\n\tcolor: unset;\n\tfont-size: unset;\n\tfont-weight: unset;\n\tfont-family: unset;\n\tcolor: unset;\n\tline-height: unset;\n\tfloat: unset;\n\tpadding: unset;\n\tmargin: unset;\n}\n\n.pagedjs_pages > .pagedjs_page > .pagedjs_sheet > .pagedjs_pagebox > .pagedjs_area > div [data-split-to]:not([data-footnote-call]):after,\n.pagedjs_pages > .pagedjs_page > .pagedjs_sheet > .pagedjs_pagebox > .pagedjs_area > div [data-split-to]:not([data-footnote-call])::after {\n\tcontent: unset;\n}\n\n.pagedjs_pages > .pagedjs_page > .pagedjs_sheet > .pagedjs_pagebox > .pagedjs_area > div [data-split-from]:not([data-footnote-call]):before,\n.pagedjs_pages > .pagedjs_page > .pagedjs_sheet > .pagedjs_pagebox > .pagedjs_area > div [data-split-from]:not([data-footnote-call])::before {\n\tcontent: unset;\n}\n\n.pagedjs_pages > .pagedjs_page > .pagedjs_sheet > .pagedjs_pagebox > .pagedjs_area > div li[data-split-from]:first-of-type {\n\tlist-style: none;\n}\n\n/*\n[data-page]:not([data-split-from]),\n[data-break-before=\"page\"]:not([data-split-from]),\n[data-break-before=\"always\"]:not([data-split-from]),\n[data-break-before=\"left\"]:not([data-split-from]),\n[data-break-before=\"right\"]:not([data-split-from]),\n[data-break-before=\"recto\"]:not([data-split-from]),\n[data-break-before=\"verso\"]:not([data-split-from])\n{\n\tbreak-before: column;\n}\n\n[data-page]:not([data-split-to]),\n[data-break-after=\"page\"]:not([data-split-to]),\n[data-break-after=\"always\"]:not([data-split-to]),\n[data-break-after=\"left\"]:not([data-split-to]),\n[data-break-after=\"right\"]:not([data-split-to]),\n[data-break-after=\"recto\"]:not([data-split-to]),\n[data-break-after=\"verso\"]:not([data-split-to])\n{\n\tbreak-after: column;\n}\n*/\n\n.pagedjs_clear-after::after {\n\tcontent: none !important;\n}\n\n[data-align-last-split-element='justify'] {\n\ttext-align-last: justify;\n}\n\n\n@media print {\n\thtml {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\t-webkit-print-color-adjust: exact;\n\t\tprint-color-adjust: exact;\n\t}\n\tbody {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\twidth: 100% !important;\n\t\theight: 100% !important;\n\t\tmin-width: 100%;\n\t\tmax-width: 100%;\n\t\tmin-height: 100%;\n\t\tmax-height: 100%;\n\t}\n\t.pagedjs_pages {\n\t\twidth: auto;\n\t\tdisplay: block !important;\n\t\ttransform: none !important;\n\t\theight: 100% !important;\n\t\tmin-height: 100%;\n\t\tmax-height: 100%;\n\t\toverflow: visible;\n\t}\n\t.pagedjs_page {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tmax-height: 100%;\n\t\tmin-height: 100%;\n\t\theight: 100% !important;\n\t\tpage-break-after: always;\n\t\tbreak-after: page;\n\t}\n\t.pagedjs_sheet {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tmax-height: 100%;\n\t\tmin-height: 100%;\n\t\theight: 100% !important;\n\t}\n}\n`;\n","import EventEmitter from \"event-emitter\";\n\nclass Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tlet hooks = Object.assign({}, chunker && chunker.hooks, polisher && polisher.hooks, caller && caller.hooks);\n\t\tthis.chunker = chunker;\n\t\tthis.polisher = polisher;\n\t\tthis.caller = caller;\n\n\t\tfor (let name in hooks) {\n\t\t\tif (name in this) {\n\t\t\t\tlet hook = hooks[name];\n\t\t\t\thook.register(this[name].bind(this));\n\t\t\t}\n\t\t}\n\t}\n}\n\nEventEmitter(Handler.prototype);\n\nexport default Handler;\n","// https://www.w3.org/TR/css3-page/#page-size-prop\n\nexport default {\n\t\"A0\": {\n\t\twidth: {\n\t\t\tvalue: 841,\n\t\t\tunit: \"mm\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 1189,\n\t\t\tunit: \"mm\"\n\t\t}\n\t},\n\t\"A1\": {\n\t\twidth: {\n\t\t\tvalue: 594,\n\t\t\tunit: \"mm\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 841,\n\t\t\tunit: \"mm\"\n\t\t}\n\t},\n\t\"A2\": {\n\t\twidth: {\n\t\t\tvalue: 420,\n\t\t\tunit: \"mm\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 594,\n\t\t\tunit: \"mm\"\n\t\t}\n\t},\n\t\"A3\": {\n\t\twidth: {\n\t\t\tvalue: 297,\n\t\t\tunit: \"mm\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 420,\n\t\t\tunit: \"mm\"\n\t\t}\n\t},\n\t\"A4\": {\n\t\twidth: {\n\t\t\tvalue: 210,\n\t\t\tunit: \"mm\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 297,\n\t\t\tunit: \"mm\"\n\t\t}\n\t},\n\t\"A5\": {\n\t\twidth: {\n\t\t\tvalue: 148,\n\t\t\tunit: \"mm\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 210,\n\t\t\tunit: \"mm\"\n\t\t}\n\t},\n\t\"A6\": {\n\t\twidth: {\n\t\t\tvalue: 105,\n\t\t\tunit: \"mm\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 148,\n\t\t\tunit: \"mm\"\n\t\t}\n\t},\n\t\"A7\": {\n\t\twidth: {\n\t\t\tvalue: 74,\n\t\t\tunit: \"mm\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 105,\n\t\t\tunit: \"mm\"\n\t\t}\n\t},\n\t\"A8\": {\n\t\twidth: {\n\t\t\tvalue: 52,\n\t\t\tunit: \"mm\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 74,\n\t\t\tunit: \"mm\"\n\t\t}\n\t},\n\t\"A9\": {\n\t\twidth: {\n\t\t\tvalue: 37,\n\t\t\tunit: \"mm\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 52,\n\t\t\tunit: \"mm\"\n\t\t}\n\t},\n\t\"A10\": {\n\t\twidth: {\n\t\t\tvalue: 26,\n\t\t\tunit: \"mm\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 37,\n\t\t\tunit: \"mm\"\n\t\t}\n\t},\n\t\"B4\": {\n\t\twidth: {\n\t\t\tvalue: 250,\n\t\t\tunit: \"mm\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 353,\n\t\t\tunit: \"mm\"\n\t\t}\n\t},\n\t\"B5\": {\n\t\twidth: {\n\t\t\tvalue: 176,\n\t\t\tunit: \"mm\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 250,\n\t\t\tunit: \"mm\"\n\t\t}\n\t},\n\t\"letter\": {\n\t\twidth: {\n\t\t\tvalue: 8.5,\n\t\t\tunit: \"in\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 11,\n\t\t\tunit: \"in\"\n\t\t}\n\t},\n\t\"legal\": {\n\t\twidth: {\n\t\t\tvalue: 8.5,\n\t\t\tunit: \"in\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 14,\n\t\t\tunit: \"in\"\n\t\t}\n\t},\n\t\"ledger\": {\n\t\twidth: {\n\t\t\tvalue: 11,\n\t\t\tunit: \"in\"\n\t\t},\n\t\theight: {\n\t\t\tvalue: 17,\n\t\t\tunit: \"in\"\n\t\t}\n\t}\n};\n","import AtPage from \"./atpage.js\";\nimport Breaks from \"./breaks.js\";\nimport PrintMedia from \"./print-media.js\";\nimport Splits from \"./splits.js\";\nimport Counters from \"./counters.js\";\nimport Lists from \"./lists.js\";\nimport PositionFixed from \"./position-fixed.js\";\nimport PageCounterIncrement from \"./page-counter-increment.js\";\nimport NthOfType from \"./nth-of-type.js\";\nimport Following from \"./following.js\";\nimport Footnotes from \"./footnotes.js\";\n\nexport default [\n\tPrintMedia,\n\tAtPage,\n\tBreaks,\n\tSplits,\n\tCounters,\n\tLists,\n\tPositionFixed,\n\tPageCounterIncrement,\n\tNthOfType,\n\tFollowing,\n\tFootnotes\n];\n","import Handler from \"../handler.js\";\nimport csstree from \"css-tree\";\n\nclass PrintMedia extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\t}\n\n\tonAtMedia(node, item, list) {\n\t\tlet media = this.getMediaName(node);\n\t\tlet rules;\n\t\tif (media.includes(\"print\")) {\n\t\t\trules = node.block.children;\n\n\t\t\t// Append rules to the end of main rules list\n\t\t\t// TODO: this isn't working right, needs to check what is in the prelude\n\t\t\t/*\n\t\t\trules.forEach((selectList) => {\n\t\t\t\tif (selectList.prelude) {\n\t\t\t\t\tselectList.prelude.children.forEach((rule) => {\n\n\t\t\t\t\t\trule.children.prependData({\n\t\t\t\t\t\t\ttype: \"Combinator\",\n\t\t\t\t\t\t\tname: \" \"\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\trule.children.prependData({\n\t\t\t\t\t\t\ttype: \"ClassSelector\",\n\t\t\t\t\t\t\tname: \"pagedjs_page\"\n\t\t\t\t\t\t});\n\t\t\t\t\t});\t\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlist.insertList(rules, item);\n\t\t\t*/\n\n\t\t\t// Append rules to the end of main rules list\n\t\t\tlist.appendList(rules);\n\n\t\t\t// Remove rules from the @media block\n\t\t\tlist.remove(item);\n\t\t} else if (!media.includes(\"all\") && !media.includes(\"pagedjs-ignore\")) {\n\t\t\tlist.remove(item);\n\t\t}\n\n\t}\n\n\tgetMediaName(node) {\n\t\tlet media = [];\n\n\t\tif (typeof node.prelude === \"undefined\" ||\n\t\t\t\tnode.prelude.type !== \"AtrulePrelude\" ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcsstree.walk(node.prelude, {\n\t\t\tvisit: \"Identifier\",\n\t\t\tenter: (identNode, iItem, iList) => {\n\t\t\t\tmedia.push(identNode.name);\n\t\t\t}\n\t\t});\n\t\treturn media;\n\t}\n\n\n}\n\nexport default PrintMedia;\n","import Handler from \"../handler.js\";\nimport csstree from \"css-tree\";\nimport pageSizes from \"../../polisher/sizes.js\";\nimport { rebuildAncestors } from \"../../utils/dom.js\";\nimport { CSSValueToString } from \"../../utils/utils.js\";\n\nclass AtPage extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\n\t\tthis.pages = {};\n\n\t\tthis.width = undefined;\n\t\tthis.height = undefined;\n\t\tthis.orientation = undefined;\n\t\tthis.marginalia = {};\n\t}\n\n\tpageModel(selector) {\n\t\treturn {\n\t\t\tselector: selector,\n\t\t\tname: undefined,\n\t\t\tpsuedo: undefined,\n\t\t\tnth: undefined,\n\t\t\tmarginalia: {},\n\t\t\twidth: undefined,\n\t\t\theight: undefined,\n\t\t\torientation: undefined,\n\t\t\tmargin: {\n\t\t\t\ttop: {},\n\t\t\t\tright: {},\n\t\t\t\tleft: {},\n\t\t\t\tbottom: {}\n\t\t\t},\n\t\t\tpadding: {\n\t\t\t\ttop: {},\n\t\t\t\tright: {},\n\t\t\t\tleft: {},\n\t\t\t\tbottom: {}\n\t\t\t},\n\t\t\tborder: {\n\t\t\t\ttop: {},\n\t\t\t\tright: {},\n\t\t\t\tleft: {},\n\t\t\t\tbottom: {}\n\t\t\t},\n\t\t\tbackgroundOrigin: undefined,\n\t\t\tblock: {},\n\t\t\tmarks: undefined,\n\t\t\tnotes: undefined,\n\t\t\tadded: false\n\t\t};\n\t}\n\n\t// Find and Remove @page rules\n\tonAtPage(node, item, list) {\n\t\tlet page, marginalia;\n\t\tlet selector = \"\";\n\t\tlet named, psuedo, nth;\n\t\tlet needsMerge = false;\n\n\t\tif (node.prelude) {\n\t\t\tnamed = this.getTypeSelector(node);\n\t\t\tpsuedo = this.getPsuedoSelector(node);\n\t\t\tnth = this.getNthSelector(node);\n\t\t\tselector = csstree.generate(node.prelude);\n\t\t} else {\n\t\t\tselector = \"*\";\n\t\t}\n\n\t\tif (selector in this.pages) {\n\t\t\t// this.pages[selector] = Object.assign(this.pages[selector], page);\n\t\t\t// console.log(\"after\", selector, this.pages[selector]);\n\n\t\t\t// this.pages[selector].added = false;\n\t\t\tpage = this.pages[selector];\n\t\t\tmarginalia = this.replaceMarginalia(node);\n\t\t\tneedsMerge = true;\n\t\t\t// Mark page for getting classes added again\n\t\t\tpage.added = false;\n\t\t} else {\n\t\t\tpage = this.pageModel(selector);\n\t\t\tmarginalia = this.replaceMarginalia(node);\n\t\t\tthis.pages[selector] = page;\n\t\t}\n\n\t\tpage.name = named;\n\t\tpage.psuedo = psuedo;\n\t\tpage.nth = nth;\n\n\t\tif (needsMerge) {\n\t\t\tpage.marginalia = Object.assign(page.marginalia, marginalia);\n\t\t} else {\n\t\t\tpage.marginalia = marginalia;\n\t\t}\n\n\t\tlet notes = this.replaceNotes(node);\n\t\tpage.notes = notes;\n\n\t\tlet declarations = this.replaceDeclarations(node);\n\n\t\tif (declarations.size) {\n\t\t\tpage.size = declarations.size;\n\t\t\tpage.width = declarations.size.width;\n\t\t\tpage.height = declarations.size.height;\n\t\t\tpage.orientation = declarations.size.orientation;\n\t\t\tpage.format = declarations.size.format;\n\t\t}\n\n\t\tif (declarations.bleed && declarations.bleed[0] != \"auto\") {\n\t\t\tswitch (declarations.bleed.length) {\n\t\t\t\tcase 4: // top right bottom left\n\t\t\t\t\tpage.bleed = {\n\t\t\t\t\t\ttop: declarations.bleed[0],\n\t\t\t\t\t\tright: declarations.bleed[1],\n\t\t\t\t\t\tbottom: declarations.bleed[2],\n\t\t\t\t\t\tleft: declarations.bleed[3]\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3: // top right bottom right\n\t\t\t\t\tpage.bleed = {\n\t\t\t\t\t\ttop: declarations.bleed[0],\n\t\t\t\t\t\tright: declarations.bleed[1],\n\t\t\t\t\t\tbottom: declarations.bleed[2],\n\t\t\t\t\t\tleft: declarations.bleed[1]\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2: // top right top right\n\t\t\t\t\tpage.bleed = {\n\t\t\t\t\t\ttop: declarations.bleed[0],\n\t\t\t\t\t\tright: declarations.bleed[1],\n\t\t\t\t\t\tbottom: declarations.bleed[0],\n\t\t\t\t\t\tleft: declarations.bleed[1]\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tpage.bleed = {\n\t\t\t\t\t\ttop: declarations.bleed[0],\n\t\t\t\t\t\tright: declarations.bleed[0],\n\t\t\t\t\t\tbottom: declarations.bleed[0],\n\t\t\t\t\t\tleft: declarations.bleed[0]\n\t\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (declarations.marks) {\n\t\t\tif (!declarations.bleed || declarations.bleed && declarations.bleed[0] === \"auto\") {\n\t\t\t\t// Spec say 6pt, but needs more space for marks\n\t\t\t\tpage.bleed = {\n\t\t\t\t\ttop: { value: 6, unit: \"mm\" },\n\t\t\t\t\tright: { value: 6, unit: \"mm\" },\n\t\t\t\t\tbottom: { value: 6, unit: \"mm\" },\n\t\t\t\t\tleft: { value: 6, unit: \"mm\" }\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tpage.marks = declarations.marks;\n\t\t}\n\n\t\tif (declarations.margin) {\n\t\t\tpage.margin = declarations.margin;\n\t\t}\n\t\tif (declarations.padding) {\n\t\t\tpage.padding = declarations.padding;\n\t\t}\n\n\t\tif (declarations.border) {\n\t\t\tpage.border = declarations.border;\n\t\t}\n\n\t\tif (declarations.marks) {\n\t\t\tpage.marks = declarations.marks;\n\t\t}\n\n\t\tif (needsMerge) {\n\t\t\tpage.block.children.appendList(node.block.children);\n\t\t} else {\n\t\t\tpage.block = node.block;\n\t\t}\n\n\t\t// Remove the rule\n\t\tlist.remove(item);\n\t}\n\n\t/* Handled in breaks */\n\t/*\n\tafterParsed(parsed) {\n\t\tfor (let b in this.named) {\n\t\t\t// Find elements\n\t\t\tlet elements = parsed.querySelectorAll(b);\n\t\t\t// Add break data\n\t\t\tfor (var i = 0; i < elements.length; i++) {\n\t\t\t\telements[i].setAttribute(\"data-page\", this.named[b]);\n\t\t\t}\n\t\t}\n\t}\n\t*/\n\n\tafterTreeWalk(ast, sheet) {\n\t\tlet dirtyPage = \"*\" in this.pages && this.pages[\"*\"].added === false;\n\n\t\tthis.addPageClasses(this.pages, ast, sheet);\n\n\t\tif (dirtyPage) {\n\t\t\tlet width = this.pages[\"*\"].width;\n\t\t\tlet height = this.pages[\"*\"].height;\n\t\t\tlet format = this.pages[\"*\"].format;\n\t\t\tlet orientation = this.pages[\"*\"].orientation;\n\t\t\tlet bleed = this.pages[\"*\"].bleed;\n\t\t\tlet marks = this.pages[\"*\"].marks;\n\t\t\tlet bleedverso = undefined;\n\t\t\tlet bleedrecto = undefined;\n\n\t\t\tif (\":left\" in this.pages) {\n\t\t\t\tbleedverso = this.pages[\":left\"].bleed;\n\t\t\t}\n\n\t\t\tif (\":right\" in this.pages) {\n\t\t\t\tbleedrecto = this.pages[\":right\"].bleed;\n\t\t\t}\n\n\t\t\tif ((width && height) &&\n\t\t\t\t(this.width !== width || this.height !== height)) {\n\t\t\t\tthis.width = width;\n\t\t\t\tthis.height = height;\n\t\t\t\tthis.format = format;\n\t\t\t\tthis.orientation = orientation;\n\n\t\t\t\tthis.addRootVars(ast, width, height, orientation, bleed, bleedrecto, bleedverso, marks);\n\t\t\t\tthis.addRootPage(ast, this.pages[\"*\"].size, bleed, bleedrecto, bleedverso);\n\n\t\t\t\tthis.emit(\"size\", { width, height, orientation, format, bleed });\n\t\t\t\tthis.emit(\"atpages\", this.pages);\n\t\t\t}\n\n\t\t}\n\t}\n\n\tgetTypeSelector(ast) {\n\t\t// Find page name\n\t\tlet name;\n\n\t\tcsstree.walk(ast, {\n\t\t\tvisit: \"TypeSelector\",\n\t\t\tenter: (node, item, list) => {\n\t\t\t\tname = node.name;\n\t\t\t}\n\t\t});\n\n\t\treturn name;\n\t}\n\n\tgetPsuedoSelector(ast) {\n\t\t// Find if it has :left & :right & :black & :first\n\t\tlet name;\n\t\tcsstree.walk(ast, {\n\t\t\tvisit: \"PseudoClassSelector\",\n\t\t\tenter: (node, item, list) => {\n\t\t\t\tif (node.name !== \"nth\") {\n\t\t\t\t\tname = node.name;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn name;\n\t}\n\n\tgetNthSelector(ast) {\n\t\t// Find if it has :nth\n\t\tlet nth;\n\t\tcsstree.walk(ast, {\n\t\t\tvisit: \"PseudoClassSelector\",\n\t\t\tenter: (node, item, list) => {\n\t\t\t\tif (node.name === \"nth\" && node.children) {\n\t\t\t\t\tlet raw = node.children.first();\n\t\t\t\t\tnth = raw.value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn nth;\n\t}\n\n\treplaceMarginalia(ast) {\n\t\tlet parsed = {};\n\t\tconst MARGINS = [\n\t\t\t\"top-left-corner\", \"top-left\", \"top\", \"top-center\", \"top-right\", \"top-right-corner\",\n\t\t\t\"bottom-left-corner\", \"bottom-left\", \"bottom\", \"bottom-center\", \"bottom-right\", \"bottom-right-corner\",\n\t\t\t\"left-top\", \"left-middle\", \"left\", \"left-bottom\", \"top-right-corner\",\n\t\t\t\"right-top\", \"right-middle\", \"right\", \"right-bottom\", \"right-right-corner\"\n\t\t];\n\t\tcsstree.walk(ast.block, {\n\t\t\tvisit: \"Atrule\",\n\t\t\tenter: (node, item, list) => {\n\t\t\t\tlet name = node.name;\n\t\t\t\tif (MARGINS.includes(name)) {\n\t\t\t\t\tif (name === \"top\") {\n\t\t\t\t\t\tname = \"top-center\";\n\t\t\t\t\t}\n\t\t\t\t\tif (name === \"right\") {\n\t\t\t\t\t\tname = \"right-middle\";\n\t\t\t\t\t}\n\t\t\t\t\tif (name === \"left\") {\n\t\t\t\t\t\tname = \"left-middle\";\n\t\t\t\t\t}\n\t\t\t\t\tif (name === \"bottom\") {\n\t\t\t\t\t\tname = \"bottom-center\";\n\t\t\t\t\t}\n\t\t\t\t\tparsed[name] = node.block;\n\t\t\t\t\tlist.remove(item);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn parsed;\n\t}\n\n\treplaceNotes(ast) {\n\t\tlet parsed = {};\n\n\t\tcsstree.walk(ast.block, {\n\t\t\tvisit: \"Atrule\",\n\t\t\tenter: (node, item, list) => {\n\t\t\t\tlet name = node.name;\n\t\t\t\tif (name === \"footnote\") {\n\t\t\t\t\tparsed[name] = node.block;\n\t\t\t\t\tlist.remove(item);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn parsed;\n\t}\n\n\treplaceDeclarations(ast) {\n\t\tlet parsed = {};\n\n\t\tcsstree.walk(ast.block, {\n\t\t\tvisit: \"Declaration\",\n\t\t\tenter: (declaration, dItem, dList) => {\n\t\t\t\tlet prop = csstree.property(declaration.property).name;\n\t\t\t\t// let value = declaration.value;\n\n\t\t\t\tif (prop === \"marks\") {\n\t\t\t\t\tparsed.marks = [];\n\t\t\t\t\tcsstree.walk(declaration, {\n\t\t\t\t\t\tvisit: \"Identifier\",\n\t\t\t\t\t\tenter: (ident) => {\n\t\t\t\t\t\t\tparsed.marks.push(ident.name);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tdList.remove(dItem);\n\t\t\t\t} else if (prop === \"margin\") {\n\t\t\t\t\tparsed.margin = this.getMargins(declaration);\n\t\t\t\t\tdList.remove(dItem);\n\n\t\t\t\t} else if (prop.indexOf(\"margin-\") === 0) {\n\t\t\t\t\tlet m = prop.substring(\"margin-\".length);\n\t\t\t\t\tif (!parsed.margin) {\n\t\t\t\t\t\tparsed.margin = {\n\t\t\t\t\t\t\ttop: {},\n\t\t\t\t\t\t\tright: {},\n\t\t\t\t\t\t\tleft: {},\n\t\t\t\t\t\t\tbottom: {}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tparsed.margin[m] = declaration.value.children.first();\n\t\t\t\t\tdList.remove(dItem);\n\n\t\t\t\t} else if (prop === \"padding\") {\n\t\t\t\t\tparsed.padding = this.getPaddings(declaration.value);\n\t\t\t\t\tdList.remove(dItem);\n\n\t\t\t\t} else if (prop.indexOf(\"padding-\") === 0) {\n\t\t\t\t\tlet p = prop.substring(\"padding-\".length);\n\t\t\t\t\tif (!parsed.padding) {\n\t\t\t\t\t\tparsed.padding = {\n\t\t\t\t\t\t\ttop: {},\n\t\t\t\t\t\t\tright: {},\n\t\t\t\t\t\t\tleft: {},\n\t\t\t\t\t\t\tbottom: {}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tparsed.padding[p] = declaration.value.children.first();\n\t\t\t\t\tdList.remove(dItem);\n\t\t\t\t}\n\n\t\t\t\telse if (prop === \"border\") {\n\t\t\t\t\tif (!parsed.border) {\n\t\t\t\t\t\tparsed.border = {\n\t\t\t\t\t\t\ttop: {},\n\t\t\t\t\t\t\tright: {},\n\t\t\t\t\t\t\tleft: {},\n\t\t\t\t\t\t\tbottom: {}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tparsed.border.top = csstree.generate(declaration.value);\n\t\t\t\t\tparsed.border.right = csstree.generate(declaration.value);\n\t\t\t\t\tparsed.border.left = csstree.generate(declaration.value);\n\t\t\t\t\tparsed.border.bottom = csstree.generate(declaration.value);\n\n\t\t\t\t\tdList.remove(dItem);\n\n\t\t\t\t}\n\n\t\t\t\telse if (prop.indexOf(\"border-\") === 0) {\n\t\t\t\t\tif (!parsed.border) {\n\t\t\t\t\t\tparsed.border = {\n\t\t\t\t\t\t\ttop: {},\n\t\t\t\t\t\t\tright: {},\n\t\t\t\t\t\t\tleft: {},\n\t\t\t\t\t\t\tbottom: {}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tlet p = prop.substring(\"border-\".length);\n\n\t\t\t\t\tparsed.border[p] = csstree.generate(declaration.value);\n\t\t\t\t\tdList.remove(dItem);\n\n\t\t\t\t}\n\n\t\t\t\telse if (prop === \"size\") {\n\t\t\t\t\tparsed.size = this.getSize(declaration);\n\t\t\t\t\tdList.remove(dItem);\n\t\t\t\t} else if (prop === \"bleed\") {\n\t\t\t\t\tparsed.bleed = [];\n\n\t\t\t\t\tcsstree.walk(declaration, {\n\t\t\t\t\t\tenter: (subNode) => {\n\t\t\t\t\t\t\tswitch (subNode.type) {\n\t\t\t\t\t\t\t\tcase \"String\": // bleed: \"auto\"\n\t\t\t\t\t\t\t\t\tif (subNode.value.indexOf(\"auto\") > -1) {\n\t\t\t\t\t\t\t\t\t\tparsed.bleed.push(\"auto\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"Dimension\": // bleed: 1in 2in, bleed: 20px ect.\n\t\t\t\t\t\t\t\t\tparsed.bleed.push({\n\t\t\t\t\t\t\t\t\t\tvalue: subNode.value,\n\t\t\t\t\t\t\t\t\t\tunit: subNode.unit\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"Number\":\n\t\t\t\t\t\t\t\t\tparsed.bleed.push({\n\t\t\t\t\t\t\t\t\t\tvalue: subNode.value,\n\t\t\t\t\t\t\t\t\t\tunit: \"px\"\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t// ignore\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tdList.remove(dItem);\n\t\t\t\t}\n\n\t\t\t}\n\t\t});\n\n\t\treturn parsed;\n\n\t}\n\tgetSize(declaration) {\n\t\tlet width, height, orientation, format;\n\n\t\t// Get size: Xmm Ymm\n\t\tcsstree.walk(declaration, {\n\t\t\tvisit: \"Dimension\",\n\t\t\tenter: (node, item, list) => {\n\t\t\t\tlet { value, unit } = node;\n\t\t\t\tif (typeof width === \"undefined\") {\n\t\t\t\t\twidth = { value, unit };\n\t\t\t\t} else if (typeof height === \"undefined\") {\n\t\t\t\t\theight = { value, unit };\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// Get size: \"A4\"\n\t\tcsstree.walk(declaration, {\n\t\t\tvisit: \"String\",\n\t\t\tenter: (node, item, list) => {\n\t\t\t\tlet name = node.value.replace(/[\"|']/g, \"\");\n\t\t\t\tlet s = pageSizes[name];\n\t\t\t\tif (s) {\n\t\t\t\t\twidth = s.width;\n\t\t\t\t\theight = s.height;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// Get Format or Landscape or Portrait\n\t\tcsstree.walk(declaration, {\n\t\t\tvisit: \"Identifier\",\n\t\t\tenter: (node, item, list) => {\n\t\t\t\tlet name = node.name;\n\t\t\t\tif (name === \"landscape\" || name === \"portrait\") {\n\t\t\t\t\torientation = node.name;\n\t\t\t\t} else if (name !== \"auto\") {\n\t\t\t\t\tlet s = pageSizes[name];\n\t\t\t\t\tif (s) {\n\t\t\t\t\t\twidth = s.width;\n\t\t\t\t\t\theight = s.height;\n\t\t\t\t\t}\n\t\t\t\t\tformat = name;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\twidth,\n\t\t\theight,\n\t\t\torientation,\n\t\t\tformat\n\t\t};\n\t}\n\n\tgetMargins(declaration) {\n\t\tlet margins = [];\n\t\tlet margin = {\n\t\t\ttop: {},\n\t\t\tright: {},\n\t\t\tleft: {},\n\t\t\tbottom: {}\n\t\t};\n\n\t\tcsstree.walk(declaration, {\n\t\t\tenter: (node) => {\n\t\t\t\tswitch (node.type) {\n\t\t\t\t\tcase \"Dimension\": // margin: 1in 2in, margin: 20px, etc...\n\t\t\t\t\t\tmargins.push(node);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"Number\": // margin: 0\n\t\t\t\t\t\tmargins.push({value: node.value, unit: \"px\"});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t// ignore\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (margins.length === 1) {\n\t\t\tfor (let m in margin) {\n\t\t\t\tmargin[m] = margins[0];\n\t\t\t}\n\t\t} else if (margins.length === 2) {\n\t\t\tmargin.top = margins[0];\n\t\t\tmargin.right = margins[1];\n\t\t\tmargin.bottom = margins[0];\n\t\t\tmargin.left = margins[1];\n\t\t} else if (margins.length === 3) {\n\t\t\tmargin.top = margins[0];\n\t\t\tmargin.right = margins[1];\n\t\t\tmargin.bottom = margins[2];\n\t\t\tmargin.left = margins[1];\n\t\t} else if (margins.length === 4) {\n\t\t\tmargin.top = margins[0];\n\t\t\tmargin.right = margins[1];\n\t\t\tmargin.bottom = margins[2];\n\t\t\tmargin.left = margins[3];\n\t\t}\n\n\t\treturn margin;\n\t}\n\n\tgetPaddings(declaration) {\n\t\tlet paddings = [];\n\t\tlet padding = {\n\t\t\ttop: {},\n\t\t\tright: {},\n\t\t\tleft: {},\n\t\t\tbottom: {}\n\t\t};\n\n\t\tcsstree.walk(declaration, {\n\t\t\tenter: (node) => {\n\t\t\t\tswitch (node.type) {\n\t\t\t\t\tcase \"Dimension\": // padding: 1in 2in, padding: 20px, etc...\n\t\t\t\t\t\tpaddings.push(node);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"Number\": // padding: 0\n\t\t\t\t\t\tpaddings.push({value: node.value, unit: \"px\"});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t// ignore\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tif (paddings.length === 1) {\n\t\t\tfor (let p in padding) {\n\t\t\t\tpadding[p] = paddings[0];\n\t\t\t}\n\t\t} else if (paddings.length === 2) {\n\n\t\t\tpadding.top = paddings[0];\n\t\t\tpadding.right = paddings[1];\n\t\t\tpadding.bottom = paddings[0];\n\t\t\tpadding.left = paddings[1];\n\t\t} else if (paddings.length === 3) {\n\n\t\t\tpadding.top = paddings[0];\n\t\t\tpadding.right = paddings[1];\n\t\t\tpadding.bottom = paddings[2];\n\t\t\tpadding.left = paddings[1];\n\t\t} else if (paddings.length === 4) {\n\n\t\t\tpadding.top = paddings[0];\n\t\t\tpadding.right = paddings[1];\n\t\t\tpadding.bottom = paddings[2];\n\t\t\tpadding.left = paddings[3];\n\t\t}\n\t\treturn padding;\n\t}\n\n\t// get values for the border on the @page to pass them to the element with the .pagedjs_area class\n\tgetBorders(declaration) {\n\t\tlet border = {\n\t\t\ttop: {},\n\t\t\tright: {},\n\t\t\tleft: {},\n\t\t\tbottom: {}\n\t\t};\n\n\t\tif (declaration.prop == \"border\") {\n\t\t\tborder.top = csstree.generate(declaration.value);\n\t\t\tborder.right = csstree.generate(declaration.value);\n\t\t\tborder.bottom = csstree.generate(declaration.value);\n\t\t\tborder.left = csstree.generate(declaration.value);\n\n\t\t}\n\t\telse if (declaration.prop == \"border-top\") {\n\t\t\tborder.top = csstree.generate(declaration.value);\n\t\t}\n\t\telse if (declaration.prop == \"border-right\") {\n\t\t\tborder.right = csstree.generate(declaration.value);\n\n\t\t}\n\t\telse if (declaration.prop == \"border-bottom\") {\n\t\t\tborder.bottom = csstree.generate(declaration.value);\n\n\t\t}\n\t\telse if (declaration.prop == \"border-left\") {\n\t\t\tborder.left = csstree.generate(declaration.value);\n\t\t}\n\n\t\treturn border;\n\t}\n\n\n\taddPageClasses(pages, ast, sheet) {\n\t\t// First add * page\n\t\tif (\"*\" in pages && pages[\"*\"].added === false) {\n\t\t\tlet p = this.createPage(pages[\"*\"], ast.children, sheet);\n\t\t\tsheet.insertRule(p);\n\t\t\tpages[\"*\"].added = true;\n\t\t}\n\t\t// Add :left & :right\n\t\tif (\":left\" in pages && pages[\":left\"].added === false) {\n\t\t\tlet left = this.createPage(pages[\":left\"], ast.children, sheet);\n\t\t\tsheet.insertRule(left);\n\t\t\tpages[\":left\"].added = true;\n\t\t}\n\t\tif (\":right\" in pages && pages[\":right\"].added === false) {\n\t\t\tlet right = this.createPage(pages[\":right\"], ast.children, sheet);\n\t\t\tsheet.insertRule(right);\n\t\t\tpages[\":right\"].added = true;\n\t\t}\n\t\t// Add :first & :blank\n\t\tif (\":first\" in pages && pages[\":first\"].added === false) {\n\t\t\tlet first = this.createPage(pages[\":first\"], ast.children, sheet);\n\t\t\tsheet.insertRule(first);\n\t\t\tpages[\":first\"].added = true;\n\t\t}\n\t\tif (\":blank\" in pages && pages[\":blank\"].added === false) {\n\t\t\tlet blank = this.createPage(pages[\":blank\"], ast.children, sheet);\n\t\t\tsheet.insertRule(blank);\n\t\t\tpages[\":blank\"].added = true;\n\t\t}\n\t\t// Add nth pages\n\t\tfor (let pg in pages) {\n\t\t\tif (pages[pg].nth && pages[pg].added === false) {\n\t\t\t\tlet nth = this.createPage(pages[pg], ast.children, sheet);\n\t\t\t\tsheet.insertRule(nth);\n\t\t\t\tpages[pg].added = true;\n\t\t\t}\n\t\t}\n\n\t\t// Add named pages\n\t\tfor (let pg in pages) {\n\t\t\tif (pages[pg].name && pages[pg].added === false) {\n\t\t\t\tlet named = this.createPage(pages[pg], ast.children, sheet);\n\t\t\t\tsheet.insertRule(named);\n\t\t\t\tpages[pg].added = true;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tcreatePage(page, ruleList, sheet) {\n\n\t\tlet selectors = this.selectorsForPage(page);\n\t\tlet children = page.block.children.copy();\n\t\tlet block = {\n\t\t\ttype: \"Block\",\n\t\t\tloc: 0,\n\t\t\tchildren: children\n\t\t};\n\n\n\t\tlet rule = this.createRule(selectors, block);\n\n\t\tthis.addMarginVars(page.margin, children, children.first());\n\t\tthis.addPaddingVars(page.padding, children, children.first());\n\t\tthis.addBorderVars(page.border, children, children.first());\n\n\n\t\tif (page.width) {\n\t\t\tthis.addDimensions(page.width, page.height, page.orientation, children, children.first());\n\t\t}\n\n\t\tif (page.marginalia) {\n\t\t\tthis.addMarginaliaStyles(page, ruleList, rule, sheet);\n\t\t\tthis.addMarginaliaContent(page, ruleList, rule, sheet);\n\t\t}\n\n\t\tif(page.notes) {\n\t\t\tthis.addNotesStyles(page.notes, page, ruleList, rule, sheet);\n\t\t}\n\n\t\treturn rule;\n\t}\n\n\taddMarginVars(margin, list, item) {\n\t\t// variables for margins\n\t\tfor (let m in margin) {\n\t\t\tif (typeof margin[m].value !== \"undefined\") {\n\t\t\t\tlet value = margin[m].value + (margin[m].unit || \"\");\n\t\t\t\tlet mVar = list.createItem({\n\t\t\t\t\ttype: \"Declaration\",\n\t\t\t\t\tproperty: \"--pagedjs-margin-\" + m,\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\ttype: \"Raw\",\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlist.append(mVar, item);\n\n\t\t\t}\n\t\t}\n\t}\n\n\taddPaddingVars(padding, list, item) {\n\t\t// variables for padding\n\t\tfor (let p in padding) {\n\n\t\t\tif (typeof padding[p].value !== \"undefined\") {\n\t\t\t\tlet value = padding[p].value + (padding[p].unit || \"\");\n\t\t\t\tlet pVar = list.createItem({\n\t\t\t\t\ttype: \"Declaration\",\n\t\t\t\t\tproperty: \"--pagedjs-padding-\" + p,\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\ttype: \"Raw\",\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tlist.append(pVar, item);\n\t\t\t}\n\n\t\t}\n\t}\n\n\taddBorderVars(border, list, item) {\n\t\t// variables for borders\n\t\tfor (const name of Object.keys(border)) {\n\t\t\tconst value = border[name];\n\t\t\t// value is an empty object when undefined\n\t\t\tif (typeof value === \"string\") {\n\t\t\t\tconst borderItem = list.createItem({\n\t\t\t\t\ttype: \"Declaration\",\n\t\t\t\t\tproperty: \"--pagedjs-border-\" + name,\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\ttype: \"Raw\",\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlist.append(borderItem, item);\n\t\t\t}\n\t\t}\n\t}\n\n\taddDimensions(width, height, orientation, list, item) {\n\t\tlet widthString, heightString;\n\n\t\twidthString = CSSValueToString(width);\n\t\theightString = CSSValueToString(height);\n\n\t\tif (orientation && orientation !== \"portrait\") {\n\t\t\t// reverse for orientation\n\t\t\t[widthString, heightString] = [heightString, widthString];\n\t\t}\n\n\t\t// width variable\n\t\tlet wVar = this.createVariable(\"--pagedjs-pagebox-width\", widthString);\n\t\tlist.appendData(wVar);\n\n\t\t// height variable\n\t\tlet hVar = this.createVariable(\"--pagedjs-pagebox-height\", heightString);\n\t\tlist.appendData(hVar);\n\n\t\t// let w = this.createDimension(\"width\", width);\n\t\t// let h = this.createDimension(\"height\", height);\n\t\t// list.appendData(w);\n\t\t// list.appendData(h);\n\t}\n\n\taddMarginaliaStyles(page, list, item, sheet) {\n\t\tfor (let loc in page.marginalia) {\n\t\t\tlet block = csstree.clone(page.marginalia[loc]);\n\t\t\tlet hasContent = false;\n\n\t\t\tif (block.children.isEmpty()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tcsstree.walk(block, {\n\t\t\t\tvisit: \"Declaration\",\n\t\t\t\tenter: (node, item, list) => {\n\t\t\t\t\tif (node.property === \"content\") {\n\t\t\t\t\t\tif (node.value.children && node.value.children.first().name === \"none\") {\n\t\t\t\t\t\t\thasContent = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thasContent = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlist.remove(item);\n\t\t\t\t\t}\n\t\t\t\t\tif (node.property === \"vertical-align\") {\n\t\t\t\t\t\tcsstree.walk(node, {\n\t\t\t\t\t\t\tvisit: \"Identifier\",\n\t\t\t\t\t\t\tenter: (identNode, identItem, identlist) => {\n\t\t\t\t\t\t\t\tlet name = identNode.name;\n\t\t\t\t\t\t\t\tif (name === \"top\") {\n\t\t\t\t\t\t\t\t\tidentNode.name = \"flex-start\";\n\t\t\t\t\t\t\t\t} else if (name === \"middle\") {\n\t\t\t\t\t\t\t\t\tidentNode.name = \"center\";\n\t\t\t\t\t\t\t\t} else if (name === \"bottom\") {\n\t\t\t\t\t\t\t\t\tidentNode.name = \"flex-end\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnode.property = \"align-items\";\n\t\t\t\t\t}\n\n\t\t\t\t\tif (node.property === \"width\" &&\n\t\t\t\t\t\t(loc === \"top-left\" ||\n\t\t\t\t\t\t\tloc === \"top-center\" ||\n\t\t\t\t\t\t\tloc === \"top-right\" ||\n\t\t\t\t\t\t\tloc === \"bottom-left\" ||\n\t\t\t\t\t\t\tloc === \"bottom-center\" ||\n\t\t\t\t\t\t\tloc === \"bottom-right\")) {\n\t\t\t\t\t\tlet c = csstree.clone(node);\n\t\t\t\t\t\tc.property = \"max-width\";\n\t\t\t\t\t\tlist.appendData(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (node.property === \"height\" &&\n\t\t\t\t\t\t(loc === \"left-top\" ||\n\t\t\t\t\t\t\tloc === \"left-middle\" ||\n\t\t\t\t\t\t\tloc === \"left-bottom\" ||\n\t\t\t\t\t\t\tloc === \"right-top\" ||\n\t\t\t\t\t\t\tloc === \"right-middle\" ||\n\t\t\t\t\t\t\tloc === \"right-bottom\")) {\n\t\t\t\t\t\tlet c = csstree.clone(node);\n\t\t\t\t\t\tc.property = \"max-height\";\n\t\t\t\t\t\tlist.appendData(c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet marginSelectors = this.selectorsForPageMargin(page, loc);\n\t\t\tlet marginRule = this.createRule(marginSelectors, block);\n\n\t\t\tlist.appendData(marginRule);\n\n\t\t\tlet sel = csstree.generate({\n\t\t\t\ttype: \"Selector\",\n\t\t\t\tchildren: marginSelectors\n\t\t\t});\n\n\t\t\tthis.marginalia[sel] = {\n\t\t\t\tpage: page,\n\t\t\t\tselector: sel,\n\t\t\t\tblock: page.marginalia[loc],\n\t\t\t\thasContent: hasContent\n\t\t\t};\n\n\t\t}\n\t}\n\n\taddMarginaliaContent(page, list, item, sheet) {\n\t\tlet displayNone;\n\t\t// Just content\n\t\tfor (let loc in page.marginalia) {\n\t\t\tlet content = csstree.clone(page.marginalia[loc]);\n\t\t\tcsstree.walk(content, {\n\t\t\t\tvisit: \"Declaration\",\n\t\t\t\tenter: (node, item, list) => {\n\t\t\t\t\tif (node.property !== \"content\") {\n\t\t\t\t\t\tlist.remove(item);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (node.value.children && node.value.children.first().name === \"none\") {\n\t\t\t\t\t\tdisplayNone = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (content.children.isEmpty()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet displaySelectors = this.selectorsForPageMargin(page, loc);\n\t\t\tlet displayDeclaration;\n\n\t\t\tdisplaySelectors.insertData({\n\t\t\t\ttype: \"Combinator\",\n\t\t\t\tname: \">\"\n\t\t\t});\n\n\t\t\tdisplaySelectors.insertData({\n\t\t\t\ttype: \"ClassSelector\",\n\t\t\t\tname: \"pagedjs_margin-content\"\n\t\t\t});\n\n\t\t\tdisplaySelectors.insertData({\n\t\t\t\ttype: \"Combinator\",\n\t\t\t\tname: \">\"\n\t\t\t});\n\n\t\t\tdisplaySelectors.insertData({\n\t\t\t\ttype: \"TypeSelector\",\n\t\t\t\tname: \"*\"\n\t\t\t});\n\n\t\t\tif (displayNone) {\n\t\t\t\tdisplayDeclaration = this.createDeclaration(\"display\", \"none\");\n\t\t\t} else {\n\t\t\t\tdisplayDeclaration = this.createDeclaration(\"display\", \"block\");\n\t\t\t}\n\n\t\t\tlet displayRule = this.createRule(displaySelectors, [displayDeclaration]);\n\t\t\tsheet.insertRule(displayRule);\n\n\t\t\t// insert content rule\n\t\t\tlet contentSelectors = this.selectorsForPageMargin(page, loc);\n\n\t\t\tcontentSelectors.insertData({\n\t\t\t\ttype: \"Combinator\",\n\t\t\t\tname: \">\"\n\t\t\t});\n\n\t\t\tcontentSelectors.insertData({\n\t\t\t\ttype: \"ClassSelector\",\n\t\t\t\tname: \"pagedjs_margin-content\"\n\t\t\t});\n\n\t\t\tcontentSelectors.insertData({\n\t\t\t\ttype: \"PseudoElementSelector\",\n\t\t\t\tname: \"after\",\n\t\t\t\tchildren: null\n\t\t\t});\n\n\t\t\tlet contentRule = this.createRule(contentSelectors, content);\n\t\t\tsheet.insertRule(contentRule);\n\t\t}\n\t}\n\n\taddRootVars(ast, width, height, orientation, bleed, bleedrecto, bleedverso, marks) {\n\t\tlet rules = [];\n\t\tlet selectors = new csstree.List();\n\t\tselectors.insertData({\n\t\t\ttype: \"PseudoClassSelector\",\n\t\t\tname: \"root\",\n\t\t\tchildren: null\n\t\t});\n\n\t\tlet widthString, heightString;\n\t\tlet widthStringRight, heightStringRight;\n\t\tlet widthStringLeft, heightStringLeft;\n\n\t\tif (!bleed) {\n\t\t\twidthString = CSSValueToString(width);\n\t\t\theightString = CSSValueToString(height);\n\t\t\twidthStringRight = CSSValueToString(width);\n\t\t\theightStringRight = CSSValueToString(height);\n\t\t\twidthStringLeft = CSSValueToString(width);\n\t\t\theightStringLeft = CSSValueToString(height);\n\t\t} else {\n\t\t\twidthString = `calc( ${CSSValueToString(width)} + ${CSSValueToString(bleed.left)} + ${CSSValueToString(bleed.right)} )`;\n\t\t\theightString = `calc( ${CSSValueToString(height)} + ${CSSValueToString(bleed.top)} + ${CSSValueToString(bleed.bottom)} )`;\n\n\t\t\twidthStringRight = `calc( ${CSSValueToString(width)} + ${CSSValueToString(bleed.left)} + ${CSSValueToString(bleed.right)} )`;\n\t\t\theightStringRight = `calc( ${CSSValueToString(height)} + ${CSSValueToString(bleed.top)} + ${CSSValueToString(bleed.bottom)} )`;\n\n\t\t\twidthStringLeft = `calc( ${CSSValueToString(width)} + ${CSSValueToString(bleed.left)} + ${CSSValueToString(bleed.right)} )`;\n\t\t\theightStringLeft = `calc( ${CSSValueToString(height)} + ${CSSValueToString(bleed.top)} + ${CSSValueToString(bleed.bottom)} )`;\n\n\t\t\tlet bleedTop = this.createVariable(\"--pagedjs-bleed-top\", CSSValueToString(bleed.top));\n\t\t\tlet bleedRight = this.createVariable(\"--pagedjs-bleed-right\", CSSValueToString(bleed.right));\n\t\t\tlet bleedBottom = this.createVariable(\"--pagedjs-bleed-bottom\", CSSValueToString(bleed.bottom));\n\t\t\tlet bleedLeft = this.createVariable(\"--pagedjs-bleed-left\", CSSValueToString(bleed.left));\n\n\t\t\tlet bleedTopRecto = this.createVariable(\"--pagedjs-bleed-right-top\", CSSValueToString(bleed.top));\n\t\t\tlet bleedRightRecto = this.createVariable(\"--pagedjs-bleed-right-right\", CSSValueToString(bleed.right));\n\t\t\tlet bleedBottomRecto = this.createVariable(\"--pagedjs-bleed-right-bottom\", CSSValueToString(bleed.bottom));\n\t\t\tlet bleedLeftRecto = this.createVariable(\"--pagedjs-bleed-right-left\", CSSValueToString(bleed.left));\n\n\t\t\tlet bleedTopVerso = this.createVariable(\"--pagedjs-bleed-left-top\", CSSValueToString(bleed.top));\n\t\t\tlet bleedRightVerso = this.createVariable(\"--pagedjs-bleed-left-right\", CSSValueToString(bleed.right));\n\t\t\tlet bleedBottomVerso = this.createVariable(\"--pagedjs-bleed-left-bottom\", CSSValueToString(bleed.bottom));\n\t\t\tlet bleedLeftVerso = this.createVariable(\"--pagedjs-bleed-left-left\", CSSValueToString(bleed.left));\n\n\t\t\tif (bleedrecto) {\n\t\t\t\tbleedTopRecto = this.createVariable(\"--pagedjs-bleed-right-top\", CSSValueToString(bleedrecto.top));\n\t\t\t\tbleedRightRecto = this.createVariable(\"--pagedjs-bleed-right-right\", CSSValueToString(bleedrecto.right));\n\t\t\t\tbleedBottomRecto = this.createVariable(\"--pagedjs-bleed-right-bottom\", CSSValueToString(bleedrecto.bottom));\n\t\t\t\tbleedLeftRecto = this.createVariable(\"--pagedjs-bleed-right-left\", CSSValueToString(bleedrecto.left));\n\n\t\t\t\twidthStringRight = `calc( ${CSSValueToString(width)} + ${CSSValueToString(bleedrecto.left)} + ${CSSValueToString(bleedrecto.right)} )`;\n\t\t\t\theightStringRight = `calc( ${CSSValueToString(height)} + ${CSSValueToString(bleedrecto.top)} + ${CSSValueToString(bleedrecto.bottom)} )`;\n\t\t\t}\n\t\t\tif (bleedverso) {\n\t\t\t\tbleedTopVerso = this.createVariable(\"--pagedjs-bleed-left-top\", CSSValueToString(bleedverso.top));\n\t\t\t\tbleedRightVerso = this.createVariable(\"--pagedjs-bleed-left-right\", CSSValueToString(bleedverso.right));\n\t\t\t\tbleedBottomVerso = this.createVariable(\"--pagedjs-bleed-left-bottom\", CSSValueToString(bleedverso.bottom));\n\t\t\t\tbleedLeftVerso = this.createVariable(\"--pagedjs-bleed-left-left\", CSSValueToString(bleedverso.left));\n\n\t\t\t\twidthStringLeft = `calc( ${CSSValueToString(width)} + ${CSSValueToString(bleedverso.left)} + ${CSSValueToString(bleedverso.right)} )`;\n\t\t\t\theightStringLeft = `calc( ${CSSValueToString(height)} + ${CSSValueToString(bleedverso.top)} + ${CSSValueToString(bleedverso.bottom)} )`;\n\t\t\t}\n\n\t\t\tlet pageWidthVar = this.createVariable(\"--pagedjs-width\", CSSValueToString(width));\n\t\t\tlet pageHeightVar = this.createVariable(\"--pagedjs-height\", CSSValueToString(height));\n\n\t\t\trules.push(\n\t\t\t\tbleedTop,\n\t\t\t\tbleedRight,\n\t\t\t\tbleedBottom,\n\t\t\t\tbleedLeft,\n\t\t\t\tbleedTopRecto,\n\t\t\t\tbleedRightRecto,\n\t\t\t\tbleedBottomRecto,\n\t\t\t\tbleedLeftRecto,\n\t\t\t\tbleedTopVerso,\n\t\t\t\tbleedRightVerso,\n\t\t\t\tbleedBottomVerso,\n\t\t\t\tbleedLeftVerso,\n\t\t\t\tpageWidthVar,\n\t\t\t\tpageHeightVar\n\t\t\t);\n\t\t}\n\n\t\tif (marks) {\n\t\t\tmarks.forEach((mark) => {\n\t\t\t\tlet markDisplay = this.createVariable(\"--pagedjs-mark-\" + mark + \"-display\", \"block\");\n\t\t\t\trules.push(markDisplay);\n\t\t\t});\n\t\t}\n\n\t\t// orientation variable\n\t\tif (orientation) {\n\t\t\tlet oVar = this.createVariable(\"--pagedjs-orientation\", orientation);\n\t\t\trules.push(oVar);\n\n\t\t\tif (orientation !== \"portrait\") {\n\t\t\t\t// reverse for orientation\n\t\t\t\t[widthString, heightString] = [heightString, widthString];\n\t\t\t\t[widthStringRight, heightStringRight] = [heightStringRight, widthStringRight];\n\t\t\t\t[widthStringLeft, heightStringLeft] = [heightStringLeft, widthStringLeft];\n\t\t\t}\n\t\t}\n\n\t\tlet wVar = this.createVariable(\"--pagedjs-width\", widthString);\n\t\tlet hVar = this.createVariable(\"--pagedjs-height\", heightString);\n\n\t\tlet wVarR = this.createVariable(\"--pagedjs-width-right\", widthStringRight);\n\t\tlet hVarR = this.createVariable(\"--pagedjs-height-right\", heightStringRight);\n\n\t\tlet wVarL = this.createVariable(\"--pagedjs-width-left\", widthStringLeft);\n\t\tlet hVarL = this.createVariable(\"--pagedjs-height-left\", heightStringLeft);\n\n\t\trules.push(wVar, hVar, wVarR, hVarR, wVarL, hVarL);\n\n\t\tlet rule = this.createRule(selectors, rules);\n\n\t\tast.children.appendData(rule);\n\t}\n\n\n\taddNotesStyles(notes, page, list, item, sheet) {\n\n\t\tfor (const note in notes) {\n\t\t\tlet selectors = this.selectorsForPage(page);\n\n\t\t\tselectors.insertData({\n\t\t\t\ttype: \"Combinator\",\n\t\t\t\tname: \" \"\n\t\t\t});\n\n\t\t\tselectors.insertData({\n\t\t\t\ttype: \"ClassSelector\",\n\t\t\t\tname: \"pagedjs_\" + note + \"_content\"\n\t\t\t});\n\n\t\t\tlet notesRule = this.createRule(selectors, notes[note]);\n\n\t\t\tlist.appendData(notesRule);\n\t\t}\n\n\t}\n\n\t/*\n\t@page {\n\t\tsize: var(--pagedjs-width) var(--pagedjs-height);\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\t*/\n\taddRootPage(ast, size, bleed, bleedrecto, bleedverso) {\n\t\tlet { width, height, orientation, format } = size;\n\t\tlet children = new csstree.List();\n\t\tlet childrenLeft = new csstree.List();\n\t\tlet childrenRight = new csstree.List();\n\t\tlet dimensions = new csstree.List();\n\t\tlet dimensionsLeft = new csstree.List();\n\t\tlet dimensionsRight = new csstree.List();\n\n\t\tif (bleed) {\n\t\t\tlet widthCalculations = new csstree.List();\n\t\t\tlet heightCalculations = new csstree.List();\n\n\t\t\t// width\n\t\t\twidthCalculations.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: width.unit,\n\t\t\t\tvalue: width.value\n\t\t\t});\n\n\t\t\twidthCalculations.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\twidthCalculations.appendData({\n\t\t\t\ttype: \"Operator\",\n\t\t\t\tvalue: \"+\"\n\t\t\t});\n\n\t\t\twidthCalculations.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\twidthCalculations.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: bleed.left.unit,\n\t\t\t\tvalue: bleed.left.value\n\t\t\t});\n\n\t\t\twidthCalculations.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\twidthCalculations.appendData({\n\t\t\t\ttype: \"Operator\",\n\t\t\t\tvalue: \"+\"\n\t\t\t});\n\n\t\t\twidthCalculations.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\twidthCalculations.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: bleed.right.unit,\n\t\t\t\tvalue: bleed.right.value\n\t\t\t});\n\n\t\t\t// height\n\t\t\theightCalculations.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: height.unit,\n\t\t\t\tvalue: height.value\n\t\t\t});\n\n\t\t\theightCalculations.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\theightCalculations.appendData({\n\t\t\t\ttype: \"Operator\",\n\t\t\t\tvalue: \"+\"\n\t\t\t});\n\n\t\t\theightCalculations.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\theightCalculations.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: bleed.top.unit,\n\t\t\t\tvalue: bleed.top.value\n\t\t\t});\n\n\t\t\theightCalculations.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\theightCalculations.appendData({\n\t\t\t\ttype: \"Operator\",\n\t\t\t\tvalue: \"+\"\n\t\t\t});\n\n\t\t\theightCalculations.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\theightCalculations.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: bleed.bottom.unit,\n\t\t\t\tvalue: bleed.bottom.value\n\t\t\t});\n\n\t\t\tdimensions.appendData({\n\t\t\t\ttype: \"Function\",\n\t\t\t\tname: \"calc\",\n\t\t\t\tchildren: widthCalculations\n\t\t\t});\n\n\t\t\tdimensions.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\tdimensions.appendData({\n\t\t\t\ttype: \"Function\",\n\t\t\t\tname: \"calc\",\n\t\t\t\tchildren: heightCalculations\n\t\t\t});\n\n\t\t} else if (format) {\n\t\t\tdimensions.appendData({\n\t\t\t\ttype: \"Identifier\",\n\t\t\t\tname: format\n\t\t\t});\n\n\t\t\tif (orientation) {\n\t\t\t\tdimensions.appendData({\n\t\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\t\tvalue: \" \"\n\t\t\t\t});\n\n\t\t\t\tdimensions.appendData({\n\t\t\t\t\ttype: \"Identifier\",\n\t\t\t\t\tname: orientation\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tdimensions.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: width.unit,\n\t\t\t\tvalue: width.value\n\t\t\t});\n\n\t\t\tdimensions.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\tdimensions.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: height.unit,\n\t\t\t\tvalue: height.value\n\t\t\t});\n\t\t}\n\n\t\tchildren.appendData({\n\t\t\ttype: \"Declaration\",\n\t\t\tproperty: \"size\",\n\t\t\tloc: null,\n\t\t\tvalue: {\n\t\t\t\ttype: \"Value\",\n\t\t\t\tchildren: dimensions\n\t\t\t}\n\t\t});\n\n\t\tchildren.appendData({\n\t\t\ttype: \"Declaration\",\n\t\t\tproperty: \"margin\",\n\t\t\tloc: null,\n\t\t\tvalue: {\n\t\t\t\ttype: \"Value\",\n\t\t\t\tchildren: [{\n\t\t\t\t\ttype: \"Dimension\",\n\t\t\t\t\tunit: \"px\",\n\t\t\t\t\tvalue: 0\n\t\t\t\t}]\n\t\t\t}\n\t\t});\n\n\t\tchildren.appendData({\n\t\t\ttype: \"Declaration\",\n\t\t\tproperty: \"padding\",\n\t\t\tloc: null,\n\t\t\tvalue: {\n\t\t\t\ttype: \"Value\",\n\t\t\t\tchildren: [{\n\t\t\t\t\ttype: \"Dimension\",\n\t\t\t\t\tunit: \"px\",\n\t\t\t\t\tvalue: 0\n\t\t\t\t}]\n\t\t\t}\n\t\t});\n\n\t\tchildren.appendData({\n\t\t\ttype: \"Declaration\",\n\t\t\tproperty: \"padding\",\n\t\t\tloc: null,\n\t\t\tvalue: {\n\t\t\t\ttype: \"Value\",\n\t\t\t\tchildren: [{\n\t\t\t\t\ttype: \"Dimension\",\n\t\t\t\t\tunit: \"px\",\n\t\t\t\t\tvalue: 0\n\t\t\t\t}]\n\t\t\t}\n\t\t});\n\n\t\tlet rule = ast.children.createItem({\n\t\t\ttype: \"Atrule\",\n\t\t\tprelude: null,\n\t\t\tname: \"page\",\n\t\t\tblock: {\n\t\t\t\ttype: \"Block\",\n\t\t\t\tloc: null,\n\t\t\t\tchildren: children\n\t\t\t}\n\t\t});\n\n\t\tast.children.append(rule);\n\n\t\tif (bleedverso) {\n\t\t\tlet widthCalculationsLeft = new csstree.List();\n\t\t\tlet heightCalculationsLeft = new csstree.List();\n\n\t\t\t// width\n\t\t\twidthCalculationsLeft.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: width.unit,\n\t\t\t\tvalue: width.value\n\t\t\t});\n\n\t\t\twidthCalculationsLeft.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\twidthCalculationsLeft.appendData({\n\t\t\t\ttype: \"Operator\",\n\t\t\t\tvalue: \"+\"\n\t\t\t});\n\n\t\t\twidthCalculationsLeft.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\twidthCalculationsLeft.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: bleedverso.left.unit,\n\t\t\t\tvalue: bleedverso.left.value\n\t\t\t});\n\n\t\t\twidthCalculationsLeft.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\twidthCalculationsLeft.appendData({\n\t\t\t\ttype: \"Operator\",\n\t\t\t\tvalue: \"+\"\n\t\t\t});\n\n\t\t\twidthCalculationsLeft.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\twidthCalculationsLeft.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: bleedverso.right.unit,\n\t\t\t\tvalue: bleedverso.right.value\n\t\t\t});\n\n\t\t\t// height\n\t\t\theightCalculationsLeft.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: height.unit,\n\t\t\t\tvalue: height.value\n\t\t\t});\n\n\t\t\theightCalculationsLeft.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\theightCalculationsLeft.appendData({\n\t\t\t\ttype: \"Operator\",\n\t\t\t\tvalue: \"+\"\n\t\t\t});\n\n\t\t\theightCalculationsLeft.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\theightCalculationsLeft.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: bleedverso.top.unit,\n\t\t\t\tvalue: bleedverso.top.value\n\t\t\t});\n\n\t\t\theightCalculationsLeft.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\theightCalculationsLeft.appendData({\n\t\t\t\ttype: \"Operator\",\n\t\t\t\tvalue: \"+\"\n\t\t\t});\n\n\t\t\theightCalculationsLeft.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\theightCalculationsLeft.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: bleedverso.bottom.unit,\n\t\t\t\tvalue: bleedverso.bottom.value\n\t\t\t});\n\n\t\t\tdimensionsLeft.appendData({\n\t\t\t\ttype: \"Function\",\n\t\t\t\tname: \"calc\",\n\t\t\t\tchildren: widthCalculationsLeft\n\t\t\t});\n\n\t\t\tdimensionsLeft.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\tdimensionsLeft.appendData({\n\t\t\t\ttype: \"Function\",\n\t\t\t\tname: \"calc\",\n\t\t\t\tchildren: heightCalculationsLeft\n\t\t\t});\n\n\t\t\tchildrenLeft.appendData({\n\t\t\t\ttype: \"Declaration\",\n\t\t\t\tproperty: \"size\",\n\t\t\t\tloc: null,\n\t\t\t\tvalue: {\n\t\t\t\t\ttype: \"Value\",\n\t\t\t\t\tchildren: dimensionsLeft\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet ruleLeft = ast.children.createItem({\n\t\t\t\ttype: \"Atrule\",\n\t\t\t\tprelude: null,\n\t\t\t\tname: \"page :left\",\n\t\t\t\tblock: {\n\t\t\t\t\ttype: \"Block\",\n\t\t\t\t\tloc: null,\n\t\t\t\t\tchildren: childrenLeft\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tast.children.append(ruleLeft);\n\n\t\t}\n\n\t\tif (bleedrecto) {\n\t\t\tlet widthCalculationsRight = new csstree.List();\n\t\t\tlet heightCalculationsRight = new csstree.List();\n\n\t\t\t// width\n\t\t\twidthCalculationsRight.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: width.unit,\n\t\t\t\tvalue: width.value\n\t\t\t});\n\n\t\t\twidthCalculationsRight.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\twidthCalculationsRight.appendData({\n\t\t\t\ttype: \"Operator\",\n\t\t\t\tvalue: \"+\"\n\t\t\t});\n\n\t\t\twidthCalculationsRight.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\twidthCalculationsRight.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: bleedrecto.left.unit,\n\t\t\t\tvalue: bleedrecto.left.value\n\t\t\t});\n\n\t\t\twidthCalculationsRight.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\twidthCalculationsRight.appendData({\n\t\t\t\ttype: \"Operator\",\n\t\t\t\tvalue: \"+\"\n\t\t\t});\n\n\t\t\twidthCalculationsRight.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\twidthCalculationsRight.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: bleedrecto.right.unit,\n\t\t\t\tvalue: bleedrecto.right.value\n\t\t\t});\n\n\t\t\t// height\n\t\t\theightCalculationsRight.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: height.unit,\n\t\t\t\tvalue: height.value\n\t\t\t});\n\n\t\t\theightCalculationsRight.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\theightCalculationsRight.appendData({\n\t\t\t\ttype: \"Operator\",\n\t\t\t\tvalue: \"+\"\n\t\t\t});\n\n\t\t\theightCalculationsRight.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\theightCalculationsRight.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: bleedrecto.top.unit,\n\t\t\t\tvalue: bleedrecto.top.value\n\t\t\t});\n\n\t\t\theightCalculationsRight.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\theightCalculationsRight.appendData({\n\t\t\t\ttype: \"Operator\",\n\t\t\t\tvalue: \"+\"\n\t\t\t});\n\n\t\t\theightCalculationsRight.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\theightCalculationsRight.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: bleedrecto.bottom.unit,\n\t\t\t\tvalue: bleedrecto.bottom.value\n\t\t\t});\n\n\t\t\tdimensionsRight.appendData({\n\t\t\t\ttype: \"Function\",\n\t\t\t\tname: \"calc\",\n\t\t\t\tchildren: widthCalculationsRight\n\t\t\t});\n\n\t\t\tdimensionsRight.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\tdimensionsRight.appendData({\n\t\t\t\ttype: \"Function\",\n\t\t\t\tname: \"calc\",\n\t\t\t\tchildren: heightCalculationsRight\n\t\t\t});\n\n\t\t\tchildrenRight.appendData({\n\t\t\t\ttype: \"Declaration\",\n\t\t\t\tproperty: \"size\",\n\t\t\t\tloc: null,\n\t\t\t\tvalue: {\n\t\t\t\t\ttype: \"Value\",\n\t\t\t\t\tchildren: dimensionsRight\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet ruleRight = ast.children.createItem({\n\t\t\t\ttype: \"Atrule\",\n\t\t\t\tprelude: null,\n\t\t\t\tname: \"page :right\",\n\t\t\t\tblock: {\n\t\t\t\t\ttype: \"Block\",\n\t\t\t\t\tloc: null,\n\t\t\t\t\tchildren: childrenRight\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tast.children.append(ruleRight);\n\n\t\t}\n\t}\n\n\tgetNth(nth) {\n\t\tlet n = nth.indexOf(\"n\");\n\t\tlet plus = nth.indexOf(\"+\");\n\t\tlet splitN = nth.split(\"n\");\n\t\tlet splitP = nth.split(\"+\");\n\t\tlet a = null;\n\t\tlet b = null;\n\t\tif (n > -1) {\n\t\t\ta = splitN[0];\n\t\t\tif (plus > -1) {\n\t\t\t\tb = splitP[1];\n\t\t\t}\n\t\t} else {\n\t\t\tb = nth;\n\t\t}\n\n\t\treturn {\n\t\t\ttype: \"Nth\",\n\t\t\tloc: null,\n\t\t\tselector: null,\n\t\t\tnth: {\n\t\t\t\ttype: \"AnPlusB\",\n\t\t\t\tloc: null,\n\t\t\t\ta: a,\n\t\t\t\tb: b\n\t\t\t}\n\t\t};\n\t}\n\n\taddPageAttributes(page, start, pages) {\n\t\tlet namedPages = [start.dataset.page];\n\n\t\tif (namedPages && namedPages.length) {\n\t\t\tfor (const named of namedPages) {\n\t\t\t\tif (!named) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tpage.name = named;\n\t\t\t\tpage.element.classList.add(\"pagedjs_named_page\");\n\t\t\t\tpage.element.classList.add(\"pagedjs_\" + named + \"_page\");\n\n\t\t\t\tif (!start.dataset.splitFrom) {\n\t\t\t\t\tpage.element.classList.add(\"pagedjs_\" + named + \"_first_page\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgetStartElement(content, breakToken) {\n\t\tlet node = breakToken && breakToken.node;\n\n\t\tif (!content && !breakToken) {\n\t\t\treturn;\n\t\t}\n\n\t\t// No break\n\t\tif (!node) {\n\t\t\treturn content.children[0];\n\t\t}\n\n\t\t// Top level element\n\t\tif (node.nodeType === 1 && node.parentNode.nodeType === 11) {\n\t\t\treturn node;\n\t\t}\n\n\t\t// Named page\n\t\tif (node.nodeType === 1 && node.dataset.page) {\n\t\t\treturn node;\n\t\t}\n\n\t\t// Get top level Named parent\n\t\tlet fragment = rebuildAncestors(node);\n\t\tlet pages = fragment.querySelectorAll(\"[data-page]\");\n\n\t\tif (pages.length) {\n\t\t\treturn pages[pages.length - 1];\n\t\t} else {\n\t\t\treturn fragment.children[0];\n\t\t}\n\t}\n\n\tbeforePageLayout(page, contents, breakToken, chunker) {\n\t\tlet start = this.getStartElement(contents, breakToken);\n\t\tif (start) {\n\t\t\tthis.addPageAttributes(page, start, chunker.pages);\n\t\t}\n\t\t// page.element.querySelector('.paged_area').style.color = red;\n\t}\n\n\tfinalizePage(fragment, page, breakToken, chunker) {\n\t\tfor (let m in this.marginalia) {\n\t\t\tlet margin = this.marginalia[m];\n\t\t\tlet sels = m.split(\" \");\n\n\t\t\tlet content;\n\t\t\tif (page.element.matches(sels[0]) && margin.hasContent) {\n\t\t\t\tcontent = page.element.querySelector(sels[1]);\n\t\t\t\tcontent.classList.add(\"hasContent\");\n\t\t\t}\n\t\t}\n\n\t\t// check center\n\t\t[\"top\", \"bottom\"].forEach((loc) => {\n\t\t\tlet marginGroup = page.element.querySelector(\".pagedjs_margin-\" + loc);\n\t\t\tlet center = page.element.querySelector(\".pagedjs_margin-\" + loc + \"-center\");\n\t\t\tlet left = page.element.querySelector(\".pagedjs_margin-\" + loc + \"-left\");\n\t\t\tlet right = page.element.querySelector(\".pagedjs_margin-\" + loc + \"-right\");\n\n\t\t\tlet centerContent = center.classList.contains(\"hasContent\");\n\t\t\tlet leftContent = left.classList.contains(\"hasContent\");\n\t\t\tlet rightContent = right.classList.contains(\"hasContent\");\n\t\t\tlet centerWidth, leftWidth, rightWidth;\n\n\t\t\tif (leftContent) {\n\t\t\t\tleftWidth = window.getComputedStyle(left)[\"max-width\"];\n\t\t\t}\n\n\t\t\tif (rightContent) {\n\t\t\t\trightWidth = window.getComputedStyle(right)[\"max-width\"];\n\t\t\t}\n\n\n\t\t\tif (centerContent) {\n\t\t\t\tcenterWidth = window.getComputedStyle(center)[\"max-width\"];\n\n\t\t\t\tif (centerWidth === \"none\" || centerWidth === \"auto\") {\n\t\t\t\t\tif (!leftContent && !rightContent) {\n\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"0 1fr 0\";\n\t\t\t\t\t} else if (leftContent) {\n\t\t\t\t\t\tif (!rightContent) {\n\t\t\t\t\t\t\tif (leftWidth !== \"none\" && leftWidth !== \"auto\") {\n\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = leftWidth + \" 1fr \" + leftWidth;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"auto auto 1fr\";\n\t\t\t\t\t\t\t\tleft.style[\"white-space\"] = \"nowrap\";\n\t\t\t\t\t\t\t\tcenter.style[\"white-space\"] = \"nowrap\";\n\t\t\t\t\t\t\t\tlet leftOuterWidth = left.offsetWidth;\n\t\t\t\t\t\t\t\tlet centerOuterWidth = center.offsetWidth;\n\t\t\t\t\t\t\t\tlet outerwidths = leftOuterWidth + centerOuterWidth;\n\t\t\t\t\t\t\t\tlet newcenterWidth = centerOuterWidth * 100 / outerwidths;\n\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"minmax(16.66%, 1fr) minmax(33%, \" + newcenterWidth + \"%) minmax(16.66%, 1fr)\";\n\t\t\t\t\t\t\t\tleft.style[\"white-space\"] = \"normal\";\n\t\t\t\t\t\t\t\tcenter.style[\"white-space\"] = \"normal\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (leftWidth !== \"none\" && leftWidth !== \"auto\") {\n\t\t\t\t\t\t\t\tif (rightWidth !== \"none\" && rightWidth !== \"auto\") {\n\t\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = leftWidth + \" 1fr \" + rightWidth;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = leftWidth + \" 1fr \" + leftWidth;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (rightWidth !== \"none\" && rightWidth !== \"auto\") {\n\t\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = rightWidth + \" 1fr \" + rightWidth;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"auto auto 1fr\";\n\t\t\t\t\t\t\t\t\tleft.style[\"white-space\"] = \"nowrap\";\n\t\t\t\t\t\t\t\t\tcenter.style[\"white-space\"] = \"nowrap\";\n\t\t\t\t\t\t\t\t\tright.style[\"white-space\"] = \"nowrap\";\n\t\t\t\t\t\t\t\t\tlet leftOuterWidth = left.offsetWidth;\n\t\t\t\t\t\t\t\t\tlet centerOuterWidth = center.offsetWidth;\n\t\t\t\t\t\t\t\t\tlet rightOuterWidth = right.offsetWidth;\n\t\t\t\t\t\t\t\t\tlet outerwidths = leftOuterWidth + centerOuterWidth + rightOuterWidth;\n\t\t\t\t\t\t\t\t\tlet newcenterWidth = centerOuterWidth * 100 / outerwidths;\n\t\t\t\t\t\t\t\t\tif (newcenterWidth > 40) {\n\t\t\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"minmax(16.66%, 1fr) minmax(33%, \" + newcenterWidth + \"%) minmax(16.66%, 1fr)\";\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"repeat(3, 1fr)\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tleft.style[\"white-space\"] = \"normal\";\n\t\t\t\t\t\t\t\t\tcenter.style[\"white-space\"] = \"normal\";\n\t\t\t\t\t\t\t\t\tright.style[\"white-space\"] = \"normal\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (rightWidth !== \"none\" && rightWidth !== \"auto\") {\n\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = rightWidth + \" 1fr \" + rightWidth;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"auto auto 1fr\";\n\t\t\t\t\t\t\tright.style[\"white-space\"] = \"nowrap\";\n\t\t\t\t\t\t\tcenter.style[\"white-space\"] = \"nowrap\";\n\t\t\t\t\t\t\tlet rightOuterWidth = right.offsetWidth;\n\t\t\t\t\t\t\tlet centerOuterWidth = center.offsetWidth;\n\t\t\t\t\t\t\tlet outerwidths = rightOuterWidth + centerOuterWidth;\n\t\t\t\t\t\t\tlet newcenterWidth = centerOuterWidth * 100 / outerwidths;\n\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"minmax(16.66%, 1fr) minmax(33%, \" + newcenterWidth + \"%) minmax(16.66%, 1fr)\";\n\t\t\t\t\t\t\tright.style[\"white-space\"] = \"normal\";\n\t\t\t\t\t\t\tcenter.style[\"white-space\"] = \"normal\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (centerWidth !== \"none\" && centerWidth !== \"auto\") {\n\t\t\t\t\tif (leftContent && leftWidth !== \"none\" && leftWidth !== \"auto\") {\n\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = leftWidth + \" \" + centerWidth + \" 1fr\";\n\t\t\t\t\t} else if (rightContent && rightWidth !== \"none\" && rightWidth !== \"auto\") {\n\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"1fr \" + centerWidth + \" \" + rightWidth;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"1fr \" + centerWidth + \" 1fr\";\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tif (leftContent) {\n\t\t\t\t\tif (!rightContent) {\n\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"1fr 0 0\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (leftWidth !== \"none\" && leftWidth !== \"auto\") {\n\t\t\t\t\t\t\tif (rightWidth !== \"none\" && rightWidth !== \"auto\") {\n\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = leftWidth + \" 1fr \" + rightWidth;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = leftWidth + \" 0 1fr\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (rightWidth !== \"none\" && rightWidth !== \"auto\") {\n\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"1fr 0 \" + rightWidth;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"auto 1fr auto\";\n\t\t\t\t\t\t\t\tleft.style[\"white-space\"] = \"nowrap\";\n\t\t\t\t\t\t\t\tright.style[\"white-space\"] = \"nowrap\";\n\t\t\t\t\t\t\t\tlet leftOuterWidth = left.offsetWidth;\n\t\t\t\t\t\t\t\tlet rightOuterWidth = right.offsetWidth;\n\t\t\t\t\t\t\t\tlet outerwidths = leftOuterWidth + rightOuterWidth;\n\t\t\t\t\t\t\t\tlet newLeftWidth = leftOuterWidth * 100 / outerwidths;\n\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"minmax(16.66%, \" + newLeftWidth + \"%) 0 1fr\";\n\t\t\t\t\t\t\t\tleft.style[\"white-space\"] = \"normal\";\n\t\t\t\t\t\t\t\tright.style[\"white-space\"] = \"normal\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (rightWidth !== \"none\" && rightWidth !== \"auto\") {\n\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"1fr 0 \" + rightWidth;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmarginGroup.style[\"grid-template-columns\"] = \"0 0 1fr\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// check middle\n\t\t[\"left\", \"right\"].forEach((loc) => {\n\t\t\tlet middle = page.element.querySelector(\".pagedjs_margin-\" + loc + \"-middle.hasContent\");\n\t\t\tlet marginGroup = page.element.querySelector(\".pagedjs_margin-\" + loc);\n\t\t\tlet top = page.element.querySelector(\".pagedjs_margin-\" + loc + \"-top\");\n\t\t\tlet bottom = page.element.querySelector(\".pagedjs_margin-\" + loc + \"-bottom\");\n\t\t\tlet topContent = top.classList.contains(\"hasContent\");\n\t\t\tlet bottomContent = bottom.classList.contains(\"hasContent\");\n\t\t\tlet middleHeight, topHeight, bottomHeight;\n\n\t\t\tif (topContent) {\n\t\t\t\ttopHeight = window.getComputedStyle(top)[\"max-height\"];\n\t\t\t}\n\n\t\t\tif (bottomContent) {\n\t\t\t\tbottomHeight = window.getComputedStyle(bottom)[\"max-height\"];\n\t\t\t}\n\n\t\t\tif (middle) {\n\t\t\t\tmiddleHeight = window.getComputedStyle(middle)[\"max-height\"];\n\n\t\t\t\tif (middleHeight === \"none\" || middleHeight === \"auto\") {\n\t\t\t\t\tif (!topContent && !bottomContent) {\n\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = \"0 1fr 0\";\n\t\t\t\t\t} else if (topContent) {\n\t\t\t\t\t\tif (!bottomContent) {\n\t\t\t\t\t\t\tif (topHeight !== \"none\" && topHeight !== \"auto\") {\n\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = topHeight + \" calc(100% - \" + topHeight + \"*2) \" + topHeight;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (topHeight !== \"none\" && topHeight !== \"auto\") {\n\t\t\t\t\t\t\t\tif (bottomHeight !== \"none\" && bottomHeight !== \"auto\") {\n\t\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = topHeight + \" calc(100% - \" + topHeight + \" - \" + bottomHeight + \") \" + bottomHeight;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = topHeight + \" calc(100% - \" + topHeight + \"*2) \" + topHeight;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (bottomHeight !== \"none\" && bottomHeight !== \"auto\") {\n\t\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = bottomHeight + \" calc(100% - \" + bottomHeight + \"*2) \" + bottomHeight;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (bottomHeight !== \"none\" && bottomHeight !== \"auto\") {\n\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = bottomHeight + \" calc(100% - \" + bottomHeight + \"*2) \" + bottomHeight;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (topContent && topHeight !== \"none\" && topHeight !== \"auto\") {\n\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = topHeight + \" \" + middleHeight + \" calc(100% - (\" + topHeight + \" + \" + middleHeight + \"))\";\n\t\t\t\t\t} else if (bottomContent && bottomHeight !== \"none\" && bottomHeight !== \"auto\") {\n\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = \"1fr \" + middleHeight + \" \" + bottomHeight;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = \"calc((100% - \" + middleHeight + \")/2) \" + middleHeight + \" calc((100% - \" + middleHeight + \")/2)\";\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tif (topContent) {\n\t\t\t\t\tif (!bottomContent) {\n\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = \"1fr 0 0\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (topHeight !== \"none\" && topHeight !== \"auto\") {\n\t\t\t\t\t\t\tif (bottomHeight !== \"none\" && bottomHeight !== \"auto\") {\n\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = topHeight + \" 1fr \" + bottomHeight;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = topHeight + \" 0 1fr\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (bottomHeight !== \"none\" && bottomHeight !== \"auto\") {\n\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = \"1fr 0 \" + bottomHeight;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = \"1fr 0 1fr\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (bottomHeight !== \"none\" && bottomHeight !== \"auto\") {\n\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = \"1fr 0 \" + bottomHeight;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmarginGroup.style[\"grid-template-rows\"] = \"0 0 1fr\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\n\n\t\t});\n\n\t}\n\n\t// CSS Tree Helpers\n\n\tselectorsForPage(page) {\n\t\tlet nthlist;\n\t\tlet nth;\n\n\t\tlet selectors = new csstree.List();\n\n\t\tselectors.insertData({\n\t\t\ttype: \"ClassSelector\",\n\t\t\tname: \"pagedjs_page\"\n\t\t});\n\n\t\t// Named page\n\t\tif (page.name) {\n\t\t\tselectors.insertData({\n\t\t\t\ttype: \"ClassSelector\",\n\t\t\t\tname: \"pagedjs_named_page\"\n\t\t\t});\n\n\t\t\tselectors.insertData({\n\t\t\t\ttype: \"ClassSelector\",\n\t\t\t\tname: \"pagedjs_\" + page.name + \"_page\"\n\t\t\t});\n\t\t}\n\n\t\t// PsuedoSelector\n\t\tif (page.psuedo && !(page.name && page.psuedo === \"first\")) {\n\t\t\tselectors.insertData({\n\t\t\t\ttype: \"ClassSelector\",\n\t\t\t\tname: \"pagedjs_\" + page.psuedo + \"_page\"\n\t\t\t});\n\t\t}\n\n\t\tif (page.name && page.psuedo === \"first\") {\n\t\t\tselectors.insertData({\n\t\t\t\ttype: \"ClassSelector\",\n\t\t\t\tname: \"pagedjs_\" + page.name + \"_\" + page.psuedo + \"_page\"\n\t\t\t});\n\t\t}\n\n\t\t// Nth\n\t\tif (page.nth) {\n\t\t\tnthlist = new csstree.List();\n\t\t\tnth = this.getNth(page.nth);\n\n\t\t\tnthlist.insertData(nth);\n\n\t\t\tselectors.insertData({\n\t\t\t\ttype: \"PseudoClassSelector\",\n\t\t\t\tname: \"nth-of-type\",\n\t\t\t\tchildren: nthlist\n\t\t\t});\n\t\t}\n\n\t\treturn selectors;\n\t}\n\n\tselectorsForPageMargin(page, margin) {\n\t\tlet selectors = this.selectorsForPage(page);\n\n\t\tselectors.insertData({\n\t\t\ttype: \"Combinator\",\n\t\t\tname: \" \"\n\t\t});\n\n\t\tselectors.insertData({\n\t\t\ttype: \"ClassSelector\",\n\t\t\tname: \"pagedjs_margin-\" + margin\n\t\t});\n\n\t\treturn selectors;\n\t}\n\n\tcreateDeclaration(property, value, important) {\n\t\tlet children = new csstree.List();\n\n\t\tchildren.insertData({\n\t\t\ttype: \"Identifier\",\n\t\t\tloc: null,\n\t\t\tname: value\n\t\t});\n\n\t\treturn {\n\t\t\ttype: \"Declaration\",\n\t\t\tloc: null,\n\t\t\timportant: important,\n\t\t\tproperty: property,\n\t\t\tvalue: {\n\t\t\t\ttype: \"Value\",\n\t\t\t\tloc: null,\n\t\t\t\tchildren: children\n\t\t\t}\n\t\t};\n\t}\n\n\tcreateVariable(property, value) {\n\t\treturn {\n\t\t\ttype: \"Declaration\",\n\t\t\tloc: null,\n\t\t\tproperty: property,\n\t\t\tvalue: {\n\t\t\t\ttype: \"Raw\",\n\t\t\t\tvalue: value\n\t\t\t}\n\t\t};\n\t}\n\n\tcreateCalculatedDimension(property, items, important, operator = \"+\") {\n\t\tlet children = new csstree.List();\n\t\tlet calculations = new csstree.List();\n\n\t\titems.forEach((item, index) => {\n\t\t\tcalculations.appendData({\n\t\t\t\ttype: \"Dimension\",\n\t\t\t\tunit: item.unit,\n\t\t\t\tvalue: item.value\n\t\t\t});\n\n\t\t\tcalculations.appendData({\n\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\tvalue: \" \"\n\t\t\t});\n\n\t\t\tif (index + 1 < items.length) {\n\t\t\t\tcalculations.appendData({\n\t\t\t\t\ttype: \"Operator\",\n\t\t\t\t\tvalue: operator\n\t\t\t\t});\n\n\t\t\t\tcalculations.appendData({\n\t\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\t\tvalue: \" \"\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tchildren.insertData({\n\t\t\ttype: \"Function\",\n\t\t\tloc: null,\n\t\t\tname: \"calc\",\n\t\t\tchildren: calculations\n\t\t});\n\n\t\treturn {\n\t\t\ttype: \"Declaration\",\n\t\t\tloc: null,\n\t\t\timportant: important,\n\t\t\tproperty: property,\n\t\t\tvalue: {\n\t\t\t\ttype: \"Value\",\n\t\t\t\tloc: null,\n\t\t\t\tchildren: children\n\t\t\t}\n\t\t};\n\t}\n\n\tcreateDimension(property, cssValue, important) {\n\t\tlet children = new csstree.List();\n\n\t\tchildren.insertData({\n\t\t\ttype: \"Dimension\",\n\t\t\tloc: null,\n\t\t\tvalue: cssValue.value,\n\t\t\tunit: cssValue.unit\n\t\t});\n\n\t\treturn {\n\t\t\ttype: \"Declaration\",\n\t\t\tloc: null,\n\t\t\timportant: important,\n\t\t\tproperty: property,\n\t\t\tvalue: {\n\t\t\t\ttype: \"Value\",\n\t\t\t\tloc: null,\n\t\t\t\tchildren: children\n\t\t\t}\n\t\t};\n\t}\n\n\tcreateBlock(declarations) {\n\t\tlet block = new csstree.List();\n\n\t\tdeclarations.forEach((declaration) => {\n\t\t\tblock.insertData(declaration);\n\t\t});\n\n\t\treturn {\n\t\t\ttype: \"Block\",\n\t\t\tloc: null,\n\t\t\tchildren: block\n\t\t};\n\t}\n\n\tcreateRule(selectors, block) {\n\t\tlet selectorList = new csstree.List();\n\t\tselectorList.insertData({\n\t\t\ttype: \"Selector\",\n\t\t\tchildren: selectors\n\t\t});\n\n\t\tif (Array.isArray(block)) {\n\t\t\tblock = this.createBlock(block);\n\t\t}\n\n\t\treturn {\n\t\t\ttype: \"Rule\",\n\t\t\tprelude: {\n\t\t\t\ttype: \"SelectorList\",\n\t\t\t\tchildren: selectorList\n\t\t\t},\n\t\t\tblock: block\n\t\t};\n\t}\n\n}\n\nexport default AtPage;\n","import Handler from \"../handler.js\";\nimport csstree from \"css-tree\";\nimport { displayedElementAfter, displayedElementBefore, needsPageBreak } from \"../../utils/dom.js\";\n\nclass Breaks extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\n\t\tthis.breaks = {};\n\t}\n\n\tonDeclaration(declaration, dItem, dList, rule) {\n\t\tlet property = declaration.property;\n\n\t\tif (property === \"page\") {\n\t\t\tlet children = declaration.value.children.first();\n\t\t\tlet value = children.name;\n\t\t\tlet selector = csstree.generate(rule.ruleNode.prelude);\n\t\t\tlet name = value;\n\n\t\t\tlet breaker = {\n\t\t\t\tproperty: property,\n\t\t\t\tvalue: value,\n\t\t\t\tselector: selector,\n\t\t\t\tname: name\n\t\t\t};\n\n\t\t\tselector.split(\",\").forEach((s) => {\n\t\t\t\tif (!this.breaks[s]) {\n\t\t\t\t\tthis.breaks[s] = [breaker];\n\t\t\t\t} else {\n\t\t\t\t\tthis.breaks[s].push(breaker);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdList.remove(dItem);\n\t\t}\n\n\t\tif (property === \"break-before\" ||\n\t\t\t\tproperty === \"break-after\" ||\n\t\t\t\tproperty === \"page-break-before\" ||\n\t\t\t\tproperty === \"page-break-after\"\n\t\t) {\n\t\t\tlet child = declaration.value.children.first();\n\t\t\tlet value = child.name;\n\t\t\tlet selector = csstree.generate(rule.ruleNode.prelude);\n\n\t\t\tif (property === \"page-break-before\") {\n\t\t\t\tproperty = \"break-before\";\n\t\t\t} else if (property === \"page-break-after\") {\n\t\t\t\tproperty = \"break-after\";\n\t\t\t}\n\n\t\t\tlet breaker = {\n\t\t\t\tproperty: property,\n\t\t\t\tvalue: value,\n\t\t\t\tselector: selector\n\t\t\t};\n\n\t\t\tselector.split(\",\").forEach((s) => {\n\t\t\t\tif (!this.breaks[s]) {\n\t\t\t\t\tthis.breaks[s] = [breaker];\n\t\t\t\t} else {\n\t\t\t\t\tthis.breaks[s].push(breaker);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Remove from CSS -- handle right / left in module\n\t\t\tdList.remove(dItem);\n\t\t}\n\t}\n\n\tafterParsed(parsed) {\n\t\tthis.processBreaks(parsed, this.breaks);\n\t}\n\n\tprocessBreaks(parsed, breaks) {\n\t\tfor (let b in breaks) {\n\t\t\t// Find elements\n\t\t\tlet elements = parsed.querySelectorAll(b);\n\t\t\t// Add break data\n\t\t\tfor (var i = 0; i < elements.length; i++) {\n\t\t\t\tfor (let prop of breaks[b]) {\n\n\t\t\t\t\tif (prop.property === \"break-after\") {\n\t\t\t\t\t\tlet nodeAfter = displayedElementAfter(elements[i], parsed);\n\n\t\t\t\t\t\telements[i].setAttribute(\"data-break-after\", prop.value);\n\n\t\t\t\t\t\tif (nodeAfter) {\n\t\t\t\t\t\t\tnodeAfter.setAttribute(\"data-previous-break-after\", prop.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (prop.property === \"break-before\") {\n\t\t\t\t\t\tlet nodeBefore = displayedElementBefore(elements[i], parsed);\n\n\t\t\t\t\t\t// Breaks are only allowed between siblings, not between a box and its container.\n\t\t\t\t\t\t// If we cannot find a node before we should not break!\n\t\t\t\t\t\t// https://drafts.csswg.org/css-break-3/#break-propagation\n\t\t\t\t\t\tif (nodeBefore) {\n\t\t\t\t\t\t\tif (prop.value === \"page\" && needsPageBreak(elements[i], nodeBefore)) {\n\t\t\t\t\t\t\t\t// we ignore this explicit page break because an implicit page break is already needed\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telements[i].setAttribute(\"data-break-before\", prop.value);\n\t\t\t\t\t\t\tnodeBefore.setAttribute(\"data-next-break-before\", prop.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (prop.property === \"page\") {\n\t\t\t\t\t\telements[i].setAttribute(\"data-page\", prop.value);\n\n\t\t\t\t\t\tlet nodeAfter = displayedElementAfter(elements[i], parsed);\n\n\t\t\t\t\t\tif (nodeAfter) {\n\t\t\t\t\t\t\tnodeAfter.setAttribute(\"data-after-page\", prop.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\telements[i].setAttribute(\"data-\" + prop.property, prop.value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tmergeBreaks(pageBreaks, newBreaks) {\n\t\tfor (let b in newBreaks) {\n\t\t\tif (b in pageBreaks) {\n\t\t\t\tpageBreaks[b] = pageBreaks[b].concat(newBreaks[b]);\n\t\t\t} else {\n\t\t\t\tpageBreaks[b] = newBreaks[b];\n\t\t\t}\n\t\t}\n\t\treturn pageBreaks;\n\t}\n\n\taddBreakAttributes(pageElement, page) {\n\t\tlet before = pageElement.querySelector(\"[data-break-before]\");\n\t\tlet after = pageElement.querySelector(\"[data-break-after]\");\n\t\tlet previousBreakAfter = pageElement.querySelector(\"[data-previous-break-after]\");\n\n\t\tif (before) {\n\t\t\tif (before.dataset.splitFrom) {\n\t\t\t\tpage.splitFrom = before.dataset.splitFrom;\n\t\t\t\tpageElement.setAttribute(\"data-split-from\", before.dataset.splitFrom);\n\t\t\t} else if (before.dataset.breakBefore && before.dataset.breakBefore !== \"avoid\") {\n\t\t\t\tpage.breakBefore = before.dataset.breakBefore;\n\t\t\t\tpageElement.setAttribute(\"data-break-before\", before.dataset.breakBefore);\n\t\t\t}\n\t\t}\n\n\t\tif (after && after.dataset) {\n\t\t\tif (after.dataset.splitTo) {\n\t\t\t\tpage.splitTo = after.dataset.splitTo;\n\t\t\t\tpageElement.setAttribute(\"data-split-to\", after.dataset.splitTo);\n\t\t\t} else if (after.dataset.breakAfter && after.dataset.breakAfter !== \"avoid\") {\n\t\t\t\tpage.breakAfter = after.dataset.breakAfter;\n\t\t\t\tpageElement.setAttribute(\"data-break-after\", after.dataset.breakAfter);\n\t\t\t}\n\t\t}\n\n\t\tif (previousBreakAfter && previousBreakAfter.dataset) {\n\t\t\tif (previousBreakAfter.dataset.previousBreakAfter && previousBreakAfter.dataset.previousBreakAfter !== \"avoid\") {\n\t\t\t\tpage.previousBreakAfter = previousBreakAfter.dataset.previousBreakAfter;\n\t\t\t}\n\t\t}\n\t}\n\n\tafterPageLayout(pageElement, page) {\n\t\tthis.addBreakAttributes(pageElement, page);\n\t}\n}\n\nexport default Breaks;\n","import Handler from \"../handler.js\";\n\nclass Splits extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\t}\n\n\tafterPageLayout(pageElement, page, breakToken, chunker) {\n\t\tlet splits = Array.from(pageElement.querySelectorAll(\"[data-split-from]\"));\n\t\tlet pages = pageElement.parentNode;\n\t\tlet index = Array.prototype.indexOf.call(pages.children, pageElement);\n\t\tlet prevPage;\n\n\t\tif (index === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tprevPage = pages.children[index - 1];\n\n\t\tlet from; // Capture the last from element\n\t\tsplits.forEach((split) => {\n\t\t\tlet ref = split.dataset.ref;\n\t\t\tfrom = prevPage.querySelector(\"[data-ref='\"+ ref +\"']:not([data-split-to])\");\n\n\t\t\tif (from) {\n\t\t\t\tfrom.dataset.splitTo = ref;\n\n\t\t\t\tif (!from.dataset.splitFrom) {\n\t\t\t\t\tfrom.dataset.splitOriginal = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// Fix alignment on the deepest split element\n\t\tif (from) {\n\t\t\tthis.handleAlignment(from);\n\t\t}\n\t}\n\n\thandleAlignment(node) {\n\t\tlet styles = window.getComputedStyle(node);\n\t\tlet align = styles[\"text-align\"];\n\t\tlet alignLast = styles[\"text-align-last\"];\n\t\tnode.dataset.lastSplitElement = \"true\";\n\t\tif (align === \"justify\" && alignLast === \"auto\") {\n\t\t\tnode.dataset.alignLastSplitElement = \"justify\";\n\t\t} else {\n\t\t\tnode.dataset.alignLastSplitElement = alignLast;\n\t\t}\n\t}\n\n}\n\nexport default Splits;\n","import Handler from \"../handler.js\";\nimport csstree from \"css-tree\";\n\nclass Counters extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\n\t\tthis.styleSheet = polisher.styleSheet;\n\t\tthis.counters = {};\n\t\tthis.resetCountersMap = new Map();\n\t}\n\n\tonDeclaration(declaration, dItem, dList, rule) {\n\t\tlet property = declaration.property;\n\n\t\tif (property === \"counter-increment\") {\n\t\t\tthis.handleIncrement(declaration, rule);\n\t\t\t// clean up empty declaration\n\t\t\tlet hasProperities = false;\n\t\t\tdeclaration.value.children.forEach((data) => {\n\t\t\t\tif (data.type && data.type !== \"WhiteSpace\") {\n\t\t\t\t\thasProperities = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!hasProperities) {\n\t\t\t\tdList.remove(dItem);\n\t\t\t}\n\t\t} else if (property === \"counter-reset\") {\n\t\t\tthis.handleReset(declaration, rule);\n\t\t\t// clean up empty declaration\n\t\t\tlet hasProperities = false;\n\t\t\tdeclaration.value.children.forEach((data) => {\n\t\t\t\tif (data.type && data.type !== \"WhiteSpace\") {\n\t\t\t\t\thasProperities = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!hasProperities) {\n\t\t\t\tdList.remove(dItem);\n\t\t\t}\n\t\t}\n\t}\n\n\tafterParsed(parsed) {\n\t\tthis.processCounters(parsed, this.counters);\n\t\tthis.scopeCounters(this.counters);\n\t}\n\n\taddCounter(name) {\n\t\tif (name in this.counters) {\n\t\t\treturn this.counters[name];\n\t\t}\n\n\t\tthis.counters[name] = {\n\t\t\tname: name,\n\t\t\tincrements: {},\n\t\t\tresets: {}\n\t\t};\n\n\t\treturn this.counters[name];\n\t}\n\n\thandleIncrement(declaration, rule) {\n\t\tlet increments = [];\n\t\tlet children = declaration.value.children;\n\n\t\tchildren.forEach((data, item) => {\n\t\t\tif (data.type && data.type === \"Identifier\") {\n\t\t\t\tlet name = data.name;\n\n\t\t\t\tif (name === \"page\" || name.indexOf(\"target-counter-\") === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet whitespace, number, value;\n\t\t\t\tif (item.next && item.next.data.type === \"WhiteSpace\") {\n\t\t\t\t\twhitespace = item.next;\n\t\t\t\t}\n\t\t\t\tif (whitespace && whitespace.next && whitespace.next.data.type === \"Number\") {\n\t\t\t\t\tnumber = whitespace.next;\n\t\t\t\t\tvalue = parseInt(number.data.value);\n\t\t\t\t}\n\n\t\t\t\tlet selector = csstree.generate(rule.ruleNode.prelude);\n\n\t\t\t\tlet counter;\n\t\t\t\tif (!(name in this.counters)) {\n\t\t\t\t\tcounter = this.addCounter(name);\n\t\t\t\t} else {\n\t\t\t\t\tcounter = this.counters[name];\n\t\t\t\t}\n\t\t\t\tlet increment = {\n\t\t\t\t\tselector: selector,\n\t\t\t\t\tnumber: value || 1\n\t\t\t\t};\n\t\t\t\tcounter.increments[selector] = increment;\n\t\t\t\tincrements.push(increment);\n\n\t\t\t\t// Remove the parsed resets\n\t\t\t\tchildren.remove(item);\n\t\t\t\tif (whitespace) {\n\t\t\t\t\tchildren.remove(whitespace);\n\t\t\t\t}\n\t\t\t\tif (number) {\n\t\t\t\t\tchildren.remove(number);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn increments;\n\t}\n\n\thandleReset(declaration, rule) {\n\t\tlet children = declaration.value.children;\n\n\t\tchildren.forEach((data, item) => {\n\t\t\tif (data.type && data.type === \"Identifier\") {\n\t\t\t\tlet name = data.name;\n\t\t\t\tlet whitespace, number, value;\n\t\t\t\tif (item.next && item.next.data.type === \"WhiteSpace\") {\n\t\t\t\t\twhitespace = item.next;\n\t\t\t\t}\n\t\t\t\tif (whitespace && whitespace.next) {\n\t\t\t\t\tif (whitespace.next.data.type === \"Number\") {\n\t\t\t\t\t\t// The counter reset value is specified using a number. E.g. counter-reset: c2 5;\n\t\t\t\t\t\tnumber = whitespace.next;\n\t\t\t\t\t\tvalue = parseInt(number.data.value);\n\t\t\t\t\t} else if (whitespace.next.data.type === \"Function\" && whitespace.next.data.name === \"var\") {\n\t\t\t\t\t\t// The counter reset value is specified using a CSS variable (custom property).\n\t\t\t\t\t\t// E.g. counter-reset: c2 var(--my-variable);\n\t\t\t\t\t\t// See https://developer.mozilla.org/en-US/docs/Web/CSS/var\n\t\t\t\t\t\tnumber = whitespace.next;\n\t\t\t\t\t\t// Use the variable name (e.g. '--my-variable') as value for now. The actual value is resolved later by the\n\t\t\t\t\t\t// processCounterResets function.\n\t\t\t\t\t\tvalue = whitespace.next.data.children.head.data.name;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet counter;\n\t\t\t\tlet selector;\n\t\t\t\tlet prelude = rule.ruleNode.prelude;\n\n\t\t\t\tif (rule.ruleNode.type === \"Atrule\" && rule.ruleNode.name === \"page\") {\n\t\t\t\t\tselector = \".pagedjs_page\";\n\t\t\t\t} else {\n\t\t\t\t\tselector = csstree.generate(prelude || rule.ruleNode);\n\t\t\t\t}\n\n\t\t\t\tif (name === \"footnote\") {\n\t\t\t\t\tthis.addFootnoteMarkerCounter(declaration.value.children);\n\t\t\t\t}\n\n\t\t\t\tif (!(name in this.counters)) {\n\t\t\t\t\tcounter = this.addCounter(name);\n\t\t\t\t} else {\n\t\t\t\t\tcounter = this.counters[name];\n\t\t\t\t}\n\n\t\t\t\tlet reset = {\n\t\t\t\t\tselector: selector,\n\t\t\t\t\tnumber: value || 0\n\t\t\t\t};\n\n\t\t\t\tcounter.resets[selector] = reset;\n\n\t\t\t\tif (selector !== \".pagedjs_page\") {\n\t\t\t\t\t// Remove the parsed resets\n\t\t\t\t\tchildren.remove(item);\n\t\t\t\t\tif (whitespace) {\n\t\t\t\t\t\tchildren.remove(whitespace);\n\t\t\t\t\t}\n\t\t\t\t\tif (number) {\n\t\t\t\t\t\tchildren.remove(number);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprocessCounters(parsed, counters) {\n\t\tlet counter;\n\t\tfor (let c in counters) {\n\t\t\tcounter = this.counters[c];\n\t\t\tthis.processCounterIncrements(parsed, counter);\n\t\t\tthis.processCounterResets(parsed, counter);\n\t\t\tif (c !== \"page\") {\n\t\t\t\tthis.addCounterValues(parsed, counter);\n\t\t\t}\n\t\t}\n\t}\n\n\tscopeCounters(counters) {\n\t\tlet countersArray = [];\n\t\tfor (let c in counters) {\n\t\t\tif(c !== \"page\") {\n\t\t\t\tcountersArray.push(`${counters[c].name} 0`);\n\t\t\t}\n\t\t}\n\t\t// Add to pages to allow cross page scope\n\t\tthis.insertRule(`.pagedjs_pages { counter-reset: ${countersArray.join(\" \")} page 0 pages var(--pagedjs-page-count) footnote var(--pagedjs-footnotes-count) footnote-marker var(--pagedjs-footnotes-count)}`);\n\t}\n\n\tinsertRule(rule) {\n\t\tthis.styleSheet.insertRule(rule, this.styleSheet.cssRules.length);\n\t}\n\n\tprocessCounterIncrements(parsed, counter) {\n\t\tlet increment;\n\t\tfor (let inc in counter.increments) {\n\t\t\tincrement = counter.increments[inc];\n\t\t\t// Find elements for increments\n\t\t\tlet incrementElements = parsed.querySelectorAll(increment.selector);\n\t\t\t// Add counter data\n\t\t\tfor (let i = 0; i < incrementElements.length; i++) {\n\t\t\t\tincrementElements[i].setAttribute(\"data-counter-\"+ counter.name +\"-increment\", increment.number);\n\t\t\t\tif (incrementElements[i].getAttribute(\"data-counter-increment\")) {\n\t\t\t\t\tincrementElements[i].setAttribute(\"data-counter-increment\", incrementElements[i].getAttribute(\"data-counter-increment\") + \" \" + counter.name);\n\t\t\t\t} else {\n\t\t\t\t\tincrementElements[i].setAttribute(\"data-counter-increment\", counter.name);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprocessCounterResets(parsed, counter) {\n\t\tlet reset;\n\t\tfor (let r in counter.resets) {\n\t\t\treset = counter.resets[r];\n\t\t\t// Find elements for resets\n\t\t\tlet resetElements = parsed.querySelectorAll(reset.selector);\n\t\t\t// Add counter data\n\t\t\tfor (var i = 0; i < resetElements.length; i++) {\n\t\t\t\tlet value = reset.number;\n\t\t\t\tif (typeof value === \"string\" && value.startsWith(\"--\")) {\n\t\t\t\t\t// The value is specified using a CSS variable (custom property).\n\t\t\t\t\t// FIXME: We get the variable value only from the inline style of the element because at this point the\n\t\t\t\t\t// element is detached and thus using:\n\t\t\t\t\t//\n\t\t\t\t\t//\t\tgetComputedStyle(resetElements[i]).getPropertyValue(value)\n\t\t\t\t\t//\n\t\t\t\t\t// always returns an empty string. We could try to temporarily attach the element to get its computed style,\n\t\t\t\t\t// but for now using the inline style is enough for us.\n\t\t\t\t\tvalue = resetElements[i].style.getPropertyValue(value) || 0;\n\t\t\t\t}\n\t\t\t\tresetElements[i].setAttribute(\"data-counter-\"+ counter.name +\"-reset\", value);\n\t\t\t\tif (resetElements[i].getAttribute(\"data-counter-reset\")) {\n\t\t\t\t\tresetElements[i].setAttribute(\"data-counter-reset\", resetElements[i].getAttribute(\"data-counter-reset\") + \" \" + counter.name);\n\t\t\t\t} else {\n\t\t\t\t\tresetElements[i].setAttribute(\"data-counter-reset\", counter.name);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\taddCounterValues(parsed, counter) {\n\t\tlet counterName = counter.name;\n\n\t\tif (counterName === \"page\" || counterName === \"footnote\") {\n\t\t\treturn;\n\t\t}\n\n\t\tlet elements = parsed.querySelectorAll(\"[data-counter-\"+ counterName +\"-reset], [data-counter-\"+ counterName +\"-increment]\");\n\n\t\tlet count = 0;\n\t\tlet element;\n\t\tlet increment, reset;\n\t\tlet resetValue, incrementValue, resetDelta;\n\t\tlet incrementArray;\n\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\telement = elements[i];\n\t\t\tresetDelta = 0;\n\t\t\tincrementArray = [];\n\n\t\t\tif (element.hasAttribute(\"data-counter-\"+ counterName +\"-reset\")) {\n\t\t\t\treset = element.getAttribute(\"data-counter-\"+ counterName +\"-reset\");\n\t\t\t\tresetValue = parseInt(reset);\n\n\t\t\t\t// Use negative increment value inplace of reset\n\t\t\t\tresetDelta = resetValue - count;\n\t\t\t\tincrementArray.push(`${counterName} ${resetDelta}`);\n\n\t\t\t\tcount = resetValue;\n\t\t\t}\n\n\t\t\tif (element.hasAttribute(\"data-counter-\"+ counterName +\"-increment\")) {\n\n\t\t\t\tincrement = element.getAttribute(\"data-counter-\"+ counterName +\"-increment\");\n\t\t\t\tincrementValue = parseInt(increment);\n\n\t\t\t\tcount += incrementValue;\n\n\t\t\t\telement.setAttribute(\"data-counter-\"+counterName+\"-value\", count);\n\n\t\t\t\tincrementArray.push(`${counterName} ${incrementValue}`);\n\t\t\t}\n\n\t\t\tif (incrementArray.length > 0) {\n\t\t\t\tthis.incrementCounterForElement(element, incrementArray);\n\t\t\t}\n\n\t\t}\n\t}\n\n\taddFootnoteMarkerCounter(list) {\n\t\tlet markers = [];\n\t\tcsstree.walk(list, {\n\t\t\tvisit: \"Identifier\",\n\t\t\tenter: (identNode, iItem, iList) => {\n\t\t\t\tmarkers.push(identNode.name);\n\t\t\t}\n\t\t});\n\n\t\t// Already added\n\t\tif (markers.includes(\"footnote-maker\")) {\n\t\t\treturn;\n\t\t}\n\n\t\tlist.insertData({\n\t\t\ttype: \"WhiteSpace\",\n\t\t\tvalue: \" \"\n\t\t});\n\n\t\tlist.insertData({\n\t\t\ttype: \"Identifier\",\n\t\t\tname: \"footnote-marker\"\n\t\t});\n\n\t\tlist.insertData({\n\t\t\ttype: \"WhiteSpace\",\n\t\t\tvalue: \" \"\n\t\t});\n\n\t\tlist.insertData({\n\t\t\ttype: \"Number\",\n\t\t\tvalue: 0\n\t\t});\n\t}\n\n\tincrementCounterForElement(element, incrementArray) {\n\t\tif (!element || !incrementArray || incrementArray.length === 0) return;\n\n\t\tconst ref = element.dataset.ref;\n\t\tconst increments = Array.from(this.styleSheet.cssRules).filter((rule) => {\n\t\t\treturn rule.selectorText === `[data-ref=\"${element.dataset.ref}\"]:not([data-split-from])`\n\t\t\t\t\t\t && rule.style[0] === \"counter-increment\";\n\t\t}).map(rule => rule.style.counterIncrement);\n\n\t\t// Merge the current increments by summing the values because we generate both a decrement and an increment when the\n\t\t// element resets and increments the counter at the same time. E.g. ['c1 -7', 'c1 1'] should lead to 'c1 -6'.\n\t\tincrements.push(this.mergeIncrements(incrementArray,\n\t\t\t(prev, next) => (parseInt(prev) || 0) + (parseInt(next) || 0)));\n\n\t\t// Keep the last value for each counter when merging with the previous increments. E.g. ['c1 -7 c2 3', 'c1 1']\n\t\t// should lead to 'c1 1 c2 3'.\n\t\tconst counterIncrement = this.mergeIncrements(increments, (prev, next) => next);\n\t\tthis.insertRule(`[data-ref=\"${ref}\"]:not([data-split-from]) { counter-increment: ${counterIncrement} }`);\n\t}\n\n\t/**\n\t * Merge multiple values of a counter-increment CSS rule, using the specified operator.\n\t *\n\t * @param {Array} incrementArray the values to merge, e.g. ['c1 1', 'c1 -7 c2 1']\n\t * @param {Function} operator the function used to merge counter values (e.g. keep the last value of a counter or sum\n\t *\t\t\t\t\tthe counter values)\n\t * @return {string} the merged value of the counter-increment CSS rule\n\t */\n\tmergeIncrements(incrementArray, operator) {\n\t\tconst increments = {};\n\t\tincrementArray.forEach(increment => {\n\t\t\tlet values = increment.split(\" \");\n\t\t\tfor (let i = 0; i < values.length; i+=2) {\n\t\t\t\tincrements[values[i]] = operator(increments[values[i]], values[i + 1]);\n\t\t\t}\n\t\t});\n\n\t\treturn Object.entries(increments).map(([key, value]) => `${key} ${value}`).join(\" \");\n\t}\n\n\tafterPageLayout(pageElement, page) {\n\t\tlet resets = [];\n\n\t\tlet pgreset = pageElement.querySelectorAll(\"[data-counter-page-reset]:not([data-split-from])\");\n\t\tpgreset.forEach((reset) => {\n\t\t\tconst ref = reset.dataset && reset.dataset.ref;\n\t\t\tif (ref && this.resetCountersMap.has(ref)) {\n\t\t\t\t// ignoring, the counter-reset directive has already been taken into account.\n\t\t\t} else {\n\t\t\t\tif (ref) {\n\t\t\t\t\tthis.resetCountersMap.set(ref, \"\");\n\t\t\t\t}\n\t\t\t\tlet value = reset.dataset.counterPageReset;\n\t\t\t\tresets.push(`page ${value}`);\n\t\t\t}\n\t\t});\n\n\t\tlet notereset = pageElement.querySelectorAll(\"[data-counter-footnote-reset]:not([data-split-from])\");\n\t\tnotereset.forEach((reset) => {\n\t\t\tlet value = reset.dataset.counterFootnoteReset;\n\t\t\tresets.push(`footnote ${value}`);\n\t\t\tresets.push(`footnote-marker ${value}`);\n\t\t});\n\n\t\tif (resets.length) {\n\t\t\tthis.styleSheet.insertRule(`[data-page-number=\"${pageElement.dataset.pageNumber}\"] { counter-increment: none; counter-reset: ${resets.join(\" \")} }`, this.styleSheet.cssRules.length);\n\t\t}\n\t}\n\n}\n\nexport default Counters;\n","import Handler from \"../handler.js\";\n\nclass Lists extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\t}\n\tafterParsed(content) {\n\t\tconst orderedLists = content.querySelectorAll(\"ol\");\n\n\t\tfor (var list of orderedLists) {\n\t\t\tthis.addDataNumbers(list);\n\t\t}\n\t}\n\n\tafterPageLayout(pageElement, page, breakToken, chunker) {\n\t\tvar orderedLists = pageElement.getElementsByTagName(\"ol\");\n\t\tfor (var list of orderedLists) {\n\t\t\tif (list.firstElementChild) {\n\t\t\t\tlist.start = list.firstElementChild.dataset.itemNum;\n\t\t\t}\n\t\t}\n\t}\n\n\taddDataNumbers(list) {\n\t\tlet start = 1;\n\t\tif (list.hasAttribute(\"start\")) {\n\t\t\tstart = parseInt(list.getAttribute(\"start\"), 10);\n\t\t\tif (isNaN(start)) {\n\t\t\t\tstart = 1;\n\t\t\t}\n\t\t}\n\t\tlet items = list.children;\n\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\titems[i].setAttribute(\"data-item-num\", i + start);\n\t\t}\n\t}\n\n}\n\nexport default Lists;\n","import Handler from \"../handler.js\";\nimport csstree from \"css-tree\";\n\nclass PositionFixed extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\t\tthis.styleSheet = polisher.styleSheet;\n\t\tthis.fixedElementsSelector = [];\n\t\tthis.fixedElements = [];\n\t}\n\n\tonDeclaration(declaration, dItem, dList, rule) {\n\t\tif (declaration.property === \"position\" && declaration.value.children.first().name === \"fixed\") {\n\t\t\tlet selector = csstree.generate(rule.ruleNode.prelude);\n\t\t\tthis.fixedElementsSelector.push(selector);\n\t\t\tdList.remove(dItem);\n\t\t}\n\t}\n\n\tafterParsed(fragment) {\n\t\tthis.fixedElementsSelector.forEach(fixedEl => {\n\t\t\tfragment.querySelectorAll(`${fixedEl}`).forEach(el => {\n\t\t\t\tel.style.setProperty(\"position\", \"absolute\");\n\t\t\t\tthis.fixedElements.push(el);\n\t\t\t\tel.remove();\n\t\t\t});\n\t\t});\n\t}\n\n\tafterPageLayout(pageElement, page, breakToken) {\n\t\tthis.fixedElements.forEach(el => {\n\t\t\tconst clone = el.cloneNode(true);\n\t\t\tpageElement.querySelector(\".pagedjs_pagebox\").insertAdjacentElement(\"afterbegin\", clone);\n\t\t});\n\t}\n}\n\n\n\n\n\nexport default PositionFixed;\n\n","import Handler from \"../handler.js\";\nimport csstree from \"css-tree\";\n\nclass PageCounterIncrement extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\n\t\tthis.styleSheet = polisher.styleSheet;\n\t\tthis.pageCounter = {\n\t\t\tname: \"page\",\n\t\t\tincrements: {},\n\t\t\tresets: {}\n\t\t};\n\t}\n\n\tonDeclaration(declaration, dItem, dList, rule) {\n\t\tconst property = declaration.property;\n\n\t\tif (property === \"counter-increment\") {\n\t\t\tlet inc = this.handleIncrement(declaration, rule);\n\t\t\tif (inc) {\n\t\t\t\tdList.remove(dItem);\n\t\t\t}\n\t\t}\n\t}\n\n\tafterParsed(_) {\n\t\tfor (const inc in this.pageCounter.increments) {\n\t\t\tconst increment = this.pageCounter.increments[inc];\n\t\t\tthis.insertRule(`${increment.selector} { --pagedjs-page-counter-increment: ${increment.number} }`);\n\t\t}\n\t}\n\n\thandleIncrement(declaration, rule) {\n\t\tconst identifier = declaration.value.children.first();\n\t\tconst number = declaration.value.children.getSize() > 1 ? declaration.value.children.last().value : 1;\n\t\tconst name = identifier && identifier.name;\n\n\t\tif (name && name.indexOf(\"target-counter-\") === 0) {\n\t\t\treturn;\n\t\t}\n\t\t// A counter named page is automatically created and incremented by 1 on every page of the document,\n\t\t// unless the counter-increment property in the page context explicitly specifies a different increment for the page counter.\n\t\t// https://www.w3.org/TR/css-page-3/#page-based-counters\n\t\tif (name !== \"page\") {\n\t\t\treturn;\n\t\t}\n\t\t// the counter-increment property is not defined on the page context (i.e. @page rule), ignoring...\n\t\tif (rule.ruleNode.name === \"page\" && rule.ruleNode.type === \"Atrule\") {\n\t\t\treturn;\n\t\t}\n\t\tconst selector = csstree.generate(rule.ruleNode.prelude);\n\t\treturn this.pageCounter.increments[selector] = {\n\t\t\tselector: selector,\n\t\t\tnumber\n\t\t};\n\t}\n\n\tinsertRule(rule) {\n\t\tthis.styleSheet.insertRule(rule, this.styleSheet.cssRules.length);\n\t}\n}\n\nexport default PageCounterIncrement;\n","import Handler from \"../handler.js\";\nimport csstree from \"css-tree\";\nimport {UUID} from \"../../utils/utils.js\";\n\nclass NthOfType extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\n\t\tthis.styleSheet = polisher.styleSheet;\n\t\tthis.selectors = {};\n\t}\n\n\tonRule(ruleNode, ruleItem, rulelist) {\n\t\tlet selector = csstree.generate(ruleNode.prelude);\n\t\tif (selector.match(/:(first|last|nth)-of-type/)) {\n\t\t\t\n\t\t\tlet declarations = csstree.generate(ruleNode.block);\n\t\t\tdeclarations = declarations.replace(/[{}]/g,\"\");\n\n\t\t\tlet uuid = \"nth-of-type-\" + UUID();\n\n\t\t\tselector.split(\",\").forEach((s) => {\n\t\t\t\tif (!this.selectors[s]) {\n\t\t\t\t\tthis.selectors[s] = [uuid, declarations];\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectors[s][1] = `${this.selectors[s][1]};${declarations}` ;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trulelist.remove(ruleItem);\n\t\t}\n\t}\n\n\tafterParsed(parsed) {\n\t\tthis.processSelectors(parsed, this.selectors);\n\t}\n\n\tprocessSelectors(parsed, selectors) {\n\t\t// add the new attributes to matching elements\n\t\tfor (let s in selectors) {\n\t\t\tlet elements = parsed.querySelectorAll(s);\n\n\t\t\tfor (var i = 0; i < elements.length; i++) {\n\t\t\t\tlet dataNthOfType = elements[i].getAttribute(\"data-nth-of-type\");\n\n\t\t\t\tif (dataNthOfType && dataNthOfType != \"\") {\n\t\t\t\t\tdataNthOfType = `${dataNthOfType},${selectors[s][0]}`;\n\t\t\t\t\telements[i].setAttribute(\"data-nth-of-type\", dataNthOfType);\n\t\t\t\t} else {\n\t\t\t\t\telements[i].setAttribute(\"data-nth-of-type\", selectors[s][0]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet rule = `*[data-nth-of-type*='${selectors[s][0]}'] { ${selectors[s][1]}; }`;\n\t\t\tthis.styleSheet.insertRule(rule, this.styleSheet.cssRules.length);\n\t\t}\n\t}\n}\n\n\n\n\nexport default NthOfType;\n\n","import Handler from \"../handler.js\";\nimport csstree from \"css-tree\";\nimport {UUID} from \"../../utils/utils.js\";\n\nclass Following extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\n\t\tthis.styleSheet = polisher.styleSheet;\n\t\tthis.selectors = {};\n\t}\n\n\tonRule(ruleNode, ruleItem, rulelist) {\n\t\tlet selector = csstree.generate(ruleNode.prelude);\n\t\tif (selector.match(/\\+/)) {\n\t\t\t\n\t\t\tlet declarations = csstree.generate(ruleNode.block);\n\t\t\tdeclarations = declarations.replace(/[{}]/g,\"\");\n\n\t\t\tlet uuid = \"following-\" + UUID();\n\n\t\t\tselector.split(\",\").forEach((s) => {\n\t\t\t\tif (!this.selectors[s]) {\n\t\t\t\t\tthis.selectors[s] = [uuid, declarations];\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectors[s][1] = `${this.selectors[s][1]};${declarations}` ;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trulelist.remove(ruleItem);\n\t\t}\n\t}\n\n\tafterParsed(parsed) {\n\t\tthis.processSelectors(parsed, this.selectors);\n\t}\n\n\tprocessSelectors(parsed, selectors) {\n\t\t// add the new attributes to matching elements\n\t\tfor (let s in selectors) {\n\t\t\tlet elements = parsed.querySelectorAll(s);\n\n\t\t\tfor (var i = 0; i < elements.length; i++) {\n\t\t\t\tlet dataFollowing = elements[i].getAttribute(\"data-following\");\n\n\t\t\t\tif (dataFollowing && dataFollowing != \"\") {\n\t\t\t\t\tdataFollowing = `${dataFollowing},${selectors[s][0]}`;\n\t\t\t\t\telements[i].setAttribute(\"data-following\", dataFollowing);\n\t\t\t\t} else {\n\t\t\t\t\telements[i].setAttribute(\"data-following\", selectors[s][0]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet rule = `*[data-following*='${selectors[s][0]}'] { ${selectors[s][1]}; }`;\n\t\t\tthis.styleSheet.insertRule(rule, this.styleSheet.cssRules.length);\n\t\t}\n\t}\n}\n\n\n\n\nexport default Following;\n\n","import Handler from \"../handler.js\";\nimport { isContainer, isElement } from \"../../utils/dom.js\";\nimport Layout from \"../../chunker/layout.js\";\nimport csstree from \"css-tree\";\n\nclass Footnotes extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\n\t\tthis.footnotes = {};\n\t\tthis.needsLayout = [];\n\t}\n\n\tonDeclaration(declaration, dItem, dList, rule) {\n\t\tlet property = declaration.property;\n\t\tif (property === \"float\") {\n\t\t\tlet identifier = declaration.value.children && declaration.value.children.first();\n\t\t\tlet location = identifier && identifier.name;\n\t\t\tif (location === \"footnote\") {\n\t\t\t\tlet selector = csstree.generate(rule.ruleNode.prelude);\n\t\t\t\tthis.footnotes[selector] = {\n\t\t\t\t\tselector: selector,\n\t\t\t\t\tpolicy: \"auto\",\n\t\t\t\t\tdisplay: \"block\"\n\t\t\t\t};\n\t\t\t\tdList.remove(dItem);\n\t\t\t}\n\t\t}\n\t\tif (property === \"footnote-policy\") {\n\t\t\tlet identifier = declaration.value.children && declaration.value.children.first();\n\t\t\tlet policy = identifier && identifier.name;\n\t\t\tif (policy) {\n\t\t\t\tlet selector = csstree.generate(rule.ruleNode.prelude);\n\t\t\t\tlet note = this.footnotes[selector];\n\t\t\t\tif (note) {\n\t\t\t\t\tnote.policy = policy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (property === \"footnote-display\") {\n\t\t\tlet identifier = declaration.value.children && declaration.value.children.first();\n\t\t\tlet display = identifier && identifier.name;\n\t\t\tlet selector = csstree.generate(rule.ruleNode.prelude);\n\t\t\tif (display && this.footnotes[selector]) {\n\t\t\t\tlet note = this.footnotes[selector];\n\t\t\t\tif (note) {\n\t\t\t\t\tnote.display = display;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tonPseudoSelector(pseudoNode, pItem, pList, selector, rule) {\n\t\tlet name = pseudoNode.name;\n\t\tif (name === \"footnote-marker\") {\n\t\t\t// switch ::footnote-marker to [data-footnote-marker]::before\n\t\t\tlet prelude = rule.ruleNode.prelude;\n\t\t\tlet newPrelude = new csstree.List();\n\n\t\t\t// Can't get remove to work, so just copying everything else\n\t\t\tprelude.children.first().children.each((node) => {\n\t\t\t\tif (node.type !== \"PseudoElementSelector\") {\n\t\t\t\t\tnewPrelude.appendData(node);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Add our data call\n\t\t\tnewPrelude.appendData({\n\t\t\t\ttype: \"AttributeSelector\",\n\t\t\t\tname: {\n\t\t\t\t\ttype: \"Identifier\",\n\t\t\t\t\tname: \"data-footnote-marker\",\n\t\t\t\t},\n\t\t\t\tflags: null,\n\t\t\t\tloc: null,\n\t\t\t\tmatcher: null,\n\t\t\t\tvalue: null\n\t\t\t});\n\n\t\t\t// Add new pseudo element\n\t\t\tnewPrelude.appendData({\n\t\t\t\ttype: \"PseudoElementSelector\",\n\t\t\t\tname: \"marker\",\n\t\t\t\tloc: null,\n\t\t\t\tchildren: null\n\t\t\t});\n\n\t\t\tprelude.children.first().children = newPrelude;\n\t\t}\n\n\t\tif (name === \"footnote-call\") {\n\t\t\t// switch ::footnote-call to [data-footnote-call]::after\n\n\t\t\tlet prelude = rule.ruleNode.prelude;\n\t\t\tlet newPrelude = new csstree.List();\n\n\t\t\t// Can't get remove to work, so just copying everything else\n\t\t\tprelude.children.first().children.each((node) => {\n\t\t\t\tif (node.type !== \"PseudoElementSelector\") {\n\t\t\t\t\tnewPrelude.appendData(node);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Add our data call\n\t\t\tnewPrelude.appendData({\n\t\t\t\ttype: \"AttributeSelector\",\n\t\t\t\tname: {\n\t\t\t\t\ttype: \"Identifier\",\n\t\t\t\t\tname: \"data-footnote-call\",\n\t\t\t\t},\n\t\t\t\tflags: null,\n\t\t\t\tloc: null,\n\t\t\t\tmatcher: null,\n\t\t\t\tvalue: null\n\t\t\t});\n\n\t\t\t// Add new pseudo element\n\t\t\tnewPrelude.appendData({\n\t\t\t\ttype: \"PseudoElementSelector\",\n\t\t\t\tname: \"after\",\n\t\t\t\tloc: null,\n\t\t\t\tchildren: null\n\t\t\t});\n\n\t\t\tprelude.children.first().children = newPrelude;\n\t\t}\n\t}\n\n\tafterParsed(parsed) {\n\t\tthis.processFootnotes(parsed, this.footnotes);\n\t}\n\n\tprocessFootnotes(parsed, notes) {\n\t\tfor (let n in notes) {\n\t\t\t// Find elements\n\t\t\tlet elements = parsed.querySelectorAll(n);\n\t\t\tlet element;\n\t\t\tlet note = notes[n];\n\t\t\tfor (var i = 0; i < elements.length; i++) {\n\t\t\t\telement = elements[i];\n\t\t\t\t// Add note type\n\t\t\t\telement.setAttribute(\"data-note\", \"footnote\");\n\t\t\t\telement.setAttribute(\"data-break-before\", \"avoid\");\n\t\t\t\telement.setAttribute(\"data-note-policy\", note.policy || \"auto\");\n\t\t\t\telement.setAttribute(\"data-note-display\", note.display || \"block\");\n\t\t\t\t// Mark all parents\n\t\t\t\tthis.processFootnoteContainer(element);\n\t\t\t}\n\t\t}\n\t}\n\n\tprocessFootnoteContainer(node) {\n\t\t// Find the container\n\t\tlet element = node.parentElement;\n\t\tlet prevElement = element;\n\t\t// Walk up the dom until we find a container element\n\t\twhile (element) {\n\t\t\tif (isContainer(element)) {\n\t\t\t\t// Add flag to the previous non-container element that will render with children\n\t\t\t\tprevElement.setAttribute(\"data-has-notes\", \"true\");\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tprevElement = element;\n\t\t\telement = element.parentElement;\n\n\t\t\t// If no containers were found and there are no further parents flag the last element\n\t\t\tif (!element) {\n\t\t\t\tprevElement.setAttribute(\"data-has-notes\", \"true\");\n\t\t\t}\n\t\t}\n\t}\n\n\trenderNode(node) {\n\t\tif (node.nodeType == 1) {\n\t\t\t// Get all notes\n\t\t\tlet notes;\n\n\t\t\t// Ingnore html element nodes, like mathml\n\t\t\tif (!node.dataset) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (node.dataset.note === \"footnote\") {\n\t\t\t\tnotes = [node];\n\t\t\t} else if (node.dataset.hasNotes || node.querySelectorAll(\"[data-note='footnote']\")) {\n\t\t\t\tnotes = node.querySelectorAll(\"[data-note='footnote']\");\n\t\t\t}\n\n\t\t\tif (notes && notes.length) {\n\t\t\t\tthis.findVisibleFootnotes(notes, node);\n\t\t\t}\n\t\t}\n\t}\n\n\tfindVisibleFootnotes(notes, node) {\n\t\tlet area, size, right;\n\t\tarea = node.closest(\".pagedjs_page_content\");\n\t\tsize = area.getBoundingClientRect();\n\t\tright = size.left + size.width;\n\n\t\tfor (let i = 0; i < notes.length; ++i) {\n\t\t\tlet currentNote = notes[i];\n\t\t\tlet bounds = currentNote.getBoundingClientRect();\n\t\t\tlet left = bounds.left;\n\n\t\t\tif (left < right) {\n\t\t\t\t// Add call for the note\n\t\t\t\tthis.moveFootnote(currentNote, node.closest(\".pagedjs_area\"), true);\n\t\t\t}\n\t\t}\n\t}\n\n\tmoveFootnote(node, pageArea, needsNoteCall) {\n\t\t// let pageArea = node.closest(\".pagedjs_area\");\n\t\tlet noteArea = pageArea.querySelector(\".pagedjs_footnote_area\");\n\t\tlet noteContent = noteArea.querySelector(\".pagedjs_footnote_content\");\n\t\tlet noteInnerContent = noteContent.querySelector(\".pagedjs_footnote_inner_content\");\n\n\t\tif (!isElement(node)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Add call for the note\n\t\tlet noteCall;\n\t\tif (needsNoteCall) {\n\t\t\tnoteCall = this.createFootnoteCall(node);\n\t\t}\n\n\t\t// Remove the break before attribute for future layout\n\t\tnode.removeAttribute(\"data-break-before\");\n\n\t\t// Check if note already exists for overflow\n\t\tlet existing = noteInnerContent.querySelector(`[data-ref=\"${node.dataset.ref}\"]`);\n\t\tif (existing) {\n\t\t\t// Remove the note from the flow but no need to render it again\n\t\t\tnode.remove();\n\t\t\treturn;\n\t\t}\n\n\t\t// Add the note node\n\t\tnoteInnerContent.appendChild(node);\n\n\t\t// Remove empty class\n\t\tif (noteContent.classList.contains(\"pagedjs_footnote_empty\")) {\n\t\t\tnoteContent.classList.remove(\"pagedjs_footnote_empty\");\n\t\t}\n\n\t\t// Add marker\n\t\tnode.dataset.footnoteMarker = node.dataset.ref;\n\n\t\t// Add Id\n\t\tnode.id = `note-${node.dataset.ref}`;\n\n\t\t// Get note content size\n\t\tlet height = noteContent.scrollHeight;\n\n\t\t// Check the noteCall is still on screen\n\t\tlet area = pageArea.querySelector(\".pagedjs_page_content\");\n\t\tlet size = area.getBoundingClientRect();\n\t\tlet right = size.left + size.width;\n\n\t\t// TODO: add a max height in CSS\n\n\t\t// Check element sizes\n\t\tlet noteCallBounds = noteCall && noteCall.getBoundingClientRect();\n\t\tlet noteAreaBounds = noteArea.getBoundingClientRect();\n\n\t\t// Get the @footnote margins\n\t\tlet noteContentMargins = this.marginsHeight(noteContent);\n\t\tlet noteContentPadding = this.paddingHeight(noteContent);\n\t\tlet noteContentBorders = this.borderHeight(noteContent);\n\t\tlet total = noteContentMargins + noteContentPadding + noteContentBorders;\n\n\t\t// Get the top of the @footnote area\n\t\tlet notAreaTop = Math.floor(noteAreaBounds.top);\n\t\t// If the height isn't set yet, remove the margins from the top\n\t\tif (noteAreaBounds.height === 0) {\n\t\t\tnotAreaTop -= this.marginsHeight(noteContent, false);\n\t\t\tnotAreaTop -= this.paddingHeight(noteContent, false);\n\t\t\tnotAreaTop -= this.borderHeight(noteContent, false);\n\t\t}\n\t\t// Determine the note call position and offset per policy\n\t\tlet notePolicy = node.dataset.notePolicy;\n\t\tlet noteCallPosition = 0;\n\t\tlet noteCallOffset = 0;\n\t\tif (noteCall) {\n\t\t\t// Get the correct line bottom for super or sub styled callouts\n\t\t\tlet prevSibling = noteCall.previousSibling;\n\t\t\tlet range = new Range();\n\t\t\tif (prevSibling) {\n\t\t\t\trange.setStartBefore(prevSibling);\n\t\t\t} else {\n\t\t\t\trange.setStartBefore(noteCall);\n\t\t\t}\n\t\t\trange.setEndAfter(noteCall);\n\t\t\tlet rangeBounds = range.getBoundingClientRect();\n\t\t\tnoteCallPosition = rangeBounds.bottom;\n\t\t\tif (!notePolicy || notePolicy === \"auto\") {\n\t\t\t\tnoteCallOffset = Math.ceil(rangeBounds.bottom);\n\t\t\t} else if (notePolicy === \"line\") {\n\t\t\t\tnoteCallOffset = Math.ceil(rangeBounds.top);\n\t\t\t} else if (notePolicy === \"block\") {\n\t\t\t\t// Check that there is a previous element on the page\n\t\t\t\tlet parentParagraph = noteCall.closest(\"p\").previousElementSibling;\n\t\t\t\tif (parentParagraph) {\n\t\t\t\t\tnoteCallOffset = Math.ceil(\n\t\t\t\t\t\tparentParagraph.getBoundingClientRect().bottom\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tnoteCallOffset = Math.ceil(rangeBounds.bottom);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet contentDelta = height + total - noteAreaBounds.height;\n\t\t// Space between the top of the footnotes area and the bottom of the footnote call\n\t\tlet noteDelta = noteCallPosition ? notAreaTop - noteCallPosition : 0;\n\t\t// Space needed for the force a break for the policy of the footnote\n\t\tlet notePolicyDelta = noteCallPosition ? Math.floor(noteAreaBounds.top) - noteCallOffset : 0;\n\t\tlet hasNotes = noteArea.querySelector(\"[data-note='footnote']\");\n\t\tif (needsNoteCall && noteCallBounds.left > right) {\n\t\t\t// Note is offscreen and will be chunked to the next page on overflow\n\t\t\tnode.remove();\n\t\t} else if (!hasNotes && needsNoteCall && total > noteDelta) {\n\t\t\t// No space to add even the footnote area\n\t\t\tpageArea.style.setProperty(\"--pagedjs-footnotes-height\", \"0px\");\n\t\t\t// Add a wrapper as this div is removed later\n\t\t\tlet wrapperDiv = document.createElement(\"div\");\n\t\t\twrapperDiv.appendChild(node);\n\t\t\t// Push to the layout queue for the next page\n\t\t\tthis.needsLayout.push(wrapperDiv);\n\t\t} else if (!needsNoteCall) {\n\t\t\t// Call was previously added, force adding footnote\n\t\t\tpageArea.style.setProperty(\n\t\t\t\t\"--pagedjs-footnotes-height\",\n\t\t\t\t`${height + total}px`\n\t\t\t);\n\t\t} else if (noteCallPosition < noteAreaBounds.top - contentDelta) {\n\t\t\t// the current note content will fit without pushing the call to the next page\n\t\t\tpageArea.style.setProperty(\n\t\t\t\t\"--pagedjs-footnotes-height\",\n\t\t\t\t`${height + noteContentMargins + noteContentBorders}px`\n\t\t\t);\n\t\t} else {\n\t\t\t// set height to just before note call\n\t\t\tpageArea.style.setProperty(\n\t\t\t\t\"--pagedjs-footnotes-height\",\n\t\t\t\t`${noteAreaBounds.height + notePolicyDelta}px`\n\t\t\t);\n\t\t\tnoteInnerContent.style.height =\n\t\t\t\tnoteAreaBounds.height + notePolicyDelta - total + \"px\";\n\t\t}\n\t}\n\n\tcreateFootnoteCall(node) {\n\t\tlet parentElement = node.parentElement;\n\t\tlet footnoteCall = document.createElement(\"a\");\n\t\tfor (const className of node.classList) {\n\t\t\tfootnoteCall.classList.add(`${className}`);\n\t\t}\n\n\t\tfootnoteCall.dataset.footnoteCall = node.dataset.ref;\n\t\tfootnoteCall.dataset.ref = node.dataset.ref;\n\n\t\t// Increment for counters\n\t\tfootnoteCall.dataset.dataCounterFootnoteIncrement = 1;\n\n\t\t// Add link\n\t\tfootnoteCall.href = `#note-${node.dataset.ref}`;\n\n\t\tparentElement.insertBefore(footnoteCall, node);\n\n\t\treturn footnoteCall;\n\t}\n\n\tafterPageLayout(pageElement, page, breakToken, chunker) {\n\t\tlet pageArea = pageElement.querySelector(\".pagedjs_area\");\n\t\tlet noteArea = page.footnotesArea;\n\t\tlet noteContent = noteArea.querySelector(\".pagedjs_footnote_content\");\n\t\tlet noteInnerContent = noteArea.querySelector(\".pagedjs_footnote_inner_content\");\n\n\t\tlet noteContentBounds = noteContent.getBoundingClientRect();\n\t\tlet { width } = noteContentBounds;\n\n\t\tnoteInnerContent.style.columnWidth = Math.round(width) + \"px\";\n\t\tnoteInnerContent.style.columnGap = \"calc(var(--pagedjs-margin-right) + var(--pagedjs-margin-left))\";\n\n\t\t// Get overflow\n\t\tlet layout = new Layout(noteArea, undefined, chunker.settings);\n\t\tlet overflow = layout.findOverflow(noteInnerContent, noteContentBounds);\n\n\t\tif (overflow) {\n\t\t\tlet { startContainer, startOffset } = overflow;\n\t\t\tlet startIsNode;\n\t\t\tif (isElement(startContainer)) {\n\t\t\t\tlet start = startContainer.childNodes[startOffset];\n\t\t\t\tstartIsNode = isElement(start) && start.hasAttribute(\"data-footnote-marker\");\n\t\t\t}\n\n\t\t\tlet extracted = overflow.extractContents();\n\n\t\t\tif (!startIsNode) {\n\t\t\t\tlet splitChild = extracted.firstElementChild;\n\t\t\t\tsplitChild.dataset.splitFrom = splitChild.dataset.ref;\n\n\t\t\t\tthis.handleAlignment(noteInnerContent.lastElementChild);\n\t\t\t}\n\n\t\t\tthis.needsLayout.push(extracted);\n\n\t\t\tnoteContent.style.removeProperty(\"height\");\n\t\t\tnoteInnerContent.style.removeProperty(\"height\");\n\n\t\t\tlet noteInnerContentBounds = noteInnerContent.getBoundingClientRect();\n\t\t\tlet { height } = noteInnerContentBounds;\n\n\t\t\t// Get the @footnote margins\n\t\t\tlet noteContentMargins = this.marginsHeight(noteContent);\n\t\t\tlet noteContentPadding = this.paddingHeight(noteContent);\n\t\t\tlet noteContentBorders = this.borderHeight(noteContent);\n\t\t\tpageArea.style.setProperty(\n\t\t\t\t\"--pagedjs-footnotes-height\",\n\t\t\t\t`${height + noteContentMargins + noteContentBorders + noteContentPadding}px`\n\t\t\t);\n\n\t\t\t// Hide footnote content if empty\n\t\t\tif (noteInnerContent.childNodes.length === 0) {\n\t\t\t\tnoteContent.classList.add(\"pagedjs_footnote_empty\");\n\t\t\t}\n\n\t\t\tif (!breakToken) {\n\t\t\t\tchunker.clonePage(page);\n\t\t\t} else {\n\t\t\t\tlet breakBefore, previousBreakAfter;\n\t\t\t\tif (\n\t\t\t\t\tbreakToken.node &&\n\t\t\t\t\ttypeof breakToken.node.dataset !== \"undefined\" &&\n\t\t\t\t\ttypeof breakToken.node.dataset.previousBreakAfter !== \"undefined\"\n\t\t\t\t) {\n\t\t\t\t\tpreviousBreakAfter = breakToken.node.dataset.previousBreakAfter;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tbreakToken.node &&\n\t\t\t\t\ttypeof breakToken.node.dataset !== \"undefined\" &&\n\t\t\t\t\ttypeof breakToken.node.dataset.breakBefore !== \"undefined\"\n\t\t\t\t) {\n\t\t\t\t\tbreakBefore = breakToken.node.dataset.breakBefore;\n\t\t\t\t}\n\n\t\t\t\tif (breakBefore || previousBreakAfter) {\n\t\t\t\t\tchunker.clonePage(page);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tnoteInnerContent.style.height = \"auto\";\n\t}\n\n\thandleAlignment(node) {\n\t\tlet styles = window.getComputedStyle(node);\n\t\tlet alignLast = styles[\"text-align-last\"];\n\t\tnode.dataset.lastSplitElement = \"true\";\n\t\tif (alignLast === \"auto\") {\n\t\t\tnode.dataset.alignLastSplitElement = \"justify\";\n\t\t} else {\n\t\t\tnode.dataset.alignLastSplitElement = alignLast;\n\t\t}\n\t}\n\n\tbeforePageLayout(page) {\n\t\twhile (this.needsLayout.length) {\n\t\t\tlet fragment = this.needsLayout.shift();\n\n\t\t\tArray.from(fragment.childNodes).forEach((node) => {\n\t\t\t\tthis.moveFootnote(\n\t\t\t\t\tnode,\n\t\t\t\t\tpage.element.querySelector(\".pagedjs_area\"),\n\t\t\t\t\tfalse\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t}\n\n\tafterOverflowRemoved(removed, rendered) {\n\t\t// Find the page area\n\t\tlet area = rendered.closest(\".pagedjs_area\");\n\t\t// Get any rendered footnotes\n\t\tlet notes = area.querySelectorAll(\".pagedjs_footnote_area [data-note='footnote']\");\n\t\tfor (let n = 0; n < notes.length; n++) {\n\t\t\tconst note = notes[n];\n\t\t\t// Check if the call for that footnote has been removed with the overflow\n\t\t\tlet call = removed.querySelector(`[data-footnote-call=\"${note.dataset.ref}\"]`);\n\t\t\tif (call) {\n\t\t\t\tnote.remove();\n\t\t\t}\n\t\t}\n\t\t// Hide footnote content if empty\n\t\tlet noteInnerContent = area.querySelector(\".pagedjs_footnote_inner_content\");\n\t\tif (noteInnerContent && noteInnerContent.childNodes.length === 0) {\n\t\t\tnoteInnerContent.parentElement.classList.add(\"pagedjs_footnote_empty\");\n\t\t}\n\t}\n\n\tmarginsHeight(element, total=true) {\n\t\tlet styles = window.getComputedStyle(element);\n\t\tlet marginTop = parseInt(styles.marginTop);\n\t\tlet marginBottom = parseInt(styles.marginBottom);\n\t\tlet margin = 0;\n\t\tif (marginTop) {\n\t\t\tmargin += marginTop;\n\t\t}\n\t\tif (marginBottom && total) {\n\t\t\tmargin += marginBottom;\n\t\t}\n\t\treturn margin;\n\t}\n\n\tpaddingHeight(element, total=true) {\n\t\tlet styles = window.getComputedStyle(element);\n\t\tlet paddingTop = parseInt(styles.paddingTop);\n\t\tlet paddingBottom = parseInt(styles.paddingBottom);\n\t\tlet padding = 0;\n\t\tif (paddingTop) {\n\t\t\tpadding += paddingTop;\n\t\t}\n\t\tif (paddingBottom && total) {\n\t\t\tpadding += paddingBottom;\n\t\t}\n\t\treturn padding;\n\t}\n\n\tborderHeight(element, total=true) {\n\t\tlet styles = window.getComputedStyle(element);\n\t\tlet borderTop = parseInt(styles.borderTop);\n\t\tlet borderBottom = parseInt(styles.borderBottom);\n\t\tlet borders = 0;\n\t\tif (borderTop) {\n\t\t\tborders += borderTop;\n\t\t}\n\t\tif (borderBottom && total) {\n\t\t\tborders += borderBottom;\n\t\t}\n\t\treturn borders;\n\t}\n}\n\nexport default Footnotes;\n","export function cleanPseudoContent(el, trim = \"\\\"' \") {\n\tif(el == null) return;\n\treturn el\n\t\t.replace(new RegExp(`^[${trim}]+`), \"\")\n\t\t.replace(new RegExp(`[${trim}]+$`), \"\")\n\t\t.replace(/[\"']/g, match => {\n\t\t\treturn \"\\\\\" + match;\n\t\t})\n\t\t.replace(/[\\n]/g, match => {\n\t\t\treturn \"\\\\00000A\";\n\t\t});\n}\n\nexport function cleanSelector(el) {\n\tif(el == null) return;\n\treturn el\n\t\t.replace(new RegExp(\"::footnote-call\", \"g\"), \"\")\n\t\t.replace(new RegExp(\"::footnote-marker\", \"g\"), \"\");\n}\n","import RunningHeaders from \"./running-headers.js\";\nimport StringSets from \"./string-sets.js\";\nimport TargetCounters from \"./target-counters.js\";\nimport TargetText from \"./target-text.js\";\n\nexport default [\n\tRunningHeaders,\n\tStringSets,\n\tTargetCounters,\n\tTargetText\n];\n","import Handler from \"../handler.js\";\nimport csstree from \"css-tree\";\n\nclass RunningHeaders extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\n\t\tthis.runningSelectors = {};\n\t\tthis.elements = {};\n\t}\n\n\tonDeclaration(declaration, dItem, dList, rule) {\n\t\tif (declaration.property === \"position\") {\n\t\t\tlet selector = csstree.generate(rule.ruleNode.prelude);\n\t\t\tlet identifier = declaration.value.children.first().name;\n\n\t\t\tif (identifier === \"running\") {\n\t\t\t\tlet value;\n\t\t\t\tcsstree.walk(declaration, {\n\t\t\t\t\tvisit: \"Function\",\n\t\t\t\t\tenter: (node, item, list) => {\n\t\t\t\t\t\tvalue = node.children.first().name;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.runningSelectors[value] = {\n\t\t\t\t\tidentifier: identifier,\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tselector: selector\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (declaration.property === \"content\") {\n\n\t\t\tcsstree.walk(declaration, {\n\t\t\t\tvisit: \"Function\",\n\t\t\t\tenter: (funcNode, fItem, fList) => {\n\n\t\t\t\t\tif (funcNode.name.indexOf(\"element\") > -1) {\n\n\t\t\t\t\t\tlet selector = csstree.generate(rule.ruleNode.prelude);\n\n\t\t\t\t\t\tlet func = funcNode.name;\n\n\t\t\t\t\t\tlet value = funcNode.children.first().name;\n\n\t\t\t\t\t\tlet args = [value];\n\n\t\t\t\t\t\t// we only handle first for now\n\t\t\t\t\t\tlet style = \"first\";\n\n\t\t\t\t\t\tselector.split(\",\").forEach((s) => {\n\t\t\t\t\t\t\t// remove before / after\n\t\t\t\t\t\t\ts = s.replace(/::after|::before/, \"\");\n\n\t\t\t\t\t\t\tthis.elements[s] = {\n\t\t\t\t\t\t\t\tfunc: func,\n\t\t\t\t\t\t\t\targs: args,\n\t\t\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\t\t\tstyle: style || \"first\",\n\t\t\t\t\t\t\t\tselector: s,\n\t\t\t\t\t\t\t\tfullSelector: selector\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tafterParsed(fragment) {\n\t\tfor (let name of Object.keys(this.runningSelectors)) {\n\t\t\tlet set = this.runningSelectors[name];\n\t\t\tlet selected = Array.from(fragment.querySelectorAll(set.selector));\n\n\t\t\tif (set.identifier === \"running\") {\n\t\t\t\tfor (let header of selected) {\n\t\t\t\t\theader.style.display = \"none\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n\n\tafterPageLayout(fragment) {\n\t\tfor (let name of Object.keys(this.runningSelectors)) {\n\t\t\tlet set = this.runningSelectors[name];\n\t\t\tlet selected = fragment.querySelector(set.selector);\n\t\t\tif (selected) {\n\t\t\t\t// let cssVar;\n\t\t\t\tif (set.identifier === \"running\") {\n\t\t\t\t\t// cssVar = selected.textContent.replace(/\\\\([\\s\\S])|([\"|'])/g,\"\\\\$1$2\");\n\t\t\t\t\t// this.styleSheet.insertRule(`:root { --string-${name}: \"${cssVar}\"; }`, this.styleSheet.cssRules.length);\n\t\t\t\t\t// fragment.style.setProperty(`--string-${name}`, `\"${cssVar}\"`);\n\t\t\t\t\tset.first = selected;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn(set.value + \"needs css replacement\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// move elements\n\t\tif (!this.orderedSelectors) {\n\t\t\tthis.orderedSelectors = this.orderSelectors(this.elements);\n\t\t}\n\n\t\tfor (let selector of this.orderedSelectors) {\n\t\t\tif (selector) {\n\n\t\t\t\tlet el = this.elements[selector];\n\t\t\t\tlet selected = fragment.querySelector(selector);\n\t\t\t\tif (selected) {\n\t\t\t\t\tlet running = this.runningSelectors[el.args[0]];\n\t\t\t\t\tif (running && running.first) {\n\t\t\t\t\t\tselected.innerHTML = \"\"; // Clear node\n\t\t\t\t\t\t// selected.classList.add(\"pagedjs_clear-after\"); // Clear ::after\n\t\t\t\t\t\tlet clone = running.first.cloneNode(true);\n\t\t\t\t\t\tclone.style.display = null;\n\t\t\t\t\t\tselected.appendChild(clone);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Assign a weight to @page selector classes\n\t* 1) page\n\t* 2) left & right\n\t* 3) blank\n\t* 4) first & nth\n\t* 5) named page\n\t* 6) named left & right\n\t* 7) named first & nth\n\t* @param {string} [s] selector string\n\t* @return {int} weight\n\t*/\n\tpageWeight(s) {\n\t\tlet weight = 1;\n\t\tlet selector = s.split(\" \");\n\t\tlet parts = selector.length && selector[0].split(\".\");\n\n\t\tparts.shift(); // remove empty first part\n\n\t\tswitch (parts.length) {\n\t\t\tcase 4:\n\t\t\t\tif (/^pagedjs_[\\w-]+_first_page$/.test(parts[3])) {\n\t\t\t\t\tweight = 7;\n\t\t\t\t} else if (parts[3] === \"pagedjs_left_page\" || parts[3] === \"pagedjs_right_page\") {\n\t\t\t\t\tweight = 6;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tif (parts[1] === \"pagedjs_named_page\") {\n\t\t\t\t\tif (parts[2].indexOf(\":nth-of-type\") > -1) {\n\t\t\t\t\t\tweight = 7;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tweight = 5;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tif (parts[1] === \"pagedjs_first_page\") {\n\t\t\t\t\tweight = 4;\n\t\t\t\t} else if (parts[1] === \"pagedjs_blank_page\") {\n\t\t\t\t\tweight = 3;\n\t\t\t\t} else if (parts[1] === \"pagedjs_left_page\" || parts[1] === \"pagedjs_right_page\") {\n\t\t\t\t\tweight = 2;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif (parts[0].indexOf(\":nth-of-type\") > -1) {\n\t\t\t\t\tweight = 4;\n\t\t\t\t} else {\n\t\t\t\t\tweight = 1;\n\t\t\t\t}\n\t\t}\n\n\t\treturn weight;\n\t}\n\n\t/**\n\t* Orders the selectors based on weight\n\t*\n\t* Does not try to deduplicate base on specifity of the selector\n\t* Previous matched selector will just be overwritten\n\t* @param {obj} [obj] selectors object\n\t* @return {Array} orderedSelectors\n\t*/\n\torderSelectors(obj) {\n\t\tlet selectors = Object.keys(obj);\n\t\tlet weighted = {\n\t\t\t1: [],\n\t\t\t2: [],\n\t\t\t3: [],\n\t\t\t4: [],\n\t\t\t5: [],\n\t\t\t6: [],\n\t\t\t7: []\n\t\t};\n\n\t\tlet orderedSelectors = [];\n\n\t\tfor (let s of selectors) {\n\t\t\tlet w = this.pageWeight(s);\n\t\t\tweighted[w].unshift(s);\n\t\t}\n\n\t\tfor (var i = 1; i <= 7; i++) {\n\t\t\torderedSelectors = orderedSelectors.concat(weighted[i]);\n\t\t}\n\n\t\treturn orderedSelectors;\n\t}\n\n\tbeforeTreeParse(text, sheet) {\n\t\t// element(x) is parsed as image element selector, so update element to element-ident\n\t\tsheet.text = text.replace(/element[\\s]*\\(([^|^#)]*)\\)/g, \"element-ident($1)\");\n\t}\n}\n\nexport default RunningHeaders;\n","import Handler from \"../handler.js\";\nimport csstree from \"css-tree\";\nimport { cleanPseudoContent } from \"../../utils/css.js\";\n\nclass StringSets extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\n\t\tthis.stringSetSelectors = {};\n\t\tthis.type;\n\t\t// pageLastString = last string variable defined on the page\n\t\tthis.pageLastString;\n\n\t}\n\t\n\tonDeclaration(declaration, dItem, dList, rule) {\n\t\tif (declaration.property === \"string-set\") {\n\t\t\tlet selector = csstree.generate(rule.ruleNode.prelude);\n\n\t\t\tlet identifiers = [];\n\t\t\tlet functions = [];\n\t\t\tlet values = [];\n\n\t\t\tdeclaration.value.children.forEach((child) => {\n\t\t\t\tif (child.type === \"Identifier\") {\n\t\t\t\t\tidentifiers.push(child.name);\n\t\t\t\t}\n\t\t\t\tif (child.type === \"Function\") {\n\t\t\t\t\tfunctions.push(child.name);\n\t\t\t\t\tchild.children.forEach((subchild) => {\n\t\t\t\t\t\tif (subchild.type === \"Identifier\") {\n\t\t\t\t\t\t\tvalues.push(subchild.name);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tidentifiers.forEach((identifier, index) => {\n\t\t\t\tlet func = functions[index];\n\t\t\t\tlet value = values[index];\n\t\t\t\tthis.stringSetSelectors[identifier] = {\n\t\t\t\t\tidentifier,\n\t\t\t\t\tfunc,\n\t\t\t\t\tvalue,\n\t\t\t\t\tselector\n\t\t\t\t};\n\t\t\t});\n\n\t\t}\n\t}\n\n\tonContent(funcNode, fItem, fList, declaration, rule) {\n\n\t\tif (funcNode.name === \"string\") {\n\t\t\tlet identifier = funcNode.children && funcNode.children.first().name;\n\t\t\tthis.type = funcNode.children.last().name;\n\t\t\tfuncNode.name = \"var\";\n\t\t\tfuncNode.children = new csstree.List();\n\n \n\t\t\tif(this.type === \"first\" || this.type === \"last\" || this.type === \"start\" || this.type === \"first-except\"){\n\t\t\t\tfuncNode.children.append(\n\t\t\t\t\tfuncNode.children.createItem({\n\t\t\t\t\t\ttype: \"Identifier\",\n\t\t\t\t\t\tloc: null,\n\t\t\t\t\t\tname: \"--pagedjs-string-\" + this.type + \"-\" + identifier\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}else{\n\t\t\t\tfuncNode.children.append(\n\t\t\t\t\tfuncNode.children.createItem({\n\t\t\t\t\t\ttype: \"Identifier\",\n\t\t\t\t\t\tloc: null,\n\t\t\t\t\t\tname: \"--pagedjs-string-first-\" + identifier\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tafterPageLayout(fragment) {\n\n\t\n\t\tif ( this.pageLastString === undefined )\n\t\t{\n\t\t\tthis.pageLastString = {};\n\t\t}\n\n\t\t\n\t\tfor (let name of Object.keys(this.stringSetSelectors)) {\n\t\n\t\t\tlet set = this.stringSetSelectors[name];\n\t\t\tlet value = set.value;\n\t\t\tlet func = set.func;\n\t\t\tlet selected = fragment.querySelectorAll(set.selector);\n\n\t\t\t// Get the last found string for the current identifier\n\t\t\tlet stringPrevPage = ( name in this.pageLastString ) ? this.pageLastString[name] : \"\";\n\n\t\t\tlet varFirst, varLast, varStart, varFirstExcept;\n\n\t\t\tif(selected.length == 0){\n\t\t\t\t// if there is no sel. on the page\n\t\t\t\tvarFirst = stringPrevPage;\n\t\t\t\tvarLast = stringPrevPage;\n\t\t\t\tvarStart = stringPrevPage;\n\t\t\t\tvarFirstExcept = stringPrevPage;\n\t\t\t}else{\n\n\t\t\t\tselected.forEach((sel) => {\n\t\t\t\t\t// push each content into the array to define in the variable the first and the last element of the page.\n\t\t\t\t\tif (func === \"content\") {\n\t\t\t\t\t\tthis.pageLastString[name] = selected[selected.length - 1].textContent;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (func === \"attr\") {\n\t\t\t\t\t\tthis.pageLastString[name] = selected[selected.length - 1].getAttribute(value) || \"\";\n\t\t\t\t\t}\n\n\t\t\t\t});\t\n\n\t\t\t\t/* FIRST */\n\t\n\t\t\t\tif (func === \"content\") {\n\t\t\t\t\tvarFirst = selected[0].textContent;\n\t\t\t\t}\n\n\t\t\t\tif (func === \"attr\") {\n\t\t\t\t\tvarFirst = selected[0].getAttribute(value) || \"\";\n\t\t\t\t}\n\n\n\t\t\t\t/* LAST */\n\n\t\t\t\tif (func === \"content\") {\n\t\t\t\t\tvarLast = selected[selected.length - 1].textContent;\n\t\t\t\t}\n\n\t\t\t\tif (func === \"attr\") {\n\t\t\t\t\tvarLast = selected[selected.length - 1].getAttribute(value) || \"\";\n\t\t\t\t}\n\n\n\t\t\t\t/* START */\n\n\t\t\t\t// Hack to find if the sel. is the first elem of the page / find a better way \n\t\t\t\tlet selTop = selected[0].getBoundingClientRect().top;\n\t\t\t\tlet pageContent = selected[0].closest(\".pagedjs_page_content\");\n\t\t\t\tlet pageContentTop = pageContent.getBoundingClientRect().top;\n\n\t\t\t\tif(selTop == pageContentTop){\n\t\t\t\t\tvarStart = varFirst;\n\t\t\t\t}else{\n\t\t\t\t\tvarStart = stringPrevPage;\n\t\t\t\t}\n\n\t\t\t\t/* FIRST EXCEPT */\n\n\t\t\t\tvarFirstExcept = \"\";\n\t\t\t\t\n\t\t\t}\n\n\t\t\tfragment.style.setProperty(`--pagedjs-string-first-${name}`, `\"${cleanPseudoContent(varFirst)}`);\n\t\t\tfragment.style.setProperty(`--pagedjs-string-last-${name}`, `\"${cleanPseudoContent(varLast)}`);\n\t\t\tfragment.style.setProperty(`--pagedjs-string-start-${name}`, `\"${cleanPseudoContent(varStart)}`);\n\t\t\tfragment.style.setProperty(`--pagedjs-string-first-except-${name}`, `\"${cleanPseudoContent(varFirstExcept)}`);\n\t\t\t\n\t\n\t\t}\n\t}\n\t\n\n}\n\n\n\nexport default StringSets;\n","import Handler from \"../handler.js\";\nimport {attr, querySelectorEscape, UUID} from \"../../utils/utils.js\";\nimport csstree from \"css-tree\";\n\nclass TargetCounters extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\n\t\tthis.styleSheet = polisher.styleSheet;\n\n\t\tthis.counterTargets = {};\n\t}\n\n\tonContent(funcNode, fItem, fList, declaration, rule) {\n\t\tif (funcNode.name === \"target-counter\") {\n\t\t\tlet selector = csstree.generate(rule.ruleNode.prelude);\n\n\t\t\tlet first = funcNode.children.first();\n\t\t\tlet func = first.name;\n\n\t\t\tlet value = csstree.generate(funcNode);\n\n\t\t\tlet args = [];\n\n\t\t\tfirst.children.forEach((child) => {\n\t\t\t\tif (child.type === \"Identifier\") {\n\n\t\t\t\t\targs.push(child.name);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet counter;\n\t\t\tlet style;\n\t\t\tlet styleIdentifier;\n\n\t\t\tfuncNode.children.forEach((child) => {\n\t\t\t\tif (child.type === \"Identifier\") {\n\t\t\t\t\tif (!counter) {\n\t\t\t\t\t\tcounter = child.name;\n\t\t\t\t\t} else if (!style) {\n\t\t\t\t\t\tstyleIdentifier = csstree.clone(child);\n\t\t\t\t\t\tstyle = child.name;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet variable = \"target-counter-\" + UUID();\n\n\t\t\tselector.split(\",\").forEach((s) => {\n\t\t\t\tthis.counterTargets[s] = {\n\t\t\t\t\tfunc: func,\n\t\t\t\t\targs: args,\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tcounter: counter,\n\t\t\t\t\tstyle: style,\n\t\t\t\t\tselector: s,\n\t\t\t\t\tfullSelector: selector,\n\t\t\t\t\tvariable: variable\n\t\t\t\t};\n\t\t\t});\n\n\t\t\t// Replace with counter\n\t\t\tfuncNode.name = \"counter\";\n\t\t\tfuncNode.children = new csstree.List();\n\t\t\tfuncNode.children.appendData({\n\t\t\t\ttype: \"Identifier\",\n\t\t\t\tloc: 0,\n\t\t\t\tname: variable\n\t\t\t});\n\n\t\t\tif (styleIdentifier) {\n\t\t\t\tfuncNode.children.appendData({type: \"Operator\", loc: null, value: \",\"});\n\t\t\t\tfuncNode.children.appendData(styleIdentifier);\n\t\t\t}\n\t\t}\n\t}\n\n\tafterPageLayout(fragment, page, breakToken, chunker) {\n\t\tObject.keys(this.counterTargets).forEach((name) => {\n\t\t\tlet target = this.counterTargets[name];\n\t\t\tlet split = target.selector.split(/::?/g);\n\t\t\tlet query = split[0];\n\n\t\t\tlet queried = chunker.pagesArea.querySelectorAll(query + \":not([data-\" + target.variable + \"])\");\n\n\t\t\tqueried.forEach((selected, index) => {\n\t\t\t\t// TODO: handle func other than attr\n\t\t\t\tif (target.func !== \"attr\") {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet val = attr(selected, target.args);\n\t\t\t\tlet element = chunker.pagesArea.querySelector(querySelectorEscape(val));\n\n\t\t\t\tif (element) {\n\t\t\t\t\tlet selector = UUID();\n\t\t\t\t\tselected.setAttribute(\"data-\" + target.variable, selector);\n\t\t\t\t\t// TODO: handle other counter types (by query)\n\t\t\t\t\tlet pseudo = \"\";\n\t\t\t\t\tif (split.length > 1) {\n\t\t\t\t\t\tpseudo += \"::\" + split[1];\n\t\t\t\t\t}\n\t\t\t\t\tif (target.counter === \"page\") {\n\t\t\t\t\t\tlet pages = chunker.pagesArea.querySelectorAll(\".pagedjs_page\");\n\t\t\t\t\t\tlet pg = 0;\n\t\t\t\t\t\tfor (let i = 0; i < pages.length; i++) {\n\t\t\t\t\t\t\tlet page = pages[i];\n\t\t\t\t\t\t\tlet styles = window.getComputedStyle(page);\n\t\t\t\t\t\t\tlet reset = styles[\"counter-reset\"].replace(\"page\", \"\").trim();\n\t\t\t\t\t\t\tlet increment = styles[\"counter-increment\"].replace(\"page\", \"\").trim();\n\n\t\t\t\t\t\t\tif (reset !== \"none\") {\n\t\t\t\t\t\t\t\tpg = parseInt(reset);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (increment !== \"none\") {\n\t\t\t\t\t\t\t\tpg += parseInt(increment);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (page.contains(element)){\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.styleSheet.insertRule(`[data-${target.variable}=\"${selector}\"]${pseudo} { counter-reset: ${target.variable} ${pg}; }`, this.styleSheet.cssRules.length);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet value = element.getAttribute(`data-counter-${target.counter}-value`);\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\tthis.styleSheet.insertRule(`[data-${target.variable}=\"${selector}\"]${pseudo} { counter-reset: ${target.variable} ${target.variable} ${parseInt(value)}; }`, this.styleSheet.cssRules.length);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// force redraw\n\t\t\t\t\tlet el = document.querySelector(`[data-${target.variable}=\"${selector}\"]`);\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tel.style.display = \"none\";\n\t\t\t\t\t\tel.clientHeight;\n\t\t\t\t\t\tel.style.removeProperty(\"display\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport default TargetCounters;\n","import Handler from \"../handler.js\";\nimport { UUID, attr, querySelectorEscape } from \"../../utils/utils.js\";\nimport { cleanPseudoContent } from \"../../utils/css.js\";\nimport csstree from \"css-tree\";\n// import { nodeAfter } from \"../../utils/dom\";\n\nclass TargetText extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\n\t\tthis.styleSheet = polisher.styleSheet;\n\t\tthis.textTargets = {};\n\t\tthis.beforeContent = \"\";\n\t\tthis.afterContent = \"\";\n\t\tthis.selector = {};\n\t}\n\n\tonContent(funcNode, fItem, fList, declaration, rule) {\n\t\tif (funcNode.name === \"target-text\") {\n\t\t\tthis.selector = csstree.generate(rule.ruleNode.prelude);\n\t\t\tlet first = funcNode.children.first();\n\t\t\tlet last = funcNode.children.last();\n\t\t\tlet func = first.name;\n\n\t\t\tlet value = csstree.generate(funcNode);\n\n\t\t\tlet args = [];\n\n\t\t\tfirst.children.forEach(child => {\n\t\t\t\tif (child.type === \"Identifier\") {\n\t\t\t\t\targs.push(child.name);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet style;\n\t\t\tif (last !== first) {\n\t\t\t\tstyle = last.name;\n\t\t\t}\n\n\t\t\tlet variable = \"--pagedjs-\" + UUID();\n\n\t\t\tthis.selector.split(\",\").forEach(s => {\n\t\t\t\tthis.textTargets[s] = {\n\t\t\t\t\tfunc: func,\n\t\t\t\t\targs: args,\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tstyle: style || \"content\",\n\t\t\t\t\tselector: s,\n\t\t\t\t\tfullSelector: this.selector,\n\t\t\t\t\tvariable: variable\n\t\t\t\t};\n\t\t\t});\n\n\t\t\t// Replace with variable\n\t\t\tfuncNode.name = \"var\";\n\t\t\tfuncNode.children = new csstree.List();\n\t\t\tfuncNode.children.appendData({\n\t\t\t\ttype: \"Identifier\",\n\t\t\t\tloc: 0,\n\t\t\t\tname: variable\n\t\t\t});\n\t\t}\n\t}\n\n\t//   parse this on the ONCONTENT : get all before and after and replace the value with a variable\n\tonPseudoSelector(pseudoNode, pItem, pList, selector, rule) {\n\t\t// console.log(pseudoNode);\n\t\t// console.log(rule);\n\n\t\trule.ruleNode.block.children.forEach(properties => {\n\t\t\tif (pseudoNode.name === \"before\" && properties.property === \"content\") {\n\t\t\t\t// let beforeVariable = \"--pagedjs-\" + UUID();\n\n\t\t\t\tlet contenu = properties.value.children;\n\t\t\t\tcontenu.forEach(prop => {\n\t\t\t\t\tif (prop.type === \"String\") {\n\t\t\t\t\t\tthis.beforeContent = prop.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (pseudoNode.name === \"after\" && properties.property === \"content\") {\n\t\t\t\tproperties.value.children.forEach(prop => {\n\t\t\t\t\tif (prop.type === \"String\") {\n\t\t\t\t\t\tthis.afterContent = prop.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tafterParsed(fragment) {\n\t\tObject.keys(this.textTargets).forEach(name => {\n\t\t\tlet target = this.textTargets[name];\n\t\t\tlet split = target.selector.split(\"::\");\n\t\t\tlet query = split[0];\n\t\t\tlet queried = fragment.querySelectorAll(query);\n\t\t\tlet textContent;\n\t\t\tqueried.forEach((selected, index) => {\n\t\t\t\tlet val = attr(selected, target.args);\n\t\t\t\tlet element = fragment.querySelector(querySelectorEscape(val));\n\t\t\t\tif (element) {\n\t\t\t\t\t// content & first-letter & before & after refactorized\n\t\t\t\t\tif (target.style) {\n\t\t\t\t\t\tthis.selector = UUID();\n\t\t\t\t\t\tselected.setAttribute(\"data-target-text\", this.selector);\n\n\t\t\t\t\t\tlet psuedo = \"\";\n\t\t\t\t\t\tif (split.length > 1) {\n\t\t\t\t\t\t\tpsuedo += \"::\" + split[1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (target.style === \"before\" || target.style === \"after\") {\n\t\t\t\t\t\t\tconst pseudoType = `${target.style}Content`;\n\t\t\t\t\t\t\ttextContent = cleanPseudoContent(this[pseudoType]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttextContent = cleanPseudoContent(element.textContent, \" \");\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttextContent = target.style === \"first-letter\" ? textContent.charAt(0) : textContent;\n\t\t\t\t\t\tthis.styleSheet.insertRule(`[data-target-text=\"${this.selector}\"]${psuedo} { ${target.variable}: \"${textContent}\" }`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn(\"missed target\", val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport default TargetText;\n\n","/**\n * Originally ported from https://github.com/keeganstreet/specificity/blob/866bf7ab4e7f62a7179c15b13a95af4e1c7b1afa/specificity.js\n *\n * Calculates the specificity of CSS selectors\n * http://www.w3.org/TR/css3-selectors/#specificity\n *\n * Returns a selector integer value\n */\n\n// The following regular expressions assume that selectors matching the preceding regular expressions have been removed\nvar attributeRegex = /(\\[[^\\]]+\\])/g;\nvar idRegex = /(#[^\\s\\+>~\\.\\[:]+)/g;\nvar classRegex = /(\\.[^\\s\\+>~\\.\\[:]+)/g;\nvar pseudoElementRegex = /(::[^\\s\\+>~\\.\\[:]+|:first-line|:first-letter|:before|:after)/g;\nvar pseudoClassRegex = /(:[^\\s\\+>~\\.\\[:]+)/g;\nvar elementRegex = /([^\\s\\+>~\\.\\[:]+)/g;\nvar notRegex = /:not\\(([^\\)]*)\\)/g;\nvar ruleRegex = /\\{[^]*/gm;\nvar separatorRegex = /[\\*\\s\\+>~]/g;\nvar straysRegex = /[#\\.]/g;\n\n// Find matches for a regular expression in a string and push their details to parts\n// Type is \"a\" for IDs, \"b\" for classes, attributes and pseudo-classes and \"c\" for elements and pseudo-elements\nvar findMatch = function(regex, type, types, selector) {\n  var matches = selector.match(regex);\n  if (matches) {\n    for (var i = 0; i < matches.length; i++) {\n      types[type]++;\n      // Replace this simple selector with whitespace so it won't be counted in further simple selectors\n      selector = selector.replace(matches[i], ' ');\n    }\n  }\n\n  return selector;\n}\n\n// Calculate the specificity for a selector by dividing it into simple selectors and counting them\nvar calculate = function(selector) {\n  var commaIndex = selector.indexOf(',');\n  if (commaIndex !== -1) {\n    selector = selector.substring(0, commaIndex);\n  }\n\n  var  types = {\n    a: 0,\n    b: 0,\n    c: 0\n  };\n\n  // Remove the negation psuedo-class (:not) but leave its argument because specificity is calculated on its argument\n  selector = selector.replace(notRegex, ' $1 ');\n\n  // Remove anything after a left brace in case a user has pasted in a rule, not just a selector\n  selector = selector.replace(ruleRegex, ' ');\n\n  // Add attribute selectors to parts collection (type b)\n  selector = findMatch(attributeRegex, 'b', types, selector);\n\n  // Add ID selectors to parts collection (type a)\n  selector = findMatch(idRegex, 'a', types, selector);\n\n  // Add class selectors to parts collection (type b)\n  selector = findMatch(classRegex, 'b', types, selector);\n\n  // Add pseudo-element selectors to parts collection (type c)\n  selector = findMatch(pseudoElementRegex, 'c', types, selector);\n\n  // Add pseudo-class selectors to parts collection (type b)\n  selector = findMatch(pseudoClassRegex, 'b', types, selector);\n\n  // Remove universal selector and separator characters\n  selector = selector.replace(separatorRegex, ' ');\n\n  // Remove any stray dots or hashes which aren't attached to words\n  // These may be present if the user is live-editing this selector\n  selector = selector.replace(straysRegex, ' ');\n\n  // The only things left should be element selectors (type c)\n  findMatch(elementRegex, 'c', types, selector);\n\n  return (types.a * 100) + (types.b * 10) + (types.c * 1);\n}\n\nvar specificityCache = {};\n\nexports.calculateSpecificity = function(selector) {\n  var specificity = specificityCache[selector];\n  if (specificity === undefined) {\n    specificity = calculate(selector);\n    specificityCache[selector] = specificity;\n  }\n  return specificity;\n}\n\nvar validSelectorCache = {};\nvar testSelectorElement = null;\n\nexports.isSelectorValid = function(selector) {\n  var valid = validSelectorCache[selector];\n  if (valid === undefined) {\n    if (testSelectorElement == null) {\n      testSelectorElement = document.createElement('div')\n    }\n\n    try {\n      testSelectorElement.querySelector(selector);\n      valid = true;\n    } catch (error) {\n      valid = false;\n    }\n    validSelectorCache[selector] = valid;\n  }\n  return valid;\n}\n\nexports.validateSelector = function(selector) {\n  if (!exports.isSelectorValid(selector)) {\n    var error = new SyntaxError(selector + ' is not a valid selector');\n    error.code = 'EBADSELECTOR';\n    throw error;\n  }\n}\n","import WhiteSpaceFilter from \"./whitespace.js\";\nimport CommentsFilter from \"./comments.js\";\nimport ScriptsFilter from \"./scripts.js\";\nimport UndisplayedFilter from \"./undisplayed.js\";\n\nexport default [\n\tWhiteSpaceFilter,\n\tCommentsFilter,\n\tScriptsFilter,\n\tUndisplayedFilter\n];\n","import Handler from \"../handler.js\";\nimport {isElement, isIgnorable, nextSignificantNode, previousSignificantNode, filterTree} from \"../../utils/dom.js\";\n\nclass WhiteSpaceFilter extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\t}\n\n\tfilter(content) {\n\n\t\tfilterTree(content, (node) => {\n\t\t\treturn this.filterEmpty(node);\n\t\t}, NodeFilter.SHOW_TEXT);\n\n\t}\n\n\tfilterEmpty(node) {\n\t\tif (node.textContent.length > 1 && isIgnorable(node)) {\n\n\t\t\t// Do not touch the content if text is pre-formatted\n\t\t\tlet parent = node.parentNode;\n\t\t\tlet pre = isElement(parent) && parent.closest(\"pre\");\n\t\t\tif (pre) {\n\t\t\t\treturn NodeFilter.FILTER_REJECT;\n\t\t\t}\n\n\t\t\tconst previousSibling = previousSignificantNode(node);\n\t\t\tconst nextSibling = nextSignificantNode(node);\n\n\t\t\tif (nextSibling === null && previousSibling === null) {\n\t\t\t\t// we should not remove a Node that does not have any siblings.\n\t\t\t\tnode.textContent = \" \";\n\t\t\t\treturn NodeFilter.FILTER_REJECT;\n\t\t\t}\n\t\t\tif (nextSibling === null) {\n\t\t\t\t// we can safely remove this node\n\t\t\t\treturn NodeFilter.FILTER_ACCEPT;\n\t\t\t}\n\t\t\tif (previousSibling === null) {\n\t\t\t\t// we can safely remove this node\n\t\t\t\treturn NodeFilter.FILTER_ACCEPT;\n\t\t\t}\n\n\t\t\t// replace the content with a single space\n\t\t\tnode.textContent = \" \";\n\n\t\t\t// TODO: we also need to preserve sequences of white spaces when the parent has \"white-space\" rule:\n\t\t\t// pre\n\t\t\t// Sequences of white space are preserved. Lines are only broken at newline characters in the source and at <br> elements.\n\t\t\t//\n\t\t\t// pre-wrap\n\t\t\t// Sequences of white space are preserved. Lines are broken at newline characters, at <br>, and as necessary to fill line boxes.\n\t\t\t//\n\t\t\t// pre-line\n\t\t\t// Sequences of white space are collapsed. Lines are broken at newline characters, at <br>, and as necessary to fill line boxes.\n\t\t\t//\n\t\t\t// break-spaces\n\t\t\t// The behavior is identical to that of pre-wrap, except that:\n\t\t\t// - Any sequence of preserved white space always takes up space, including at the end of the line.\n\t\t\t// - A line breaking opportunity exists after every preserved white space character, including between white space characters.\n\t\t\t// - Such preserved spaces take up space and do not hang, and thus affect the boxs intrinsic sizes (min-content size and max-content size).\n\t\t\t//\n\t\t\t// See: https://developer.mozilla.org/en-US/docs/Web/CSS/white-space#Values\n\n\t\t\treturn NodeFilter.FILTER_REJECT;\n\t\t} else {\n\t\t\treturn NodeFilter.FILTER_REJECT;\n\t\t}\n\t}\n\n}\n\nexport default WhiteSpaceFilter;\n","import Handler from \"../handler.js\";\nimport {filterTree} from \"../../utils/dom.js\";\n\nclass CommentsFilter extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\t}\n\n\tfilter(content) {\n\t\tfilterTree(content, null, NodeFilter.SHOW_COMMENT);\n\t}\n\n}\n\nexport default CommentsFilter;\n","import Handler from \"../handler.js\";\n\nclass ScriptsFilter extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\t}\n\n\tfilter(content) {\n\t\tcontent.querySelectorAll(\"script\").forEach( script => { script.remove(); });\n\t}\n\n}\n\nexport default ScriptsFilter;\n","import Handler from \"../handler.js\";\nimport csstree from \"css-tree\";\nimport { calculateSpecificity } from \"clear-cut\";\nimport { cleanSelector } from \"../../utils/css.js\";\n\nclass UndisplayedFilter extends Handler {\n\tconstructor(chunker, polisher, caller) {\n\t\tsuper(chunker, polisher, caller);\n\t\tthis.displayRules = {};\n\t}\n\n\tonDeclaration(declaration, dItem, dList, rule) {\n\t\tif (declaration.property === \"display\") {\n\t\t\tlet selector = csstree.generate(rule.ruleNode.prelude);\n\t\t\tlet value = declaration.value.children.first().name;\n\n\t\t\tselector.split(\",\").forEach((s) => {\n\t\t\t\tthis.displayRules[s] = {\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tselector: s,\n\t\t\t\t\tspecificity: calculateSpecificity(s),\n\t\t\t\t\timportant: declaration.important\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}\n\n\tfilter(content) {\n\t\tlet { matches, selectors } = this.sortDisplayedSelectors(content, this.displayRules);\n\n\t\t// Find matching elements that have display styles\n\t\tfor (let i = 0; i < matches.length; i++) {\n\t\t\tlet element = matches[i];\n\t\t\tlet selector = selectors[i];\n\t\t\tlet displayValue = selector[selector.length-1].value;\n\t\t\tif(this.removable(element) && displayValue === \"none\") {\n\t\t\t\telement.dataset.undisplayed = \"undisplayed\";\n\t\t\t}\n\t\t}\n\n\t\t// Find elements that have inline styles\n\t\tlet styledElements = content.querySelectorAll(\"[style]\");\n\t\tfor (let i = 0; i < styledElements.length; i++) {\n\t\t\tlet element = styledElements[i];\n\t\t\tif (this.removable(element)) {\n\t\t\t\telement.dataset.undisplayed = \"undisplayed\";\n\t\t\t}\n\t\t}\n\t}\n\n\tsorter(a, b) {\n\t\tif (a.important && !b.important) {\n\t\t\treturn 1;\n\t\t}\n\n\t\tif (b.important && !a.important) {\n\t\t\treturn -1;\n\t\t}\n\n\t\treturn a.specificity - b.specificity;\n\t}\n\n\tsortDisplayedSelectors(content, displayRules=[]) {\n\t\tlet matches = [];\n\t\tlet selectors = [];\n\t\tfor (let d in displayRules) {\n\t\t\tlet displayItem = displayRules[d];\n\t\t\tlet selector = displayItem.selector;\n\t\t\tlet query = [];\n\t\t\ttry {\n\t\t\t\ttry {\n\t\t\t\t\tquery = content.querySelectorAll(selector);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tquery = content.querySelectorAll(cleanSelector(selector));\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tquery = [];\n\t\t\t}\n\t\t\tlet elements = Array.from(query);\n\t\t\tfor (let e of elements) {\n\t\t\t\tif (matches.includes(e)) {\n\t\t\t\t\tlet index = matches.indexOf(e);\n\t\t\t\t\tselectors[index].push(displayItem);\n\t\t\t\t\tselectors[index] = selectors[index].sort(this.sorter);\n\t\t\t\t} else {\n\t\t\t\t\tmatches.push(e);\n\t\t\t\t\tselectors.push([displayItem]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn { matches, selectors };\n\t}\n\n\tremovable(element) {\n\t\tif (element.style &&\n\t\t\t\telement.style.display !== \"\" &&\n\t\t\t\telement.style.display !== \"none\") {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n}\n\nexport default UndisplayedFilter;\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? globalThis : require(\"./implementation\");\n","\"use strict\";\n\nmodule.exports = function () {\n\tif (typeof globalThis !== \"object\") return false;\n\tif (!globalThis) return false;\n\treturn globalThis.Array === Array;\n};\n","var naiveFallback = function () {\n\tif (typeof self === \"object\" && self) return self;\n\tif (typeof window === \"object\" && window) return window;\n\tthrow new Error(\"Unable to resolve global `this`\");\n};\n\nmodule.exports = (function () {\n\tif (this) return this;\n\n\t// Unexpected strict mode (may happen if e.g. bundled into ESM module)\n\n\t// Thanks @mathiasbynens -> https://mathiasbynens.be/notes/globalthis\n\t// In all ES5+ engines global object inherits from Object.prototype\n\t// (if you approached one that doesn't please report)\n\ttry {\n\t\tObject.defineProperty(Object.prototype, \"__global__\", {\n\t\t\tget: function () { return this; },\n\t\t\tconfigurable: true\n\t\t});\n\t} catch (error) {\n\t\t// Unfortunate case of Object.prototype being sealed (via preventExtensions, seal or freeze)\n\t\treturn naiveFallback();\n\t}\n\ttry {\n\t\t// Safari case (window.__global__ is resolved with global context, but __global__ does not)\n\t\tif (!__global__) return naiveFallback();\n\t\treturn __global__;\n\t} finally {\n\t\tdelete Object.prototype.__global__;\n\t}\n})();\n","\"use strict\";\n\nmodule.exports = function (value) {\n\tif (!value) return false;\n\tif (typeof value === \"symbol\") return true;\n\tif (!value.constructor) return false;\n\tif (value.constructor.name !== \"Symbol\") return false;\n\treturn value[value.constructor.toStringTag] === \"Symbol\";\n};\n","\"use strict\";\n\nvar isSymbol = require(\"./is-symbol\");\n\nmodule.exports = function (value) {\n\tif (!isSymbol(value)) throw new TypeError(value + \" is not a symbol\");\n\treturn value;\n};\n","\"use strict\";\n\nvar d = require(\"d\");\n\nvar create = Object.create, defineProperty = Object.defineProperty, objPrototype = Object.prototype;\n\nvar created = create(null);\nmodule.exports = function (desc) {\n\tvar postfix = 0, name, ie11BugWorkaround;\n\twhile (created[desc + (postfix || \"\")]) ++postfix;\n\tdesc += postfix || \"\";\n\tcreated[desc] = true;\n\tname = \"@@\" + desc;\n\tdefineProperty(\n\t\tobjPrototype, name,\n\t\td.gs(null, function (value) {\n\t\t\t// For IE11 issue see:\n\t\t\t// https://connect.microsoft.com/IE/feedbackdetail/view/1928508/\n\t\t\t//    ie11-broken-getters-on-dom-objects\n\t\t\t// https://github.com/medikoo/es6-symbol/issues/12\n\t\t\tif (ie11BugWorkaround) return;\n\t\t\tie11BugWorkaround = true;\n\t\t\tdefineProperty(this, name, d(value));\n\t\t\tie11BugWorkaround = false;\n\t\t})\n\t);\n\treturn name;\n};\n","// ES2015 Symbol polyfill for environments that do not (or partially) support it\n\n\"use strict\";\n\nvar d                    = require(\"d\")\n  , validateSymbol       = require(\"./validate-symbol\")\n  , NativeSymbol         = require(\"ext/global-this\").Symbol\n  , generateName         = require(\"./lib/private/generate-name\")\n  , setupStandardSymbols = require(\"./lib/private/setup/standard-symbols\")\n  , setupSymbolRegistry  = require(\"./lib/private/setup/symbol-registry\");\n\nvar create = Object.create\n  , defineProperties = Object.defineProperties\n  , defineProperty = Object.defineProperty;\n\nvar SymbolPolyfill, HiddenSymbol, isNativeSafe;\n\nif (typeof NativeSymbol === \"function\") {\n\ttry {\n\t\tString(NativeSymbol());\n\t\tisNativeSafe = true;\n\t} catch (ignore) {}\n} else {\n\tNativeSymbol = null;\n}\n\n// Internal constructor (not one exposed) for creating Symbol instances.\n// This one is used to ensure that `someSymbol instanceof Symbol` always return false\nHiddenSymbol = function Symbol(description) {\n\tif (this instanceof HiddenSymbol) throw new TypeError(\"Symbol is not a constructor\");\n\treturn SymbolPolyfill(description);\n};\n\n// Exposed `Symbol` constructor\n// (returns instances of HiddenSymbol)\nmodule.exports = SymbolPolyfill = function Symbol(description) {\n\tvar symbol;\n\tif (this instanceof Symbol) throw new TypeError(\"Symbol is not a constructor\");\n\tif (isNativeSafe) return NativeSymbol(description);\n\tsymbol = create(HiddenSymbol.prototype);\n\tdescription = description === undefined ? \"\" : String(description);\n\treturn defineProperties(symbol, {\n\t\t__description__: d(\"\", description),\n\t\t__name__: d(\"\", generateName(description))\n\t});\n};\n\nsetupStandardSymbols(SymbolPolyfill);\nsetupSymbolRegistry(SymbolPolyfill);\n\n// Internal tweaks for real symbol producer\ndefineProperties(HiddenSymbol.prototype, {\n\tconstructor: d(SymbolPolyfill),\n\ttoString: d(\"\", function () { return this.__name__; })\n});\n\n// Proper implementation of methods exposed on Symbol.prototype\n// They won't be accessible on produced symbol instances as they derive from HiddenSymbol.prototype\ndefineProperties(SymbolPolyfill.prototype, {\n\ttoString: d(function () { return \"Symbol (\" + validateSymbol(this).__description__ + \")\"; }),\n\tvalueOf: d(function () { return validateSymbol(this); })\n});\ndefineProperty(\n\tSymbolPolyfill.prototype, SymbolPolyfill.toPrimitive,\n\td(\"\", function () {\n\t\tvar symbol = validateSymbol(this);\n\t\tif (typeof symbol === \"symbol\") return symbol;\n\t\treturn symbol.toString();\n\t})\n);\ndefineProperty(SymbolPolyfill.prototype, SymbolPolyfill.toStringTag, d(\"c\", \"Symbol\"));\n\n// Proper implementaton of toPrimitive and toStringTag for returned symbol instances\ndefineProperty(\n\tHiddenSymbol.prototype, SymbolPolyfill.toStringTag,\n\td(\"c\", SymbolPolyfill.prototype[SymbolPolyfill.toStringTag])\n);\n\n// Note: It's important to define `toPrimitive` as last one, as some implementations\n// implement `toPrimitive` natively without implementing `toStringTag` (or other specified symbols)\n// And that may invoke error in definition flow:\n// See: https://github.com/medikoo/es6-symbol/issues/13#issuecomment-164146149\ndefineProperty(\n\tHiddenSymbol.prototype, SymbolPolyfill.toPrimitive,\n\td(\"c\", SymbolPolyfill.prototype[SymbolPolyfill.toPrimitive])\n);\n","\"use strict\";\n\nvar d            = require(\"d\")\n  , NativeSymbol = require(\"ext/global-this\").Symbol;\n\nmodule.exports = function (SymbolPolyfill) {\n\treturn Object.defineProperties(SymbolPolyfill, {\n\t\t// To ensure proper interoperability with other native functions (e.g. Array.from)\n\t\t// fallback to eventual native implementation of given symbol\n\t\thasInstance: d(\n\t\t\t\"\", (NativeSymbol && NativeSymbol.hasInstance) || SymbolPolyfill(\"hasInstance\")\n\t\t),\n\t\tisConcatSpreadable: d(\n\t\t\t\"\",\n\t\t\t(NativeSymbol && NativeSymbol.isConcatSpreadable) ||\n\t\t\t\tSymbolPolyfill(\"isConcatSpreadable\")\n\t\t),\n\t\titerator: d(\"\", (NativeSymbol && NativeSymbol.iterator) || SymbolPolyfill(\"iterator\")),\n\t\tmatch: d(\"\", (NativeSymbol && NativeSymbol.match) || SymbolPolyfill(\"match\")),\n\t\treplace: d(\"\", (NativeSymbol && NativeSymbol.replace) || SymbolPolyfill(\"replace\")),\n\t\tsearch: d(\"\", (NativeSymbol && NativeSymbol.search) || SymbolPolyfill(\"search\")),\n\t\tspecies: d(\"\", (NativeSymbol && NativeSymbol.species) || SymbolPolyfill(\"species\")),\n\t\tsplit: d(\"\", (NativeSymbol && NativeSymbol.split) || SymbolPolyfill(\"split\")),\n\t\ttoPrimitive: d(\n\t\t\t\"\", (NativeSymbol && NativeSymbol.toPrimitive) || SymbolPolyfill(\"toPrimitive\")\n\t\t),\n\t\ttoStringTag: d(\n\t\t\t\"\", (NativeSymbol && NativeSymbol.toStringTag) || SymbolPolyfill(\"toStringTag\")\n\t\t),\n\t\tunscopables: d(\n\t\t\t\"\", (NativeSymbol && NativeSymbol.unscopables) || SymbolPolyfill(\"unscopables\")\n\t\t)\n\t});\n};\n","\"use strict\";\n\nvar d              = require(\"d\")\n  , validateSymbol = require(\"../../../validate-symbol\");\n\nvar registry = Object.create(null);\n\nmodule.exports = function (SymbolPolyfill) {\n\treturn Object.defineProperties(SymbolPolyfill, {\n\t\tfor: d(function (key) {\n\t\t\tif (registry[key]) return registry[key];\n\t\t\treturn (registry[key] = SymbolPolyfill(String(key)));\n\t\t}),\n\t\tkeyFor: d(function (symbol) {\n\t\t\tvar key;\n\t\t\tvalidateSymbol(symbol);\n\t\t\tfor (key in registry) {\n\t\t\t\tif (registry[key] === symbol) return key;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t})\n\t});\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")()\n\t? require(\"ext/global-this\").Symbol\n\t: require(\"./polyfill\");\n","\"use strict\";\n\nvar global     = require(\"ext/global-this\")\n  , validTypes = { object: true, symbol: true };\n\nmodule.exports = function () {\n\tvar Symbol = global.Symbol;\n\tvar symbol;\n\tif (typeof Symbol !== \"function\") return false;\n\tsymbol = Symbol(\"test symbol\");\n\ttry { String(symbol); }\n\tcatch (e) { return false; }\n\n\t// Return 'true' also for polyfills\n\tif (!validTypes[typeof Symbol.iterator]) return false;\n\tif (!validTypes[typeof Symbol.toPrimitive]) return false;\n\tif (!validTypes[typeof Symbol.toStringTag]) return false;\n\n\treturn true;\n};\n","\"use strict\";\n\nvar objToString = Object.prototype.toString\n  , id = objToString.call((function () { return arguments; })());\n\nmodule.exports = function (value) { return objToString.call(value) === id; };\n","\"use strict\";\n\nvar objToString = Object.prototype.toString\n  , isFunctionStringTag = RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);\n\nmodule.exports = function (value) {\n\treturn typeof value === \"function\" && isFunctionStringTag(objToString.call(value));\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Math.sign : require(\"./shim\");\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar sign = Math.sign;\n\tif (typeof sign !== \"function\") return false;\n\treturn sign(10) === 1 && sign(-20) === -1;\n};\n","\"use strict\";\n\nmodule.exports = function (value) {\n\tvalue = Number(value);\n\tif (isNaN(value) || value === 0) return value;\n\treturn value > 0 ? 1 : -1;\n};\n","\"use strict\";\n\nvar sign  = require(\"../math/sign\")\n  , abs   = Math.abs\n  , floor = Math.floor;\n\nmodule.exports = function (value) {\n\tif (isNaN(value)) return 0;\n\tvalue = Number(value);\n\tif (value === 0 || !isFinite(value)) return value;\n\treturn sign(value) * floor(abs(value));\n};\n","\"use strict\";\n\nvar toInteger = require(\"./to-integer\")\n  , max       = Math.max;\n\nmodule.exports = function (value) { return max(0, toInteger(value)); };\n","\"use strict\";\n\nvar objToString = Object.prototype.toString, id = objToString.call(\"\");\n\nmodule.exports = function (value) {\n\treturn (\n\t\ttypeof value === \"string\" ||\n\t\t(value &&\n\t\t\ttypeof value === \"object\" &&\n\t\t\t(value instanceof String || objToString.call(value) === id)) ||\n\t\tfalse\n\t);\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Array.from : require(\"./shim\");\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar from = Array.from, arr, result;\n\tif (typeof from !== \"function\") return false;\n\tarr = [\"raz\", \"dwa\"];\n\tresult = from(arr);\n\treturn Boolean(result && result !== arr && result[1] === \"dwa\");\n};\n","\"use strict\";\n\nvar iteratorSymbol = require(\"es6-symbol\").iterator\n  , isArguments    = require(\"../../function/is-arguments\")\n  , isFunction     = require(\"../../function/is-function\")\n  , toPosInt       = require(\"../../number/to-pos-integer\")\n  , callable       = require(\"../../object/valid-callable\")\n  , validValue     = require(\"../../object/valid-value\")\n  , isValue        = require(\"../../object/is-value\")\n  , isString       = require(\"../../string/is-string\")\n  , isArray        = Array.isArray\n  , call           = Function.prototype.call\n  , desc           = { configurable: true, enumerable: true, writable: true, value: null }\n  , defineProperty = Object.defineProperty;\n\n// eslint-disable-next-line complexity, max-lines-per-function\nmodule.exports = function (arrayLike /*, mapFn, thisArg*/) {\n\tvar mapFn = arguments[1]\n\t  , thisArg = arguments[2]\n\t  , Context\n\t  , i\n\t  , j\n\t  , arr\n\t  , length\n\t  , code\n\t  , iterator\n\t  , result\n\t  , getIterator\n\t  , value;\n\n\tarrayLike = Object(validValue(arrayLike));\n\n\tif (isValue(mapFn)) callable(mapFn);\n\tif (!this || this === Array || !isFunction(this)) {\n\t\t// Result: Plain array\n\t\tif (!mapFn) {\n\t\t\tif (isArguments(arrayLike)) {\n\t\t\t\t// Source: Arguments\n\t\t\t\tlength = arrayLike.length;\n\t\t\t\tif (length !== 1) return Array.apply(null, arrayLike);\n\t\t\t\tarr = new Array(1);\n\t\t\t\tarr[0] = arrayLike[0];\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t\tif (isArray(arrayLike)) {\n\t\t\t\t// Source: Array\n\t\t\t\tarr = new Array((length = arrayLike.length));\n\t\t\t\tfor (i = 0; i < length; ++i) arr[i] = arrayLike[i];\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t}\n\t\tarr = [];\n\t} else {\n\t\t// Result: Non plain array\n\t\tContext = this;\n\t}\n\n\tif (!isArray(arrayLike)) {\n\t\tif ((getIterator = arrayLike[iteratorSymbol]) !== undefined) {\n\t\t\t// Source: Iterator\n\t\t\titerator = callable(getIterator).call(arrayLike);\n\t\t\tif (Context) arr = new Context();\n\t\t\tresult = iterator.next();\n\t\t\ti = 0;\n\t\t\twhile (!result.done) {\n\t\t\t\tvalue = mapFn ? call.call(mapFn, thisArg, result.value, i) : result.value;\n\t\t\t\tif (Context) {\n\t\t\t\t\tdesc.value = value;\n\t\t\t\t\tdefineProperty(arr, i, desc);\n\t\t\t\t} else {\n\t\t\t\t\tarr[i] = value;\n\t\t\t\t}\n\t\t\t\tresult = iterator.next();\n\t\t\t\t++i;\n\t\t\t}\n\t\t\tlength = i;\n\t\t} else if (isString(arrayLike)) {\n\t\t\t// Source: String\n\t\t\tlength = arrayLike.length;\n\t\t\tif (Context) arr = new Context();\n\t\t\tfor (i = 0, j = 0; i < length; ++i) {\n\t\t\t\tvalue = arrayLike[i];\n\t\t\t\tif (i + 1 < length) {\n\t\t\t\t\tcode = value.charCodeAt(0);\n\t\t\t\t\t// eslint-disable-next-line max-depth\n\t\t\t\t\tif (code >= 0xd800 && code <= 0xdbff) value += arrayLike[++i];\n\t\t\t\t}\n\t\t\t\tvalue = mapFn ? call.call(mapFn, thisArg, value, j) : value;\n\t\t\t\tif (Context) {\n\t\t\t\t\tdesc.value = value;\n\t\t\t\t\tdefineProperty(arr, j, desc);\n\t\t\t\t} else {\n\t\t\t\t\tarr[j] = value;\n\t\t\t\t}\n\t\t\t\t++j;\n\t\t\t}\n\t\t\tlength = j;\n\t\t}\n\t}\n\tif (length === undefined) {\n\t\t// Source: array or array-like\n\t\tlength = toPosInt(arrayLike.length);\n\t\tif (Context) arr = new Context(length);\n\t\tfor (i = 0; i < length; ++i) {\n\t\t\tvalue = mapFn ? call.call(mapFn, thisArg, arrayLike[i], i) : arrayLike[i];\n\t\t\tif (Context) {\n\t\t\t\tdesc.value = value;\n\t\t\t\tdefineProperty(arr, i, desc);\n\t\t\t} else {\n\t\t\t\tarr[i] = value;\n\t\t\t}\n\t\t}\n\t}\n\tif (Context) {\n\t\tdesc.value = null;\n\t\tarr.length = length;\n\t}\n\treturn arr;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Number.isNaN : require(\"./shim\");\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar numberIsNaN = Number.isNaN;\n\tif (typeof numberIsNaN !== \"function\") return false;\n\treturn !numberIsNaN({}) && numberIsNaN(NaN) && !numberIsNaN(34);\n};\n","\"use strict\";\n\nmodule.exports = function (value) {\n\t// eslint-disable-next-line no-self-compare\n\treturn value !== value;\n};\n","\"use strict\";\n\nvar indexOf = require(\"./e-index-of\")\n  , forEach = Array.prototype.forEach\n  , splice  = Array.prototype.splice;\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (itemToRemove /*, item*/) {\n\tforEach.call(\n\t\targuments,\n\t\tfunction (item) {\n\t\t\tvar index = indexOf.call(this, item);\n\t\t\tif (index !== -1) splice.call(this, index, 1);\n\t\t},\n\t\tthis\n\t);\n};\n","\"use strict\";\n\nvar numberIsNaN       = require(\"../../number/is-nan\")\n  , toPosInt          = require(\"../../number/to-pos-integer\")\n  , value             = require(\"../../object/valid-value\")\n  , indexOf           = Array.prototype.indexOf\n  , objHasOwnProperty = Object.prototype.hasOwnProperty\n  , abs               = Math.abs\n  , floor             = Math.floor;\n\nmodule.exports = function (searchElement /*, fromIndex*/) {\n\tvar i, length, fromIndex, val;\n\tif (!numberIsNaN(searchElement)) return indexOf.apply(this, arguments);\n\n\tlength = toPosInt(value(this).length);\n\tfromIndex = arguments[1];\n\tif (isNaN(fromIndex)) fromIndex = 0;\n\telse if (fromIndex >= 0) fromIndex = floor(fromIndex);\n\telse fromIndex = toPosInt(this.length) - floor(abs(fromIndex));\n\n\tfor (i = fromIndex; i < length; ++i) {\n\t\tif (objHasOwnProperty.call(this, i)) {\n\t\t\tval = this[i];\n\t\t\tif (numberIsNaN(val)) return i; // Jslint: ignore\n\t\t}\n\t}\n\treturn -1;\n};\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar map = { function: true, object: true };\n\nmodule.exports = function (value) { return (isValue(value) && map[typeof value]) || false; };\n","'use strict';\n\nvar aFrom          = require('es5-ext/array/from')\n  , remove         = require('es5-ext/array/#/remove')\n  , value          = require('es5-ext/object/valid-object')\n  , d              = require('d')\n  , emit           = require('./').methods.emit\n\n  , defineProperty = Object.defineProperty\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\nmodule.exports = function (e1, e2/*, name*/) {\n\tvar pipes, pipe, desc, name;\n\n\t(value(e1) && value(e2));\n\tname = arguments[2];\n\tif (name === undefined) name = 'emit';\n\n\tpipe = {\n\t\tclose: function () { remove.call(pipes, e2); }\n\t};\n\tif (hasOwnProperty.call(e1, '__eePipes__')) {\n\t\t(pipes = e1.__eePipes__).push(e2);\n\t\treturn pipe;\n\t}\n\tdefineProperty(e1, '__eePipes__', d('c', pipes = [e2]));\n\tdesc = getOwnPropertyDescriptor(e1, name);\n\tif (!desc) {\n\t\tdesc = d('c', undefined);\n\t} else {\n\t\tdelete desc.get;\n\t\tdelete desc.set;\n\t}\n\tdesc.value = function () {\n\t\tvar i, emitter, data = aFrom(pipes);\n\t\temit.apply(this, arguments);\n\t\tfor (i = 0; (emitter = data[i]); ++i) emit.apply(emitter, arguments);\n\t};\n\tdefineProperty(e1, name, desc);\n\treturn pipe;\n};\n","\"use strict\";\n\nvar isObject = require(\"./is-object\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) throw new TypeError(value + \" is not an Object\");\n\treturn value;\n};\n","import pagedMediaHandlers from \"../modules/paged-media/index.js\";\nimport generatedContentHandlers from \"../modules/generated-content/index.js\";\nimport filters from \"../modules/filters/index.js\";\nimport EventEmitter from \"event-emitter\";\nimport pipe from \"event-emitter/pipe.js\";\n\nexport let registeredHandlers = [...pagedMediaHandlers, ...generatedContentHandlers, ...filters];\n\nexport class Handlers {\n\tconstructor(chunker, polisher, caller) {\n\t\tlet handlers = [];\n\n\t\tregisteredHandlers.forEach((Handler) => {\n\t\t\tlet handler = new Handler(chunker, polisher, caller);\n\t\t\thandlers.push(handler);\n\t\t\tpipe(handler, this);\n\t\t});\n\t}\n}\n\nEventEmitter(Handlers.prototype);\n\nexport function registerHandlers() {\n\tfor (var i = 0; i < arguments.length; i++) {\n\t\tregisteredHandlers.push(arguments[i]);\n\t}\n}\n\nexport function initializeHandlers(chunker, polisher, caller) {\n\tlet handlers = new Handlers(chunker, polisher, caller);\n\treturn handlers;\n}\n","import EventEmitter from \"event-emitter\";\n\nimport Hook from \"../utils/hook.js\";\nimport Chunker from \"../chunker/chunker.js\";\nimport Polisher from \"../polisher/polisher.js\";\n\nimport { initializeHandlers, registerHandlers } from \"../utils/handlers.js\";\n\nclass Previewer {\n\tconstructor(options) {\n\t\t// this.preview = this.getParams(\"preview\") !== \"false\";\n\n\t\tthis.settings = options || {};\n\n\t\t// Process styles\n\t\tthis.polisher = new Polisher(false);\n\n\t\t// Chunk contents\n\t\tthis.chunker = new Chunker(undefined, undefined, this.settings);\n\n\t\t// Hooks\n\t\tthis.hooks = {};\n\t\tthis.hooks.beforePreview = new Hook(this);\n\t\tthis.hooks.afterPreview = new Hook(this);\n\n\t\t// default size\n\t\tthis.size = {\n\t\t\twidth: {\n\t\t\t\tvalue: 8.5,\n\t\t\t\tunit: \"in\"\n\t\t\t},\n\t\t\theight: {\n\t\t\t\tvalue: 11,\n\t\t\t\tunit: \"in\"\n\t\t\t},\n\t\t\tformat: undefined,\n\t\t\torientation: undefined\n\t\t};\n\n\t\tthis.chunker.on(\"page\", (page) => {\n\t\t\tthis.emit(\"page\", page);\n\t\t});\n\n\t\tthis.chunker.on(\"rendering\", () => {\n\t\t\tthis.emit(\"rendering\", this.chunker);\n\t\t});\n\t}\n\n\tinitializeHandlers() {\n\t\tlet handlers = initializeHandlers(this.chunker, this.polisher, this);\n\n\t\thandlers.on(\"size\", (size) => {\n\t\t\tthis.size = size;\n\t\t\tthis.emit(\"size\", size);\n\t\t});\n\n\t\thandlers.on(\"atpages\", (pages) => {\n\t\t\tthis.atpages = pages;\n\t\t\tthis.emit(\"atpages\", pages);\n\t\t});\n\n\t\treturn handlers;\n\t}\n\n\tregisterHandlers() {\n\t\treturn registerHandlers.apply(registerHandlers, arguments);\n\t}\n\n\tgetParams(name) {\n\t\tlet param;\n\t\tlet url = new URL(window.location);\n\t\tlet params = new URLSearchParams(url.search);\n\t\tfor(var pair of params.entries()) {\n\t\t\tif(pair[0] === name) {\n\t\t\t\tparam = pair[1];\n\t\t\t}\n\t\t}\n\n\t\treturn param;\n\t}\n\n\twrapContent() {\n\t\t// Wrap body in template tag\n\t\tlet body = document.querySelector(\"body\");\n\n\t\t// Check if a template exists\n\t\tlet template;\n\t\ttemplate = body.querySelector(\":scope > template[data-ref='pagedjs-content']\");\n\n\t\tif (!template) {\n\t\t\t// Otherwise create one\n\t\t\ttemplate = document.createElement(\"template\");\n\t\t\ttemplate.dataset.ref = \"pagedjs-content\";\n\t\t\ttemplate.innerHTML = body.innerHTML;\n\t\t\tbody.innerHTML = \"\";\n\t\t\tbody.appendChild(template);\n\t\t}\n\n\t\treturn template.content;\n\t}\n\n\tremoveStyles(doc=document) {\n\t\t// Get all stylesheets\n\t\tconst stylesheets = Array.from(doc.querySelectorAll(\"link[rel='stylesheet']:not([data-pagedjs-ignore], [media~='screen'])\"));\n\t\t// Get inline styles\n\t\tconst inlineStyles = Array.from(doc.querySelectorAll(\"style:not([data-pagedjs-inserted-styles], [data-pagedjs-ignore], [media~='screen'])\"));\n\t\tconst elements = [...stylesheets, ...inlineStyles];\n\t\treturn elements\n\t\t\t// preserve order\n\t\t\t.sort(function (element1, element2) {\n\t\t\t\tconst position = element1.compareDocumentPosition(element2);\n\t\t\t\tif (position === Node.DOCUMENT_POSITION_PRECEDING) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else if (position === Node.DOCUMENT_POSITION_FOLLOWING) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t})\n\t\t\t// extract the href\n\t\t\t.map((element) => {\n\t\t\t\tif (element.nodeName === \"STYLE\") {\n\t\t\t\t\tconst obj = {};\n\t\t\t\t\tobj[window.location.href] = element.textContent;\n\t\t\t\t\telement.remove();\n\t\t\t\t\treturn obj;\n\t\t\t\t}\n\t\t\t\tif (element.nodeName === \"LINK\") {\n\t\t\t\t\telement.remove();\n\t\t\t\t\treturn element.href;\n\t\t\t\t}\n\t\t\t\t// ignore\n\t\t\t\tconsole.warn(`Unable to process: ${element}, ignoring.`);\n\t\t\t});\n\t}\n\n\tasync preview(content, stylesheets, renderTo) {\n\n\t\tawait this.hooks.beforePreview.trigger(content, renderTo);\n\n\t\tif (!content) {\n\t\t\tcontent = this.wrapContent();\n\t\t}\n\n\t\tif (!stylesheets) {\n\t\t\tstylesheets = this.removeStyles();\n\t\t}\n\n\t\tthis.polisher.setup();\n\n\t\tthis.handlers = this.initializeHandlers();\n\n\t\tawait this.polisher.add(...stylesheets);\n\n\t\tlet startTime = performance.now();\n\n\t\t// Render flow\n\t\tlet flow = await this.chunker.flow(content, renderTo);\n\n\t\tlet endTime = performance.now();\n\n\t\tflow.performance = (endTime - startTime);\n\t\tflow.size = this.size;\n\n\t\tthis.emit(\"rendered\", flow);\n\n\t\tawait this.hooks.afterPreview.trigger(flow.pages);\n\n\t\treturn flow;\n\t}\n}\n\nEventEmitter(Previewer.prototype);\n\nexport default Previewer;\n","import { Handler } from \"pagedjs\";\n\nexport default class WatermarkHandler extends Handler {\n  chunker: any;\n  polisher: any;\n  caller: any;\n  config: any;\n\n  constructor(chunker: any, polisher: any, caller: any, config: any) {\n    super(chunker, polisher, caller);\n    this.chunker = chunker;\n    this.polisher = polisher;\n    this.caller = caller;\n    this.config = config;\n  }\n\n  afterPageLayout(pageElement: any, page: any, breakToken: any, chunker: any) {\n    const watermark = document.createElement(\"div\");\n    watermark.classList.add(\"watermark\");\n    pageElement.querySelector(\".pagedjs_area\").appendChild(watermark);\n  }\n}","import { Handler } from \"pagedjs\";\n\nconst FOLHA_DE_ROSTO = \"folhaDeRosto\";\n\nexport default class HeaderFooterHandler extends Handler {\n  chunker: any;\n  polisher: any;\n  caller: any;\n  config: any;\n  originalWidth: number;\n  originalHeight: number;\n\n  // Cache for element heights to avoid layout thrashing\n  private heightCache: Map<string, number> = new Map();\n\n  constructor(chunker: any, polisher: any, caller: any, config: any) {\n    super(chunker, polisher, caller);\n    this.chunker = chunker;\n    this.polisher = polisher;\n    this.caller = caller;\n    this.config = config;\n    this.originalWidth = 0;\n    this.originalHeight = 0;\n  }\n\n  beforePageLayout(page: any) {\n    // Only calculate heights once per content type (Main vs Cover)\n    // This reduces layout thrashing from O(N) to O(1) where N is pages.\n    if (page.element.classList.contains(`pagedjs_${FOLHA_DE_ROSTO}_page`)) {\n      this.createHeaderArea(page, this.config.cabecalhoFolhaDeRosto, 'cover-header');\n      this.createFooterArea(page, this.config.footerFolhaDeRosto, 'cover-footer');\n      return;\n    }\n\n    this.createHeaderArea(page, this.config.cabecalhoPagina, 'main-header');\n    this.createFooterArea(page, this.config.footer, 'main-footer');\n\n    page.area.classList.add(\"adaptive-block-avalicao-visualize\");\n  }\n\n  createFooterArea(page: any, content: string, cacheKey: string) {\n    const pageArea = page.element.querySelector(\".pagedjs_area\");\n\n    if (pageArea && pageArea.querySelector(\".pagedjs_footer_area\")) return;\n\n    const footerArea = document.createElement(\"footer\");\n    footerArea.classList.add(\"pagedjs_footer_area\");\n    footerArea.innerHTML = content;\n    pageArea.appendChild(footerArea);\n\n    const height = this.getCachedHeight(cacheKey, footerArea.firstElementChild);\n\n    page.element.style.setProperty(\n      \"--pagedjs-footer-height\",\n      height + \"px\"\n    );\n  }\n\n  createHeaderArea(page: any, content: string, cacheKey: string) {\n    const pageArea = page.element.querySelector(\".pagedjs_area\");\n\n    if (pageArea && pageArea.querySelector(\".pagedjs_headernote_area\")) return;\n\n    const headerArea = document.createElement(\"header\");\n    headerArea.classList.add(\"pagedjs_headernote_area\");\n    headerArea.innerHTML = content;\n    pageArea.insertBefore(headerArea, pageArea.firstChild);\n\n    const height = this.getCachedHeight(cacheKey, headerArea);\n\n    page.element.style.setProperty(\n      \"--pagedjs-header-height\",\n      height + \"px\"\n    );\n  }\n\n  getCachedHeight(key: string, element: any) {\n    if (this.heightCache.has(key)) {\n      return this.heightCache.get(key);\n    }\n    const h = this.calculateRealHeight(element);\n    // Cache the result so subsequent pages don't trigger reflow/restyle\n    this.heightCache.set(key, h);\n    return h;\n  }\n\n  calculateRealHeight(element: any) {\n    if (!element) return 0;\n\n    // Optimization: Single DOM Read Phase\n    // Get all necessary metrics in one go to minimize browser recalculations\n    const { height } = element.getBoundingClientRect();\n    const styles = window.getComputedStyle(element);\n\n    // Helper to avoid repetitive parsing\n    const getInt = (val: string) => {\n      const parsed = parseInt(val);\n      return isNaN(parsed) ? 0 : parsed;\n    };\n\n    // Calculate sum of vertical spacings\n    const margins = getInt(styles.marginTop) + getInt(styles.marginBottom);\n    const paddings = getInt(styles.paddingTop) + getInt(styles.paddingBottom);\n    const borders = getInt(styles.borderTopWidth) + getInt(styles.borderBottomWidth);\n\n    // Note: getBoundingClientRect height already includes padding and border in standard box-model,\n    // but we preserve the original logic which added them again (possibly for specific Paged.js requirements or custom box-sizing)\n    return height + margins + paddings + borders;\n  }\n}","import { Handler } from \"pagedjs\";\nimport { conversorDeIndicesParaAlternativas } from \"../utils/util\";\n\nexport const TIPO_ORDENACAO = Object.freeze({\n    NAO_EMBARALHAR: 0,\n    ALEATORIO: 1,\n    ASCENDENTE: 2,\n    DESCENDENTE: 3,\n});\n\nexport default class OrderHandler extends Handler {\n\n    orderCache = new Map<string, number>();\n    config: any;\n\n    constructor(chunker: any, polisher: any, caller: any, config: any = {}) {\n        super(chunker, polisher, caller);\n        this.config = config;\n    }\n\n    afterPageLayout(pageElement: any) {\n        const blocos = pageElement.querySelectorAll(\".avaliacao-alternativas\");\n\n        for (const bloco of blocos) {\n            this.processarBloco(bloco);\n        }\n    }\n\n    processarBloco(bloco: any) {\n\n        const { ref, splitFrom, ordemAlternativa: rawOrdem } = bloco.dataset;\n\n        const filhos = Array.from(bloco.querySelectorAll(\".linha-alternativa\")) as HTMLElement[];\n        if (!filhos.length) return;\n\n        // guarda tamanho original apenas na primeira renderizao\n        if (!splitFrom) {\n            this.orderCache.set(ref, filhos.length);\n        }\n\n        const ordem = this.resolverTipoOrdenacao(rawOrdem);\n\n        const alternativas = filhos.map((element: HTMLElement) => ({\n            element,\n            width: this.obterWidth(element)\n        }));\n\n        this.aplicarOrdenacao(alternativas, ordem);\n\n        this.reRenderizar(bloco, alternativas, ref, splitFrom);\n    }\n\n    resolverTipoOrdenacao(rawOrdem: any) {\n        const parsed = Number.parseInt(rawOrdem, 10);\n\n        if (!rawOrdem || Number.isNaN(parsed) || parsed === 0) {\n            return typeof this.config?.ordemAlternativa === \"number\"\n                ? this.config.ordemAlternativa\n                : TIPO_ORDENACAO.NAO_EMBARALHAR;\n        }\n\n        return parsed;\n    }\n\n    obterWidth(element: any) {\n        const conteudo = element.querySelector(\".media-corpo\");\n\n        const originalWidth = element.style.width;\n        const originalMaxWidth = element.style.maxWidth;\n\n        element.style.width = 'max-content';\n        element.style.maxWidth = '100%';\n\n        const target = conteudo || element;\n        const width = target.getBoundingClientRect().width;\n\n        element.style.width = originalWidth;\n        element.style.maxWidth = originalMaxWidth;\n\n        return width;\n    }\n\n    aplicarOrdenacao(alternativas: any[], tipo: number) {\n\n        switch (tipo) {\n\n            case TIPO_ORDENACAO.ASCENDENTE:\n                console.log(\"ASCENDENTE\", alternativas)\n                alternativas.sort((a, b) => a.width - b.width);\n                break;\n\n            case TIPO_ORDENACAO.DESCENDENTE:\n                console.log(\"DESCENDENTE\")\n                alternativas.sort((a, b) => b.width - a.width);\n                break;\n\n            case TIPO_ORDENACAO.ALEATORIO:\n                this.shuffle(alternativas);\n                break;\n\n            case TIPO_ORDENACAO.NAO_EMBARALHAR:\n            default:\n                break;\n        }\n    }\n\n    reRenderizar(bloco: any, alternativas: any[], ref: string, splitFrom: any) {\n\n        const fragment = document.createDocumentFragment();\n        const baseIndex = splitFrom ? (this.orderCache.get(ref) ?? 0) : 0;\n\n        alternativas.forEach(({ element }, index) => {\n\n            const indiceFinal: number = baseIndex + index;\n\n            const label = element.querySelector(\".media-esq\");\n            if (label) {\n                label.innerHTML = conversorDeIndicesParaAlternativas(\n                    indiceFinal,\n                    this.config.tipoAlternativa\n                );\n            }\n\n            fragment.appendChild(element);\n        });\n\n        bloco.replaceChildren(fragment);\n        bloco.dataset.ordemAlternativaProcessada = \"true\";\n    }\n\n    shuffle(array: any[]) {\n        for (let i = array.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [array[i], array[j]] = [array[j], array[i]];\n        }\n    }\n}\n","import { Handler } from \"pagedjs\";\n// @ts-ignore\nimport Layout from \"../../../node_modules/pagedjs/src/chunker/layout.js\";\n\n\n/**\n * Handler to enforce multi-column layout on specific pages using Paged.js internal layout engine.\n */\nclass ColumnHandler extends Handler {\n    constructor(chunker, polisher, caller) {\n        super(chunker, polisher, caller);\n\n        // Inject global styles to prevent forced breaks inside columns\n        // This ensures that the first element doesn't immediately break out of the first column\n        const style = document.createElement('style');\n        style.id = 'pagedjs-column-styles';\n        style.innerHTML = `\n            .pagedjs_column > * { \n                break-before: auto !important; \n                page-break-before: auto !important;\n                break-inside: auto !important;\n            }\n            .pagedjs_column_1 {\n                padding-right: 10px;\n                border-right: solid 1px rgb(66, 65, 65);\n            }\n            .pagedjs_column_2 {\n                padding-left: 10px;\n            }\n        `;\n        document.head.appendChild(style);\n    }\n\n    /**\n     * Hook called before page layout.\n     * Checks if the page is a named page that requires columnization.\n     */\n    beforePageLayout(page, contents, breakToken, chunker) {\n        const pageElement = page.element;\n        const computedStyle = window.getComputedStyle(pageElement);\n        const columnCountVal = computedStyle.getPropertyValue(\"--pagedjs-column-count\").trim();\n        const columnCount = parseInt(columnCountVal);\n        const columnGap = computedStyle.getPropertyValue(\"--pagedjs-column-gap\").trim() || \"0px\";\n\n        // If no column count is defined, return and let Paged.js handle layout normally\n        if (isNaN(columnCount) || columnCount < 2) {\n            return;\n        }\n\n        // Override the page layout method\n        page.layout = async (contents, breakToken, prevPage) => {\n            page.clear();\n            page.startToken = breakToken;\n\n            // Clear existing content in page area\n            page.area.innerHTML = '';\n\n            // Create a container for columns\n            const columnContainer = document.createElement(\"div\");\n            columnContainer.style.display = \"flex\";\n            columnContainer.style.height = \"100%\";\n            columnContainer.style.width = \"100%\";\n            //columnContainer.style.gap = columnGap;\n            page.area.appendChild(columnContainer);\n\n            const columnWrappers = [];\n            for (let i = 0; i < columnCount; i++) {\n                const col = document.createElement(\"div\");\n                col.classList.add(\"pagedjs_column\", `pagedjs_column_${i + 1}`);\n                col.style.flex = \"1\";\n                col.style.flexBasis = \"0\"; // Ensure equal distribution\n                col.style.minWidth = \"0\"; // Allow shrinking if needed\n                col.style.height = \"100%\";\n\n                columnContainer.appendChild(col);\n                columnWrappers.push(col);\n            }\n\n            // Force reflow/layout calc to ensure flex items have dimensions\n            columnContainer.getBoundingClientRect();\n\n            // Now sequentially fill columns\n            let currentBreakToken = breakToken;\n\n            for (let i = 0; i < columnWrappers.length; i++) {\n                // If we ran out of content in previous iteration, stop\n                if (!currentBreakToken && i > 0) {\n                    break;\n                }\n\n                let wrapper = columnWrappers[i];\n\n                // Use the wrapper itself as the layout scope.\n                // This ensures 'this.bounds' in Layout refers to the column dimensions, not the full page.\n                let layout = new Layout(wrapper, page.hooks, page.settings);\n\n                let renderResult = await layout.renderTo(wrapper, contents, currentBreakToken);\n\n                currentBreakToken = renderResult.breakToken;\n            }\n\n            page.addListeners(contents);\n            page.endToken = currentBreakToken;\n\n            return currentBreakToken;\n        };\n    }\n}\n\nexport default ColumnHandler;\n\n","import { Previewer, registeredHandlers } from \"pagedjs\"\nimport {\n  WatermarkHandler,\n  HeaderFooterHandler,\n  TwoColumnsHandler,\n  OrderHandler\n} from \"./handlers/index\";\nimport ColumnHandler from \"./handlers/ColumnHandler\";\n\nexport class PagedJsRenderer {\n  static async render(result, stylesheets = null, pagesContainer) {\n\n    if (!result || pagesContainer === undefined) {\n      throw new Error(\"Parmetros invlidos para renderizao do layout de avaliao.\");\n    }\n\n    // aplica o HTML\n    const contentContainer = document.createElement('div');\n    contentContainer.innerHTML = result.layoutHtml;\n\n    // aplica CSS vars\n    Object.entries(result.cssVars).forEach(([key, value]) => {\n      if (value) document.documentElement.style.setProperty(key, String(value));\n    });\n\n    const defaultHandlers = [\n      {\n        MyHandler: WatermarkHandler,\n        config: { comMarcaDaguaRascunho: result.comMarcaDaguaRascunho },\n      },\n      {\n        MyHandler: HeaderFooterHandler,\n        config: {\n          cabecalhoPagina: result.header,\n          cabecalhoFolhaDeRosto: result.folhaDeRosto.header,\n          footer: result.footer\n            ? `<div class=\"footer-avaliacao\">${result.footer}</div>`\n            : \"\",\n          footerFolhaDeRosto: result.folhaDeRosto.footer\n            ? `<div class=\"footer-avaliacao\">${result.folhaDeRosto.footer}</div>`\n            : \"\",\n        },\n      },\n      {\n        MyHandler: ColumnHandler,\n        config: {}\n      },\n      {\n        MyHandler: OrderHandler,\n        config: { ordemAlternativa: result.ordemAlternativa, tipoAlternativa: result.tipoAlternativa }\n      },\n      ...result.handlers\n    ];\n\n    // registra handlers\n    defaultHandlers.forEach((handler) => registerHandlersWithConfig(handler));\n\n    // inicializa preview\n    let paged = new Previewer();\n\n    return paged.preview(\n      contentContainer,\n      stylesheets,\n      pagesContainer\n    ).then(chunker => {\n      chunker.pages.forEach(page => page.removeListeners());\n      contentContainer.remove();\n      return chunker;\n    })\n  }\n}\n\nfunction registerHandlersWithConfig(...handlersWithConfig) {\n  handlersWithConfig.forEach(({ MyHandler, config }) => {\n    class ConfiguredHandler extends MyHandler {\n      constructor(chunker, polisher, caller) {\n        super(chunker, polisher, caller, config);\n      }\n    }\n\n    ConfiguredHandler.__originalHandler = MyHandler;\n\n\n    const existingIndex = registeredHandlers.findIndex(\n      (h) => h.__originalHandler === MyHandler\n    );\n\n    if (existingIndex !== -1) {\n      registeredHandlers.splice(existingIndex, 1);\n    }\n\n    registeredHandlers.push(ConfiguredHandler);\n  });\n}\n","/**\n * Lexing or parsing positional information for error reporting.\n * This object is immutable.\n */\nclass SourceLocation {\n  // The + prefix indicates that these fields aren't writeable\n  // Lexer holding the input string.\n  // Start offset, zero-based inclusive.\n  // End offset, zero-based exclusive.\n  constructor(lexer, start, end) {\n    this.lexer = void 0;\n    this.start = void 0;\n    this.end = void 0;\n    this.lexer = lexer;\n    this.start = start;\n    this.end = end;\n  }\n  /**\n   * Merges two `SourceLocation`s from location providers, given they are\n   * provided in order of appearance.\n   * - Returns the first one's location if only the first is provided.\n   * - Returns a merged range of the first and the last if both are provided\n   *   and their lexers match.\n   * - Otherwise, returns null.\n   */\n\n\n  static range(first, second) {\n    if (!second) {\n      return first && first.loc;\n    } else if (!first || !first.loc || !second.loc || first.loc.lexer !== second.loc.lexer) {\n      return null;\n    } else {\n      return new SourceLocation(first.loc.lexer, first.loc.start, second.loc.end);\n    }\n  }\n\n}\n\n/**\n * Interface required to break circular dependency between Token, Lexer, and\n * ParseError.\n */\n\n/**\n * The resulting token returned from `lex`.\n *\n * It consists of the token text plus some position information.\n * The position information is essentially a range in an input string,\n * but instead of referencing the bare input string, we refer to the lexer.\n * That way it is possible to attach extra metadata to the input string,\n * like for example a file name or similar.\n *\n * The position information is optional, so it is OK to construct synthetic\n * tokens if appropriate. Not providing available position information may\n * lead to degraded error reporting, though.\n */\nclass Token {\n  // don't expand the token\n  // used in \\noexpand\n  constructor(text, // the text of this token\n  loc) {\n    this.text = void 0;\n    this.loc = void 0;\n    this.noexpand = void 0;\n    this.treatAsRelax = void 0;\n    this.text = text;\n    this.loc = loc;\n  }\n  /**\n   * Given a pair of tokens (this and endToken), compute a `Token` encompassing\n   * the whole input range enclosed by these two.\n   */\n\n\n  range(endToken, // last token of the range, inclusive\n  text // the text of the newly constructed token\n  ) {\n    return new Token(text, SourceLocation.range(this, endToken));\n  }\n\n}\n\n/**\n * This is the ParseError class, which is the main error thrown by KaTeX\n * functions when something has gone wrong. This is used to distinguish internal\n * errors from errors in the expression that the user provided.\n *\n * If possible, a caller should provide a Token or ParseNode with information\n * about where in the source string the problem occurred.\n */\nclass ParseError {\n  // Error start position based on passed-in Token or ParseNode.\n  // Length of affected text based on passed-in Token or ParseNode.\n  // The underlying error message without any context added.\n  constructor(message, // The error message\n  token // An object providing position information\n  ) {\n    this.name = void 0;\n    this.position = void 0;\n    this.length = void 0;\n    this.rawMessage = void 0;\n    var error = \"KaTeX parse error: \" + message;\n    var start;\n    var end;\n    var loc = token && token.loc;\n\n    if (loc && loc.start <= loc.end) {\n      // If we have the input and a position, make the error a bit fancier\n      // Get the input\n      var input = loc.lexer.input; // Prepend some information\n\n      start = loc.start;\n      end = loc.end;\n\n      if (start === input.length) {\n        error += \" at end of input: \";\n      } else {\n        error += \" at position \" + (start + 1) + \": \";\n      } // Underline token in question using combining underscores\n\n\n      var underlined = input.slice(start, end).replace(/[^]/g, \"$&\\u0332\"); // Extract some context from the input and add it to the error\n\n      var left;\n\n      if (start > 15) {\n        left = \"\" + input.slice(start - 15, start);\n      } else {\n        left = input.slice(0, start);\n      }\n\n      var right;\n\n      if (end + 15 < input.length) {\n        right = input.slice(end, end + 15) + \"\";\n      } else {\n        right = input.slice(end);\n      }\n\n      error += left + underlined + right;\n    } // Some hackery to make ParseError a prototype of Error\n    // See http://stackoverflow.com/a/8460753\n    // $FlowFixMe\n\n\n    var self = new Error(error);\n    self.name = \"ParseError\"; // $FlowFixMe\n\n    self.__proto__ = ParseError.prototype;\n    self.position = start;\n\n    if (start != null && end != null) {\n      self.length = end - start;\n    }\n\n    self.rawMessage = message;\n    return self;\n  }\n\n} // $FlowFixMe More hackery\n\n\nParseError.prototype.__proto__ = Error.prototype;\n\n/**\n * This file contains a list of utility functions which are useful in other\n * files.\n */\n\n/**\n * Provide a default value if a setting is undefined\n * NOTE: Couldn't use `T` as the output type due to facebook/flow#5022.\n */\nvar deflt = function deflt(setting, defaultIfUndefined) {\n  return setting === undefined ? defaultIfUndefined : setting;\n}; // hyphenate and escape adapted from Facebook's React under Apache 2 license\n\n\nvar uppercase = /([A-Z])/g;\n\nvar hyphenate = function hyphenate(str) {\n  return str.replace(uppercase, \"-$1\").toLowerCase();\n};\n\nvar ESCAPE_LOOKUP = {\n  \"&\": \"&amp;\",\n  \">\": \"&gt;\",\n  \"<\": \"&lt;\",\n  \"\\\"\": \"&quot;\",\n  \"'\": \"&#x27;\"\n};\nvar ESCAPE_REGEX = /[&><\"']/g;\n/**\n * Escapes text to prevent scripting attacks.\n */\n\nfunction escape(text) {\n  return String(text).replace(ESCAPE_REGEX, match => ESCAPE_LOOKUP[match]);\n}\n/**\n * Sometimes we want to pull out the innermost element of a group. In most\n * cases, this will just be the group itself, but when ordgroups and colors have\n * a single element, we want to pull that out.\n */\n\n\nvar getBaseElem = function getBaseElem(group) {\n  if (group.type === \"ordgroup\") {\n    if (group.body.length === 1) {\n      return getBaseElem(group.body[0]);\n    } else {\n      return group;\n    }\n  } else if (group.type === \"color\") {\n    if (group.body.length === 1) {\n      return getBaseElem(group.body[0]);\n    } else {\n      return group;\n    }\n  } else if (group.type === \"font\") {\n    return getBaseElem(group.body);\n  } else {\n    return group;\n  }\n};\n/**\n * TeXbook algorithms often reference \"character boxes\", which are simply groups\n * with a single character in them. To decide if something is a character box,\n * we find its innermost group, and see if it is a single character.\n */\n\n\nvar isCharacterBox = function isCharacterBox(group) {\n  var baseElem = getBaseElem(group); // These are all they types of groups which hold single characters\n\n  return baseElem.type === \"mathord\" || baseElem.type === \"textord\" || baseElem.type === \"atom\";\n};\n\nvar assert = function assert(value) {\n  if (!value) {\n    throw new Error('Expected non-null, but got ' + String(value));\n  }\n\n  return value;\n};\n/**\n * Return the protocol of a URL, or \"_relative\" if the URL does not specify a\n * protocol (and thus is relative), or `null` if URL has invalid protocol\n * (so should be outright rejected).\n */\n\nvar protocolFromUrl = function protocolFromUrl(url) {\n  // Check for possible leading protocol.\n  // https://url.spec.whatwg.org/#url-parsing strips leading whitespace\n  // (U+20) or C0 control (U+00-U+1F) characters.\n  // eslint-disable-next-line no-control-regex\n  var protocol = /^[\\x00-\\x20]*([^\\\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(url);\n\n  if (!protocol) {\n    return \"_relative\";\n  } // Reject weird colons\n\n\n  if (protocol[2] !== \":\") {\n    return null;\n  } // Reject invalid characters in scheme according to\n  // https://datatracker.ietf.org/doc/html/rfc3986#section-3.1\n\n\n  if (!/^[a-zA-Z][a-zA-Z0-9+\\-.]*$/.test(protocol[1])) {\n    return null;\n  } // Lowercase the protocol\n\n\n  return protocol[1].toLowerCase();\n};\nvar utils = {\n  deflt,\n  escape,\n  hyphenate,\n  getBaseElem,\n  isCharacterBox,\n  protocolFromUrl\n};\n\n/* eslint no-console:0 */\n// TODO: automatically generate documentation\n// TODO: check all properties on Settings exist\n// TODO: check the type of a property on Settings matches\nvar SETTINGS_SCHEMA = {\n  displayMode: {\n    type: \"boolean\",\n    description: \"Render math in display mode, which puts the math in \" + \"display style (so \\\\int and \\\\sum are large, for example), and \" + \"centers the math on the page on its own line.\",\n    cli: \"-d, --display-mode\"\n  },\n  output: {\n    type: {\n      enum: [\"htmlAndMathml\", \"html\", \"mathml\"]\n    },\n    description: \"Determines the markup language of the output.\",\n    cli: \"-F, --format <type>\"\n  },\n  leqno: {\n    type: \"boolean\",\n    description: \"Render display math in leqno style (left-justified tags).\"\n  },\n  fleqn: {\n    type: \"boolean\",\n    description: \"Render display math flush left.\"\n  },\n  throwOnError: {\n    type: \"boolean\",\n    default: true,\n    cli: \"-t, --no-throw-on-error\",\n    cliDescription: \"Render errors (in the color given by --error-color) ins\" + \"tead of throwing a ParseError exception when encountering an error.\"\n  },\n  errorColor: {\n    type: \"string\",\n    default: \"#cc0000\",\n    cli: \"-c, --error-color <color>\",\n    cliDescription: \"A color string given in the format 'rgb' or 'rrggbb' \" + \"(no #). This option determines the color of errors rendered by the \" + \"-t option.\",\n    cliProcessor: color => \"#\" + color\n  },\n  macros: {\n    type: \"object\",\n    cli: \"-m, --macro <def>\",\n    cliDescription: \"Define custom macro of the form '\\\\foo:expansion' (use \" + \"multiple -m arguments for multiple macros).\",\n    cliDefault: [],\n    cliProcessor: (def, defs) => {\n      defs.push(def);\n      return defs;\n    }\n  },\n  minRuleThickness: {\n    type: \"number\",\n    description: \"Specifies a minimum thickness, in ems, for fraction lines,\" + \" `\\\\sqrt` top lines, `{array}` vertical lines, `\\\\hline`, \" + \"`\\\\hdashline`, `\\\\underline`, `\\\\overline`, and the borders of \" + \"`\\\\fbox`, `\\\\boxed`, and `\\\\fcolorbox`.\",\n    processor: t => Math.max(0, t),\n    cli: \"--min-rule-thickness <size>\",\n    cliProcessor: parseFloat\n  },\n  colorIsTextColor: {\n    type: \"boolean\",\n    description: \"Makes \\\\color behave like LaTeX's 2-argument \\\\textcolor, \" + \"instead of LaTeX's one-argument \\\\color mode change.\",\n    cli: \"-b, --color-is-text-color\"\n  },\n  strict: {\n    type: [{\n      enum: [\"warn\", \"ignore\", \"error\"]\n    }, \"boolean\", \"function\"],\n    description: \"Turn on strict / LaTeX faithfulness mode, which throws an \" + \"error if the input uses features that are not supported by LaTeX.\",\n    cli: \"-S, --strict\",\n    cliDefault: false\n  },\n  trust: {\n    type: [\"boolean\", \"function\"],\n    description: \"Trust the input, enabling all HTML features such as \\\\url.\",\n    cli: \"-T, --trust\"\n  },\n  maxSize: {\n    type: \"number\",\n    default: Infinity,\n    description: \"If non-zero, all user-specified sizes, e.g. in \" + \"\\\\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, \" + \"elements and spaces can be arbitrarily large\",\n    processor: s => Math.max(0, s),\n    cli: \"-s, --max-size <n>\",\n    cliProcessor: parseInt\n  },\n  maxExpand: {\n    type: \"number\",\n    default: 1000,\n    description: \"Limit the number of macro expansions to the specified \" + \"number, to prevent e.g. infinite macro loops. If set to Infinity, \" + \"the macro expander will try to fully expand as in LaTeX.\",\n    processor: n => Math.max(0, n),\n    cli: \"-e, --max-expand <n>\",\n    cliProcessor: n => n === \"Infinity\" ? Infinity : parseInt(n)\n  },\n  globalGroup: {\n    type: \"boolean\",\n    cli: false\n  }\n};\n\nfunction getDefaultValue(schema) {\n  if (schema.default) {\n    return schema.default;\n  }\n\n  var type = schema.type;\n  var defaultType = Array.isArray(type) ? type[0] : type;\n\n  if (typeof defaultType !== 'string') {\n    return defaultType.enum[0];\n  }\n\n  switch (defaultType) {\n    case 'boolean':\n      return false;\n\n    case 'string':\n      return '';\n\n    case 'number':\n      return 0;\n\n    case 'object':\n      return {};\n  }\n}\n/**\n * The main Settings object\n *\n * The current options stored are:\n *  - displayMode: Whether the expression should be typeset as inline math\n *                 (false, the default), meaning that the math starts in\n *                 \\textstyle and is placed in an inline-block); or as display\n *                 math (true), meaning that the math starts in \\displaystyle\n *                 and is placed in a block with vertical margin.\n */\n\n\nclass Settings {\n  constructor(options) {\n    this.displayMode = void 0;\n    this.output = void 0;\n    this.leqno = void 0;\n    this.fleqn = void 0;\n    this.throwOnError = void 0;\n    this.errorColor = void 0;\n    this.macros = void 0;\n    this.minRuleThickness = void 0;\n    this.colorIsTextColor = void 0;\n    this.strict = void 0;\n    this.trust = void 0;\n    this.maxSize = void 0;\n    this.maxExpand = void 0;\n    this.globalGroup = void 0;\n    // allow null options\n    options = options || {};\n\n    for (var prop in SETTINGS_SCHEMA) {\n      if (SETTINGS_SCHEMA.hasOwnProperty(prop)) {\n        // $FlowFixMe\n        var schema = SETTINGS_SCHEMA[prop]; // TODO: validate options\n        // $FlowFixMe\n\n        this[prop] = options[prop] !== undefined ? schema.processor ? schema.processor(options[prop]) : options[prop] : getDefaultValue(schema);\n      }\n    }\n  }\n  /**\n   * Report nonstrict (non-LaTeX-compatible) input.\n   * Can safely not be called if `this.strict` is false in JavaScript.\n   */\n\n\n  reportNonstrict(errorCode, errorMsg, token) {\n    var strict = this.strict;\n\n    if (typeof strict === \"function\") {\n      // Allow return value of strict function to be boolean or string\n      // (or null/undefined, meaning no further processing).\n      strict = strict(errorCode, errorMsg, token);\n    }\n\n    if (!strict || strict === \"ignore\") {\n      return;\n    } else if (strict === true || strict === \"error\") {\n      throw new ParseError(\"LaTeX-incompatible input and strict mode is set to 'error': \" + (errorMsg + \" [\" + errorCode + \"]\"), token);\n    } else if (strict === \"warn\") {\n      typeof console !== \"undefined\" && console.warn(\"LaTeX-incompatible input and strict mode is set to 'warn': \" + (errorMsg + \" [\" + errorCode + \"]\"));\n    } else {\n      // won't happen in type-safe code\n      typeof console !== \"undefined\" && console.warn(\"LaTeX-incompatible input and strict mode is set to \" + (\"unrecognized '\" + strict + \"': \" + errorMsg + \" [\" + errorCode + \"]\"));\n    }\n  }\n  /**\n   * Check whether to apply strict (LaTeX-adhering) behavior for unusual\n   * input (like `\\\\`).  Unlike `nonstrict`, will not throw an error;\n   * instead, \"error\" translates to a return value of `true`, while \"ignore\"\n   * translates to a return value of `false`.  May still print a warning:\n   * \"warn\" prints a warning and returns `false`.\n   * This is for the second category of `errorCode`s listed in the README.\n   */\n\n\n  useStrictBehavior(errorCode, errorMsg, token) {\n    var strict = this.strict;\n\n    if (typeof strict === \"function\") {\n      // Allow return value of strict function to be boolean or string\n      // (or null/undefined, meaning no further processing).\n      // But catch any exceptions thrown by function, treating them\n      // like \"error\".\n      try {\n        strict = strict(errorCode, errorMsg, token);\n      } catch (error) {\n        strict = \"error\";\n      }\n    }\n\n    if (!strict || strict === \"ignore\") {\n      return false;\n    } else if (strict === true || strict === \"error\") {\n      return true;\n    } else if (strict === \"warn\") {\n      typeof console !== \"undefined\" && console.warn(\"LaTeX-incompatible input and strict mode is set to 'warn': \" + (errorMsg + \" [\" + errorCode + \"]\"));\n      return false;\n    } else {\n      // won't happen in type-safe code\n      typeof console !== \"undefined\" && console.warn(\"LaTeX-incompatible input and strict mode is set to \" + (\"unrecognized '\" + strict + \"': \" + errorMsg + \" [\" + errorCode + \"]\"));\n      return false;\n    }\n  }\n  /**\n   * Check whether to test potentially dangerous input, and return\n   * `true` (trusted) or `false` (untrusted).  The sole argument `context`\n   * should be an object with `command` field specifying the relevant LaTeX\n   * command (as a string starting with `\\`), and any other arguments, etc.\n   * If `context` has a `url` field, a `protocol` field will automatically\n   * get added by this function (changing the specified object).\n   */\n\n\n  isTrusted(context) {\n    if (context.url && !context.protocol) {\n      var protocol = utils.protocolFromUrl(context.url);\n\n      if (protocol == null) {\n        return false;\n      }\n\n      context.protocol = protocol;\n    }\n\n    var trust = typeof this.trust === \"function\" ? this.trust(context) : this.trust;\n    return Boolean(trust);\n  }\n\n}\n\n/**\n * This file contains information and classes for the various kinds of styles\n * used in TeX. It provides a generic `Style` class, which holds information\n * about a specific style. It then provides instances of all the different kinds\n * of styles possible, and provides functions to move between them and get\n * information about them.\n */\n\n/**\n * The main style class. Contains a unique id for the style, a size (which is\n * the same for cramped and uncramped version of a style), and a cramped flag.\n */\nclass Style {\n  constructor(id, size, cramped) {\n    this.id = void 0;\n    this.size = void 0;\n    this.cramped = void 0;\n    this.id = id;\n    this.size = size;\n    this.cramped = cramped;\n  }\n  /**\n   * Get the style of a superscript given a base in the current style.\n   */\n\n\n  sup() {\n    return styles[sup[this.id]];\n  }\n  /**\n   * Get the style of a subscript given a base in the current style.\n   */\n\n\n  sub() {\n    return styles[sub[this.id]];\n  }\n  /**\n   * Get the style of a fraction numerator given the fraction in the current\n   * style.\n   */\n\n\n  fracNum() {\n    return styles[fracNum[this.id]];\n  }\n  /**\n   * Get the style of a fraction denominator given the fraction in the current\n   * style.\n   */\n\n\n  fracDen() {\n    return styles[fracDen[this.id]];\n  }\n  /**\n   * Get the cramped version of a style (in particular, cramping a cramped style\n   * doesn't change the style).\n   */\n\n\n  cramp() {\n    return styles[cramp[this.id]];\n  }\n  /**\n   * Get a text or display version of this style.\n   */\n\n\n  text() {\n    return styles[text$1[this.id]];\n  }\n  /**\n   * Return true if this style is tightly spaced (scriptstyle/scriptscriptstyle)\n   */\n\n\n  isTight() {\n    return this.size >= 2;\n  }\n\n} // Export an interface for type checking, but don't expose the implementation.\n// This way, no more styles can be generated.\n\n\n// IDs of the different styles\nvar D = 0;\nvar Dc = 1;\nvar T = 2;\nvar Tc = 3;\nvar S = 4;\nvar Sc = 5;\nvar SS = 6;\nvar SSc = 7; // Instances of the different styles\n\nvar styles = [new Style(D, 0, false), new Style(Dc, 0, true), new Style(T, 1, false), new Style(Tc, 1, true), new Style(S, 2, false), new Style(Sc, 2, true), new Style(SS, 3, false), new Style(SSc, 3, true)]; // Lookup tables for switching from one style to another\n\nvar sup = [S, Sc, S, Sc, SS, SSc, SS, SSc];\nvar sub = [Sc, Sc, Sc, Sc, SSc, SSc, SSc, SSc];\nvar fracNum = [T, Tc, S, Sc, SS, SSc, SS, SSc];\nvar fracDen = [Tc, Tc, Sc, Sc, SSc, SSc, SSc, SSc];\nvar cramp = [Dc, Dc, Tc, Tc, Sc, Sc, SSc, SSc];\nvar text$1 = [D, Dc, T, Tc, T, Tc, T, Tc]; // We only export some of the styles.\n\nvar Style$1 = {\n  DISPLAY: styles[D],\n  TEXT: styles[T],\n  SCRIPT: styles[S],\n  SCRIPTSCRIPT: styles[SS]\n};\n\n/*\n * This file defines the Unicode scripts and script families that we\n * support. To add new scripts or families, just add a new entry to the\n * scriptData array below. Adding scripts to the scriptData array allows\n * characters from that script to appear in \\text{} environments.\n */\n\n/**\n * Each script or script family has a name and an array of blocks.\n * Each block is an array of two numbers which specify the start and\n * end points (inclusive) of a block of Unicode codepoints.\n */\n\n/**\n * Unicode block data for the families of scripts we support in \\text{}.\n * Scripts only need to appear here if they do not have font metrics.\n */\nvar scriptData = [{\n  // Latin characters beyond the Latin-1 characters we have metrics for.\n  // Needed for Czech, Hungarian and Turkish text, for example.\n  name: 'latin',\n  blocks: [[0x0100, 0x024f], // Latin Extended-A and Latin Extended-B\n  [0x0300, 0x036f] // Combining Diacritical marks\n  ]\n}, {\n  // The Cyrillic script used by Russian and related languages.\n  // A Cyrillic subset used to be supported as explicitly defined\n  // symbols in symbols.js\n  name: 'cyrillic',\n  blocks: [[0x0400, 0x04ff]]\n}, {\n  // Armenian\n  name: 'armenian',\n  blocks: [[0x0530, 0x058F]]\n}, {\n  // The Brahmic scripts of South and Southeast Asia\n  // Devanagari (0900097F)\n  // Bengali (098009FF)\n  // Gurmukhi (0A000A7F)\n  // Gujarati (0A800AFF)\n  // Oriya (0B000B7F)\n  // Tamil (0B800BFF)\n  // Telugu (0C000C7F)\n  // Kannada (0C800CFF)\n  // Malayalam (0D000D7F)\n  // Sinhala (0D800DFF)\n  // Thai (0E000E7F)\n  // Lao (0E800EFF)\n  // Tibetan (0F000FFF)\n  // Myanmar (1000109F)\n  name: 'brahmic',\n  blocks: [[0x0900, 0x109F]]\n}, {\n  name: 'georgian',\n  blocks: [[0x10A0, 0x10ff]]\n}, {\n  // Chinese and Japanese.\n  // The \"k\" in cjk is for Korean, but we've separated Korean out\n  name: \"cjk\",\n  blocks: [[0x3000, 0x30FF], // CJK symbols and punctuation, Hiragana, Katakana\n  [0x4E00, 0x9FAF], // CJK ideograms\n  [0xFF00, 0xFF60] // Fullwidth punctuation\n  // TODO: add halfwidth Katakana and Romanji glyphs\n  ]\n}, {\n  // Korean\n  name: 'hangul',\n  blocks: [[0xAC00, 0xD7AF]]\n}];\n/**\n * Given a codepoint, return the name of the script or script family\n * it is from, or null if it is not part of a known block\n */\n\nfunction scriptFromCodepoint(codepoint) {\n  for (var i = 0; i < scriptData.length; i++) {\n    var script = scriptData[i];\n\n    for (var _i = 0; _i < script.blocks.length; _i++) {\n      var block = script.blocks[_i];\n\n      if (codepoint >= block[0] && codepoint <= block[1]) {\n        return script.name;\n      }\n    }\n  }\n\n  return null;\n}\n/**\n * A flattened version of all the supported blocks in a single array.\n * This is an optimization to make supportedCodepoint() fast.\n */\n\nvar allBlocks = [];\nscriptData.forEach(s => s.blocks.forEach(b => allBlocks.push(...b)));\n/**\n * Given a codepoint, return true if it falls within one of the\n * scripts or script families defined above and false otherwise.\n *\n * Micro benchmarks shows that this is faster than\n * /[\\u3000-\\u30FF\\u4E00-\\u9FAF\\uFF00-\\uFF60\\uAC00-\\uD7AF\\u0900-\\u109F]/.test()\n * in Firefox, Chrome and Node.\n */\n\nfunction supportedCodepoint(codepoint) {\n  for (var i = 0; i < allBlocks.length; i += 2) {\n    if (codepoint >= allBlocks[i] && codepoint <= allBlocks[i + 1]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/**\n * This file provides support to domTree.js and delimiter.js.\n * It's a storehouse of path geometry for SVG images.\n */\n// In all paths below, the viewBox-to-em scale is 1000:1.\nvar hLinePad = 80; // padding above a sqrt vinculum. Prevents image cropping.\n// The vinculum of a \\sqrt can be made thicker by a KaTeX rendering option.\n// Think of variable extraVinculum as two detours in the SVG path.\n// The detour begins at the lower left of the area labeled extraVinculum below.\n// The detour proceeds one extraVinculum distance up and slightly to the right,\n// displacing the radiused corner between surd and vinculum. The radius is\n// traversed as usual, then the detour resumes. It goes right, to the end of\n// the very long vinculum, then down one extraVinculum distance,\n// after which it resumes regular path geometry for the radical.\n\n/*                                                  vinculum\n                                                   /\n         /extraVinculum\n        / 0.04em (40 unit) std vinculum thickness\n       / /\n      / /\n     / /\\\n    / / surd\n*/\n\nvar sqrtMain = function sqrtMain(extraVinculum, hLinePad) {\n  // sqrtMain path geometry is from glyph U221A in the font KaTeX Main\n  return \"M95,\" + (622 + extraVinculum + hLinePad) + \"\\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\\nc69,-144,104.5,-217.7,106.5,-221\\nl\" + extraVinculum / 2.075 + \" -\" + extraVinculum + \"\\nc5.3,-9.3,12,-14,20,-14\\nH400000v\" + (40 + extraVinculum) + \"H845.2724\\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\\nM\" + (834 + extraVinculum) + \" \" + hLinePad + \"h400000v\" + (40 + extraVinculum) + \"h-400000z\";\n};\n\nvar sqrtSize1 = function sqrtSize1(extraVinculum, hLinePad) {\n  // size1 is from glyph U221A in the font KaTeX_Size1-Regular\n  return \"M263,\" + (601 + extraVinculum + hLinePad) + \"c0.7,0,18,39.7,52,119\\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\\nc340,-704.7,510.7,-1060.3,512,-1067\\nl\" + extraVinculum / 2.084 + \" -\" + extraVinculum + \"\\nc4.7,-7.3,11,-11,19,-11\\nH40000v\" + (40 + extraVinculum) + \"H1012.3\\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\\nM\" + (1001 + extraVinculum) + \" \" + hLinePad + \"h400000v\" + (40 + extraVinculum) + \"h-400000z\";\n};\n\nvar sqrtSize2 = function sqrtSize2(extraVinculum, hLinePad) {\n  // size2 is from glyph U221A in the font KaTeX_Size2-Regular\n  return \"M983 \" + (10 + extraVinculum + hLinePad) + \"\\nl\" + extraVinculum / 3.13 + \" -\" + extraVinculum + \"\\nc4,-6.7,10,-10,18,-10 H400000v\" + (40 + extraVinculum) + \"\\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\\nM\" + (1001 + extraVinculum) + \" \" + hLinePad + \"h400000v\" + (40 + extraVinculum) + \"h-400000z\";\n};\n\nvar sqrtSize3 = function sqrtSize3(extraVinculum, hLinePad) {\n  // size3 is from glyph U221A in the font KaTeX_Size3-Regular\n  return \"M424,\" + (2398 + extraVinculum + hLinePad) + \"\\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\\nl\" + extraVinculum / 4.223 + \" -\" + extraVinculum + \"c4,-6.7,10,-10,18,-10 H400000\\nv\" + (40 + extraVinculum) + \"H1014.6\\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\\nc-2,6,-10,9,-24,9\\nc-8,0,-12,-0.7,-12,-2z M\" + (1001 + extraVinculum) + \" \" + hLinePad + \"\\nh400000v\" + (40 + extraVinculum) + \"h-400000z\";\n};\n\nvar sqrtSize4 = function sqrtSize4(extraVinculum, hLinePad) {\n  // size4 is from glyph U221A in the font KaTeX_Size4-Regular\n  return \"M473,\" + (2713 + extraVinculum + hLinePad) + \"\\nc339.3,-1799.3,509.3,-2700,510,-2702 l\" + extraVinculum / 5.298 + \" -\" + extraVinculum + \"\\nc3.3,-7.3,9.3,-11,18,-11 H400000v\" + (40 + extraVinculum) + \"H1017.7\\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\\n606zM\" + (1001 + extraVinculum) + \" \" + hLinePad + \"h400000v\" + (40 + extraVinculum) + \"H1017.7z\";\n};\n\nvar phasePath = function phasePath(y) {\n  var x = y / 2; // x coordinate at top of angle\n\n  return \"M400000 \" + y + \" H0 L\" + x + \" 0 l65 45 L145 \" + (y - 80) + \" H400000z\";\n};\n\nvar sqrtTall = function sqrtTall(extraVinculum, hLinePad, viewBoxHeight) {\n  // sqrtTall is from glyph U23B7 in the font KaTeX_Size4-Regular\n  // One path edge has a variable length. It runs vertically from the vinculum\n  // to a point near (14 units) the bottom of the surd. The vinculum\n  // is normally 40 units thick. So the length of the line in question is:\n  var vertSegment = viewBoxHeight - 54 - hLinePad - extraVinculum;\n  return \"M702 \" + (extraVinculum + hLinePad) + \"H400000\" + (40 + extraVinculum) + \"\\nH742v\" + vertSegment + \"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\\n219 661 l218 661zM702 \" + hLinePad + \"H400000v\" + (40 + extraVinculum) + \"H742z\";\n};\n\nvar sqrtPath = function sqrtPath(size, extraVinculum, viewBoxHeight) {\n  extraVinculum = 1000 * extraVinculum; // Convert from document ems to viewBox.\n\n  var path = \"\";\n\n  switch (size) {\n    case \"sqrtMain\":\n      path = sqrtMain(extraVinculum, hLinePad);\n      break;\n\n    case \"sqrtSize1\":\n      path = sqrtSize1(extraVinculum, hLinePad);\n      break;\n\n    case \"sqrtSize2\":\n      path = sqrtSize2(extraVinculum, hLinePad);\n      break;\n\n    case \"sqrtSize3\":\n      path = sqrtSize3(extraVinculum, hLinePad);\n      break;\n\n    case \"sqrtSize4\":\n      path = sqrtSize4(extraVinculum, hLinePad);\n      break;\n\n    case \"sqrtTall\":\n      path = sqrtTall(extraVinculum, hLinePad, viewBoxHeight);\n  }\n\n  return path;\n};\nvar innerPath = function innerPath(name, height) {\n  // The inner part of stretchy tall delimiters\n  switch (name) {\n    case \"\\u239c\":\n      return \"M291 0 H417 V\" + height + \" H291z M291 0 H417 V\" + height + \" H291z\";\n\n    case \"\\u2223\":\n      return \"M145 0 H188 V\" + height + \" H145z M145 0 H188 V\" + height + \" H145z\";\n\n    case \"\\u2225\":\n      return \"M145 0 H188 V\" + height + \" H145z M145 0 H188 V\" + height + \" H145z\" + (\"M367 0 H410 V\" + height + \" H367z M367 0 H410 V\" + height + \" H367z\");\n\n    case \"\\u239f\":\n      return \"M457 0 H583 V\" + height + \" H457z M457 0 H583 V\" + height + \" H457z\";\n\n    case \"\\u23a2\":\n      return \"M319 0 H403 V\" + height + \" H319z M319 0 H403 V\" + height + \" H319z\";\n\n    case \"\\u23a5\":\n      return \"M263 0 H347 V\" + height + \" H263z M263 0 H347 V\" + height + \" H263z\";\n\n    case \"\\u23aa\":\n      return \"M384 0 H504 V\" + height + \" H384z M384 0 H504 V\" + height + \" H384z\";\n\n    case \"\\u23d0\":\n      return \"M312 0 H355 V\" + height + \" H312z M312 0 H355 V\" + height + \" H312z\";\n\n    case \"\\u2016\":\n      return \"M257 0 H300 V\" + height + \" H257z M257 0 H300 V\" + height + \" H257z\" + (\"M478 0 H521 V\" + height + \" H478z M478 0 H521 V\" + height + \" H478z\");\n\n    default:\n      return \"\";\n  }\n};\nvar path = {\n  // The doubleleftarrow geometry is from glyph U+21D0 in the font KaTeX Main\n  doubleleftarrow: \"M262 157\\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\\nm8 0v40h399730v-40zm0 194v40h399730v-40z\",\n  // doublerightarrow is from glyph U+21D2 in font KaTeX Main\n  doublerightarrow: \"M399738 392l\\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z\",\n  // leftarrow is from glyph U+2190 in font KaTeX Main\n  leftarrow: \"M400000 241H110l3-3c68.7-52.7 113.7-120\\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\\n l-3-3h399890zM100 241v40h399900v-40z\",\n  // overbrace is from glyphs U+23A9/23A8/23A7 in font KaTeX_Size4-Regular\n  leftbrace: \"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z\",\n  leftbraceunder: \"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z\",\n  // overgroup is from the MnSymbol package (public domain)\n  leftgroup: \"M400000 80\\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\\n 435 0h399565z\",\n  leftgroupunder: \"M400000 262\\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\\n 435 219h399565z\",\n  // Harpoons are from glyph U+21BD in font KaTeX Main\n  leftharpoon: \"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z\",\n  leftharpoonplus: \"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\\nm0 0v40h400000v-40z\",\n  leftharpoondown: \"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z\",\n  leftharpoondownplus: \"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z\",\n  // hook is from glyph U+21A9 in font KaTeX Main\n  lefthook: \"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\\n 71.5 23h399859zM103 281v-40h399897v40z\",\n  leftlinesegment: \"M40 281 V428 H0 V94 H40 V241 H400000 v40z\\nM40 281 V428 H0 V94 H40 V241 H400000 v40z\",\n  leftmapsto: \"M40 281 V448H0V74H40V241H400000v40z\\nM40 281 V448H0V74H40V241H400000v40z\",\n  // tofrom is from glyph U+21C4 in font KaTeX AMS Regular\n  leftToFrom: \"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z\",\n  longequal: \"M0 50 h400000 v40H0z m0 194h40000v40H0z\\nM0 50 h400000 v40H0z m0 194h40000v40H0z\",\n  midbrace: \"M200428 334\\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z\",\n  midbraceunder: \"M199572 214\\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z\",\n  oiintSize1: \"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z\",\n  oiintSize2: \"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\\nc0 110 84 276 504 276s502.4-166 502.4-276z\",\n  oiiintSize1: \"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z\",\n  oiiintSize2: \"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z\",\n  rightarrow: \"M0 241v40h399891c-47.3 35.3-84 78-110 128\\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\\n 151.7 139 205zm0 0v40h399900v-40z\",\n  rightbrace: \"M400000 542l\\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z\",\n  rightbraceunder: \"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z\",\n  rightgroup: \"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\\n 3-1 3-3v-38c-76-158-257-219-435-219H0z\",\n  rightgroupunder: \"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z\",\n  rightharpoon: \"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\\n 69.2 92 94.5zm0 0v40h399900v-40z\",\n  rightharpoonplus: \"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z\",\n  rightharpoondown: \"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z\",\n  rightharpoondownplus: \"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\\nm0-194v40h400000v-40zm0 0v40h400000v-40z\",\n  righthook: \"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z\",\n  rightlinesegment: \"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z\",\n  rightToFrom: \"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z\",\n  // twoheadleftarrow is from glyph U+219E in font KaTeX AMS Regular\n  twoheadleftarrow: \"M0 167c68 40\\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z\",\n  twoheadrightarrow: \"M400000 167\\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z\",\n  // tilde1 is a modified version of a glyph from the MnSymbol package\n  tilde1: \"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\\n-68.267.847-113-73.952-191-73.952z\",\n  // ditto tilde2, tilde3, & tilde4\n  tilde2: \"M344 55.266c-142 0-300.638 81.316-311.5 86.418\\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z\",\n  tilde3: \"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\\n -338 0-409-156.573-744-156.573z\",\n  tilde4: \"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\\n -175.236-744-175.236z\",\n  // vec is from glyph U+20D7 in font KaTeX Main\n  vec: \"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\\nc-16-25.333-24-45-24-59z\",\n  // widehat1 is a modified version of a glyph from the MnSymbol package\n  widehat1: \"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z\",\n  // ditto widehat2, widehat3, & widehat4\n  widehat2: \"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z\",\n  widehat3: \"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z\",\n  widehat4: \"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z\",\n  // widecheck paths are all inverted versions of widehat\n  widecheck1: \"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z\",\n  widecheck2: \"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z\",\n  widecheck3: \"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z\",\n  widecheck4: \"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z\",\n  // The next ten paths support reaction arrows from the mhchem package.\n  // Arrows for \\ce{<-->} are offset from xAxis by 0.22ex, per mhchem in LaTeX\n  // baraboveleftarrow is mostly from glyph U+2190 in font KaTeX Main\n  baraboveleftarrow: \"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z\",\n  // rightarrowabovebar is mostly from glyph U+2192, KaTeX Main\n  rightarrowabovebar: \"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z\",\n  // The short left harpoon has 0.5em (i.e. 500 units) kern on the left end.\n  // Ref from mhchem.sty: \\rlap{\\raisebox{-.22ex}{$\\kern0.5em\n  baraboveshortleftharpoon: \"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z\",\n  rightharpoonaboveshortbar: \"M0,241 l0,40c399126,0,399993,0,399993,0\\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z\",\n  shortbaraboveleftharpoon: \"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z\",\n  shortrightharpoonabovebar: \"M53,241l0,40c398570,0,399437,0,399437,0\\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z\"\n};\nvar tallDelim = function tallDelim(label, midHeight) {\n  switch (label) {\n    case \"lbrack\":\n      return \"M403 1759 V84 H666 V0 H319 V1759 v\" + midHeight + \" v1759 h347 v-84\\nH403z M403 1759 V0 H319 V1759 v\" + midHeight + \" v1759 h84z\";\n\n    case \"rbrack\":\n      return \"M347 1759 V0 H0 V84 H263 V1759 v\" + midHeight + \" v1759 H0 v84 H347z\\nM347 1759 V0 H263 V1759 v\" + midHeight + \" v1759 h84z\";\n\n    case \"vert\":\n      return \"M145 15 v585 v\" + midHeight + \" v585 c2.667,10,9.667,15,21,15\\nc10,0,16.667,-5,20,-15 v-585 v\" + -midHeight + \" v-585 c-2.667,-10,-9.667,-15,-21,-15\\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v\" + midHeight + \" v585 h43z\";\n\n    case \"doublevert\":\n      return \"M145 15 v585 v\" + midHeight + \" v585 c2.667,10,9.667,15,21,15\\nc10,0,16.667,-5,20,-15 v-585 v\" + -midHeight + \" v-585 c-2.667,-10,-9.667,-15,-21,-15\\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v\" + midHeight + \" v585 h43z\\nM367 15 v585 v\" + midHeight + \" v585 c2.667,10,9.667,15,21,15\\nc10,0,16.667,-5,20,-15 v-585 v\" + -midHeight + \" v-585 c-2.667,-10,-9.667,-15,-21,-15\\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v\" + midHeight + \" v585 h43z\";\n\n    case \"lfloor\":\n      return \"M319 602 V0 H403 V602 v\" + midHeight + \" v1715 h263 v84 H319z\\nMM319 602 V0 H403 V602 v\" + midHeight + \" v1715 H319z\";\n\n    case \"rfloor\":\n      return \"M319 602 V0 H403 V602 v\" + midHeight + \" v1799 H0 v-84 H319z\\nMM319 602 V0 H403 V602 v\" + midHeight + \" v1715 H319z\";\n\n    case \"lceil\":\n      return \"M403 1759 V84 H666 V0 H319 V1759 v\" + midHeight + \" v602 h84z\\nM403 1759 V0 H319 V1759 v\" + midHeight + \" v602 h84z\";\n\n    case \"rceil\":\n      return \"M347 1759 V0 H0 V84 H263 V1759 v\" + midHeight + \" v602 h84z\\nM347 1759 V0 h-84 V1759 v\" + midHeight + \" v602 h84z\";\n\n    case \"lparen\":\n      return \"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\\n-36,557 l0,\" + (midHeight + 84) + \"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\\nl0,-\" + (midHeight + 92) + \"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z\";\n\n    case \"rparen\":\n      return \"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,\" + (midHeight + 9) + \"\\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\\nl0,-\" + (midHeight + 144) + \"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z\";\n\n    default:\n      // We should not ever get here.\n      throw new Error(\"Unknown stretchy delimiter.\");\n  }\n};\n\n// To ensure that all nodes have compatible signatures for these methods.\n\n/**\n * This node represents a document fragment, which contains elements, but when\n * placed into the DOM doesn't have any representation itself. It only contains\n * children and doesn't have any DOM node properties.\n */\nclass DocumentFragment {\n  // Never used; needed for satisfying interface.\n  constructor(children) {\n    this.children = void 0;\n    this.classes = void 0;\n    this.height = void 0;\n    this.depth = void 0;\n    this.maxFontSize = void 0;\n    this.style = void 0;\n    this.children = children;\n    this.classes = [];\n    this.height = 0;\n    this.depth = 0;\n    this.maxFontSize = 0;\n    this.style = {};\n  }\n\n  hasClass(className) {\n    return this.classes.includes(className);\n  }\n  /** Convert the fragment into a node. */\n\n\n  toNode() {\n    var frag = document.createDocumentFragment();\n\n    for (var i = 0; i < this.children.length; i++) {\n      frag.appendChild(this.children[i].toNode());\n    }\n\n    return frag;\n  }\n  /** Convert the fragment into HTML markup. */\n\n\n  toMarkup() {\n    var markup = \"\"; // Simply concatenate the markup for the children together.\n\n    for (var i = 0; i < this.children.length; i++) {\n      markup += this.children[i].toMarkup();\n    }\n\n    return markup;\n  }\n  /**\n   * Converts the math node into a string, similar to innerText. Applies to\n   * MathDomNode's only.\n   */\n\n\n  toText() {\n    // To avoid this, we would subclass documentFragment separately for\n    // MathML, but polyfills for subclassing is expensive per PR 1469.\n    // $FlowFixMe: Only works for ChildType = MathDomNode.\n    var toText = child => child.toText();\n\n    return this.children.map(toText).join(\"\");\n  }\n\n}\n\n// This file is GENERATED by buildMetrics.sh. DO NOT MODIFY.\nvar fontMetricsData = {\n  \"AMS-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"65\": [0, 0.68889, 0, 0, 0.72222],\n    \"66\": [0, 0.68889, 0, 0, 0.66667],\n    \"67\": [0, 0.68889, 0, 0, 0.72222],\n    \"68\": [0, 0.68889, 0, 0, 0.72222],\n    \"69\": [0, 0.68889, 0, 0, 0.66667],\n    \"70\": [0, 0.68889, 0, 0, 0.61111],\n    \"71\": [0, 0.68889, 0, 0, 0.77778],\n    \"72\": [0, 0.68889, 0, 0, 0.77778],\n    \"73\": [0, 0.68889, 0, 0, 0.38889],\n    \"74\": [0.16667, 0.68889, 0, 0, 0.5],\n    \"75\": [0, 0.68889, 0, 0, 0.77778],\n    \"76\": [0, 0.68889, 0, 0, 0.66667],\n    \"77\": [0, 0.68889, 0, 0, 0.94445],\n    \"78\": [0, 0.68889, 0, 0, 0.72222],\n    \"79\": [0.16667, 0.68889, 0, 0, 0.77778],\n    \"80\": [0, 0.68889, 0, 0, 0.61111],\n    \"81\": [0.16667, 0.68889, 0, 0, 0.77778],\n    \"82\": [0, 0.68889, 0, 0, 0.72222],\n    \"83\": [0, 0.68889, 0, 0, 0.55556],\n    \"84\": [0, 0.68889, 0, 0, 0.66667],\n    \"85\": [0, 0.68889, 0, 0, 0.72222],\n    \"86\": [0, 0.68889, 0, 0, 0.72222],\n    \"87\": [0, 0.68889, 0, 0, 1.0],\n    \"88\": [0, 0.68889, 0, 0, 0.72222],\n    \"89\": [0, 0.68889, 0, 0, 0.72222],\n    \"90\": [0, 0.68889, 0, 0, 0.66667],\n    \"107\": [0, 0.68889, 0, 0, 0.55556],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"165\": [0, 0.675, 0.025, 0, 0.75],\n    \"174\": [0.15559, 0.69224, 0, 0, 0.94666],\n    \"240\": [0, 0.68889, 0, 0, 0.55556],\n    \"295\": [0, 0.68889, 0, 0, 0.54028],\n    \"710\": [0, 0.825, 0, 0, 2.33334],\n    \"732\": [0, 0.9, 0, 0, 2.33334],\n    \"770\": [0, 0.825, 0, 0, 2.33334],\n    \"771\": [0, 0.9, 0, 0, 2.33334],\n    \"989\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"1008\": [0, 0.43056, 0.04028, 0, 0.66667],\n    \"8245\": [0, 0.54986, 0, 0, 0.275],\n    \"8463\": [0, 0.68889, 0, 0, 0.54028],\n    \"8487\": [0, 0.68889, 0, 0, 0.72222],\n    \"8498\": [0, 0.68889, 0, 0, 0.55556],\n    \"8502\": [0, 0.68889, 0, 0, 0.66667],\n    \"8503\": [0, 0.68889, 0, 0, 0.44445],\n    \"8504\": [0, 0.68889, 0, 0, 0.66667],\n    \"8513\": [0, 0.68889, 0, 0, 0.63889],\n    \"8592\": [-0.03598, 0.46402, 0, 0, 0.5],\n    \"8594\": [-0.03598, 0.46402, 0, 0, 0.5],\n    \"8602\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8603\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8606\": [0.01354, 0.52239, 0, 0, 1.0],\n    \"8608\": [0.01354, 0.52239, 0, 0, 1.0],\n    \"8610\": [0.01354, 0.52239, 0, 0, 1.11111],\n    \"8611\": [0.01354, 0.52239, 0, 0, 1.11111],\n    \"8619\": [0, 0.54986, 0, 0, 1.0],\n    \"8620\": [0, 0.54986, 0, 0, 1.0],\n    \"8621\": [-0.13313, 0.37788, 0, 0, 1.38889],\n    \"8622\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8624\": [0, 0.69224, 0, 0, 0.5],\n    \"8625\": [0, 0.69224, 0, 0, 0.5],\n    \"8630\": [0, 0.43056, 0, 0, 1.0],\n    \"8631\": [0, 0.43056, 0, 0, 1.0],\n    \"8634\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8635\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8638\": [0.19444, 0.69224, 0, 0, 0.41667],\n    \"8639\": [0.19444, 0.69224, 0, 0, 0.41667],\n    \"8642\": [0.19444, 0.69224, 0, 0, 0.41667],\n    \"8643\": [0.19444, 0.69224, 0, 0, 0.41667],\n    \"8644\": [0.1808, 0.675, 0, 0, 1.0],\n    \"8646\": [0.1808, 0.675, 0, 0, 1.0],\n    \"8647\": [0.1808, 0.675, 0, 0, 1.0],\n    \"8648\": [0.19444, 0.69224, 0, 0, 0.83334],\n    \"8649\": [0.1808, 0.675, 0, 0, 1.0],\n    \"8650\": [0.19444, 0.69224, 0, 0, 0.83334],\n    \"8651\": [0.01354, 0.52239, 0, 0, 1.0],\n    \"8652\": [0.01354, 0.52239, 0, 0, 1.0],\n    \"8653\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8654\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8655\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8666\": [0.13667, 0.63667, 0, 0, 1.0],\n    \"8667\": [0.13667, 0.63667, 0, 0, 1.0],\n    \"8669\": [-0.13313, 0.37788, 0, 0, 1.0],\n    \"8672\": [-0.064, 0.437, 0, 0, 1.334],\n    \"8674\": [-0.064, 0.437, 0, 0, 1.334],\n    \"8705\": [0, 0.825, 0, 0, 0.5],\n    \"8708\": [0, 0.68889, 0, 0, 0.55556],\n    \"8709\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"8717\": [0, 0.43056, 0, 0, 0.42917],\n    \"8722\": [-0.03598, 0.46402, 0, 0, 0.5],\n    \"8724\": [0.08198, 0.69224, 0, 0, 0.77778],\n    \"8726\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"8733\": [0, 0.69224, 0, 0, 0.77778],\n    \"8736\": [0, 0.69224, 0, 0, 0.72222],\n    \"8737\": [0, 0.69224, 0, 0, 0.72222],\n    \"8738\": [0.03517, 0.52239, 0, 0, 0.72222],\n    \"8739\": [0.08167, 0.58167, 0, 0, 0.22222],\n    \"8740\": [0.25142, 0.74111, 0, 0, 0.27778],\n    \"8741\": [0.08167, 0.58167, 0, 0, 0.38889],\n    \"8742\": [0.25142, 0.74111, 0, 0, 0.5],\n    \"8756\": [0, 0.69224, 0, 0, 0.66667],\n    \"8757\": [0, 0.69224, 0, 0, 0.66667],\n    \"8764\": [-0.13313, 0.36687, 0, 0, 0.77778],\n    \"8765\": [-0.13313, 0.37788, 0, 0, 0.77778],\n    \"8769\": [-0.13313, 0.36687, 0, 0, 0.77778],\n    \"8770\": [-0.03625, 0.46375, 0, 0, 0.77778],\n    \"8774\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8776\": [-0.01688, 0.48312, 0, 0, 0.77778],\n    \"8778\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"8782\": [0.06062, 0.54986, 0, 0, 0.77778],\n    \"8783\": [0.06062, 0.54986, 0, 0, 0.77778],\n    \"8785\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8786\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8787\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8790\": [0, 0.69224, 0, 0, 0.77778],\n    \"8791\": [0.22958, 0.72958, 0, 0, 0.77778],\n    \"8796\": [0.08198, 0.91667, 0, 0, 0.77778],\n    \"8806\": [0.25583, 0.75583, 0, 0, 0.77778],\n    \"8807\": [0.25583, 0.75583, 0, 0, 0.77778],\n    \"8808\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"8809\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"8812\": [0.25583, 0.75583, 0, 0, 0.5],\n    \"8814\": [0.20576, 0.70576, 0, 0, 0.77778],\n    \"8815\": [0.20576, 0.70576, 0, 0, 0.77778],\n    \"8816\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8817\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8818\": [0.22958, 0.72958, 0, 0, 0.77778],\n    \"8819\": [0.22958, 0.72958, 0, 0, 0.77778],\n    \"8822\": [0.1808, 0.675, 0, 0, 0.77778],\n    \"8823\": [0.1808, 0.675, 0, 0, 0.77778],\n    \"8828\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"8829\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"8830\": [0.22958, 0.72958, 0, 0, 0.77778],\n    \"8831\": [0.22958, 0.72958, 0, 0, 0.77778],\n    \"8832\": [0.20576, 0.70576, 0, 0, 0.77778],\n    \"8833\": [0.20576, 0.70576, 0, 0, 0.77778],\n    \"8840\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8841\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8842\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8843\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8847\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"8848\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"8858\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8859\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8861\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8862\": [0, 0.675, 0, 0, 0.77778],\n    \"8863\": [0, 0.675, 0, 0, 0.77778],\n    \"8864\": [0, 0.675, 0, 0, 0.77778],\n    \"8865\": [0, 0.675, 0, 0, 0.77778],\n    \"8872\": [0, 0.69224, 0, 0, 0.61111],\n    \"8873\": [0, 0.69224, 0, 0, 0.72222],\n    \"8874\": [0, 0.69224, 0, 0, 0.88889],\n    \"8876\": [0, 0.68889, 0, 0, 0.61111],\n    \"8877\": [0, 0.68889, 0, 0, 0.61111],\n    \"8878\": [0, 0.68889, 0, 0, 0.72222],\n    \"8879\": [0, 0.68889, 0, 0, 0.72222],\n    \"8882\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"8883\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"8884\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"8885\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"8888\": [0, 0.54986, 0, 0, 1.11111],\n    \"8890\": [0.19444, 0.43056, 0, 0, 0.55556],\n    \"8891\": [0.19444, 0.69224, 0, 0, 0.61111],\n    \"8892\": [0.19444, 0.69224, 0, 0, 0.61111],\n    \"8901\": [0, 0.54986, 0, 0, 0.27778],\n    \"8903\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"8905\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"8906\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"8907\": [0, 0.69224, 0, 0, 0.77778],\n    \"8908\": [0, 0.69224, 0, 0, 0.77778],\n    \"8909\": [-0.03598, 0.46402, 0, 0, 0.77778],\n    \"8910\": [0, 0.54986, 0, 0, 0.76042],\n    \"8911\": [0, 0.54986, 0, 0, 0.76042],\n    \"8912\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"8913\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"8914\": [0, 0.54986, 0, 0, 0.66667],\n    \"8915\": [0, 0.54986, 0, 0, 0.66667],\n    \"8916\": [0, 0.69224, 0, 0, 0.66667],\n    \"8918\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"8919\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"8920\": [0.03517, 0.54986, 0, 0, 1.33334],\n    \"8921\": [0.03517, 0.54986, 0, 0, 1.33334],\n    \"8922\": [0.38569, 0.88569, 0, 0, 0.77778],\n    \"8923\": [0.38569, 0.88569, 0, 0, 0.77778],\n    \"8926\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"8927\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"8928\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8929\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8934\": [0.23222, 0.74111, 0, 0, 0.77778],\n    \"8935\": [0.23222, 0.74111, 0, 0, 0.77778],\n    \"8936\": [0.23222, 0.74111, 0, 0, 0.77778],\n    \"8937\": [0.23222, 0.74111, 0, 0, 0.77778],\n    \"8938\": [0.20576, 0.70576, 0, 0, 0.77778],\n    \"8939\": [0.20576, 0.70576, 0, 0, 0.77778],\n    \"8940\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8941\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8994\": [0.19444, 0.69224, 0, 0, 0.77778],\n    \"8995\": [0.19444, 0.69224, 0, 0, 0.77778],\n    \"9416\": [0.15559, 0.69224, 0, 0, 0.90222],\n    \"9484\": [0, 0.69224, 0, 0, 0.5],\n    \"9488\": [0, 0.69224, 0, 0, 0.5],\n    \"9492\": [0, 0.37788, 0, 0, 0.5],\n    \"9496\": [0, 0.37788, 0, 0, 0.5],\n    \"9585\": [0.19444, 0.68889, 0, 0, 0.88889],\n    \"9586\": [0.19444, 0.74111, 0, 0, 0.88889],\n    \"9632\": [0, 0.675, 0, 0, 0.77778],\n    \"9633\": [0, 0.675, 0, 0, 0.77778],\n    \"9650\": [0, 0.54986, 0, 0, 0.72222],\n    \"9651\": [0, 0.54986, 0, 0, 0.72222],\n    \"9654\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"9660\": [0, 0.54986, 0, 0, 0.72222],\n    \"9661\": [0, 0.54986, 0, 0, 0.72222],\n    \"9664\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"9674\": [0.11111, 0.69224, 0, 0, 0.66667],\n    \"9733\": [0.19444, 0.69224, 0, 0, 0.94445],\n    \"10003\": [0, 0.69224, 0, 0, 0.83334],\n    \"10016\": [0, 0.69224, 0, 0, 0.83334],\n    \"10731\": [0.11111, 0.69224, 0, 0, 0.66667],\n    \"10846\": [0.19444, 0.75583, 0, 0, 0.61111],\n    \"10877\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"10878\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"10885\": [0.25583, 0.75583, 0, 0, 0.77778],\n    \"10886\": [0.25583, 0.75583, 0, 0, 0.77778],\n    \"10887\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"10888\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"10889\": [0.26167, 0.75726, 0, 0, 0.77778],\n    \"10890\": [0.26167, 0.75726, 0, 0, 0.77778],\n    \"10891\": [0.48256, 0.98256, 0, 0, 0.77778],\n    \"10892\": [0.48256, 0.98256, 0, 0, 0.77778],\n    \"10901\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"10902\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"10933\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"10934\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"10935\": [0.26167, 0.75726, 0, 0, 0.77778],\n    \"10936\": [0.26167, 0.75726, 0, 0, 0.77778],\n    \"10937\": [0.26167, 0.75726, 0, 0, 0.77778],\n    \"10938\": [0.26167, 0.75726, 0, 0, 0.77778],\n    \"10949\": [0.25583, 0.75583, 0, 0, 0.77778],\n    \"10950\": [0.25583, 0.75583, 0, 0, 0.77778],\n    \"10955\": [0.28481, 0.79383, 0, 0, 0.77778],\n    \"10956\": [0.28481, 0.79383, 0, 0, 0.77778],\n    \"57350\": [0.08167, 0.58167, 0, 0, 0.22222],\n    \"57351\": [0.08167, 0.58167, 0, 0, 0.38889],\n    \"57352\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"57353\": [0, 0.43056, 0.04028, 0, 0.66667],\n    \"57356\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"57357\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"57358\": [0.41951, 0.91951, 0, 0, 0.77778],\n    \"57359\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"57360\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"57361\": [0.41951, 0.91951, 0, 0, 0.77778],\n    \"57366\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"57367\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"57368\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"57369\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"57370\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"57371\": [0.13597, 0.63597, 0, 0, 0.77778]\n  },\n  \"Caligraphic-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"65\": [0, 0.68333, 0, 0.19445, 0.79847],\n    \"66\": [0, 0.68333, 0.03041, 0.13889, 0.65681],\n    \"67\": [0, 0.68333, 0.05834, 0.13889, 0.52653],\n    \"68\": [0, 0.68333, 0.02778, 0.08334, 0.77139],\n    \"69\": [0, 0.68333, 0.08944, 0.11111, 0.52778],\n    \"70\": [0, 0.68333, 0.09931, 0.11111, 0.71875],\n    \"71\": [0.09722, 0.68333, 0.0593, 0.11111, 0.59487],\n    \"72\": [0, 0.68333, 0.00965, 0.11111, 0.84452],\n    \"73\": [0, 0.68333, 0.07382, 0, 0.54452],\n    \"74\": [0.09722, 0.68333, 0.18472, 0.16667, 0.67778],\n    \"75\": [0, 0.68333, 0.01445, 0.05556, 0.76195],\n    \"76\": [0, 0.68333, 0, 0.13889, 0.68972],\n    \"77\": [0, 0.68333, 0, 0.13889, 1.2009],\n    \"78\": [0, 0.68333, 0.14736, 0.08334, 0.82049],\n    \"79\": [0, 0.68333, 0.02778, 0.11111, 0.79611],\n    \"80\": [0, 0.68333, 0.08222, 0.08334, 0.69556],\n    \"81\": [0.09722, 0.68333, 0, 0.11111, 0.81667],\n    \"82\": [0, 0.68333, 0, 0.08334, 0.8475],\n    \"83\": [0, 0.68333, 0.075, 0.13889, 0.60556],\n    \"84\": [0, 0.68333, 0.25417, 0, 0.54464],\n    \"85\": [0, 0.68333, 0.09931, 0.08334, 0.62583],\n    \"86\": [0, 0.68333, 0.08222, 0, 0.61278],\n    \"87\": [0, 0.68333, 0.08222, 0.08334, 0.98778],\n    \"88\": [0, 0.68333, 0.14643, 0.13889, 0.7133],\n    \"89\": [0.09722, 0.68333, 0.08222, 0.08334, 0.66834],\n    \"90\": [0, 0.68333, 0.07944, 0.13889, 0.72473],\n    \"160\": [0, 0, 0, 0, 0.25]\n  },\n  \"Fraktur-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69141, 0, 0, 0.29574],\n    \"34\": [0, 0.69141, 0, 0, 0.21471],\n    \"38\": [0, 0.69141, 0, 0, 0.73786],\n    \"39\": [0, 0.69141, 0, 0, 0.21201],\n    \"40\": [0.24982, 0.74947, 0, 0, 0.38865],\n    \"41\": [0.24982, 0.74947, 0, 0, 0.38865],\n    \"42\": [0, 0.62119, 0, 0, 0.27764],\n    \"43\": [0.08319, 0.58283, 0, 0, 0.75623],\n    \"44\": [0, 0.10803, 0, 0, 0.27764],\n    \"45\": [0.08319, 0.58283, 0, 0, 0.75623],\n    \"46\": [0, 0.10803, 0, 0, 0.27764],\n    \"47\": [0.24982, 0.74947, 0, 0, 0.50181],\n    \"48\": [0, 0.47534, 0, 0, 0.50181],\n    \"49\": [0, 0.47534, 0, 0, 0.50181],\n    \"50\": [0, 0.47534, 0, 0, 0.50181],\n    \"51\": [0.18906, 0.47534, 0, 0, 0.50181],\n    \"52\": [0.18906, 0.47534, 0, 0, 0.50181],\n    \"53\": [0.18906, 0.47534, 0, 0, 0.50181],\n    \"54\": [0, 0.69141, 0, 0, 0.50181],\n    \"55\": [0.18906, 0.47534, 0, 0, 0.50181],\n    \"56\": [0, 0.69141, 0, 0, 0.50181],\n    \"57\": [0.18906, 0.47534, 0, 0, 0.50181],\n    \"58\": [0, 0.47534, 0, 0, 0.21606],\n    \"59\": [0.12604, 0.47534, 0, 0, 0.21606],\n    \"61\": [-0.13099, 0.36866, 0, 0, 0.75623],\n    \"63\": [0, 0.69141, 0, 0, 0.36245],\n    \"65\": [0, 0.69141, 0, 0, 0.7176],\n    \"66\": [0, 0.69141, 0, 0, 0.88397],\n    \"67\": [0, 0.69141, 0, 0, 0.61254],\n    \"68\": [0, 0.69141, 0, 0, 0.83158],\n    \"69\": [0, 0.69141, 0, 0, 0.66278],\n    \"70\": [0.12604, 0.69141, 0, 0, 0.61119],\n    \"71\": [0, 0.69141, 0, 0, 0.78539],\n    \"72\": [0.06302, 0.69141, 0, 0, 0.7203],\n    \"73\": [0, 0.69141, 0, 0, 0.55448],\n    \"74\": [0.12604, 0.69141, 0, 0, 0.55231],\n    \"75\": [0, 0.69141, 0, 0, 0.66845],\n    \"76\": [0, 0.69141, 0, 0, 0.66602],\n    \"77\": [0, 0.69141, 0, 0, 1.04953],\n    \"78\": [0, 0.69141, 0, 0, 0.83212],\n    \"79\": [0, 0.69141, 0, 0, 0.82699],\n    \"80\": [0.18906, 0.69141, 0, 0, 0.82753],\n    \"81\": [0.03781, 0.69141, 0, 0, 0.82699],\n    \"82\": [0, 0.69141, 0, 0, 0.82807],\n    \"83\": [0, 0.69141, 0, 0, 0.82861],\n    \"84\": [0, 0.69141, 0, 0, 0.66899],\n    \"85\": [0, 0.69141, 0, 0, 0.64576],\n    \"86\": [0, 0.69141, 0, 0, 0.83131],\n    \"87\": [0, 0.69141, 0, 0, 1.04602],\n    \"88\": [0, 0.69141, 0, 0, 0.71922],\n    \"89\": [0.18906, 0.69141, 0, 0, 0.83293],\n    \"90\": [0.12604, 0.69141, 0, 0, 0.60201],\n    \"91\": [0.24982, 0.74947, 0, 0, 0.27764],\n    \"93\": [0.24982, 0.74947, 0, 0, 0.27764],\n    \"94\": [0, 0.69141, 0, 0, 0.49965],\n    \"97\": [0, 0.47534, 0, 0, 0.50046],\n    \"98\": [0, 0.69141, 0, 0, 0.51315],\n    \"99\": [0, 0.47534, 0, 0, 0.38946],\n    \"100\": [0, 0.62119, 0, 0, 0.49857],\n    \"101\": [0, 0.47534, 0, 0, 0.40053],\n    \"102\": [0.18906, 0.69141, 0, 0, 0.32626],\n    \"103\": [0.18906, 0.47534, 0, 0, 0.5037],\n    \"104\": [0.18906, 0.69141, 0, 0, 0.52126],\n    \"105\": [0, 0.69141, 0, 0, 0.27899],\n    \"106\": [0, 0.69141, 0, 0, 0.28088],\n    \"107\": [0, 0.69141, 0, 0, 0.38946],\n    \"108\": [0, 0.69141, 0, 0, 0.27953],\n    \"109\": [0, 0.47534, 0, 0, 0.76676],\n    \"110\": [0, 0.47534, 0, 0, 0.52666],\n    \"111\": [0, 0.47534, 0, 0, 0.48885],\n    \"112\": [0.18906, 0.52396, 0, 0, 0.50046],\n    \"113\": [0.18906, 0.47534, 0, 0, 0.48912],\n    \"114\": [0, 0.47534, 0, 0, 0.38919],\n    \"115\": [0, 0.47534, 0, 0, 0.44266],\n    \"116\": [0, 0.62119, 0, 0, 0.33301],\n    \"117\": [0, 0.47534, 0, 0, 0.5172],\n    \"118\": [0, 0.52396, 0, 0, 0.5118],\n    \"119\": [0, 0.52396, 0, 0, 0.77351],\n    \"120\": [0.18906, 0.47534, 0, 0, 0.38865],\n    \"121\": [0.18906, 0.47534, 0, 0, 0.49884],\n    \"122\": [0.18906, 0.47534, 0, 0, 0.39054],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"8216\": [0, 0.69141, 0, 0, 0.21471],\n    \"8217\": [0, 0.69141, 0, 0, 0.21471],\n    \"58112\": [0, 0.62119, 0, 0, 0.49749],\n    \"58113\": [0, 0.62119, 0, 0, 0.4983],\n    \"58114\": [0.18906, 0.69141, 0, 0, 0.33328],\n    \"58115\": [0.18906, 0.69141, 0, 0, 0.32923],\n    \"58116\": [0.18906, 0.47534, 0, 0, 0.50343],\n    \"58117\": [0, 0.69141, 0, 0, 0.33301],\n    \"58118\": [0, 0.62119, 0, 0, 0.33409],\n    \"58119\": [0, 0.47534, 0, 0, 0.50073]\n  },\n  \"Main-Bold\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69444, 0, 0, 0.35],\n    \"34\": [0, 0.69444, 0, 0, 0.60278],\n    \"35\": [0.19444, 0.69444, 0, 0, 0.95833],\n    \"36\": [0.05556, 0.75, 0, 0, 0.575],\n    \"37\": [0.05556, 0.75, 0, 0, 0.95833],\n    \"38\": [0, 0.69444, 0, 0, 0.89444],\n    \"39\": [0, 0.69444, 0, 0, 0.31944],\n    \"40\": [0.25, 0.75, 0, 0, 0.44722],\n    \"41\": [0.25, 0.75, 0, 0, 0.44722],\n    \"42\": [0, 0.75, 0, 0, 0.575],\n    \"43\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"44\": [0.19444, 0.15556, 0, 0, 0.31944],\n    \"45\": [0, 0.44444, 0, 0, 0.38333],\n    \"46\": [0, 0.15556, 0, 0, 0.31944],\n    \"47\": [0.25, 0.75, 0, 0, 0.575],\n    \"48\": [0, 0.64444, 0, 0, 0.575],\n    \"49\": [0, 0.64444, 0, 0, 0.575],\n    \"50\": [0, 0.64444, 0, 0, 0.575],\n    \"51\": [0, 0.64444, 0, 0, 0.575],\n    \"52\": [0, 0.64444, 0, 0, 0.575],\n    \"53\": [0, 0.64444, 0, 0, 0.575],\n    \"54\": [0, 0.64444, 0, 0, 0.575],\n    \"55\": [0, 0.64444, 0, 0, 0.575],\n    \"56\": [0, 0.64444, 0, 0, 0.575],\n    \"57\": [0, 0.64444, 0, 0, 0.575],\n    \"58\": [0, 0.44444, 0, 0, 0.31944],\n    \"59\": [0.19444, 0.44444, 0, 0, 0.31944],\n    \"60\": [0.08556, 0.58556, 0, 0, 0.89444],\n    \"61\": [-0.10889, 0.39111, 0, 0, 0.89444],\n    \"62\": [0.08556, 0.58556, 0, 0, 0.89444],\n    \"63\": [0, 0.69444, 0, 0, 0.54305],\n    \"64\": [0, 0.69444, 0, 0, 0.89444],\n    \"65\": [0, 0.68611, 0, 0, 0.86944],\n    \"66\": [0, 0.68611, 0, 0, 0.81805],\n    \"67\": [0, 0.68611, 0, 0, 0.83055],\n    \"68\": [0, 0.68611, 0, 0, 0.88194],\n    \"69\": [0, 0.68611, 0, 0, 0.75555],\n    \"70\": [0, 0.68611, 0, 0, 0.72361],\n    \"71\": [0, 0.68611, 0, 0, 0.90416],\n    \"72\": [0, 0.68611, 0, 0, 0.9],\n    \"73\": [0, 0.68611, 0, 0, 0.43611],\n    \"74\": [0, 0.68611, 0, 0, 0.59444],\n    \"75\": [0, 0.68611, 0, 0, 0.90138],\n    \"76\": [0, 0.68611, 0, 0, 0.69166],\n    \"77\": [0, 0.68611, 0, 0, 1.09166],\n    \"78\": [0, 0.68611, 0, 0, 0.9],\n    \"79\": [0, 0.68611, 0, 0, 0.86388],\n    \"80\": [0, 0.68611, 0, 0, 0.78611],\n    \"81\": [0.19444, 0.68611, 0, 0, 0.86388],\n    \"82\": [0, 0.68611, 0, 0, 0.8625],\n    \"83\": [0, 0.68611, 0, 0, 0.63889],\n    \"84\": [0, 0.68611, 0, 0, 0.8],\n    \"85\": [0, 0.68611, 0, 0, 0.88472],\n    \"86\": [0, 0.68611, 0.01597, 0, 0.86944],\n    \"87\": [0, 0.68611, 0.01597, 0, 1.18888],\n    \"88\": [0, 0.68611, 0, 0, 0.86944],\n    \"89\": [0, 0.68611, 0.02875, 0, 0.86944],\n    \"90\": [0, 0.68611, 0, 0, 0.70277],\n    \"91\": [0.25, 0.75, 0, 0, 0.31944],\n    \"92\": [0.25, 0.75, 0, 0, 0.575],\n    \"93\": [0.25, 0.75, 0, 0, 0.31944],\n    \"94\": [0, 0.69444, 0, 0, 0.575],\n    \"95\": [0.31, 0.13444, 0.03194, 0, 0.575],\n    \"97\": [0, 0.44444, 0, 0, 0.55902],\n    \"98\": [0, 0.69444, 0, 0, 0.63889],\n    \"99\": [0, 0.44444, 0, 0, 0.51111],\n    \"100\": [0, 0.69444, 0, 0, 0.63889],\n    \"101\": [0, 0.44444, 0, 0, 0.52708],\n    \"102\": [0, 0.69444, 0.10903, 0, 0.35139],\n    \"103\": [0.19444, 0.44444, 0.01597, 0, 0.575],\n    \"104\": [0, 0.69444, 0, 0, 0.63889],\n    \"105\": [0, 0.69444, 0, 0, 0.31944],\n    \"106\": [0.19444, 0.69444, 0, 0, 0.35139],\n    \"107\": [0, 0.69444, 0, 0, 0.60694],\n    \"108\": [0, 0.69444, 0, 0, 0.31944],\n    \"109\": [0, 0.44444, 0, 0, 0.95833],\n    \"110\": [0, 0.44444, 0, 0, 0.63889],\n    \"111\": [0, 0.44444, 0, 0, 0.575],\n    \"112\": [0.19444, 0.44444, 0, 0, 0.63889],\n    \"113\": [0.19444, 0.44444, 0, 0, 0.60694],\n    \"114\": [0, 0.44444, 0, 0, 0.47361],\n    \"115\": [0, 0.44444, 0, 0, 0.45361],\n    \"116\": [0, 0.63492, 0, 0, 0.44722],\n    \"117\": [0, 0.44444, 0, 0, 0.63889],\n    \"118\": [0, 0.44444, 0.01597, 0, 0.60694],\n    \"119\": [0, 0.44444, 0.01597, 0, 0.83055],\n    \"120\": [0, 0.44444, 0, 0, 0.60694],\n    \"121\": [0.19444, 0.44444, 0.01597, 0, 0.60694],\n    \"122\": [0, 0.44444, 0, 0, 0.51111],\n    \"123\": [0.25, 0.75, 0, 0, 0.575],\n    \"124\": [0.25, 0.75, 0, 0, 0.31944],\n    \"125\": [0.25, 0.75, 0, 0, 0.575],\n    \"126\": [0.35, 0.34444, 0, 0, 0.575],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"163\": [0, 0.69444, 0, 0, 0.86853],\n    \"168\": [0, 0.69444, 0, 0, 0.575],\n    \"172\": [0, 0.44444, 0, 0, 0.76666],\n    \"176\": [0, 0.69444, 0, 0, 0.86944],\n    \"177\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"184\": [0.17014, 0, 0, 0, 0.51111],\n    \"198\": [0, 0.68611, 0, 0, 1.04166],\n    \"215\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"216\": [0.04861, 0.73472, 0, 0, 0.89444],\n    \"223\": [0, 0.69444, 0, 0, 0.59722],\n    \"230\": [0, 0.44444, 0, 0, 0.83055],\n    \"247\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"248\": [0.09722, 0.54167, 0, 0, 0.575],\n    \"305\": [0, 0.44444, 0, 0, 0.31944],\n    \"338\": [0, 0.68611, 0, 0, 1.16944],\n    \"339\": [0, 0.44444, 0, 0, 0.89444],\n    \"567\": [0.19444, 0.44444, 0, 0, 0.35139],\n    \"710\": [0, 0.69444, 0, 0, 0.575],\n    \"711\": [0, 0.63194, 0, 0, 0.575],\n    \"713\": [0, 0.59611, 0, 0, 0.575],\n    \"714\": [0, 0.69444, 0, 0, 0.575],\n    \"715\": [0, 0.69444, 0, 0, 0.575],\n    \"728\": [0, 0.69444, 0, 0, 0.575],\n    \"729\": [0, 0.69444, 0, 0, 0.31944],\n    \"730\": [0, 0.69444, 0, 0, 0.86944],\n    \"732\": [0, 0.69444, 0, 0, 0.575],\n    \"733\": [0, 0.69444, 0, 0, 0.575],\n    \"915\": [0, 0.68611, 0, 0, 0.69166],\n    \"916\": [0, 0.68611, 0, 0, 0.95833],\n    \"920\": [0, 0.68611, 0, 0, 0.89444],\n    \"923\": [0, 0.68611, 0, 0, 0.80555],\n    \"926\": [0, 0.68611, 0, 0, 0.76666],\n    \"928\": [0, 0.68611, 0, 0, 0.9],\n    \"931\": [0, 0.68611, 0, 0, 0.83055],\n    \"933\": [0, 0.68611, 0, 0, 0.89444],\n    \"934\": [0, 0.68611, 0, 0, 0.83055],\n    \"936\": [0, 0.68611, 0, 0, 0.89444],\n    \"937\": [0, 0.68611, 0, 0, 0.83055],\n    \"8211\": [0, 0.44444, 0.03194, 0, 0.575],\n    \"8212\": [0, 0.44444, 0.03194, 0, 1.14999],\n    \"8216\": [0, 0.69444, 0, 0, 0.31944],\n    \"8217\": [0, 0.69444, 0, 0, 0.31944],\n    \"8220\": [0, 0.69444, 0, 0, 0.60278],\n    \"8221\": [0, 0.69444, 0, 0, 0.60278],\n    \"8224\": [0.19444, 0.69444, 0, 0, 0.51111],\n    \"8225\": [0.19444, 0.69444, 0, 0, 0.51111],\n    \"8242\": [0, 0.55556, 0, 0, 0.34444],\n    \"8407\": [0, 0.72444, 0.15486, 0, 0.575],\n    \"8463\": [0, 0.69444, 0, 0, 0.66759],\n    \"8465\": [0, 0.69444, 0, 0, 0.83055],\n    \"8467\": [0, 0.69444, 0, 0, 0.47361],\n    \"8472\": [0.19444, 0.44444, 0, 0, 0.74027],\n    \"8476\": [0, 0.69444, 0, 0, 0.83055],\n    \"8501\": [0, 0.69444, 0, 0, 0.70277],\n    \"8592\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8593\": [0.19444, 0.69444, 0, 0, 0.575],\n    \"8594\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8595\": [0.19444, 0.69444, 0, 0, 0.575],\n    \"8596\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8597\": [0.25, 0.75, 0, 0, 0.575],\n    \"8598\": [0.19444, 0.69444, 0, 0, 1.14999],\n    \"8599\": [0.19444, 0.69444, 0, 0, 1.14999],\n    \"8600\": [0.19444, 0.69444, 0, 0, 1.14999],\n    \"8601\": [0.19444, 0.69444, 0, 0, 1.14999],\n    \"8636\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8637\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8640\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8641\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8656\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8657\": [0.19444, 0.69444, 0, 0, 0.70277],\n    \"8658\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8659\": [0.19444, 0.69444, 0, 0, 0.70277],\n    \"8660\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8661\": [0.25, 0.75, 0, 0, 0.70277],\n    \"8704\": [0, 0.69444, 0, 0, 0.63889],\n    \"8706\": [0, 0.69444, 0.06389, 0, 0.62847],\n    \"8707\": [0, 0.69444, 0, 0, 0.63889],\n    \"8709\": [0.05556, 0.75, 0, 0, 0.575],\n    \"8711\": [0, 0.68611, 0, 0, 0.95833],\n    \"8712\": [0.08556, 0.58556, 0, 0, 0.76666],\n    \"8715\": [0.08556, 0.58556, 0, 0, 0.76666],\n    \"8722\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"8723\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"8725\": [0.25, 0.75, 0, 0, 0.575],\n    \"8726\": [0.25, 0.75, 0, 0, 0.575],\n    \"8727\": [-0.02778, 0.47222, 0, 0, 0.575],\n    \"8728\": [-0.02639, 0.47361, 0, 0, 0.575],\n    \"8729\": [-0.02639, 0.47361, 0, 0, 0.575],\n    \"8730\": [0.18, 0.82, 0, 0, 0.95833],\n    \"8733\": [0, 0.44444, 0, 0, 0.89444],\n    \"8734\": [0, 0.44444, 0, 0, 1.14999],\n    \"8736\": [0, 0.69224, 0, 0, 0.72222],\n    \"8739\": [0.25, 0.75, 0, 0, 0.31944],\n    \"8741\": [0.25, 0.75, 0, 0, 0.575],\n    \"8743\": [0, 0.55556, 0, 0, 0.76666],\n    \"8744\": [0, 0.55556, 0, 0, 0.76666],\n    \"8745\": [0, 0.55556, 0, 0, 0.76666],\n    \"8746\": [0, 0.55556, 0, 0, 0.76666],\n    \"8747\": [0.19444, 0.69444, 0.12778, 0, 0.56875],\n    \"8764\": [-0.10889, 0.39111, 0, 0, 0.89444],\n    \"8768\": [0.19444, 0.69444, 0, 0, 0.31944],\n    \"8771\": [0.00222, 0.50222, 0, 0, 0.89444],\n    \"8773\": [0.027, 0.638, 0, 0, 0.894],\n    \"8776\": [0.02444, 0.52444, 0, 0, 0.89444],\n    \"8781\": [0.00222, 0.50222, 0, 0, 0.89444],\n    \"8801\": [0.00222, 0.50222, 0, 0, 0.89444],\n    \"8804\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"8805\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"8810\": [0.08556, 0.58556, 0, 0, 1.14999],\n    \"8811\": [0.08556, 0.58556, 0, 0, 1.14999],\n    \"8826\": [0.08556, 0.58556, 0, 0, 0.89444],\n    \"8827\": [0.08556, 0.58556, 0, 0, 0.89444],\n    \"8834\": [0.08556, 0.58556, 0, 0, 0.89444],\n    \"8835\": [0.08556, 0.58556, 0, 0, 0.89444],\n    \"8838\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"8839\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"8846\": [0, 0.55556, 0, 0, 0.76666],\n    \"8849\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"8850\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"8851\": [0, 0.55556, 0, 0, 0.76666],\n    \"8852\": [0, 0.55556, 0, 0, 0.76666],\n    \"8853\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"8854\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"8855\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"8856\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"8857\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"8866\": [0, 0.69444, 0, 0, 0.70277],\n    \"8867\": [0, 0.69444, 0, 0, 0.70277],\n    \"8868\": [0, 0.69444, 0, 0, 0.89444],\n    \"8869\": [0, 0.69444, 0, 0, 0.89444],\n    \"8900\": [-0.02639, 0.47361, 0, 0, 0.575],\n    \"8901\": [-0.02639, 0.47361, 0, 0, 0.31944],\n    \"8902\": [-0.02778, 0.47222, 0, 0, 0.575],\n    \"8968\": [0.25, 0.75, 0, 0, 0.51111],\n    \"8969\": [0.25, 0.75, 0, 0, 0.51111],\n    \"8970\": [0.25, 0.75, 0, 0, 0.51111],\n    \"8971\": [0.25, 0.75, 0, 0, 0.51111],\n    \"8994\": [-0.13889, 0.36111, 0, 0, 1.14999],\n    \"8995\": [-0.13889, 0.36111, 0, 0, 1.14999],\n    \"9651\": [0.19444, 0.69444, 0, 0, 1.02222],\n    \"9657\": [-0.02778, 0.47222, 0, 0, 0.575],\n    \"9661\": [0.19444, 0.69444, 0, 0, 1.02222],\n    \"9667\": [-0.02778, 0.47222, 0, 0, 0.575],\n    \"9711\": [0.19444, 0.69444, 0, 0, 1.14999],\n    \"9824\": [0.12963, 0.69444, 0, 0, 0.89444],\n    \"9825\": [0.12963, 0.69444, 0, 0, 0.89444],\n    \"9826\": [0.12963, 0.69444, 0, 0, 0.89444],\n    \"9827\": [0.12963, 0.69444, 0, 0, 0.89444],\n    \"9837\": [0, 0.75, 0, 0, 0.44722],\n    \"9838\": [0.19444, 0.69444, 0, 0, 0.44722],\n    \"9839\": [0.19444, 0.69444, 0, 0, 0.44722],\n    \"10216\": [0.25, 0.75, 0, 0, 0.44722],\n    \"10217\": [0.25, 0.75, 0, 0, 0.44722],\n    \"10815\": [0, 0.68611, 0, 0, 0.9],\n    \"10927\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"10928\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"57376\": [0.19444, 0.69444, 0, 0, 0]\n  },\n  \"Main-BoldItalic\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69444, 0.11417, 0, 0.38611],\n    \"34\": [0, 0.69444, 0.07939, 0, 0.62055],\n    \"35\": [0.19444, 0.69444, 0.06833, 0, 0.94444],\n    \"37\": [0.05556, 0.75, 0.12861, 0, 0.94444],\n    \"38\": [0, 0.69444, 0.08528, 0, 0.88555],\n    \"39\": [0, 0.69444, 0.12945, 0, 0.35555],\n    \"40\": [0.25, 0.75, 0.15806, 0, 0.47333],\n    \"41\": [0.25, 0.75, 0.03306, 0, 0.47333],\n    \"42\": [0, 0.75, 0.14333, 0, 0.59111],\n    \"43\": [0.10333, 0.60333, 0.03306, 0, 0.88555],\n    \"44\": [0.19444, 0.14722, 0, 0, 0.35555],\n    \"45\": [0, 0.44444, 0.02611, 0, 0.41444],\n    \"46\": [0, 0.14722, 0, 0, 0.35555],\n    \"47\": [0.25, 0.75, 0.15806, 0, 0.59111],\n    \"48\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"49\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"50\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"51\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"52\": [0.19444, 0.64444, 0.13167, 0, 0.59111],\n    \"53\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"54\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"55\": [0.19444, 0.64444, 0.13167, 0, 0.59111],\n    \"56\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"57\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"58\": [0, 0.44444, 0.06695, 0, 0.35555],\n    \"59\": [0.19444, 0.44444, 0.06695, 0, 0.35555],\n    \"61\": [-0.10889, 0.39111, 0.06833, 0, 0.88555],\n    \"63\": [0, 0.69444, 0.11472, 0, 0.59111],\n    \"64\": [0, 0.69444, 0.09208, 0, 0.88555],\n    \"65\": [0, 0.68611, 0, 0, 0.86555],\n    \"66\": [0, 0.68611, 0.0992, 0, 0.81666],\n    \"67\": [0, 0.68611, 0.14208, 0, 0.82666],\n    \"68\": [0, 0.68611, 0.09062, 0, 0.87555],\n    \"69\": [0, 0.68611, 0.11431, 0, 0.75666],\n    \"70\": [0, 0.68611, 0.12903, 0, 0.72722],\n    \"71\": [0, 0.68611, 0.07347, 0, 0.89527],\n    \"72\": [0, 0.68611, 0.17208, 0, 0.8961],\n    \"73\": [0, 0.68611, 0.15681, 0, 0.47166],\n    \"74\": [0, 0.68611, 0.145, 0, 0.61055],\n    \"75\": [0, 0.68611, 0.14208, 0, 0.89499],\n    \"76\": [0, 0.68611, 0, 0, 0.69777],\n    \"77\": [0, 0.68611, 0.17208, 0, 1.07277],\n    \"78\": [0, 0.68611, 0.17208, 0, 0.8961],\n    \"79\": [0, 0.68611, 0.09062, 0, 0.85499],\n    \"80\": [0, 0.68611, 0.0992, 0, 0.78721],\n    \"81\": [0.19444, 0.68611, 0.09062, 0, 0.85499],\n    \"82\": [0, 0.68611, 0.02559, 0, 0.85944],\n    \"83\": [0, 0.68611, 0.11264, 0, 0.64999],\n    \"84\": [0, 0.68611, 0.12903, 0, 0.7961],\n    \"85\": [0, 0.68611, 0.17208, 0, 0.88083],\n    \"86\": [0, 0.68611, 0.18625, 0, 0.86555],\n    \"87\": [0, 0.68611, 0.18625, 0, 1.15999],\n    \"88\": [0, 0.68611, 0.15681, 0, 0.86555],\n    \"89\": [0, 0.68611, 0.19803, 0, 0.86555],\n    \"90\": [0, 0.68611, 0.14208, 0, 0.70888],\n    \"91\": [0.25, 0.75, 0.1875, 0, 0.35611],\n    \"93\": [0.25, 0.75, 0.09972, 0, 0.35611],\n    \"94\": [0, 0.69444, 0.06709, 0, 0.59111],\n    \"95\": [0.31, 0.13444, 0.09811, 0, 0.59111],\n    \"97\": [0, 0.44444, 0.09426, 0, 0.59111],\n    \"98\": [0, 0.69444, 0.07861, 0, 0.53222],\n    \"99\": [0, 0.44444, 0.05222, 0, 0.53222],\n    \"100\": [0, 0.69444, 0.10861, 0, 0.59111],\n    \"101\": [0, 0.44444, 0.085, 0, 0.53222],\n    \"102\": [0.19444, 0.69444, 0.21778, 0, 0.4],\n    \"103\": [0.19444, 0.44444, 0.105, 0, 0.53222],\n    \"104\": [0, 0.69444, 0.09426, 0, 0.59111],\n    \"105\": [0, 0.69326, 0.11387, 0, 0.35555],\n    \"106\": [0.19444, 0.69326, 0.1672, 0, 0.35555],\n    \"107\": [0, 0.69444, 0.11111, 0, 0.53222],\n    \"108\": [0, 0.69444, 0.10861, 0, 0.29666],\n    \"109\": [0, 0.44444, 0.09426, 0, 0.94444],\n    \"110\": [0, 0.44444, 0.09426, 0, 0.64999],\n    \"111\": [0, 0.44444, 0.07861, 0, 0.59111],\n    \"112\": [0.19444, 0.44444, 0.07861, 0, 0.59111],\n    \"113\": [0.19444, 0.44444, 0.105, 0, 0.53222],\n    \"114\": [0, 0.44444, 0.11111, 0, 0.50167],\n    \"115\": [0, 0.44444, 0.08167, 0, 0.48694],\n    \"116\": [0, 0.63492, 0.09639, 0, 0.385],\n    \"117\": [0, 0.44444, 0.09426, 0, 0.62055],\n    \"118\": [0, 0.44444, 0.11111, 0, 0.53222],\n    \"119\": [0, 0.44444, 0.11111, 0, 0.76777],\n    \"120\": [0, 0.44444, 0.12583, 0, 0.56055],\n    \"121\": [0.19444, 0.44444, 0.105, 0, 0.56166],\n    \"122\": [0, 0.44444, 0.13889, 0, 0.49055],\n    \"126\": [0.35, 0.34444, 0.11472, 0, 0.59111],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"168\": [0, 0.69444, 0.11473, 0, 0.59111],\n    \"176\": [0, 0.69444, 0, 0, 0.94888],\n    \"184\": [0.17014, 0, 0, 0, 0.53222],\n    \"198\": [0, 0.68611, 0.11431, 0, 1.02277],\n    \"216\": [0.04861, 0.73472, 0.09062, 0, 0.88555],\n    \"223\": [0.19444, 0.69444, 0.09736, 0, 0.665],\n    \"230\": [0, 0.44444, 0.085, 0, 0.82666],\n    \"248\": [0.09722, 0.54167, 0.09458, 0, 0.59111],\n    \"305\": [0, 0.44444, 0.09426, 0, 0.35555],\n    \"338\": [0, 0.68611, 0.11431, 0, 1.14054],\n    \"339\": [0, 0.44444, 0.085, 0, 0.82666],\n    \"567\": [0.19444, 0.44444, 0.04611, 0, 0.385],\n    \"710\": [0, 0.69444, 0.06709, 0, 0.59111],\n    \"711\": [0, 0.63194, 0.08271, 0, 0.59111],\n    \"713\": [0, 0.59444, 0.10444, 0, 0.59111],\n    \"714\": [0, 0.69444, 0.08528, 0, 0.59111],\n    \"715\": [0, 0.69444, 0, 0, 0.59111],\n    \"728\": [0, 0.69444, 0.10333, 0, 0.59111],\n    \"729\": [0, 0.69444, 0.12945, 0, 0.35555],\n    \"730\": [0, 0.69444, 0, 0, 0.94888],\n    \"732\": [0, 0.69444, 0.11472, 0, 0.59111],\n    \"733\": [0, 0.69444, 0.11472, 0, 0.59111],\n    \"915\": [0, 0.68611, 0.12903, 0, 0.69777],\n    \"916\": [0, 0.68611, 0, 0, 0.94444],\n    \"920\": [0, 0.68611, 0.09062, 0, 0.88555],\n    \"923\": [0, 0.68611, 0, 0, 0.80666],\n    \"926\": [0, 0.68611, 0.15092, 0, 0.76777],\n    \"928\": [0, 0.68611, 0.17208, 0, 0.8961],\n    \"931\": [0, 0.68611, 0.11431, 0, 0.82666],\n    \"933\": [0, 0.68611, 0.10778, 0, 0.88555],\n    \"934\": [0, 0.68611, 0.05632, 0, 0.82666],\n    \"936\": [0, 0.68611, 0.10778, 0, 0.88555],\n    \"937\": [0, 0.68611, 0.0992, 0, 0.82666],\n    \"8211\": [0, 0.44444, 0.09811, 0, 0.59111],\n    \"8212\": [0, 0.44444, 0.09811, 0, 1.18221],\n    \"8216\": [0, 0.69444, 0.12945, 0, 0.35555],\n    \"8217\": [0, 0.69444, 0.12945, 0, 0.35555],\n    \"8220\": [0, 0.69444, 0.16772, 0, 0.62055],\n    \"8221\": [0, 0.69444, 0.07939, 0, 0.62055]\n  },\n  \"Main-Italic\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69444, 0.12417, 0, 0.30667],\n    \"34\": [0, 0.69444, 0.06961, 0, 0.51444],\n    \"35\": [0.19444, 0.69444, 0.06616, 0, 0.81777],\n    \"37\": [0.05556, 0.75, 0.13639, 0, 0.81777],\n    \"38\": [0, 0.69444, 0.09694, 0, 0.76666],\n    \"39\": [0, 0.69444, 0.12417, 0, 0.30667],\n    \"40\": [0.25, 0.75, 0.16194, 0, 0.40889],\n    \"41\": [0.25, 0.75, 0.03694, 0, 0.40889],\n    \"42\": [0, 0.75, 0.14917, 0, 0.51111],\n    \"43\": [0.05667, 0.56167, 0.03694, 0, 0.76666],\n    \"44\": [0.19444, 0.10556, 0, 0, 0.30667],\n    \"45\": [0, 0.43056, 0.02826, 0, 0.35778],\n    \"46\": [0, 0.10556, 0, 0, 0.30667],\n    \"47\": [0.25, 0.75, 0.16194, 0, 0.51111],\n    \"48\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"49\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"50\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"51\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"52\": [0.19444, 0.64444, 0.13556, 0, 0.51111],\n    \"53\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"54\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"55\": [0.19444, 0.64444, 0.13556, 0, 0.51111],\n    \"56\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"57\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"58\": [0, 0.43056, 0.0582, 0, 0.30667],\n    \"59\": [0.19444, 0.43056, 0.0582, 0, 0.30667],\n    \"61\": [-0.13313, 0.36687, 0.06616, 0, 0.76666],\n    \"63\": [0, 0.69444, 0.1225, 0, 0.51111],\n    \"64\": [0, 0.69444, 0.09597, 0, 0.76666],\n    \"65\": [0, 0.68333, 0, 0, 0.74333],\n    \"66\": [0, 0.68333, 0.10257, 0, 0.70389],\n    \"67\": [0, 0.68333, 0.14528, 0, 0.71555],\n    \"68\": [0, 0.68333, 0.09403, 0, 0.755],\n    \"69\": [0, 0.68333, 0.12028, 0, 0.67833],\n    \"70\": [0, 0.68333, 0.13305, 0, 0.65277],\n    \"71\": [0, 0.68333, 0.08722, 0, 0.77361],\n    \"72\": [0, 0.68333, 0.16389, 0, 0.74333],\n    \"73\": [0, 0.68333, 0.15806, 0, 0.38555],\n    \"74\": [0, 0.68333, 0.14028, 0, 0.525],\n    \"75\": [0, 0.68333, 0.14528, 0, 0.76888],\n    \"76\": [0, 0.68333, 0, 0, 0.62722],\n    \"77\": [0, 0.68333, 0.16389, 0, 0.89666],\n    \"78\": [0, 0.68333, 0.16389, 0, 0.74333],\n    \"79\": [0, 0.68333, 0.09403, 0, 0.76666],\n    \"80\": [0, 0.68333, 0.10257, 0, 0.67833],\n    \"81\": [0.19444, 0.68333, 0.09403, 0, 0.76666],\n    \"82\": [0, 0.68333, 0.03868, 0, 0.72944],\n    \"83\": [0, 0.68333, 0.11972, 0, 0.56222],\n    \"84\": [0, 0.68333, 0.13305, 0, 0.71555],\n    \"85\": [0, 0.68333, 0.16389, 0, 0.74333],\n    \"86\": [0, 0.68333, 0.18361, 0, 0.74333],\n    \"87\": [0, 0.68333, 0.18361, 0, 0.99888],\n    \"88\": [0, 0.68333, 0.15806, 0, 0.74333],\n    \"89\": [0, 0.68333, 0.19383, 0, 0.74333],\n    \"90\": [0, 0.68333, 0.14528, 0, 0.61333],\n    \"91\": [0.25, 0.75, 0.1875, 0, 0.30667],\n    \"93\": [0.25, 0.75, 0.10528, 0, 0.30667],\n    \"94\": [0, 0.69444, 0.06646, 0, 0.51111],\n    \"95\": [0.31, 0.12056, 0.09208, 0, 0.51111],\n    \"97\": [0, 0.43056, 0.07671, 0, 0.51111],\n    \"98\": [0, 0.69444, 0.06312, 0, 0.46],\n    \"99\": [0, 0.43056, 0.05653, 0, 0.46],\n    \"100\": [0, 0.69444, 0.10333, 0, 0.51111],\n    \"101\": [0, 0.43056, 0.07514, 0, 0.46],\n    \"102\": [0.19444, 0.69444, 0.21194, 0, 0.30667],\n    \"103\": [0.19444, 0.43056, 0.08847, 0, 0.46],\n    \"104\": [0, 0.69444, 0.07671, 0, 0.51111],\n    \"105\": [0, 0.65536, 0.1019, 0, 0.30667],\n    \"106\": [0.19444, 0.65536, 0.14467, 0, 0.30667],\n    \"107\": [0, 0.69444, 0.10764, 0, 0.46],\n    \"108\": [0, 0.69444, 0.10333, 0, 0.25555],\n    \"109\": [0, 0.43056, 0.07671, 0, 0.81777],\n    \"110\": [0, 0.43056, 0.07671, 0, 0.56222],\n    \"111\": [0, 0.43056, 0.06312, 0, 0.51111],\n    \"112\": [0.19444, 0.43056, 0.06312, 0, 0.51111],\n    \"113\": [0.19444, 0.43056, 0.08847, 0, 0.46],\n    \"114\": [0, 0.43056, 0.10764, 0, 0.42166],\n    \"115\": [0, 0.43056, 0.08208, 0, 0.40889],\n    \"116\": [0, 0.61508, 0.09486, 0, 0.33222],\n    \"117\": [0, 0.43056, 0.07671, 0, 0.53666],\n    \"118\": [0, 0.43056, 0.10764, 0, 0.46],\n    \"119\": [0, 0.43056, 0.10764, 0, 0.66444],\n    \"120\": [0, 0.43056, 0.12042, 0, 0.46389],\n    \"121\": [0.19444, 0.43056, 0.08847, 0, 0.48555],\n    \"122\": [0, 0.43056, 0.12292, 0, 0.40889],\n    \"126\": [0.35, 0.31786, 0.11585, 0, 0.51111],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"168\": [0, 0.66786, 0.10474, 0, 0.51111],\n    \"176\": [0, 0.69444, 0, 0, 0.83129],\n    \"184\": [0.17014, 0, 0, 0, 0.46],\n    \"198\": [0, 0.68333, 0.12028, 0, 0.88277],\n    \"216\": [0.04861, 0.73194, 0.09403, 0, 0.76666],\n    \"223\": [0.19444, 0.69444, 0.10514, 0, 0.53666],\n    \"230\": [0, 0.43056, 0.07514, 0, 0.71555],\n    \"248\": [0.09722, 0.52778, 0.09194, 0, 0.51111],\n    \"338\": [0, 0.68333, 0.12028, 0, 0.98499],\n    \"339\": [0, 0.43056, 0.07514, 0, 0.71555],\n    \"710\": [0, 0.69444, 0.06646, 0, 0.51111],\n    \"711\": [0, 0.62847, 0.08295, 0, 0.51111],\n    \"713\": [0, 0.56167, 0.10333, 0, 0.51111],\n    \"714\": [0, 0.69444, 0.09694, 0, 0.51111],\n    \"715\": [0, 0.69444, 0, 0, 0.51111],\n    \"728\": [0, 0.69444, 0.10806, 0, 0.51111],\n    \"729\": [0, 0.66786, 0.11752, 0, 0.30667],\n    \"730\": [0, 0.69444, 0, 0, 0.83129],\n    \"732\": [0, 0.66786, 0.11585, 0, 0.51111],\n    \"733\": [0, 0.69444, 0.1225, 0, 0.51111],\n    \"915\": [0, 0.68333, 0.13305, 0, 0.62722],\n    \"916\": [0, 0.68333, 0, 0, 0.81777],\n    \"920\": [0, 0.68333, 0.09403, 0, 0.76666],\n    \"923\": [0, 0.68333, 0, 0, 0.69222],\n    \"926\": [0, 0.68333, 0.15294, 0, 0.66444],\n    \"928\": [0, 0.68333, 0.16389, 0, 0.74333],\n    \"931\": [0, 0.68333, 0.12028, 0, 0.71555],\n    \"933\": [0, 0.68333, 0.11111, 0, 0.76666],\n    \"934\": [0, 0.68333, 0.05986, 0, 0.71555],\n    \"936\": [0, 0.68333, 0.11111, 0, 0.76666],\n    \"937\": [0, 0.68333, 0.10257, 0, 0.71555],\n    \"8211\": [0, 0.43056, 0.09208, 0, 0.51111],\n    \"8212\": [0, 0.43056, 0.09208, 0, 1.02222],\n    \"8216\": [0, 0.69444, 0.12417, 0, 0.30667],\n    \"8217\": [0, 0.69444, 0.12417, 0, 0.30667],\n    \"8220\": [0, 0.69444, 0.1685, 0, 0.51444],\n    \"8221\": [0, 0.69444, 0.06961, 0, 0.51444],\n    \"8463\": [0, 0.68889, 0, 0, 0.54028]\n  },\n  \"Main-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69444, 0, 0, 0.27778],\n    \"34\": [0, 0.69444, 0, 0, 0.5],\n    \"35\": [0.19444, 0.69444, 0, 0, 0.83334],\n    \"36\": [0.05556, 0.75, 0, 0, 0.5],\n    \"37\": [0.05556, 0.75, 0, 0, 0.83334],\n    \"38\": [0, 0.69444, 0, 0, 0.77778],\n    \"39\": [0, 0.69444, 0, 0, 0.27778],\n    \"40\": [0.25, 0.75, 0, 0, 0.38889],\n    \"41\": [0.25, 0.75, 0, 0, 0.38889],\n    \"42\": [0, 0.75, 0, 0, 0.5],\n    \"43\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"44\": [0.19444, 0.10556, 0, 0, 0.27778],\n    \"45\": [0, 0.43056, 0, 0, 0.33333],\n    \"46\": [0, 0.10556, 0, 0, 0.27778],\n    \"47\": [0.25, 0.75, 0, 0, 0.5],\n    \"48\": [0, 0.64444, 0, 0, 0.5],\n    \"49\": [0, 0.64444, 0, 0, 0.5],\n    \"50\": [0, 0.64444, 0, 0, 0.5],\n    \"51\": [0, 0.64444, 0, 0, 0.5],\n    \"52\": [0, 0.64444, 0, 0, 0.5],\n    \"53\": [0, 0.64444, 0, 0, 0.5],\n    \"54\": [0, 0.64444, 0, 0, 0.5],\n    \"55\": [0, 0.64444, 0, 0, 0.5],\n    \"56\": [0, 0.64444, 0, 0, 0.5],\n    \"57\": [0, 0.64444, 0, 0, 0.5],\n    \"58\": [0, 0.43056, 0, 0, 0.27778],\n    \"59\": [0.19444, 0.43056, 0, 0, 0.27778],\n    \"60\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"61\": [-0.13313, 0.36687, 0, 0, 0.77778],\n    \"62\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"63\": [0, 0.69444, 0, 0, 0.47222],\n    \"64\": [0, 0.69444, 0, 0, 0.77778],\n    \"65\": [0, 0.68333, 0, 0, 0.75],\n    \"66\": [0, 0.68333, 0, 0, 0.70834],\n    \"67\": [0, 0.68333, 0, 0, 0.72222],\n    \"68\": [0, 0.68333, 0, 0, 0.76389],\n    \"69\": [0, 0.68333, 0, 0, 0.68056],\n    \"70\": [0, 0.68333, 0, 0, 0.65278],\n    \"71\": [0, 0.68333, 0, 0, 0.78472],\n    \"72\": [0, 0.68333, 0, 0, 0.75],\n    \"73\": [0, 0.68333, 0, 0, 0.36111],\n    \"74\": [0, 0.68333, 0, 0, 0.51389],\n    \"75\": [0, 0.68333, 0, 0, 0.77778],\n    \"76\": [0, 0.68333, 0, 0, 0.625],\n    \"77\": [0, 0.68333, 0, 0, 0.91667],\n    \"78\": [0, 0.68333, 0, 0, 0.75],\n    \"79\": [0, 0.68333, 0, 0, 0.77778],\n    \"80\": [0, 0.68333, 0, 0, 0.68056],\n    \"81\": [0.19444, 0.68333, 0, 0, 0.77778],\n    \"82\": [0, 0.68333, 0, 0, 0.73611],\n    \"83\": [0, 0.68333, 0, 0, 0.55556],\n    \"84\": [0, 0.68333, 0, 0, 0.72222],\n    \"85\": [0, 0.68333, 0, 0, 0.75],\n    \"86\": [0, 0.68333, 0.01389, 0, 0.75],\n    \"87\": [0, 0.68333, 0.01389, 0, 1.02778],\n    \"88\": [0, 0.68333, 0, 0, 0.75],\n    \"89\": [0, 0.68333, 0.025, 0, 0.75],\n    \"90\": [0, 0.68333, 0, 0, 0.61111],\n    \"91\": [0.25, 0.75, 0, 0, 0.27778],\n    \"92\": [0.25, 0.75, 0, 0, 0.5],\n    \"93\": [0.25, 0.75, 0, 0, 0.27778],\n    \"94\": [0, 0.69444, 0, 0, 0.5],\n    \"95\": [0.31, 0.12056, 0.02778, 0, 0.5],\n    \"97\": [0, 0.43056, 0, 0, 0.5],\n    \"98\": [0, 0.69444, 0, 0, 0.55556],\n    \"99\": [0, 0.43056, 0, 0, 0.44445],\n    \"100\": [0, 0.69444, 0, 0, 0.55556],\n    \"101\": [0, 0.43056, 0, 0, 0.44445],\n    \"102\": [0, 0.69444, 0.07778, 0, 0.30556],\n    \"103\": [0.19444, 0.43056, 0.01389, 0, 0.5],\n    \"104\": [0, 0.69444, 0, 0, 0.55556],\n    \"105\": [0, 0.66786, 0, 0, 0.27778],\n    \"106\": [0.19444, 0.66786, 0, 0, 0.30556],\n    \"107\": [0, 0.69444, 0, 0, 0.52778],\n    \"108\": [0, 0.69444, 0, 0, 0.27778],\n    \"109\": [0, 0.43056, 0, 0, 0.83334],\n    \"110\": [0, 0.43056, 0, 0, 0.55556],\n    \"111\": [0, 0.43056, 0, 0, 0.5],\n    \"112\": [0.19444, 0.43056, 0, 0, 0.55556],\n    \"113\": [0.19444, 0.43056, 0, 0, 0.52778],\n    \"114\": [0, 0.43056, 0, 0, 0.39167],\n    \"115\": [0, 0.43056, 0, 0, 0.39445],\n    \"116\": [0, 0.61508, 0, 0, 0.38889],\n    \"117\": [0, 0.43056, 0, 0, 0.55556],\n    \"118\": [0, 0.43056, 0.01389, 0, 0.52778],\n    \"119\": [0, 0.43056, 0.01389, 0, 0.72222],\n    \"120\": [0, 0.43056, 0, 0, 0.52778],\n    \"121\": [0.19444, 0.43056, 0.01389, 0, 0.52778],\n    \"122\": [0, 0.43056, 0, 0, 0.44445],\n    \"123\": [0.25, 0.75, 0, 0, 0.5],\n    \"124\": [0.25, 0.75, 0, 0, 0.27778],\n    \"125\": [0.25, 0.75, 0, 0, 0.5],\n    \"126\": [0.35, 0.31786, 0, 0, 0.5],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"163\": [0, 0.69444, 0, 0, 0.76909],\n    \"167\": [0.19444, 0.69444, 0, 0, 0.44445],\n    \"168\": [0, 0.66786, 0, 0, 0.5],\n    \"172\": [0, 0.43056, 0, 0, 0.66667],\n    \"176\": [0, 0.69444, 0, 0, 0.75],\n    \"177\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"182\": [0.19444, 0.69444, 0, 0, 0.61111],\n    \"184\": [0.17014, 0, 0, 0, 0.44445],\n    \"198\": [0, 0.68333, 0, 0, 0.90278],\n    \"215\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"216\": [0.04861, 0.73194, 0, 0, 0.77778],\n    \"223\": [0, 0.69444, 0, 0, 0.5],\n    \"230\": [0, 0.43056, 0, 0, 0.72222],\n    \"247\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"248\": [0.09722, 0.52778, 0, 0, 0.5],\n    \"305\": [0, 0.43056, 0, 0, 0.27778],\n    \"338\": [0, 0.68333, 0, 0, 1.01389],\n    \"339\": [0, 0.43056, 0, 0, 0.77778],\n    \"567\": [0.19444, 0.43056, 0, 0, 0.30556],\n    \"710\": [0, 0.69444, 0, 0, 0.5],\n    \"711\": [0, 0.62847, 0, 0, 0.5],\n    \"713\": [0, 0.56778, 0, 0, 0.5],\n    \"714\": [0, 0.69444, 0, 0, 0.5],\n    \"715\": [0, 0.69444, 0, 0, 0.5],\n    \"728\": [0, 0.69444, 0, 0, 0.5],\n    \"729\": [0, 0.66786, 0, 0, 0.27778],\n    \"730\": [0, 0.69444, 0, 0, 0.75],\n    \"732\": [0, 0.66786, 0, 0, 0.5],\n    \"733\": [0, 0.69444, 0, 0, 0.5],\n    \"915\": [0, 0.68333, 0, 0, 0.625],\n    \"916\": [0, 0.68333, 0, 0, 0.83334],\n    \"920\": [0, 0.68333, 0, 0, 0.77778],\n    \"923\": [0, 0.68333, 0, 0, 0.69445],\n    \"926\": [0, 0.68333, 0, 0, 0.66667],\n    \"928\": [0, 0.68333, 0, 0, 0.75],\n    \"931\": [0, 0.68333, 0, 0, 0.72222],\n    \"933\": [0, 0.68333, 0, 0, 0.77778],\n    \"934\": [0, 0.68333, 0, 0, 0.72222],\n    \"936\": [0, 0.68333, 0, 0, 0.77778],\n    \"937\": [0, 0.68333, 0, 0, 0.72222],\n    \"8211\": [0, 0.43056, 0.02778, 0, 0.5],\n    \"8212\": [0, 0.43056, 0.02778, 0, 1.0],\n    \"8216\": [0, 0.69444, 0, 0, 0.27778],\n    \"8217\": [0, 0.69444, 0, 0, 0.27778],\n    \"8220\": [0, 0.69444, 0, 0, 0.5],\n    \"8221\": [0, 0.69444, 0, 0, 0.5],\n    \"8224\": [0.19444, 0.69444, 0, 0, 0.44445],\n    \"8225\": [0.19444, 0.69444, 0, 0, 0.44445],\n    \"8230\": [0, 0.123, 0, 0, 1.172],\n    \"8242\": [0, 0.55556, 0, 0, 0.275],\n    \"8407\": [0, 0.71444, 0.15382, 0, 0.5],\n    \"8463\": [0, 0.68889, 0, 0, 0.54028],\n    \"8465\": [0, 0.69444, 0, 0, 0.72222],\n    \"8467\": [0, 0.69444, 0, 0.11111, 0.41667],\n    \"8472\": [0.19444, 0.43056, 0, 0.11111, 0.63646],\n    \"8476\": [0, 0.69444, 0, 0, 0.72222],\n    \"8501\": [0, 0.69444, 0, 0, 0.61111],\n    \"8592\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8593\": [0.19444, 0.69444, 0, 0, 0.5],\n    \"8594\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8595\": [0.19444, 0.69444, 0, 0, 0.5],\n    \"8596\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8597\": [0.25, 0.75, 0, 0, 0.5],\n    \"8598\": [0.19444, 0.69444, 0, 0, 1.0],\n    \"8599\": [0.19444, 0.69444, 0, 0, 1.0],\n    \"8600\": [0.19444, 0.69444, 0, 0, 1.0],\n    \"8601\": [0.19444, 0.69444, 0, 0, 1.0],\n    \"8614\": [0.011, 0.511, 0, 0, 1.0],\n    \"8617\": [0.011, 0.511, 0, 0, 1.126],\n    \"8618\": [0.011, 0.511, 0, 0, 1.126],\n    \"8636\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8637\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8640\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8641\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8652\": [0.011, 0.671, 0, 0, 1.0],\n    \"8656\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8657\": [0.19444, 0.69444, 0, 0, 0.61111],\n    \"8658\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8659\": [0.19444, 0.69444, 0, 0, 0.61111],\n    \"8660\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8661\": [0.25, 0.75, 0, 0, 0.61111],\n    \"8704\": [0, 0.69444, 0, 0, 0.55556],\n    \"8706\": [0, 0.69444, 0.05556, 0.08334, 0.5309],\n    \"8707\": [0, 0.69444, 0, 0, 0.55556],\n    \"8709\": [0.05556, 0.75, 0, 0, 0.5],\n    \"8711\": [0, 0.68333, 0, 0, 0.83334],\n    \"8712\": [0.0391, 0.5391, 0, 0, 0.66667],\n    \"8715\": [0.0391, 0.5391, 0, 0, 0.66667],\n    \"8722\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"8723\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"8725\": [0.25, 0.75, 0, 0, 0.5],\n    \"8726\": [0.25, 0.75, 0, 0, 0.5],\n    \"8727\": [-0.03472, 0.46528, 0, 0, 0.5],\n    \"8728\": [-0.05555, 0.44445, 0, 0, 0.5],\n    \"8729\": [-0.05555, 0.44445, 0, 0, 0.5],\n    \"8730\": [0.2, 0.8, 0, 0, 0.83334],\n    \"8733\": [0, 0.43056, 0, 0, 0.77778],\n    \"8734\": [0, 0.43056, 0, 0, 1.0],\n    \"8736\": [0, 0.69224, 0, 0, 0.72222],\n    \"8739\": [0.25, 0.75, 0, 0, 0.27778],\n    \"8741\": [0.25, 0.75, 0, 0, 0.5],\n    \"8743\": [0, 0.55556, 0, 0, 0.66667],\n    \"8744\": [0, 0.55556, 0, 0, 0.66667],\n    \"8745\": [0, 0.55556, 0, 0, 0.66667],\n    \"8746\": [0, 0.55556, 0, 0, 0.66667],\n    \"8747\": [0.19444, 0.69444, 0.11111, 0, 0.41667],\n    \"8764\": [-0.13313, 0.36687, 0, 0, 0.77778],\n    \"8768\": [0.19444, 0.69444, 0, 0, 0.27778],\n    \"8771\": [-0.03625, 0.46375, 0, 0, 0.77778],\n    \"8773\": [-0.022, 0.589, 0, 0, 0.778],\n    \"8776\": [-0.01688, 0.48312, 0, 0, 0.77778],\n    \"8781\": [-0.03625, 0.46375, 0, 0, 0.77778],\n    \"8784\": [-0.133, 0.673, 0, 0, 0.778],\n    \"8801\": [-0.03625, 0.46375, 0, 0, 0.77778],\n    \"8804\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8805\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8810\": [0.0391, 0.5391, 0, 0, 1.0],\n    \"8811\": [0.0391, 0.5391, 0, 0, 1.0],\n    \"8826\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"8827\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"8834\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"8835\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"8838\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8839\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8846\": [0, 0.55556, 0, 0, 0.66667],\n    \"8849\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8850\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8851\": [0, 0.55556, 0, 0, 0.66667],\n    \"8852\": [0, 0.55556, 0, 0, 0.66667],\n    \"8853\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"8854\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"8855\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"8856\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"8857\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"8866\": [0, 0.69444, 0, 0, 0.61111],\n    \"8867\": [0, 0.69444, 0, 0, 0.61111],\n    \"8868\": [0, 0.69444, 0, 0, 0.77778],\n    \"8869\": [0, 0.69444, 0, 0, 0.77778],\n    \"8872\": [0.249, 0.75, 0, 0, 0.867],\n    \"8900\": [-0.05555, 0.44445, 0, 0, 0.5],\n    \"8901\": [-0.05555, 0.44445, 0, 0, 0.27778],\n    \"8902\": [-0.03472, 0.46528, 0, 0, 0.5],\n    \"8904\": [0.005, 0.505, 0, 0, 0.9],\n    \"8942\": [0.03, 0.903, 0, 0, 0.278],\n    \"8943\": [-0.19, 0.313, 0, 0, 1.172],\n    \"8945\": [-0.1, 0.823, 0, 0, 1.282],\n    \"8968\": [0.25, 0.75, 0, 0, 0.44445],\n    \"8969\": [0.25, 0.75, 0, 0, 0.44445],\n    \"8970\": [0.25, 0.75, 0, 0, 0.44445],\n    \"8971\": [0.25, 0.75, 0, 0, 0.44445],\n    \"8994\": [-0.14236, 0.35764, 0, 0, 1.0],\n    \"8995\": [-0.14236, 0.35764, 0, 0, 1.0],\n    \"9136\": [0.244, 0.744, 0, 0, 0.412],\n    \"9137\": [0.244, 0.745, 0, 0, 0.412],\n    \"9651\": [0.19444, 0.69444, 0, 0, 0.88889],\n    \"9657\": [-0.03472, 0.46528, 0, 0, 0.5],\n    \"9661\": [0.19444, 0.69444, 0, 0, 0.88889],\n    \"9667\": [-0.03472, 0.46528, 0, 0, 0.5],\n    \"9711\": [0.19444, 0.69444, 0, 0, 1.0],\n    \"9824\": [0.12963, 0.69444, 0, 0, 0.77778],\n    \"9825\": [0.12963, 0.69444, 0, 0, 0.77778],\n    \"9826\": [0.12963, 0.69444, 0, 0, 0.77778],\n    \"9827\": [0.12963, 0.69444, 0, 0, 0.77778],\n    \"9837\": [0, 0.75, 0, 0, 0.38889],\n    \"9838\": [0.19444, 0.69444, 0, 0, 0.38889],\n    \"9839\": [0.19444, 0.69444, 0, 0, 0.38889],\n    \"10216\": [0.25, 0.75, 0, 0, 0.38889],\n    \"10217\": [0.25, 0.75, 0, 0, 0.38889],\n    \"10222\": [0.244, 0.744, 0, 0, 0.412],\n    \"10223\": [0.244, 0.745, 0, 0, 0.412],\n    \"10229\": [0.011, 0.511, 0, 0, 1.609],\n    \"10230\": [0.011, 0.511, 0, 0, 1.638],\n    \"10231\": [0.011, 0.511, 0, 0, 1.859],\n    \"10232\": [0.024, 0.525, 0, 0, 1.609],\n    \"10233\": [0.024, 0.525, 0, 0, 1.638],\n    \"10234\": [0.024, 0.525, 0, 0, 1.858],\n    \"10236\": [0.011, 0.511, 0, 0, 1.638],\n    \"10815\": [0, 0.68333, 0, 0, 0.75],\n    \"10927\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"10928\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"57376\": [0.19444, 0.69444, 0, 0, 0]\n  },\n  \"Math-BoldItalic\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"48\": [0, 0.44444, 0, 0, 0.575],\n    \"49\": [0, 0.44444, 0, 0, 0.575],\n    \"50\": [0, 0.44444, 0, 0, 0.575],\n    \"51\": [0.19444, 0.44444, 0, 0, 0.575],\n    \"52\": [0.19444, 0.44444, 0, 0, 0.575],\n    \"53\": [0.19444, 0.44444, 0, 0, 0.575],\n    \"54\": [0, 0.64444, 0, 0, 0.575],\n    \"55\": [0.19444, 0.44444, 0, 0, 0.575],\n    \"56\": [0, 0.64444, 0, 0, 0.575],\n    \"57\": [0.19444, 0.44444, 0, 0, 0.575],\n    \"65\": [0, 0.68611, 0, 0, 0.86944],\n    \"66\": [0, 0.68611, 0.04835, 0, 0.8664],\n    \"67\": [0, 0.68611, 0.06979, 0, 0.81694],\n    \"68\": [0, 0.68611, 0.03194, 0, 0.93812],\n    \"69\": [0, 0.68611, 0.05451, 0, 0.81007],\n    \"70\": [0, 0.68611, 0.15972, 0, 0.68889],\n    \"71\": [0, 0.68611, 0, 0, 0.88673],\n    \"72\": [0, 0.68611, 0.08229, 0, 0.98229],\n    \"73\": [0, 0.68611, 0.07778, 0, 0.51111],\n    \"74\": [0, 0.68611, 0.10069, 0, 0.63125],\n    \"75\": [0, 0.68611, 0.06979, 0, 0.97118],\n    \"76\": [0, 0.68611, 0, 0, 0.75555],\n    \"77\": [0, 0.68611, 0.11424, 0, 1.14201],\n    \"78\": [0, 0.68611, 0.11424, 0, 0.95034],\n    \"79\": [0, 0.68611, 0.03194, 0, 0.83666],\n    \"80\": [0, 0.68611, 0.15972, 0, 0.72309],\n    \"81\": [0.19444, 0.68611, 0, 0, 0.86861],\n    \"82\": [0, 0.68611, 0.00421, 0, 0.87235],\n    \"83\": [0, 0.68611, 0.05382, 0, 0.69271],\n    \"84\": [0, 0.68611, 0.15972, 0, 0.63663],\n    \"85\": [0, 0.68611, 0.11424, 0, 0.80027],\n    \"86\": [0, 0.68611, 0.25555, 0, 0.67778],\n    \"87\": [0, 0.68611, 0.15972, 0, 1.09305],\n    \"88\": [0, 0.68611, 0.07778, 0, 0.94722],\n    \"89\": [0, 0.68611, 0.25555, 0, 0.67458],\n    \"90\": [0, 0.68611, 0.06979, 0, 0.77257],\n    \"97\": [0, 0.44444, 0, 0, 0.63287],\n    \"98\": [0, 0.69444, 0, 0, 0.52083],\n    \"99\": [0, 0.44444, 0, 0, 0.51342],\n    \"100\": [0, 0.69444, 0, 0, 0.60972],\n    \"101\": [0, 0.44444, 0, 0, 0.55361],\n    \"102\": [0.19444, 0.69444, 0.11042, 0, 0.56806],\n    \"103\": [0.19444, 0.44444, 0.03704, 0, 0.5449],\n    \"104\": [0, 0.69444, 0, 0, 0.66759],\n    \"105\": [0, 0.69326, 0, 0, 0.4048],\n    \"106\": [0.19444, 0.69326, 0.0622, 0, 0.47083],\n    \"107\": [0, 0.69444, 0.01852, 0, 0.6037],\n    \"108\": [0, 0.69444, 0.0088, 0, 0.34815],\n    \"109\": [0, 0.44444, 0, 0, 1.0324],\n    \"110\": [0, 0.44444, 0, 0, 0.71296],\n    \"111\": [0, 0.44444, 0, 0, 0.58472],\n    \"112\": [0.19444, 0.44444, 0, 0, 0.60092],\n    \"113\": [0.19444, 0.44444, 0.03704, 0, 0.54213],\n    \"114\": [0, 0.44444, 0.03194, 0, 0.5287],\n    \"115\": [0, 0.44444, 0, 0, 0.53125],\n    \"116\": [0, 0.63492, 0, 0, 0.41528],\n    \"117\": [0, 0.44444, 0, 0, 0.68102],\n    \"118\": [0, 0.44444, 0.03704, 0, 0.56666],\n    \"119\": [0, 0.44444, 0.02778, 0, 0.83148],\n    \"120\": [0, 0.44444, 0, 0, 0.65903],\n    \"121\": [0.19444, 0.44444, 0.03704, 0, 0.59028],\n    \"122\": [0, 0.44444, 0.04213, 0, 0.55509],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"915\": [0, 0.68611, 0.15972, 0, 0.65694],\n    \"916\": [0, 0.68611, 0, 0, 0.95833],\n    \"920\": [0, 0.68611, 0.03194, 0, 0.86722],\n    \"923\": [0, 0.68611, 0, 0, 0.80555],\n    \"926\": [0, 0.68611, 0.07458, 0, 0.84125],\n    \"928\": [0, 0.68611, 0.08229, 0, 0.98229],\n    \"931\": [0, 0.68611, 0.05451, 0, 0.88507],\n    \"933\": [0, 0.68611, 0.15972, 0, 0.67083],\n    \"934\": [0, 0.68611, 0, 0, 0.76666],\n    \"936\": [0, 0.68611, 0.11653, 0, 0.71402],\n    \"937\": [0, 0.68611, 0.04835, 0, 0.8789],\n    \"945\": [0, 0.44444, 0, 0, 0.76064],\n    \"946\": [0.19444, 0.69444, 0.03403, 0, 0.65972],\n    \"947\": [0.19444, 0.44444, 0.06389, 0, 0.59003],\n    \"948\": [0, 0.69444, 0.03819, 0, 0.52222],\n    \"949\": [0, 0.44444, 0, 0, 0.52882],\n    \"950\": [0.19444, 0.69444, 0.06215, 0, 0.50833],\n    \"951\": [0.19444, 0.44444, 0.03704, 0, 0.6],\n    \"952\": [0, 0.69444, 0.03194, 0, 0.5618],\n    \"953\": [0, 0.44444, 0, 0, 0.41204],\n    \"954\": [0, 0.44444, 0, 0, 0.66759],\n    \"955\": [0, 0.69444, 0, 0, 0.67083],\n    \"956\": [0.19444, 0.44444, 0, 0, 0.70787],\n    \"957\": [0, 0.44444, 0.06898, 0, 0.57685],\n    \"958\": [0.19444, 0.69444, 0.03021, 0, 0.50833],\n    \"959\": [0, 0.44444, 0, 0, 0.58472],\n    \"960\": [0, 0.44444, 0.03704, 0, 0.68241],\n    \"961\": [0.19444, 0.44444, 0, 0, 0.6118],\n    \"962\": [0.09722, 0.44444, 0.07917, 0, 0.42361],\n    \"963\": [0, 0.44444, 0.03704, 0, 0.68588],\n    \"964\": [0, 0.44444, 0.13472, 0, 0.52083],\n    \"965\": [0, 0.44444, 0.03704, 0, 0.63055],\n    \"966\": [0.19444, 0.44444, 0, 0, 0.74722],\n    \"967\": [0.19444, 0.44444, 0, 0, 0.71805],\n    \"968\": [0.19444, 0.69444, 0.03704, 0, 0.75833],\n    \"969\": [0, 0.44444, 0.03704, 0, 0.71782],\n    \"977\": [0, 0.69444, 0, 0, 0.69155],\n    \"981\": [0.19444, 0.69444, 0, 0, 0.7125],\n    \"982\": [0, 0.44444, 0.03194, 0, 0.975],\n    \"1009\": [0.19444, 0.44444, 0, 0, 0.6118],\n    \"1013\": [0, 0.44444, 0, 0, 0.48333],\n    \"57649\": [0, 0.44444, 0, 0, 0.39352],\n    \"57911\": [0.19444, 0.44444, 0, 0, 0.43889]\n  },\n  \"Math-Italic\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"48\": [0, 0.43056, 0, 0, 0.5],\n    \"49\": [0, 0.43056, 0, 0, 0.5],\n    \"50\": [0, 0.43056, 0, 0, 0.5],\n    \"51\": [0.19444, 0.43056, 0, 0, 0.5],\n    \"52\": [0.19444, 0.43056, 0, 0, 0.5],\n    \"53\": [0.19444, 0.43056, 0, 0, 0.5],\n    \"54\": [0, 0.64444, 0, 0, 0.5],\n    \"55\": [0.19444, 0.43056, 0, 0, 0.5],\n    \"56\": [0, 0.64444, 0, 0, 0.5],\n    \"57\": [0.19444, 0.43056, 0, 0, 0.5],\n    \"65\": [0, 0.68333, 0, 0.13889, 0.75],\n    \"66\": [0, 0.68333, 0.05017, 0.08334, 0.75851],\n    \"67\": [0, 0.68333, 0.07153, 0.08334, 0.71472],\n    \"68\": [0, 0.68333, 0.02778, 0.05556, 0.82792],\n    \"69\": [0, 0.68333, 0.05764, 0.08334, 0.7382],\n    \"70\": [0, 0.68333, 0.13889, 0.08334, 0.64306],\n    \"71\": [0, 0.68333, 0, 0.08334, 0.78625],\n    \"72\": [0, 0.68333, 0.08125, 0.05556, 0.83125],\n    \"73\": [0, 0.68333, 0.07847, 0.11111, 0.43958],\n    \"74\": [0, 0.68333, 0.09618, 0.16667, 0.55451],\n    \"75\": [0, 0.68333, 0.07153, 0.05556, 0.84931],\n    \"76\": [0, 0.68333, 0, 0.02778, 0.68056],\n    \"77\": [0, 0.68333, 0.10903, 0.08334, 0.97014],\n    \"78\": [0, 0.68333, 0.10903, 0.08334, 0.80347],\n    \"79\": [0, 0.68333, 0.02778, 0.08334, 0.76278],\n    \"80\": [0, 0.68333, 0.13889, 0.08334, 0.64201],\n    \"81\": [0.19444, 0.68333, 0, 0.08334, 0.79056],\n    \"82\": [0, 0.68333, 0.00773, 0.08334, 0.75929],\n    \"83\": [0, 0.68333, 0.05764, 0.08334, 0.6132],\n    \"84\": [0, 0.68333, 0.13889, 0.08334, 0.58438],\n    \"85\": [0, 0.68333, 0.10903, 0.02778, 0.68278],\n    \"86\": [0, 0.68333, 0.22222, 0, 0.58333],\n    \"87\": [0, 0.68333, 0.13889, 0, 0.94445],\n    \"88\": [0, 0.68333, 0.07847, 0.08334, 0.82847],\n    \"89\": [0, 0.68333, 0.22222, 0, 0.58056],\n    \"90\": [0, 0.68333, 0.07153, 0.08334, 0.68264],\n    \"97\": [0, 0.43056, 0, 0, 0.52859],\n    \"98\": [0, 0.69444, 0, 0, 0.42917],\n    \"99\": [0, 0.43056, 0, 0.05556, 0.43276],\n    \"100\": [0, 0.69444, 0, 0.16667, 0.52049],\n    \"101\": [0, 0.43056, 0, 0.05556, 0.46563],\n    \"102\": [0.19444, 0.69444, 0.10764, 0.16667, 0.48959],\n    \"103\": [0.19444, 0.43056, 0.03588, 0.02778, 0.47697],\n    \"104\": [0, 0.69444, 0, 0, 0.57616],\n    \"105\": [0, 0.65952, 0, 0, 0.34451],\n    \"106\": [0.19444, 0.65952, 0.05724, 0, 0.41181],\n    \"107\": [0, 0.69444, 0.03148, 0, 0.5206],\n    \"108\": [0, 0.69444, 0.01968, 0.08334, 0.29838],\n    \"109\": [0, 0.43056, 0, 0, 0.87801],\n    \"110\": [0, 0.43056, 0, 0, 0.60023],\n    \"111\": [0, 0.43056, 0, 0.05556, 0.48472],\n    \"112\": [0.19444, 0.43056, 0, 0.08334, 0.50313],\n    \"113\": [0.19444, 0.43056, 0.03588, 0.08334, 0.44641],\n    \"114\": [0, 0.43056, 0.02778, 0.05556, 0.45116],\n    \"115\": [0, 0.43056, 0, 0.05556, 0.46875],\n    \"116\": [0, 0.61508, 0, 0.08334, 0.36111],\n    \"117\": [0, 0.43056, 0, 0.02778, 0.57246],\n    \"118\": [0, 0.43056, 0.03588, 0.02778, 0.48472],\n    \"119\": [0, 0.43056, 0.02691, 0.08334, 0.71592],\n    \"120\": [0, 0.43056, 0, 0.02778, 0.57153],\n    \"121\": [0.19444, 0.43056, 0.03588, 0.05556, 0.49028],\n    \"122\": [0, 0.43056, 0.04398, 0.05556, 0.46505],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"915\": [0, 0.68333, 0.13889, 0.08334, 0.61528],\n    \"916\": [0, 0.68333, 0, 0.16667, 0.83334],\n    \"920\": [0, 0.68333, 0.02778, 0.08334, 0.76278],\n    \"923\": [0, 0.68333, 0, 0.16667, 0.69445],\n    \"926\": [0, 0.68333, 0.07569, 0.08334, 0.74236],\n    \"928\": [0, 0.68333, 0.08125, 0.05556, 0.83125],\n    \"931\": [0, 0.68333, 0.05764, 0.08334, 0.77986],\n    \"933\": [0, 0.68333, 0.13889, 0.05556, 0.58333],\n    \"934\": [0, 0.68333, 0, 0.08334, 0.66667],\n    \"936\": [0, 0.68333, 0.11, 0.05556, 0.61222],\n    \"937\": [0, 0.68333, 0.05017, 0.08334, 0.7724],\n    \"945\": [0, 0.43056, 0.0037, 0.02778, 0.6397],\n    \"946\": [0.19444, 0.69444, 0.05278, 0.08334, 0.56563],\n    \"947\": [0.19444, 0.43056, 0.05556, 0, 0.51773],\n    \"948\": [0, 0.69444, 0.03785, 0.05556, 0.44444],\n    \"949\": [0, 0.43056, 0, 0.08334, 0.46632],\n    \"950\": [0.19444, 0.69444, 0.07378, 0.08334, 0.4375],\n    \"951\": [0.19444, 0.43056, 0.03588, 0.05556, 0.49653],\n    \"952\": [0, 0.69444, 0.02778, 0.08334, 0.46944],\n    \"953\": [0, 0.43056, 0, 0.05556, 0.35394],\n    \"954\": [0, 0.43056, 0, 0, 0.57616],\n    \"955\": [0, 0.69444, 0, 0, 0.58334],\n    \"956\": [0.19444, 0.43056, 0, 0.02778, 0.60255],\n    \"957\": [0, 0.43056, 0.06366, 0.02778, 0.49398],\n    \"958\": [0.19444, 0.69444, 0.04601, 0.11111, 0.4375],\n    \"959\": [0, 0.43056, 0, 0.05556, 0.48472],\n    \"960\": [0, 0.43056, 0.03588, 0, 0.57003],\n    \"961\": [0.19444, 0.43056, 0, 0.08334, 0.51702],\n    \"962\": [0.09722, 0.43056, 0.07986, 0.08334, 0.36285],\n    \"963\": [0, 0.43056, 0.03588, 0, 0.57141],\n    \"964\": [0, 0.43056, 0.1132, 0.02778, 0.43715],\n    \"965\": [0, 0.43056, 0.03588, 0.02778, 0.54028],\n    \"966\": [0.19444, 0.43056, 0, 0.08334, 0.65417],\n    \"967\": [0.19444, 0.43056, 0, 0.05556, 0.62569],\n    \"968\": [0.19444, 0.69444, 0.03588, 0.11111, 0.65139],\n    \"969\": [0, 0.43056, 0.03588, 0, 0.62245],\n    \"977\": [0, 0.69444, 0, 0.08334, 0.59144],\n    \"981\": [0.19444, 0.69444, 0, 0.08334, 0.59583],\n    \"982\": [0, 0.43056, 0.02778, 0, 0.82813],\n    \"1009\": [0.19444, 0.43056, 0, 0.08334, 0.51702],\n    \"1013\": [0, 0.43056, 0, 0.05556, 0.4059],\n    \"57649\": [0, 0.43056, 0, 0.02778, 0.32246],\n    \"57911\": [0.19444, 0.43056, 0, 0.08334, 0.38403]\n  },\n  \"SansSerif-Bold\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69444, 0, 0, 0.36667],\n    \"34\": [0, 0.69444, 0, 0, 0.55834],\n    \"35\": [0.19444, 0.69444, 0, 0, 0.91667],\n    \"36\": [0.05556, 0.75, 0, 0, 0.55],\n    \"37\": [0.05556, 0.75, 0, 0, 1.02912],\n    \"38\": [0, 0.69444, 0, 0, 0.83056],\n    \"39\": [0, 0.69444, 0, 0, 0.30556],\n    \"40\": [0.25, 0.75, 0, 0, 0.42778],\n    \"41\": [0.25, 0.75, 0, 0, 0.42778],\n    \"42\": [0, 0.75, 0, 0, 0.55],\n    \"43\": [0.11667, 0.61667, 0, 0, 0.85556],\n    \"44\": [0.10556, 0.13056, 0, 0, 0.30556],\n    \"45\": [0, 0.45833, 0, 0, 0.36667],\n    \"46\": [0, 0.13056, 0, 0, 0.30556],\n    \"47\": [0.25, 0.75, 0, 0, 0.55],\n    \"48\": [0, 0.69444, 0, 0, 0.55],\n    \"49\": [0, 0.69444, 0, 0, 0.55],\n    \"50\": [0, 0.69444, 0, 0, 0.55],\n    \"51\": [0, 0.69444, 0, 0, 0.55],\n    \"52\": [0, 0.69444, 0, 0, 0.55],\n    \"53\": [0, 0.69444, 0, 0, 0.55],\n    \"54\": [0, 0.69444, 0, 0, 0.55],\n    \"55\": [0, 0.69444, 0, 0, 0.55],\n    \"56\": [0, 0.69444, 0, 0, 0.55],\n    \"57\": [0, 0.69444, 0, 0, 0.55],\n    \"58\": [0, 0.45833, 0, 0, 0.30556],\n    \"59\": [0.10556, 0.45833, 0, 0, 0.30556],\n    \"61\": [-0.09375, 0.40625, 0, 0, 0.85556],\n    \"63\": [0, 0.69444, 0, 0, 0.51945],\n    \"64\": [0, 0.69444, 0, 0, 0.73334],\n    \"65\": [0, 0.69444, 0, 0, 0.73334],\n    \"66\": [0, 0.69444, 0, 0, 0.73334],\n    \"67\": [0, 0.69444, 0, 0, 0.70278],\n    \"68\": [0, 0.69444, 0, 0, 0.79445],\n    \"69\": [0, 0.69444, 0, 0, 0.64167],\n    \"70\": [0, 0.69444, 0, 0, 0.61111],\n    \"71\": [0, 0.69444, 0, 0, 0.73334],\n    \"72\": [0, 0.69444, 0, 0, 0.79445],\n    \"73\": [0, 0.69444, 0, 0, 0.33056],\n    \"74\": [0, 0.69444, 0, 0, 0.51945],\n    \"75\": [0, 0.69444, 0, 0, 0.76389],\n    \"76\": [0, 0.69444, 0, 0, 0.58056],\n    \"77\": [0, 0.69444, 0, 0, 0.97778],\n    \"78\": [0, 0.69444, 0, 0, 0.79445],\n    \"79\": [0, 0.69444, 0, 0, 0.79445],\n    \"80\": [0, 0.69444, 0, 0, 0.70278],\n    \"81\": [0.10556, 0.69444, 0, 0, 0.79445],\n    \"82\": [0, 0.69444, 0, 0, 0.70278],\n    \"83\": [0, 0.69444, 0, 0, 0.61111],\n    \"84\": [0, 0.69444, 0, 0, 0.73334],\n    \"85\": [0, 0.69444, 0, 0, 0.76389],\n    \"86\": [0, 0.69444, 0.01528, 0, 0.73334],\n    \"87\": [0, 0.69444, 0.01528, 0, 1.03889],\n    \"88\": [0, 0.69444, 0, 0, 0.73334],\n    \"89\": [0, 0.69444, 0.0275, 0, 0.73334],\n    \"90\": [0, 0.69444, 0, 0, 0.67223],\n    \"91\": [0.25, 0.75, 0, 0, 0.34306],\n    \"93\": [0.25, 0.75, 0, 0, 0.34306],\n    \"94\": [0, 0.69444, 0, 0, 0.55],\n    \"95\": [0.35, 0.10833, 0.03056, 0, 0.55],\n    \"97\": [0, 0.45833, 0, 0, 0.525],\n    \"98\": [0, 0.69444, 0, 0, 0.56111],\n    \"99\": [0, 0.45833, 0, 0, 0.48889],\n    \"100\": [0, 0.69444, 0, 0, 0.56111],\n    \"101\": [0, 0.45833, 0, 0, 0.51111],\n    \"102\": [0, 0.69444, 0.07639, 0, 0.33611],\n    \"103\": [0.19444, 0.45833, 0.01528, 0, 0.55],\n    \"104\": [0, 0.69444, 0, 0, 0.56111],\n    \"105\": [0, 0.69444, 0, 0, 0.25556],\n    \"106\": [0.19444, 0.69444, 0, 0, 0.28611],\n    \"107\": [0, 0.69444, 0, 0, 0.53056],\n    \"108\": [0, 0.69444, 0, 0, 0.25556],\n    \"109\": [0, 0.45833, 0, 0, 0.86667],\n    \"110\": [0, 0.45833, 0, 0, 0.56111],\n    \"111\": [0, 0.45833, 0, 0, 0.55],\n    \"112\": [0.19444, 0.45833, 0, 0, 0.56111],\n    \"113\": [0.19444, 0.45833, 0, 0, 0.56111],\n    \"114\": [0, 0.45833, 0.01528, 0, 0.37222],\n    \"115\": [0, 0.45833, 0, 0, 0.42167],\n    \"116\": [0, 0.58929, 0, 0, 0.40417],\n    \"117\": [0, 0.45833, 0, 0, 0.56111],\n    \"118\": [0, 0.45833, 0.01528, 0, 0.5],\n    \"119\": [0, 0.45833, 0.01528, 0, 0.74445],\n    \"120\": [0, 0.45833, 0, 0, 0.5],\n    \"121\": [0.19444, 0.45833, 0.01528, 0, 0.5],\n    \"122\": [0, 0.45833, 0, 0, 0.47639],\n    \"126\": [0.35, 0.34444, 0, 0, 0.55],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"168\": [0, 0.69444, 0, 0, 0.55],\n    \"176\": [0, 0.69444, 0, 0, 0.73334],\n    \"180\": [0, 0.69444, 0, 0, 0.55],\n    \"184\": [0.17014, 0, 0, 0, 0.48889],\n    \"305\": [0, 0.45833, 0, 0, 0.25556],\n    \"567\": [0.19444, 0.45833, 0, 0, 0.28611],\n    \"710\": [0, 0.69444, 0, 0, 0.55],\n    \"711\": [0, 0.63542, 0, 0, 0.55],\n    \"713\": [0, 0.63778, 0, 0, 0.55],\n    \"728\": [0, 0.69444, 0, 0, 0.55],\n    \"729\": [0, 0.69444, 0, 0, 0.30556],\n    \"730\": [0, 0.69444, 0, 0, 0.73334],\n    \"732\": [0, 0.69444, 0, 0, 0.55],\n    \"733\": [0, 0.69444, 0, 0, 0.55],\n    \"915\": [0, 0.69444, 0, 0, 0.58056],\n    \"916\": [0, 0.69444, 0, 0, 0.91667],\n    \"920\": [0, 0.69444, 0, 0, 0.85556],\n    \"923\": [0, 0.69444, 0, 0, 0.67223],\n    \"926\": [0, 0.69444, 0, 0, 0.73334],\n    \"928\": [0, 0.69444, 0, 0, 0.79445],\n    \"931\": [0, 0.69444, 0, 0, 0.79445],\n    \"933\": [0, 0.69444, 0, 0, 0.85556],\n    \"934\": [0, 0.69444, 0, 0, 0.79445],\n    \"936\": [0, 0.69444, 0, 0, 0.85556],\n    \"937\": [0, 0.69444, 0, 0, 0.79445],\n    \"8211\": [0, 0.45833, 0.03056, 0, 0.55],\n    \"8212\": [0, 0.45833, 0.03056, 0, 1.10001],\n    \"8216\": [0, 0.69444, 0, 0, 0.30556],\n    \"8217\": [0, 0.69444, 0, 0, 0.30556],\n    \"8220\": [0, 0.69444, 0, 0, 0.55834],\n    \"8221\": [0, 0.69444, 0, 0, 0.55834]\n  },\n  \"SansSerif-Italic\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69444, 0.05733, 0, 0.31945],\n    \"34\": [0, 0.69444, 0.00316, 0, 0.5],\n    \"35\": [0.19444, 0.69444, 0.05087, 0, 0.83334],\n    \"36\": [0.05556, 0.75, 0.11156, 0, 0.5],\n    \"37\": [0.05556, 0.75, 0.03126, 0, 0.83334],\n    \"38\": [0, 0.69444, 0.03058, 0, 0.75834],\n    \"39\": [0, 0.69444, 0.07816, 0, 0.27778],\n    \"40\": [0.25, 0.75, 0.13164, 0, 0.38889],\n    \"41\": [0.25, 0.75, 0.02536, 0, 0.38889],\n    \"42\": [0, 0.75, 0.11775, 0, 0.5],\n    \"43\": [0.08333, 0.58333, 0.02536, 0, 0.77778],\n    \"44\": [0.125, 0.08333, 0, 0, 0.27778],\n    \"45\": [0, 0.44444, 0.01946, 0, 0.33333],\n    \"46\": [0, 0.08333, 0, 0, 0.27778],\n    \"47\": [0.25, 0.75, 0.13164, 0, 0.5],\n    \"48\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"49\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"50\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"51\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"52\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"53\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"54\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"55\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"56\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"57\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"58\": [0, 0.44444, 0.02502, 0, 0.27778],\n    \"59\": [0.125, 0.44444, 0.02502, 0, 0.27778],\n    \"61\": [-0.13, 0.37, 0.05087, 0, 0.77778],\n    \"63\": [0, 0.69444, 0.11809, 0, 0.47222],\n    \"64\": [0, 0.69444, 0.07555, 0, 0.66667],\n    \"65\": [0, 0.69444, 0, 0, 0.66667],\n    \"66\": [0, 0.69444, 0.08293, 0, 0.66667],\n    \"67\": [0, 0.69444, 0.11983, 0, 0.63889],\n    \"68\": [0, 0.69444, 0.07555, 0, 0.72223],\n    \"69\": [0, 0.69444, 0.11983, 0, 0.59722],\n    \"70\": [0, 0.69444, 0.13372, 0, 0.56945],\n    \"71\": [0, 0.69444, 0.11983, 0, 0.66667],\n    \"72\": [0, 0.69444, 0.08094, 0, 0.70834],\n    \"73\": [0, 0.69444, 0.13372, 0, 0.27778],\n    \"74\": [0, 0.69444, 0.08094, 0, 0.47222],\n    \"75\": [0, 0.69444, 0.11983, 0, 0.69445],\n    \"76\": [0, 0.69444, 0, 0, 0.54167],\n    \"77\": [0, 0.69444, 0.08094, 0, 0.875],\n    \"78\": [0, 0.69444, 0.08094, 0, 0.70834],\n    \"79\": [0, 0.69444, 0.07555, 0, 0.73611],\n    \"80\": [0, 0.69444, 0.08293, 0, 0.63889],\n    \"81\": [0.125, 0.69444, 0.07555, 0, 0.73611],\n    \"82\": [0, 0.69444, 0.08293, 0, 0.64584],\n    \"83\": [0, 0.69444, 0.09205, 0, 0.55556],\n    \"84\": [0, 0.69444, 0.13372, 0, 0.68056],\n    \"85\": [0, 0.69444, 0.08094, 0, 0.6875],\n    \"86\": [0, 0.69444, 0.1615, 0, 0.66667],\n    \"87\": [0, 0.69444, 0.1615, 0, 0.94445],\n    \"88\": [0, 0.69444, 0.13372, 0, 0.66667],\n    \"89\": [0, 0.69444, 0.17261, 0, 0.66667],\n    \"90\": [0, 0.69444, 0.11983, 0, 0.61111],\n    \"91\": [0.25, 0.75, 0.15942, 0, 0.28889],\n    \"93\": [0.25, 0.75, 0.08719, 0, 0.28889],\n    \"94\": [0, 0.69444, 0.0799, 0, 0.5],\n    \"95\": [0.35, 0.09444, 0.08616, 0, 0.5],\n    \"97\": [0, 0.44444, 0.00981, 0, 0.48056],\n    \"98\": [0, 0.69444, 0.03057, 0, 0.51667],\n    \"99\": [0, 0.44444, 0.08336, 0, 0.44445],\n    \"100\": [0, 0.69444, 0.09483, 0, 0.51667],\n    \"101\": [0, 0.44444, 0.06778, 0, 0.44445],\n    \"102\": [0, 0.69444, 0.21705, 0, 0.30556],\n    \"103\": [0.19444, 0.44444, 0.10836, 0, 0.5],\n    \"104\": [0, 0.69444, 0.01778, 0, 0.51667],\n    \"105\": [0, 0.67937, 0.09718, 0, 0.23889],\n    \"106\": [0.19444, 0.67937, 0.09162, 0, 0.26667],\n    \"107\": [0, 0.69444, 0.08336, 0, 0.48889],\n    \"108\": [0, 0.69444, 0.09483, 0, 0.23889],\n    \"109\": [0, 0.44444, 0.01778, 0, 0.79445],\n    \"110\": [0, 0.44444, 0.01778, 0, 0.51667],\n    \"111\": [0, 0.44444, 0.06613, 0, 0.5],\n    \"112\": [0.19444, 0.44444, 0.0389, 0, 0.51667],\n    \"113\": [0.19444, 0.44444, 0.04169, 0, 0.51667],\n    \"114\": [0, 0.44444, 0.10836, 0, 0.34167],\n    \"115\": [0, 0.44444, 0.0778, 0, 0.38333],\n    \"116\": [0, 0.57143, 0.07225, 0, 0.36111],\n    \"117\": [0, 0.44444, 0.04169, 0, 0.51667],\n    \"118\": [0, 0.44444, 0.10836, 0, 0.46111],\n    \"119\": [0, 0.44444, 0.10836, 0, 0.68334],\n    \"120\": [0, 0.44444, 0.09169, 0, 0.46111],\n    \"121\": [0.19444, 0.44444, 0.10836, 0, 0.46111],\n    \"122\": [0, 0.44444, 0.08752, 0, 0.43472],\n    \"126\": [0.35, 0.32659, 0.08826, 0, 0.5],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"168\": [0, 0.67937, 0.06385, 0, 0.5],\n    \"176\": [0, 0.69444, 0, 0, 0.73752],\n    \"184\": [0.17014, 0, 0, 0, 0.44445],\n    \"305\": [0, 0.44444, 0.04169, 0, 0.23889],\n    \"567\": [0.19444, 0.44444, 0.04169, 0, 0.26667],\n    \"710\": [0, 0.69444, 0.0799, 0, 0.5],\n    \"711\": [0, 0.63194, 0.08432, 0, 0.5],\n    \"713\": [0, 0.60889, 0.08776, 0, 0.5],\n    \"714\": [0, 0.69444, 0.09205, 0, 0.5],\n    \"715\": [0, 0.69444, 0, 0, 0.5],\n    \"728\": [0, 0.69444, 0.09483, 0, 0.5],\n    \"729\": [0, 0.67937, 0.07774, 0, 0.27778],\n    \"730\": [0, 0.69444, 0, 0, 0.73752],\n    \"732\": [0, 0.67659, 0.08826, 0, 0.5],\n    \"733\": [0, 0.69444, 0.09205, 0, 0.5],\n    \"915\": [0, 0.69444, 0.13372, 0, 0.54167],\n    \"916\": [0, 0.69444, 0, 0, 0.83334],\n    \"920\": [0, 0.69444, 0.07555, 0, 0.77778],\n    \"923\": [0, 0.69444, 0, 0, 0.61111],\n    \"926\": [0, 0.69444, 0.12816, 0, 0.66667],\n    \"928\": [0, 0.69444, 0.08094, 0, 0.70834],\n    \"931\": [0, 0.69444, 0.11983, 0, 0.72222],\n    \"933\": [0, 0.69444, 0.09031, 0, 0.77778],\n    \"934\": [0, 0.69444, 0.04603, 0, 0.72222],\n    \"936\": [0, 0.69444, 0.09031, 0, 0.77778],\n    \"937\": [0, 0.69444, 0.08293, 0, 0.72222],\n    \"8211\": [0, 0.44444, 0.08616, 0, 0.5],\n    \"8212\": [0, 0.44444, 0.08616, 0, 1.0],\n    \"8216\": [0, 0.69444, 0.07816, 0, 0.27778],\n    \"8217\": [0, 0.69444, 0.07816, 0, 0.27778],\n    \"8220\": [0, 0.69444, 0.14205, 0, 0.5],\n    \"8221\": [0, 0.69444, 0.00316, 0, 0.5]\n  },\n  \"SansSerif-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69444, 0, 0, 0.31945],\n    \"34\": [0, 0.69444, 0, 0, 0.5],\n    \"35\": [0.19444, 0.69444, 0, 0, 0.83334],\n    \"36\": [0.05556, 0.75, 0, 0, 0.5],\n    \"37\": [0.05556, 0.75, 0, 0, 0.83334],\n    \"38\": [0, 0.69444, 0, 0, 0.75834],\n    \"39\": [0, 0.69444, 0, 0, 0.27778],\n    \"40\": [0.25, 0.75, 0, 0, 0.38889],\n    \"41\": [0.25, 0.75, 0, 0, 0.38889],\n    \"42\": [0, 0.75, 0, 0, 0.5],\n    \"43\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"44\": [0.125, 0.08333, 0, 0, 0.27778],\n    \"45\": [0, 0.44444, 0, 0, 0.33333],\n    \"46\": [0, 0.08333, 0, 0, 0.27778],\n    \"47\": [0.25, 0.75, 0, 0, 0.5],\n    \"48\": [0, 0.65556, 0, 0, 0.5],\n    \"49\": [0, 0.65556, 0, 0, 0.5],\n    \"50\": [0, 0.65556, 0, 0, 0.5],\n    \"51\": [0, 0.65556, 0, 0, 0.5],\n    \"52\": [0, 0.65556, 0, 0, 0.5],\n    \"53\": [0, 0.65556, 0, 0, 0.5],\n    \"54\": [0, 0.65556, 0, 0, 0.5],\n    \"55\": [0, 0.65556, 0, 0, 0.5],\n    \"56\": [0, 0.65556, 0, 0, 0.5],\n    \"57\": [0, 0.65556, 0, 0, 0.5],\n    \"58\": [0, 0.44444, 0, 0, 0.27778],\n    \"59\": [0.125, 0.44444, 0, 0, 0.27778],\n    \"61\": [-0.13, 0.37, 0, 0, 0.77778],\n    \"63\": [0, 0.69444, 0, 0, 0.47222],\n    \"64\": [0, 0.69444, 0, 0, 0.66667],\n    \"65\": [0, 0.69444, 0, 0, 0.66667],\n    \"66\": [0, 0.69444, 0, 0, 0.66667],\n    \"67\": [0, 0.69444, 0, 0, 0.63889],\n    \"68\": [0, 0.69444, 0, 0, 0.72223],\n    \"69\": [0, 0.69444, 0, 0, 0.59722],\n    \"70\": [0, 0.69444, 0, 0, 0.56945],\n    \"71\": [0, 0.69444, 0, 0, 0.66667],\n    \"72\": [0, 0.69444, 0, 0, 0.70834],\n    \"73\": [0, 0.69444, 0, 0, 0.27778],\n    \"74\": [0, 0.69444, 0, 0, 0.47222],\n    \"75\": [0, 0.69444, 0, 0, 0.69445],\n    \"76\": [0, 0.69444, 0, 0, 0.54167],\n    \"77\": [0, 0.69444, 0, 0, 0.875],\n    \"78\": [0, 0.69444, 0, 0, 0.70834],\n    \"79\": [0, 0.69444, 0, 0, 0.73611],\n    \"80\": [0, 0.69444, 0, 0, 0.63889],\n    \"81\": [0.125, 0.69444, 0, 0, 0.73611],\n    \"82\": [0, 0.69444, 0, 0, 0.64584],\n    \"83\": [0, 0.69444, 0, 0, 0.55556],\n    \"84\": [0, 0.69444, 0, 0, 0.68056],\n    \"85\": [0, 0.69444, 0, 0, 0.6875],\n    \"86\": [0, 0.69444, 0.01389, 0, 0.66667],\n    \"87\": [0, 0.69444, 0.01389, 0, 0.94445],\n    \"88\": [0, 0.69444, 0, 0, 0.66667],\n    \"89\": [0, 0.69444, 0.025, 0, 0.66667],\n    \"90\": [0, 0.69444, 0, 0, 0.61111],\n    \"91\": [0.25, 0.75, 0, 0, 0.28889],\n    \"93\": [0.25, 0.75, 0, 0, 0.28889],\n    \"94\": [0, 0.69444, 0, 0, 0.5],\n    \"95\": [0.35, 0.09444, 0.02778, 0, 0.5],\n    \"97\": [0, 0.44444, 0, 0, 0.48056],\n    \"98\": [0, 0.69444, 0, 0, 0.51667],\n    \"99\": [0, 0.44444, 0, 0, 0.44445],\n    \"100\": [0, 0.69444, 0, 0, 0.51667],\n    \"101\": [0, 0.44444, 0, 0, 0.44445],\n    \"102\": [0, 0.69444, 0.06944, 0, 0.30556],\n    \"103\": [0.19444, 0.44444, 0.01389, 0, 0.5],\n    \"104\": [0, 0.69444, 0, 0, 0.51667],\n    \"105\": [0, 0.67937, 0, 0, 0.23889],\n    \"106\": [0.19444, 0.67937, 0, 0, 0.26667],\n    \"107\": [0, 0.69444, 0, 0, 0.48889],\n    \"108\": [0, 0.69444, 0, 0, 0.23889],\n    \"109\": [0, 0.44444, 0, 0, 0.79445],\n    \"110\": [0, 0.44444, 0, 0, 0.51667],\n    \"111\": [0, 0.44444, 0, 0, 0.5],\n    \"112\": [0.19444, 0.44444, 0, 0, 0.51667],\n    \"113\": [0.19444, 0.44444, 0, 0, 0.51667],\n    \"114\": [0, 0.44444, 0.01389, 0, 0.34167],\n    \"115\": [0, 0.44444, 0, 0, 0.38333],\n    \"116\": [0, 0.57143, 0, 0, 0.36111],\n    \"117\": [0, 0.44444, 0, 0, 0.51667],\n    \"118\": [0, 0.44444, 0.01389, 0, 0.46111],\n    \"119\": [0, 0.44444, 0.01389, 0, 0.68334],\n    \"120\": [0, 0.44444, 0, 0, 0.46111],\n    \"121\": [0.19444, 0.44444, 0.01389, 0, 0.46111],\n    \"122\": [0, 0.44444, 0, 0, 0.43472],\n    \"126\": [0.35, 0.32659, 0, 0, 0.5],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"168\": [0, 0.67937, 0, 0, 0.5],\n    \"176\": [0, 0.69444, 0, 0, 0.66667],\n    \"184\": [0.17014, 0, 0, 0, 0.44445],\n    \"305\": [0, 0.44444, 0, 0, 0.23889],\n    \"567\": [0.19444, 0.44444, 0, 0, 0.26667],\n    \"710\": [0, 0.69444, 0, 0, 0.5],\n    \"711\": [0, 0.63194, 0, 0, 0.5],\n    \"713\": [0, 0.60889, 0, 0, 0.5],\n    \"714\": [0, 0.69444, 0, 0, 0.5],\n    \"715\": [0, 0.69444, 0, 0, 0.5],\n    \"728\": [0, 0.69444, 0, 0, 0.5],\n    \"729\": [0, 0.67937, 0, 0, 0.27778],\n    \"730\": [0, 0.69444, 0, 0, 0.66667],\n    \"732\": [0, 0.67659, 0, 0, 0.5],\n    \"733\": [0, 0.69444, 0, 0, 0.5],\n    \"915\": [0, 0.69444, 0, 0, 0.54167],\n    \"916\": [0, 0.69444, 0, 0, 0.83334],\n    \"920\": [0, 0.69444, 0, 0, 0.77778],\n    \"923\": [0, 0.69444, 0, 0, 0.61111],\n    \"926\": [0, 0.69444, 0, 0, 0.66667],\n    \"928\": [0, 0.69444, 0, 0, 0.70834],\n    \"931\": [0, 0.69444, 0, 0, 0.72222],\n    \"933\": [0, 0.69444, 0, 0, 0.77778],\n    \"934\": [0, 0.69444, 0, 0, 0.72222],\n    \"936\": [0, 0.69444, 0, 0, 0.77778],\n    \"937\": [0, 0.69444, 0, 0, 0.72222],\n    \"8211\": [0, 0.44444, 0.02778, 0, 0.5],\n    \"8212\": [0, 0.44444, 0.02778, 0, 1.0],\n    \"8216\": [0, 0.69444, 0, 0, 0.27778],\n    \"8217\": [0, 0.69444, 0, 0, 0.27778],\n    \"8220\": [0, 0.69444, 0, 0, 0.5],\n    \"8221\": [0, 0.69444, 0, 0, 0.5]\n  },\n  \"Script-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"65\": [0, 0.7, 0.22925, 0, 0.80253],\n    \"66\": [0, 0.7, 0.04087, 0, 0.90757],\n    \"67\": [0, 0.7, 0.1689, 0, 0.66619],\n    \"68\": [0, 0.7, 0.09371, 0, 0.77443],\n    \"69\": [0, 0.7, 0.18583, 0, 0.56162],\n    \"70\": [0, 0.7, 0.13634, 0, 0.89544],\n    \"71\": [0, 0.7, 0.17322, 0, 0.60961],\n    \"72\": [0, 0.7, 0.29694, 0, 0.96919],\n    \"73\": [0, 0.7, 0.19189, 0, 0.80907],\n    \"74\": [0.27778, 0.7, 0.19189, 0, 1.05159],\n    \"75\": [0, 0.7, 0.31259, 0, 0.91364],\n    \"76\": [0, 0.7, 0.19189, 0, 0.87373],\n    \"77\": [0, 0.7, 0.15981, 0, 1.08031],\n    \"78\": [0, 0.7, 0.3525, 0, 0.9015],\n    \"79\": [0, 0.7, 0.08078, 0, 0.73787],\n    \"80\": [0, 0.7, 0.08078, 0, 1.01262],\n    \"81\": [0, 0.7, 0.03305, 0, 0.88282],\n    \"82\": [0, 0.7, 0.06259, 0, 0.85],\n    \"83\": [0, 0.7, 0.19189, 0, 0.86767],\n    \"84\": [0, 0.7, 0.29087, 0, 0.74697],\n    \"85\": [0, 0.7, 0.25815, 0, 0.79996],\n    \"86\": [0, 0.7, 0.27523, 0, 0.62204],\n    \"87\": [0, 0.7, 0.27523, 0, 0.80532],\n    \"88\": [0, 0.7, 0.26006, 0, 0.94445],\n    \"89\": [0, 0.7, 0.2939, 0, 0.70961],\n    \"90\": [0, 0.7, 0.24037, 0, 0.8212],\n    \"160\": [0, 0, 0, 0, 0.25]\n  },\n  \"Size1-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"40\": [0.35001, 0.85, 0, 0, 0.45834],\n    \"41\": [0.35001, 0.85, 0, 0, 0.45834],\n    \"47\": [0.35001, 0.85, 0, 0, 0.57778],\n    \"91\": [0.35001, 0.85, 0, 0, 0.41667],\n    \"92\": [0.35001, 0.85, 0, 0, 0.57778],\n    \"93\": [0.35001, 0.85, 0, 0, 0.41667],\n    \"123\": [0.35001, 0.85, 0, 0, 0.58334],\n    \"125\": [0.35001, 0.85, 0, 0, 0.58334],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"710\": [0, 0.72222, 0, 0, 0.55556],\n    \"732\": [0, 0.72222, 0, 0, 0.55556],\n    \"770\": [0, 0.72222, 0, 0, 0.55556],\n    \"771\": [0, 0.72222, 0, 0, 0.55556],\n    \"8214\": [-0.00099, 0.601, 0, 0, 0.77778],\n    \"8593\": [1e-05, 0.6, 0, 0, 0.66667],\n    \"8595\": [1e-05, 0.6, 0, 0, 0.66667],\n    \"8657\": [1e-05, 0.6, 0, 0, 0.77778],\n    \"8659\": [1e-05, 0.6, 0, 0, 0.77778],\n    \"8719\": [0.25001, 0.75, 0, 0, 0.94445],\n    \"8720\": [0.25001, 0.75, 0, 0, 0.94445],\n    \"8721\": [0.25001, 0.75, 0, 0, 1.05556],\n    \"8730\": [0.35001, 0.85, 0, 0, 1.0],\n    \"8739\": [-0.00599, 0.606, 0, 0, 0.33333],\n    \"8741\": [-0.00599, 0.606, 0, 0, 0.55556],\n    \"8747\": [0.30612, 0.805, 0.19445, 0, 0.47222],\n    \"8748\": [0.306, 0.805, 0.19445, 0, 0.47222],\n    \"8749\": [0.306, 0.805, 0.19445, 0, 0.47222],\n    \"8750\": [0.30612, 0.805, 0.19445, 0, 0.47222],\n    \"8896\": [0.25001, 0.75, 0, 0, 0.83334],\n    \"8897\": [0.25001, 0.75, 0, 0, 0.83334],\n    \"8898\": [0.25001, 0.75, 0, 0, 0.83334],\n    \"8899\": [0.25001, 0.75, 0, 0, 0.83334],\n    \"8968\": [0.35001, 0.85, 0, 0, 0.47222],\n    \"8969\": [0.35001, 0.85, 0, 0, 0.47222],\n    \"8970\": [0.35001, 0.85, 0, 0, 0.47222],\n    \"8971\": [0.35001, 0.85, 0, 0, 0.47222],\n    \"9168\": [-0.00099, 0.601, 0, 0, 0.66667],\n    \"10216\": [0.35001, 0.85, 0, 0, 0.47222],\n    \"10217\": [0.35001, 0.85, 0, 0, 0.47222],\n    \"10752\": [0.25001, 0.75, 0, 0, 1.11111],\n    \"10753\": [0.25001, 0.75, 0, 0, 1.11111],\n    \"10754\": [0.25001, 0.75, 0, 0, 1.11111],\n    \"10756\": [0.25001, 0.75, 0, 0, 0.83334],\n    \"10758\": [0.25001, 0.75, 0, 0, 0.83334]\n  },\n  \"Size2-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"40\": [0.65002, 1.15, 0, 0, 0.59722],\n    \"41\": [0.65002, 1.15, 0, 0, 0.59722],\n    \"47\": [0.65002, 1.15, 0, 0, 0.81111],\n    \"91\": [0.65002, 1.15, 0, 0, 0.47222],\n    \"92\": [0.65002, 1.15, 0, 0, 0.81111],\n    \"93\": [0.65002, 1.15, 0, 0, 0.47222],\n    \"123\": [0.65002, 1.15, 0, 0, 0.66667],\n    \"125\": [0.65002, 1.15, 0, 0, 0.66667],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"710\": [0, 0.75, 0, 0, 1.0],\n    \"732\": [0, 0.75, 0, 0, 1.0],\n    \"770\": [0, 0.75, 0, 0, 1.0],\n    \"771\": [0, 0.75, 0, 0, 1.0],\n    \"8719\": [0.55001, 1.05, 0, 0, 1.27778],\n    \"8720\": [0.55001, 1.05, 0, 0, 1.27778],\n    \"8721\": [0.55001, 1.05, 0, 0, 1.44445],\n    \"8730\": [0.65002, 1.15, 0, 0, 1.0],\n    \"8747\": [0.86225, 1.36, 0.44445, 0, 0.55556],\n    \"8748\": [0.862, 1.36, 0.44445, 0, 0.55556],\n    \"8749\": [0.862, 1.36, 0.44445, 0, 0.55556],\n    \"8750\": [0.86225, 1.36, 0.44445, 0, 0.55556],\n    \"8896\": [0.55001, 1.05, 0, 0, 1.11111],\n    \"8897\": [0.55001, 1.05, 0, 0, 1.11111],\n    \"8898\": [0.55001, 1.05, 0, 0, 1.11111],\n    \"8899\": [0.55001, 1.05, 0, 0, 1.11111],\n    \"8968\": [0.65002, 1.15, 0, 0, 0.52778],\n    \"8969\": [0.65002, 1.15, 0, 0, 0.52778],\n    \"8970\": [0.65002, 1.15, 0, 0, 0.52778],\n    \"8971\": [0.65002, 1.15, 0, 0, 0.52778],\n    \"10216\": [0.65002, 1.15, 0, 0, 0.61111],\n    \"10217\": [0.65002, 1.15, 0, 0, 0.61111],\n    \"10752\": [0.55001, 1.05, 0, 0, 1.51112],\n    \"10753\": [0.55001, 1.05, 0, 0, 1.51112],\n    \"10754\": [0.55001, 1.05, 0, 0, 1.51112],\n    \"10756\": [0.55001, 1.05, 0, 0, 1.11111],\n    \"10758\": [0.55001, 1.05, 0, 0, 1.11111]\n  },\n  \"Size3-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"40\": [0.95003, 1.45, 0, 0, 0.73611],\n    \"41\": [0.95003, 1.45, 0, 0, 0.73611],\n    \"47\": [0.95003, 1.45, 0, 0, 1.04445],\n    \"91\": [0.95003, 1.45, 0, 0, 0.52778],\n    \"92\": [0.95003, 1.45, 0, 0, 1.04445],\n    \"93\": [0.95003, 1.45, 0, 0, 0.52778],\n    \"123\": [0.95003, 1.45, 0, 0, 0.75],\n    \"125\": [0.95003, 1.45, 0, 0, 0.75],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"710\": [0, 0.75, 0, 0, 1.44445],\n    \"732\": [0, 0.75, 0, 0, 1.44445],\n    \"770\": [0, 0.75, 0, 0, 1.44445],\n    \"771\": [0, 0.75, 0, 0, 1.44445],\n    \"8730\": [0.95003, 1.45, 0, 0, 1.0],\n    \"8968\": [0.95003, 1.45, 0, 0, 0.58334],\n    \"8969\": [0.95003, 1.45, 0, 0, 0.58334],\n    \"8970\": [0.95003, 1.45, 0, 0, 0.58334],\n    \"8971\": [0.95003, 1.45, 0, 0, 0.58334],\n    \"10216\": [0.95003, 1.45, 0, 0, 0.75],\n    \"10217\": [0.95003, 1.45, 0, 0, 0.75]\n  },\n  \"Size4-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"40\": [1.25003, 1.75, 0, 0, 0.79167],\n    \"41\": [1.25003, 1.75, 0, 0, 0.79167],\n    \"47\": [1.25003, 1.75, 0, 0, 1.27778],\n    \"91\": [1.25003, 1.75, 0, 0, 0.58334],\n    \"92\": [1.25003, 1.75, 0, 0, 1.27778],\n    \"93\": [1.25003, 1.75, 0, 0, 0.58334],\n    \"123\": [1.25003, 1.75, 0, 0, 0.80556],\n    \"125\": [1.25003, 1.75, 0, 0, 0.80556],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"710\": [0, 0.825, 0, 0, 1.8889],\n    \"732\": [0, 0.825, 0, 0, 1.8889],\n    \"770\": [0, 0.825, 0, 0, 1.8889],\n    \"771\": [0, 0.825, 0, 0, 1.8889],\n    \"8730\": [1.25003, 1.75, 0, 0, 1.0],\n    \"8968\": [1.25003, 1.75, 0, 0, 0.63889],\n    \"8969\": [1.25003, 1.75, 0, 0, 0.63889],\n    \"8970\": [1.25003, 1.75, 0, 0, 0.63889],\n    \"8971\": [1.25003, 1.75, 0, 0, 0.63889],\n    \"9115\": [0.64502, 1.155, 0, 0, 0.875],\n    \"9116\": [1e-05, 0.6, 0, 0, 0.875],\n    \"9117\": [0.64502, 1.155, 0, 0, 0.875],\n    \"9118\": [0.64502, 1.155, 0, 0, 0.875],\n    \"9119\": [1e-05, 0.6, 0, 0, 0.875],\n    \"9120\": [0.64502, 1.155, 0, 0, 0.875],\n    \"9121\": [0.64502, 1.155, 0, 0, 0.66667],\n    \"9122\": [-0.00099, 0.601, 0, 0, 0.66667],\n    \"9123\": [0.64502, 1.155, 0, 0, 0.66667],\n    \"9124\": [0.64502, 1.155, 0, 0, 0.66667],\n    \"9125\": [-0.00099, 0.601, 0, 0, 0.66667],\n    \"9126\": [0.64502, 1.155, 0, 0, 0.66667],\n    \"9127\": [1e-05, 0.9, 0, 0, 0.88889],\n    \"9128\": [0.65002, 1.15, 0, 0, 0.88889],\n    \"9129\": [0.90001, 0, 0, 0, 0.88889],\n    \"9130\": [0, 0.3, 0, 0, 0.88889],\n    \"9131\": [1e-05, 0.9, 0, 0, 0.88889],\n    \"9132\": [0.65002, 1.15, 0, 0, 0.88889],\n    \"9133\": [0.90001, 0, 0, 0, 0.88889],\n    \"9143\": [0.88502, 0.915, 0, 0, 1.05556],\n    \"10216\": [1.25003, 1.75, 0, 0, 0.80556],\n    \"10217\": [1.25003, 1.75, 0, 0, 0.80556],\n    \"57344\": [-0.00499, 0.605, 0, 0, 1.05556],\n    \"57345\": [-0.00499, 0.605, 0, 0, 1.05556],\n    \"57680\": [0, 0.12, 0, 0, 0.45],\n    \"57681\": [0, 0.12, 0, 0, 0.45],\n    \"57682\": [0, 0.12, 0, 0, 0.45],\n    \"57683\": [0, 0.12, 0, 0, 0.45]\n  },\n  \"Typewriter-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.525],\n    \"33\": [0, 0.61111, 0, 0, 0.525],\n    \"34\": [0, 0.61111, 0, 0, 0.525],\n    \"35\": [0, 0.61111, 0, 0, 0.525],\n    \"36\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"37\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"38\": [0, 0.61111, 0, 0, 0.525],\n    \"39\": [0, 0.61111, 0, 0, 0.525],\n    \"40\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"41\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"42\": [0, 0.52083, 0, 0, 0.525],\n    \"43\": [-0.08056, 0.53055, 0, 0, 0.525],\n    \"44\": [0.13889, 0.125, 0, 0, 0.525],\n    \"45\": [-0.08056, 0.53055, 0, 0, 0.525],\n    \"46\": [0, 0.125, 0, 0, 0.525],\n    \"47\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"48\": [0, 0.61111, 0, 0, 0.525],\n    \"49\": [0, 0.61111, 0, 0, 0.525],\n    \"50\": [0, 0.61111, 0, 0, 0.525],\n    \"51\": [0, 0.61111, 0, 0, 0.525],\n    \"52\": [0, 0.61111, 0, 0, 0.525],\n    \"53\": [0, 0.61111, 0, 0, 0.525],\n    \"54\": [0, 0.61111, 0, 0, 0.525],\n    \"55\": [0, 0.61111, 0, 0, 0.525],\n    \"56\": [0, 0.61111, 0, 0, 0.525],\n    \"57\": [0, 0.61111, 0, 0, 0.525],\n    \"58\": [0, 0.43056, 0, 0, 0.525],\n    \"59\": [0.13889, 0.43056, 0, 0, 0.525],\n    \"60\": [-0.05556, 0.55556, 0, 0, 0.525],\n    \"61\": [-0.19549, 0.41562, 0, 0, 0.525],\n    \"62\": [-0.05556, 0.55556, 0, 0, 0.525],\n    \"63\": [0, 0.61111, 0, 0, 0.525],\n    \"64\": [0, 0.61111, 0, 0, 0.525],\n    \"65\": [0, 0.61111, 0, 0, 0.525],\n    \"66\": [0, 0.61111, 0, 0, 0.525],\n    \"67\": [0, 0.61111, 0, 0, 0.525],\n    \"68\": [0, 0.61111, 0, 0, 0.525],\n    \"69\": [0, 0.61111, 0, 0, 0.525],\n    \"70\": [0, 0.61111, 0, 0, 0.525],\n    \"71\": [0, 0.61111, 0, 0, 0.525],\n    \"72\": [0, 0.61111, 0, 0, 0.525],\n    \"73\": [0, 0.61111, 0, 0, 0.525],\n    \"74\": [0, 0.61111, 0, 0, 0.525],\n    \"75\": [0, 0.61111, 0, 0, 0.525],\n    \"76\": [0, 0.61111, 0, 0, 0.525],\n    \"77\": [0, 0.61111, 0, 0, 0.525],\n    \"78\": [0, 0.61111, 0, 0, 0.525],\n    \"79\": [0, 0.61111, 0, 0, 0.525],\n    \"80\": [0, 0.61111, 0, 0, 0.525],\n    \"81\": [0.13889, 0.61111, 0, 0, 0.525],\n    \"82\": [0, 0.61111, 0, 0, 0.525],\n    \"83\": [0, 0.61111, 0, 0, 0.525],\n    \"84\": [0, 0.61111, 0, 0, 0.525],\n    \"85\": [0, 0.61111, 0, 0, 0.525],\n    \"86\": [0, 0.61111, 0, 0, 0.525],\n    \"87\": [0, 0.61111, 0, 0, 0.525],\n    \"88\": [0, 0.61111, 0, 0, 0.525],\n    \"89\": [0, 0.61111, 0, 0, 0.525],\n    \"90\": [0, 0.61111, 0, 0, 0.525],\n    \"91\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"92\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"93\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"94\": [0, 0.61111, 0, 0, 0.525],\n    \"95\": [0.09514, 0, 0, 0, 0.525],\n    \"96\": [0, 0.61111, 0, 0, 0.525],\n    \"97\": [0, 0.43056, 0, 0, 0.525],\n    \"98\": [0, 0.61111, 0, 0, 0.525],\n    \"99\": [0, 0.43056, 0, 0, 0.525],\n    \"100\": [0, 0.61111, 0, 0, 0.525],\n    \"101\": [0, 0.43056, 0, 0, 0.525],\n    \"102\": [0, 0.61111, 0, 0, 0.525],\n    \"103\": [0.22222, 0.43056, 0, 0, 0.525],\n    \"104\": [0, 0.61111, 0, 0, 0.525],\n    \"105\": [0, 0.61111, 0, 0, 0.525],\n    \"106\": [0.22222, 0.61111, 0, 0, 0.525],\n    \"107\": [0, 0.61111, 0, 0, 0.525],\n    \"108\": [0, 0.61111, 0, 0, 0.525],\n    \"109\": [0, 0.43056, 0, 0, 0.525],\n    \"110\": [0, 0.43056, 0, 0, 0.525],\n    \"111\": [0, 0.43056, 0, 0, 0.525],\n    \"112\": [0.22222, 0.43056, 0, 0, 0.525],\n    \"113\": [0.22222, 0.43056, 0, 0, 0.525],\n    \"114\": [0, 0.43056, 0, 0, 0.525],\n    \"115\": [0, 0.43056, 0, 0, 0.525],\n    \"116\": [0, 0.55358, 0, 0, 0.525],\n    \"117\": [0, 0.43056, 0, 0, 0.525],\n    \"118\": [0, 0.43056, 0, 0, 0.525],\n    \"119\": [0, 0.43056, 0, 0, 0.525],\n    \"120\": [0, 0.43056, 0, 0, 0.525],\n    \"121\": [0.22222, 0.43056, 0, 0, 0.525],\n    \"122\": [0, 0.43056, 0, 0, 0.525],\n    \"123\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"124\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"125\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"126\": [0, 0.61111, 0, 0, 0.525],\n    \"127\": [0, 0.61111, 0, 0, 0.525],\n    \"160\": [0, 0, 0, 0, 0.525],\n    \"176\": [0, 0.61111, 0, 0, 0.525],\n    \"184\": [0.19445, 0, 0, 0, 0.525],\n    \"305\": [0, 0.43056, 0, 0, 0.525],\n    \"567\": [0.22222, 0.43056, 0, 0, 0.525],\n    \"711\": [0, 0.56597, 0, 0, 0.525],\n    \"713\": [0, 0.56555, 0, 0, 0.525],\n    \"714\": [0, 0.61111, 0, 0, 0.525],\n    \"715\": [0, 0.61111, 0, 0, 0.525],\n    \"728\": [0, 0.61111, 0, 0, 0.525],\n    \"730\": [0, 0.61111, 0, 0, 0.525],\n    \"770\": [0, 0.61111, 0, 0, 0.525],\n    \"771\": [0, 0.61111, 0, 0, 0.525],\n    \"776\": [0, 0.61111, 0, 0, 0.525],\n    \"915\": [0, 0.61111, 0, 0, 0.525],\n    \"916\": [0, 0.61111, 0, 0, 0.525],\n    \"920\": [0, 0.61111, 0, 0, 0.525],\n    \"923\": [0, 0.61111, 0, 0, 0.525],\n    \"926\": [0, 0.61111, 0, 0, 0.525],\n    \"928\": [0, 0.61111, 0, 0, 0.525],\n    \"931\": [0, 0.61111, 0, 0, 0.525],\n    \"933\": [0, 0.61111, 0, 0, 0.525],\n    \"934\": [0, 0.61111, 0, 0, 0.525],\n    \"936\": [0, 0.61111, 0, 0, 0.525],\n    \"937\": [0, 0.61111, 0, 0, 0.525],\n    \"8216\": [0, 0.61111, 0, 0, 0.525],\n    \"8217\": [0, 0.61111, 0, 0, 0.525],\n    \"8242\": [0, 0.61111, 0, 0, 0.525],\n    \"9251\": [0.11111, 0.21944, 0, 0, 0.525]\n  }\n};\n\n/**\n * This file contains metrics regarding fonts and individual symbols. The sigma\n * and xi variables, as well as the metricMap map contain data extracted from\n * TeX, TeX font metrics, and the TTF files. These data are then exposed via the\n * `metrics` variable and the getCharacterMetrics function.\n */\n// In TeX, there are actually three sets of dimensions, one for each of\n// textstyle (size index 5 and higher: >=9pt), scriptstyle (size index 3 and 4:\n// 7-8pt), and scriptscriptstyle (size index 1 and 2: 5-6pt).  These are\n// provided in the arrays below, in that order.\n//\n// The font metrics are stored in fonts cmsy10, cmsy7, and cmsy5 respectively.\n// This was determined by running the following script:\n//\n//     latex -interaction=nonstopmode \\\n//     '\\documentclass{article}\\usepackage{amsmath}\\begin{document}' \\\n//     '$a$ \\expandafter\\show\\the\\textfont2' \\\n//     '\\expandafter\\show\\the\\scriptfont2' \\\n//     '\\expandafter\\show\\the\\scriptscriptfont2' \\\n//     '\\stop'\n//\n// The metrics themselves were retrieved using the following commands:\n//\n//     tftopl cmsy10\n//     tftopl cmsy7\n//     tftopl cmsy5\n//\n// The output of each of these commands is quite lengthy.  The only part we\n// care about is the FONTDIMEN section. Each value is measured in EMs.\nvar sigmasAndXis = {\n  slant: [0.250, 0.250, 0.250],\n  // sigma1\n  space: [0.000, 0.000, 0.000],\n  // sigma2\n  stretch: [0.000, 0.000, 0.000],\n  // sigma3\n  shrink: [0.000, 0.000, 0.000],\n  // sigma4\n  xHeight: [0.431, 0.431, 0.431],\n  // sigma5\n  quad: [1.000, 1.171, 1.472],\n  // sigma6\n  extraSpace: [0.000, 0.000, 0.000],\n  // sigma7\n  num1: [0.677, 0.732, 0.925],\n  // sigma8\n  num2: [0.394, 0.384, 0.387],\n  // sigma9\n  num3: [0.444, 0.471, 0.504],\n  // sigma10\n  denom1: [0.686, 0.752, 1.025],\n  // sigma11\n  denom2: [0.345, 0.344, 0.532],\n  // sigma12\n  sup1: [0.413, 0.503, 0.504],\n  // sigma13\n  sup2: [0.363, 0.431, 0.404],\n  // sigma14\n  sup3: [0.289, 0.286, 0.294],\n  // sigma15\n  sub1: [0.150, 0.143, 0.200],\n  // sigma16\n  sub2: [0.247, 0.286, 0.400],\n  // sigma17\n  supDrop: [0.386, 0.353, 0.494],\n  // sigma18\n  subDrop: [0.050, 0.071, 0.100],\n  // sigma19\n  delim1: [2.390, 1.700, 1.980],\n  // sigma20\n  delim2: [1.010, 1.157, 1.420],\n  // sigma21\n  axisHeight: [0.250, 0.250, 0.250],\n  // sigma22\n  // These font metrics are extracted from TeX by using tftopl on cmex10.tfm;\n  // they correspond to the font parameters of the extension fonts (family 3).\n  // See the TeXbook, page 441. In AMSTeX, the extension fonts scale; to\n  // match cmex7, we'd use cmex7.tfm values for script and scriptscript\n  // values.\n  defaultRuleThickness: [0.04, 0.049, 0.049],\n  // xi8; cmex7: 0.049\n  bigOpSpacing1: [0.111, 0.111, 0.111],\n  // xi9\n  bigOpSpacing2: [0.166, 0.166, 0.166],\n  // xi10\n  bigOpSpacing3: [0.2, 0.2, 0.2],\n  // xi11\n  bigOpSpacing4: [0.6, 0.611, 0.611],\n  // xi12; cmex7: 0.611\n  bigOpSpacing5: [0.1, 0.143, 0.143],\n  // xi13; cmex7: 0.143\n  // The \\sqrt rule width is taken from the height of the surd character.\n  // Since we use the same font at all sizes, this thickness doesn't scale.\n  sqrtRuleThickness: [0.04, 0.04, 0.04],\n  // This value determines how large a pt is, for metrics which are defined\n  // in terms of pts.\n  // This value is also used in katex.scss; if you change it make sure the\n  // values match.\n  ptPerEm: [10.0, 10.0, 10.0],\n  // The space between adjacent `|` columns in an array definition. From\n  // `\\showthe\\doublerulesep` in LaTeX. Equals 2.0 / ptPerEm.\n  doubleRuleSep: [0.2, 0.2, 0.2],\n  // The width of separator lines in {array} environments. From\n  // `\\showthe\\arrayrulewidth` in LaTeX. Equals 0.4 / ptPerEm.\n  arrayRuleWidth: [0.04, 0.04, 0.04],\n  // Two values from LaTeX source2e:\n  fboxsep: [0.3, 0.3, 0.3],\n  //        3 pt / ptPerEm\n  fboxrule: [0.04, 0.04, 0.04] // 0.4 pt / ptPerEm\n\n}; // This map contains a mapping from font name and character code to character\n// should have Latin-1 and Cyrillic characters, but may not depending on the\n// operating system.  The metrics do not account for extra height from the\n// accents.  In the case of Cyrillic characters which have both ascenders and\n// descenders we prefer approximations with ascenders, primarily to prevent\n// the fraction bar or root line from intersecting the glyph.\n// TODO(kevinb) allow union of multiple glyph metrics for better accuracy.\n\nvar extraCharacterMap = {\n  // Latin-1\n  '': 'A',\n  '': 'D',\n  '': 'o',\n  '': 'a',\n  '': 'd',\n  '': 'o',\n  // Cyrillic\n  '': 'A',\n  '': 'B',\n  '': 'B',\n  '': 'F',\n  '': 'A',\n  '': 'E',\n  '': 'K',\n  '': '3',\n  '': 'N',\n  '': 'N',\n  '': 'K',\n  '': 'N',\n  '': 'M',\n  '': 'H',\n  '': 'O',\n  '': 'N',\n  '': 'P',\n  '': 'C',\n  '': 'T',\n  '': 'y',\n  '': 'O',\n  '': 'X',\n  '': 'U',\n  '': 'h',\n  '': 'W',\n  '': 'W',\n  '': 'B',\n  '': 'X',\n  '': 'B',\n  '': '3',\n  '': 'X',\n  '': 'R',\n  '': 'a',\n  '': 'b',\n  '': 'a',\n  '': 'r',\n  '': 'y',\n  '': 'e',\n  '': 'm',\n  '': 'e',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'm',\n  '': 'n',\n  '': 'o',\n  '': 'n',\n  '': 'p',\n  '': 'c',\n  '': 'o',\n  '': 'y',\n  '': 'b',\n  '': 'x',\n  '': 'n',\n  '': 'n',\n  '': 'w',\n  '': 'w',\n  '': 'a',\n  '': 'm',\n  '': 'a',\n  '': 'e',\n  '': 'm',\n  '': 'r'\n};\n\n/**\n * This function adds new font metrics to default metricMap\n * It can also override existing metrics\n */\nfunction setFontMetrics(fontName, metrics) {\n  fontMetricsData[fontName] = metrics;\n}\n/**\n * This function is a convenience function for looking up information in the\n * metricMap table. It takes a character as a string, and a font.\n *\n * Note: the `width` property may be undefined if fontMetricsData.js wasn't\n * built using `Make extended_metrics`.\n */\n\nfunction getCharacterMetrics(character, font, mode) {\n  if (!fontMetricsData[font]) {\n    throw new Error(\"Font metrics not found for font: \" + font + \".\");\n  }\n\n  var ch = character.charCodeAt(0);\n  var metrics = fontMetricsData[font][ch];\n\n  if (!metrics && character[0] in extraCharacterMap) {\n    ch = extraCharacterMap[character[0]].charCodeAt(0);\n    metrics = fontMetricsData[font][ch];\n  }\n\n  if (!metrics && mode === 'text') {\n    // We don't typically have font metrics for Asian scripts.\n    // But since we support them in text mode, we need to return\n    // some sort of metrics.\n    // So if the character is in a script we support but we\n    // don't have metrics for it, just use the metrics for\n    // the Latin capital letter M. This is close enough because\n    // we (currently) only care about the height of the glyph\n    // not its width.\n    if (supportedCodepoint(ch)) {\n      metrics = fontMetricsData[font][77]; // 77 is the charcode for 'M'\n    }\n  }\n\n  if (metrics) {\n    return {\n      depth: metrics[0],\n      height: metrics[1],\n      italic: metrics[2],\n      skew: metrics[3],\n      width: metrics[4]\n    };\n  }\n}\nvar fontMetricsBySizeIndex = {};\n/**\n * Get the font metrics for a given size.\n */\n\nfunction getGlobalMetrics(size) {\n  var sizeIndex;\n\n  if (size >= 5) {\n    sizeIndex = 0;\n  } else if (size >= 3) {\n    sizeIndex = 1;\n  } else {\n    sizeIndex = 2;\n  }\n\n  if (!fontMetricsBySizeIndex[sizeIndex]) {\n    var metrics = fontMetricsBySizeIndex[sizeIndex] = {\n      cssEmPerMu: sigmasAndXis.quad[sizeIndex] / 18\n    };\n\n    for (var key in sigmasAndXis) {\n      if (sigmasAndXis.hasOwnProperty(key)) {\n        metrics[key] = sigmasAndXis[key][sizeIndex];\n      }\n    }\n  }\n\n  return fontMetricsBySizeIndex[sizeIndex];\n}\n\n/**\n * This file contains information about the options that the Parser carries\n * around with it while parsing. Data is held in an `Options` object, and when\n * recursing, a new `Options` object can be created with the `.with*` and\n * `.reset` functions.\n */\nvar sizeStyleMap = [// Each element contains [textsize, scriptsize, scriptscriptsize].\n// The size mappings are taken from TeX with \\normalsize=10pt.\n[1, 1, 1], // size1: [5, 5, 5]              \\tiny\n[2, 1, 1], // size2: [6, 5, 5]\n[3, 1, 1], // size3: [7, 5, 5]              \\scriptsize\n[4, 2, 1], // size4: [8, 6, 5]              \\footnotesize\n[5, 2, 1], // size5: [9, 6, 5]              \\small\n[6, 3, 1], // size6: [10, 7, 5]             \\normalsize\n[7, 4, 2], // size7: [12, 8, 6]             \\large\n[8, 6, 3], // size8: [14.4, 10, 7]          \\Large\n[9, 7, 6], // size9: [17.28, 12, 10]        \\LARGE\n[10, 8, 7], // size10: [20.74, 14.4, 12]     \\huge\n[11, 10, 9] // size11: [24.88, 20.74, 17.28] \\HUGE\n];\nvar sizeMultipliers = [// fontMetrics.js:getGlobalMetrics also uses size indexes, so if\n// you change size indexes, change that function.\n0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 1.2, 1.44, 1.728, 2.074, 2.488];\n\nvar sizeAtStyle = function sizeAtStyle(size, style) {\n  return style.size < 2 ? size : sizeStyleMap[size - 1][style.size - 1];\n}; // In these types, \"\" (empty string) means \"no change\".\n\n\n/**\n * This is the main options class. It contains the current style, size, color,\n * and font.\n *\n * Options objects should not be modified. To create a new Options with\n * different properties, call a `.having*` method.\n */\nclass Options {\n  // A font family applies to a group of fonts (i.e. SansSerif), while a font\n  // represents a specific font (i.e. SansSerif Bold).\n  // See: https://tex.stackexchange.com/questions/22350/difference-between-textrm-and-mathrm\n\n  /**\n   * The base size index.\n   */\n  constructor(data) {\n    this.style = void 0;\n    this.color = void 0;\n    this.size = void 0;\n    this.textSize = void 0;\n    this.phantom = void 0;\n    this.font = void 0;\n    this.fontFamily = void 0;\n    this.fontWeight = void 0;\n    this.fontShape = void 0;\n    this.sizeMultiplier = void 0;\n    this.maxSize = void 0;\n    this.minRuleThickness = void 0;\n    this._fontMetrics = void 0;\n    this.style = data.style;\n    this.color = data.color;\n    this.size = data.size || Options.BASESIZE;\n    this.textSize = data.textSize || this.size;\n    this.phantom = !!data.phantom;\n    this.font = data.font || \"\";\n    this.fontFamily = data.fontFamily || \"\";\n    this.fontWeight = data.fontWeight || '';\n    this.fontShape = data.fontShape || '';\n    this.sizeMultiplier = sizeMultipliers[this.size - 1];\n    this.maxSize = data.maxSize;\n    this.minRuleThickness = data.minRuleThickness;\n    this._fontMetrics = undefined;\n  }\n  /**\n   * Returns a new options object with the same properties as \"this\".  Properties\n   * from \"extension\" will be copied to the new options object.\n   */\n\n\n  extend(extension) {\n    var data = {\n      style: this.style,\n      size: this.size,\n      textSize: this.textSize,\n      color: this.color,\n      phantom: this.phantom,\n      font: this.font,\n      fontFamily: this.fontFamily,\n      fontWeight: this.fontWeight,\n      fontShape: this.fontShape,\n      maxSize: this.maxSize,\n      minRuleThickness: this.minRuleThickness\n    };\n\n    for (var key in extension) {\n      if (extension.hasOwnProperty(key)) {\n        data[key] = extension[key];\n      }\n    }\n\n    return new Options(data);\n  }\n  /**\n   * Return an options object with the given style. If `this.style === style`,\n   * returns `this`.\n   */\n\n\n  havingStyle(style) {\n    if (this.style === style) {\n      return this;\n    } else {\n      return this.extend({\n        style: style,\n        size: sizeAtStyle(this.textSize, style)\n      });\n    }\n  }\n  /**\n   * Return an options object with a cramped version of the current style. If\n   * the current style is cramped, returns `this`.\n   */\n\n\n  havingCrampedStyle() {\n    return this.havingStyle(this.style.cramp());\n  }\n  /**\n   * Return an options object with the given size and in at least `\\textstyle`.\n   * Returns `this` if appropriate.\n   */\n\n\n  havingSize(size) {\n    if (this.size === size && this.textSize === size) {\n      return this;\n    } else {\n      return this.extend({\n        style: this.style.text(),\n        size: size,\n        textSize: size,\n        sizeMultiplier: sizeMultipliers[size - 1]\n      });\n    }\n  }\n  /**\n   * Like `this.havingSize(BASESIZE).havingStyle(style)`. If `style` is omitted,\n   * changes to at least `\\textstyle`.\n   */\n\n\n  havingBaseStyle(style) {\n    style = style || this.style.text();\n    var wantSize = sizeAtStyle(Options.BASESIZE, style);\n\n    if (this.size === wantSize && this.textSize === Options.BASESIZE && this.style === style) {\n      return this;\n    } else {\n      return this.extend({\n        style: style,\n        size: wantSize\n      });\n    }\n  }\n  /**\n   * Remove the effect of sizing changes such as \\Huge.\n   * Keep the effect of the current style, such as \\scriptstyle.\n   */\n\n\n  havingBaseSizing() {\n    var size;\n\n    switch (this.style.id) {\n      case 4:\n      case 5:\n        size = 3; // normalsize in scriptstyle\n\n        break;\n\n      case 6:\n      case 7:\n        size = 1; // normalsize in scriptscriptstyle\n\n        break;\n\n      default:\n        size = 6;\n      // normalsize in textstyle or displaystyle\n    }\n\n    return this.extend({\n      style: this.style.text(),\n      size: size\n    });\n  }\n  /**\n   * Create a new options object with the given color.\n   */\n\n\n  withColor(color) {\n    return this.extend({\n      color: color\n    });\n  }\n  /**\n   * Create a new options object with \"phantom\" set to true.\n   */\n\n\n  withPhantom() {\n    return this.extend({\n      phantom: true\n    });\n  }\n  /**\n   * Creates a new options object with the given math font or old text font.\n   * @type {[type]}\n   */\n\n\n  withFont(font) {\n    return this.extend({\n      font\n    });\n  }\n  /**\n   * Create a new options objects with the given fontFamily.\n   */\n\n\n  withTextFontFamily(fontFamily) {\n    return this.extend({\n      fontFamily,\n      font: \"\"\n    });\n  }\n  /**\n   * Creates a new options object with the given font weight\n   */\n\n\n  withTextFontWeight(fontWeight) {\n    return this.extend({\n      fontWeight,\n      font: \"\"\n    });\n  }\n  /**\n   * Creates a new options object with the given font weight\n   */\n\n\n  withTextFontShape(fontShape) {\n    return this.extend({\n      fontShape,\n      font: \"\"\n    });\n  }\n  /**\n   * Return the CSS sizing classes required to switch from enclosing options\n   * `oldOptions` to `this`. Returns an array of classes.\n   */\n\n\n  sizingClasses(oldOptions) {\n    if (oldOptions.size !== this.size) {\n      return [\"sizing\", \"reset-size\" + oldOptions.size, \"size\" + this.size];\n    } else {\n      return [];\n    }\n  }\n  /**\n   * Return the CSS sizing classes required to switch to the base size. Like\n   * `this.havingSize(BASESIZE).sizingClasses(this)`.\n   */\n\n\n  baseSizingClasses() {\n    if (this.size !== Options.BASESIZE) {\n      return [\"sizing\", \"reset-size\" + this.size, \"size\" + Options.BASESIZE];\n    } else {\n      return [];\n    }\n  }\n  /**\n   * Return the font metrics for this size.\n   */\n\n\n  fontMetrics() {\n    if (!this._fontMetrics) {\n      this._fontMetrics = getGlobalMetrics(this.size);\n    }\n\n    return this._fontMetrics;\n  }\n  /**\n   * Gets the CSS color of the current options object\n   */\n\n\n  getColor() {\n    if (this.phantom) {\n      return \"transparent\";\n    } else {\n      return this.color;\n    }\n  }\n\n}\n\nOptions.BASESIZE = 6;\n\n/**\n * This file does conversion between units.  In particular, it provides\n * calculateSize to convert other units into ems.\n */\n// Thus, multiplying a length by this number converts the length from units\n// into pts.  Dividing the result by ptPerEm gives the number of ems\n// *assuming* a font size of ptPerEm (normal size, normal style).\n\nvar ptPerUnit = {\n  // https://en.wikibooks.org/wiki/LaTeX/Lengths and\n  // https://tex.stackexchange.com/a/8263\n  \"pt\": 1,\n  // TeX point\n  \"mm\": 7227 / 2540,\n  // millimeter\n  \"cm\": 7227 / 254,\n  // centimeter\n  \"in\": 72.27,\n  // inch\n  \"bp\": 803 / 800,\n  // big (PostScript) points\n  \"pc\": 12,\n  // pica\n  \"dd\": 1238 / 1157,\n  // didot\n  \"cc\": 14856 / 1157,\n  // cicero (12 didot)\n  \"nd\": 685 / 642,\n  // new didot\n  \"nc\": 1370 / 107,\n  // new cicero (12 new didot)\n  \"sp\": 1 / 65536,\n  // scaled point (TeX's internal smallest unit)\n  // https://tex.stackexchange.com/a/41371\n  \"px\": 803 / 800 // \\pdfpxdimen defaults to 1 bp in pdfTeX and LuaTeX\n\n}; // Dictionary of relative units, for fast validity testing.\n\nvar relativeUnit = {\n  \"ex\": true,\n  \"em\": true,\n  \"mu\": true\n};\n\n/**\n * Determine whether the specified unit (either a string defining the unit\n * or a \"size\" parse node containing a unit field) is valid.\n */\nvar validUnit = function validUnit(unit) {\n  if (typeof unit !== \"string\") {\n    unit = unit.unit;\n  }\n\n  return unit in ptPerUnit || unit in relativeUnit || unit === \"ex\";\n};\n/*\n * Convert a \"size\" parse node (with numeric \"number\" and string \"unit\" fields,\n * as parsed by functions.js argType \"size\") into a CSS em value for the\n * current style/scale.  `options` gives the current options.\n */\n\nvar calculateSize = function calculateSize(sizeValue, options) {\n  var scale;\n\n  if (sizeValue.unit in ptPerUnit) {\n    // Absolute units\n    scale = ptPerUnit[sizeValue.unit] // Convert unit to pt\n    / options.fontMetrics().ptPerEm // Convert pt to CSS em\n    / options.sizeMultiplier; // Unscale to make absolute units\n  } else if (sizeValue.unit === \"mu\") {\n    // `mu` units scale with scriptstyle/scriptscriptstyle.\n    scale = options.fontMetrics().cssEmPerMu;\n  } else {\n    // Other relative units always refer to the *textstyle* font\n    // in the current size.\n    var unitOptions;\n\n    if (options.style.isTight()) {\n      // isTight() means current style is script/scriptscript.\n      unitOptions = options.havingStyle(options.style.text());\n    } else {\n      unitOptions = options;\n    } // TODO: In TeX these units are relative to the quad of the current\n    // *text* font, e.g. cmr10. KaTeX instead uses values from the\n    // comparably-sized *Computer Modern symbol* font. At 10pt, these\n    // match. At 7pt and 5pt, they differ: cmr7=1.138894, cmsy7=1.170641;\n    // cmr5=1.361133, cmsy5=1.472241. Consider $\\scriptsize a\\kern1emb$.\n    // TeX \\showlists shows a kern of 1.13889 * fontsize;\n    // KaTeX shows a kern of 1.171 * fontsize.\n\n\n    if (sizeValue.unit === \"ex\") {\n      scale = unitOptions.fontMetrics().xHeight;\n    } else if (sizeValue.unit === \"em\") {\n      scale = unitOptions.fontMetrics().quad;\n    } else {\n      throw new ParseError(\"Invalid unit: '\" + sizeValue.unit + \"'\");\n    }\n\n    if (unitOptions !== options) {\n      scale *= unitOptions.sizeMultiplier / options.sizeMultiplier;\n    }\n  }\n\n  return Math.min(sizeValue.number * scale, options.maxSize);\n};\n/**\n * Round `n` to 4 decimal places, or to the nearest 1/10,000th em. See\n * https://github.com/KaTeX/KaTeX/pull/2460.\n */\n\nvar makeEm = function makeEm(n) {\n  return +n.toFixed(4) + \"em\";\n};\n\n/**\n * These objects store the data about the DOM nodes we create, as well as some\n * extra data. They can then be transformed into real DOM nodes with the\n * `toNode` function or HTML markup using `toMarkup`. They are useful for both\n * storing extra properties on the nodes, as well as providing a way to easily\n * work with the DOM.\n *\n * Similar functions for working with MathML nodes exist in mathMLTree.js.\n *\n * TODO: refactor `span` and `anchor` into common superclass when\n * target environments support class inheritance\n */\n\n/**\n * Create an HTML className based on a list of classes. In addition to joining\n * with spaces, we also remove empty classes.\n */\nvar createClass = function createClass(classes) {\n  return classes.filter(cls => cls).join(\" \");\n};\n\nvar initNode = function initNode(classes, options, style) {\n  this.classes = classes || [];\n  this.attributes = {};\n  this.height = 0;\n  this.depth = 0;\n  this.maxFontSize = 0;\n  this.style = style || {};\n\n  if (options) {\n    if (options.style.isTight()) {\n      this.classes.push(\"mtight\");\n    }\n\n    var color = options.getColor();\n\n    if (color) {\n      this.style.color = color;\n    }\n  }\n};\n/**\n * Convert into an HTML node\n */\n\n\nvar toNode = function toNode(tagName) {\n  var node = document.createElement(tagName); // Apply the class\n\n  node.className = createClass(this.classes); // Apply inline styles\n\n  for (var style in this.style) {\n    if (this.style.hasOwnProperty(style)) {\n      // $FlowFixMe Flow doesn't seem to understand span.style's type.\n      node.style[style] = this.style[style];\n    }\n  } // Apply attributes\n\n\n  for (var attr in this.attributes) {\n    if (this.attributes.hasOwnProperty(attr)) {\n      node.setAttribute(attr, this.attributes[attr]);\n    }\n  } // Append the children, also as HTML nodes\n\n\n  for (var i = 0; i < this.children.length; i++) {\n    node.appendChild(this.children[i].toNode());\n  }\n\n  return node;\n};\n/**\n * https://w3c.github.io/html-reference/syntax.html#syntax-attributes\n *\n * > Attribute Names must consist of one or more characters\n * other than the space characters, U+0000 NULL,\n * '\"', \"'\", \">\", \"/\", \"=\", the control characters,\n * and any characters that are not defined by Unicode.\n */\n\n\nvar invalidAttributeNameRegex = /[\\s\"'>/=\\x00-\\x1f]/;\n/**\n * Convert into an HTML markup string\n */\n\nvar toMarkup = function toMarkup(tagName) {\n  var markup = \"<\" + tagName; // Add the class\n\n  if (this.classes.length) {\n    markup += \" class=\\\"\" + utils.escape(createClass(this.classes)) + \"\\\"\";\n  }\n\n  var styles = \"\"; // Add the styles, after hyphenation\n\n  for (var style in this.style) {\n    if (this.style.hasOwnProperty(style)) {\n      styles += utils.hyphenate(style) + \":\" + this.style[style] + \";\";\n    }\n  }\n\n  if (styles) {\n    markup += \" style=\\\"\" + utils.escape(styles) + \"\\\"\";\n  } // Add the attributes\n\n\n  for (var attr in this.attributes) {\n    if (this.attributes.hasOwnProperty(attr)) {\n      if (invalidAttributeNameRegex.test(attr)) {\n        throw new ParseError(\"Invalid attribute name '\" + attr + \"'\");\n      }\n\n      markup += \" \" + attr + \"=\\\"\" + utils.escape(this.attributes[attr]) + \"\\\"\";\n    }\n  }\n\n  markup += \">\"; // Add the markup of the children, also as markup\n\n  for (var i = 0; i < this.children.length; i++) {\n    markup += this.children[i].toMarkup();\n  }\n\n  markup += \"</\" + tagName + \">\";\n  return markup;\n}; // Making the type below exact with all optional fields doesn't work due to\n// - https://github.com/facebook/flow/issues/4582\n// - https://github.com/facebook/flow/issues/5688\n// However, since *all* fields are optional, $Shape<> works as suggested in 5688\n// above.\n// This type does not include all CSS properties. Additional properties should\n// be added as needed.\n\n\n/**\n * This node represents a span node, with a className, a list of children, and\n * an inline style. It also contains information about its height, depth, and\n * maxFontSize.\n *\n * Represents two types with different uses: SvgSpan to wrap an SVG and DomSpan\n * otherwise. This typesafety is important when HTML builders access a span's\n * children.\n */\nclass Span {\n  constructor(classes, children, options, style) {\n    this.children = void 0;\n    this.attributes = void 0;\n    this.classes = void 0;\n    this.height = void 0;\n    this.depth = void 0;\n    this.width = void 0;\n    this.maxFontSize = void 0;\n    this.style = void 0;\n    initNode.call(this, classes, options, style);\n    this.children = children || [];\n  }\n  /**\n   * Sets an arbitrary attribute on the span. Warning: use this wisely. Not\n   * all browsers support attributes the same, and having too many custom\n   * attributes is probably bad.\n   */\n\n\n  setAttribute(attribute, value) {\n    this.attributes[attribute] = value;\n  }\n\n  hasClass(className) {\n    return this.classes.includes(className);\n  }\n\n  toNode() {\n    return toNode.call(this, \"span\");\n  }\n\n  toMarkup() {\n    return toMarkup.call(this, \"span\");\n  }\n\n}\n/**\n * This node represents an anchor (<a>) element with a hyperlink.  See `span`\n * for further details.\n */\n\nclass Anchor {\n  constructor(href, classes, children, options) {\n    this.children = void 0;\n    this.attributes = void 0;\n    this.classes = void 0;\n    this.height = void 0;\n    this.depth = void 0;\n    this.maxFontSize = void 0;\n    this.style = void 0;\n    initNode.call(this, classes, options);\n    this.children = children || [];\n    this.setAttribute('href', href);\n  }\n\n  setAttribute(attribute, value) {\n    this.attributes[attribute] = value;\n  }\n\n  hasClass(className) {\n    return this.classes.includes(className);\n  }\n\n  toNode() {\n    return toNode.call(this, \"a\");\n  }\n\n  toMarkup() {\n    return toMarkup.call(this, \"a\");\n  }\n\n}\n/**\n * This node represents an image embed (<img>) element.\n */\n\nclass Img {\n  constructor(src, alt, style) {\n    this.src = void 0;\n    this.alt = void 0;\n    this.classes = void 0;\n    this.height = void 0;\n    this.depth = void 0;\n    this.maxFontSize = void 0;\n    this.style = void 0;\n    this.alt = alt;\n    this.src = src;\n    this.classes = [\"mord\"];\n    this.style = style;\n  }\n\n  hasClass(className) {\n    return this.classes.includes(className);\n  }\n\n  toNode() {\n    var node = document.createElement(\"img\");\n    node.src = this.src;\n    node.alt = this.alt;\n    node.className = \"mord\"; // Apply inline styles\n\n    for (var style in this.style) {\n      if (this.style.hasOwnProperty(style)) {\n        // $FlowFixMe\n        node.style[style] = this.style[style];\n      }\n    }\n\n    return node;\n  }\n\n  toMarkup() {\n    var markup = \"<img src=\\\"\" + utils.escape(this.src) + \"\\\"\" + (\" alt=\\\"\" + utils.escape(this.alt) + \"\\\"\"); // Add the styles, after hyphenation\n\n    var styles = \"\";\n\n    for (var style in this.style) {\n      if (this.style.hasOwnProperty(style)) {\n        styles += utils.hyphenate(style) + \":\" + this.style[style] + \";\";\n      }\n    }\n\n    if (styles) {\n      markup += \" style=\\\"\" + utils.escape(styles) + \"\\\"\";\n    }\n\n    markup += \"'/>\";\n    return markup;\n  }\n\n}\nvar iCombinations = {\n  '': '\\u0131\\u0302',\n  '': '\\u0131\\u0308',\n  '': '\\u0131\\u0301',\n  // '': '\\u0131\\u0304', // enable when we add Extended Latin\n  '': '\\u0131\\u0300'\n};\n/**\n * A symbol node contains information about a single symbol. It either renders\n * to a single text node, or a span with a single text node in it, depending on\n * whether it has CSS classes, styles, or needs italic correction.\n */\n\nclass SymbolNode {\n  constructor(text, height, depth, italic, skew, width, classes, style) {\n    this.text = void 0;\n    this.height = void 0;\n    this.depth = void 0;\n    this.italic = void 0;\n    this.skew = void 0;\n    this.width = void 0;\n    this.maxFontSize = void 0;\n    this.classes = void 0;\n    this.style = void 0;\n    this.text = text;\n    this.height = height || 0;\n    this.depth = depth || 0;\n    this.italic = italic || 0;\n    this.skew = skew || 0;\n    this.width = width || 0;\n    this.classes = classes || [];\n    this.style = style || {};\n    this.maxFontSize = 0; // Mark text from non-Latin scripts with specific classes so that we\n    // can specify which fonts to use.  This allows us to render these\n    // characters with a serif font in situations where the browser would\n    // either default to a sans serif or render a placeholder character.\n    // We use CSS class names like cjk_fallback, hangul_fallback and\n    // brahmic_fallback. See ./unicodeScripts.js for the set of possible\n    // script names\n\n    var script = scriptFromCodepoint(this.text.charCodeAt(0));\n\n    if (script) {\n      this.classes.push(script + \"_fallback\");\n    }\n\n    if (/[]/.test(this.text)) {\n      // add  when we add Extended Latin\n      this.text = iCombinations[this.text];\n    }\n  }\n\n  hasClass(className) {\n    return this.classes.includes(className);\n  }\n  /**\n   * Creates a text node or span from a symbol node. Note that a span is only\n   * created if it is needed.\n   */\n\n\n  toNode() {\n    var node = document.createTextNode(this.text);\n    var span = null;\n\n    if (this.italic > 0) {\n      span = document.createElement(\"span\");\n      span.style.marginRight = makeEm(this.italic);\n    }\n\n    if (this.classes.length > 0) {\n      span = span || document.createElement(\"span\");\n      span.className = createClass(this.classes);\n    }\n\n    for (var style in this.style) {\n      if (this.style.hasOwnProperty(style)) {\n        span = span || document.createElement(\"span\"); // $FlowFixMe Flow doesn't seem to understand span.style's type.\n\n        span.style[style] = this.style[style];\n      }\n    }\n\n    if (span) {\n      span.appendChild(node);\n      return span;\n    } else {\n      return node;\n    }\n  }\n  /**\n   * Creates markup for a symbol node.\n   */\n\n\n  toMarkup() {\n    // TODO(alpert): More duplication than I'd like from\n    // span.prototype.toMarkup and symbolNode.prototype.toNode...\n    var needsSpan = false;\n    var markup = \"<span\";\n\n    if (this.classes.length) {\n      needsSpan = true;\n      markup += \" class=\\\"\";\n      markup += utils.escape(createClass(this.classes));\n      markup += \"\\\"\";\n    }\n\n    var styles = \"\";\n\n    if (this.italic > 0) {\n      styles += \"margin-right:\" + this.italic + \"em;\";\n    }\n\n    for (var style in this.style) {\n      if (this.style.hasOwnProperty(style)) {\n        styles += utils.hyphenate(style) + \":\" + this.style[style] + \";\";\n      }\n    }\n\n    if (styles) {\n      needsSpan = true;\n      markup += \" style=\\\"\" + utils.escape(styles) + \"\\\"\";\n    }\n\n    var escaped = utils.escape(this.text);\n\n    if (needsSpan) {\n      markup += \">\";\n      markup += escaped;\n      markup += \"</span>\";\n      return markup;\n    } else {\n      return escaped;\n    }\n  }\n\n}\n/**\n * SVG nodes are used to render stretchy wide elements.\n */\n\nclass SvgNode {\n  constructor(children, attributes) {\n    this.children = void 0;\n    this.attributes = void 0;\n    this.children = children || [];\n    this.attributes = attributes || {};\n  }\n\n  toNode() {\n    var svgNS = \"http://www.w3.org/2000/svg\";\n    var node = document.createElementNS(svgNS, \"svg\"); // Apply attributes\n\n    for (var attr in this.attributes) {\n      if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n        node.setAttribute(attr, this.attributes[attr]);\n      }\n    }\n\n    for (var i = 0; i < this.children.length; i++) {\n      node.appendChild(this.children[i].toNode());\n    }\n\n    return node;\n  }\n\n  toMarkup() {\n    var markup = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\"\"; // Apply attributes\n\n    for (var attr in this.attributes) {\n      if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n        markup += \" \" + attr + \"=\\\"\" + utils.escape(this.attributes[attr]) + \"\\\"\";\n      }\n    }\n\n    markup += \">\";\n\n    for (var i = 0; i < this.children.length; i++) {\n      markup += this.children[i].toMarkup();\n    }\n\n    markup += \"</svg>\";\n    return markup;\n  }\n\n}\nclass PathNode {\n  constructor(pathName, alternate) {\n    this.pathName = void 0;\n    this.alternate = void 0;\n    this.pathName = pathName;\n    this.alternate = alternate; // Used only for \\sqrt, \\phase, & tall delims\n  }\n\n  toNode() {\n    var svgNS = \"http://www.w3.org/2000/svg\";\n    var node = document.createElementNS(svgNS, \"path\");\n\n    if (this.alternate) {\n      node.setAttribute(\"d\", this.alternate);\n    } else {\n      node.setAttribute(\"d\", path[this.pathName]);\n    }\n\n    return node;\n  }\n\n  toMarkup() {\n    if (this.alternate) {\n      return \"<path d=\\\"\" + utils.escape(this.alternate) + \"\\\"/>\";\n    } else {\n      return \"<path d=\\\"\" + utils.escape(path[this.pathName]) + \"\\\"/>\";\n    }\n  }\n\n}\nclass LineNode {\n  constructor(attributes) {\n    this.attributes = void 0;\n    this.attributes = attributes || {};\n  }\n\n  toNode() {\n    var svgNS = \"http://www.w3.org/2000/svg\";\n    var node = document.createElementNS(svgNS, \"line\"); // Apply attributes\n\n    for (var attr in this.attributes) {\n      if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n        node.setAttribute(attr, this.attributes[attr]);\n      }\n    }\n\n    return node;\n  }\n\n  toMarkup() {\n    var markup = \"<line\";\n\n    for (var attr in this.attributes) {\n      if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n        markup += \" \" + attr + \"=\\\"\" + utils.escape(this.attributes[attr]) + \"\\\"\";\n      }\n    }\n\n    markup += \"/>\";\n    return markup;\n  }\n\n}\nfunction assertSymbolDomNode(group) {\n  if (group instanceof SymbolNode) {\n    return group;\n  } else {\n    throw new Error(\"Expected symbolNode but got \" + String(group) + \".\");\n  }\n}\nfunction assertSpan(group) {\n  if (group instanceof Span) {\n    return group;\n  } else {\n    throw new Error(\"Expected span<HtmlDomNode> but got \" + String(group) + \".\");\n  }\n}\n\n/**\n * This file holds a list of all no-argument functions and single-character\n * symbols (like 'a' or ';').\n *\n * For each of the symbols, there are three properties they can have:\n * - font (required): the font to be used for this symbol. Either \"main\" (the\n     normal font), or \"ams\" (the ams fonts).\n * - group (required): the ParseNode group type the symbol should have (i.e.\n     \"textord\", \"mathord\", etc).\n     See https://github.com/KaTeX/KaTeX/wiki/Examining-TeX#group-types\n * - replace: the character that this symbol or function should be\n *   replaced with (i.e. \"\\phi\" has a replace value of \"\\u03d5\", the phi\n *   character in the main font).\n *\n * The outermost map in the table indicates what mode the symbols should be\n * accepted in (e.g. \"math\" or \"text\").\n */\n// Some of these have a \"-token\" suffix since these are also used as `ParseNode`\n// types for raw text tokens, and we want to avoid conflicts with higher-level\n// `ParseNode` types. These `ParseNode`s are constructed within `Parser` by\n// looking up the `symbols` map.\nvar ATOMS = {\n  \"bin\": 1,\n  \"close\": 1,\n  \"inner\": 1,\n  \"open\": 1,\n  \"punct\": 1,\n  \"rel\": 1\n};\nvar NON_ATOMS = {\n  \"accent-token\": 1,\n  \"mathord\": 1,\n  \"op-token\": 1,\n  \"spacing\": 1,\n  \"textord\": 1\n};\nvar symbols = {\n  \"math\": {},\n  \"text\": {}\n};\n/** `acceptUnicodeChar = true` is only applicable if `replace` is set. */\n\nfunction defineSymbol(mode, font, group, replace, name, acceptUnicodeChar) {\n  symbols[mode][name] = {\n    font,\n    group,\n    replace\n  };\n\n  if (acceptUnicodeChar && replace) {\n    symbols[mode][replace] = symbols[mode][name];\n  }\n} // Some abbreviations for commonly used strings.\n// This helps minify the code, and also spotting typos using jshint.\n// modes:\n\nvar math = \"math\";\nvar text = \"text\"; // fonts:\n\nvar main = \"main\";\nvar ams = \"ams\"; // groups:\n\nvar accent = \"accent-token\";\nvar bin = \"bin\";\nvar close = \"close\";\nvar inner = \"inner\";\nvar mathord = \"mathord\";\nvar op = \"op-token\";\nvar open = \"open\";\nvar punct = \"punct\";\nvar rel = \"rel\";\nvar spacing = \"spacing\";\nvar textord = \"textord\"; // Now comes the symbol table\n// Relation Symbols\n\ndefineSymbol(math, main, rel, \"\\u2261\", \"\\\\equiv\", true);\ndefineSymbol(math, main, rel, \"\\u227a\", \"\\\\prec\", true);\ndefineSymbol(math, main, rel, \"\\u227b\", \"\\\\succ\", true);\ndefineSymbol(math, main, rel, \"\\u223c\", \"\\\\sim\", true);\ndefineSymbol(math, main, rel, \"\\u22a5\", \"\\\\perp\");\ndefineSymbol(math, main, rel, \"\\u2aaf\", \"\\\\preceq\", true);\ndefineSymbol(math, main, rel, \"\\u2ab0\", \"\\\\succeq\", true);\ndefineSymbol(math, main, rel, \"\\u2243\", \"\\\\simeq\", true);\ndefineSymbol(math, main, rel, \"\\u2223\", \"\\\\mid\", true);\ndefineSymbol(math, main, rel, \"\\u226a\", \"\\\\ll\", true);\ndefineSymbol(math, main, rel, \"\\u226b\", \"\\\\gg\", true);\ndefineSymbol(math, main, rel, \"\\u224d\", \"\\\\asymp\", true);\ndefineSymbol(math, main, rel, \"\\u2225\", \"\\\\parallel\");\ndefineSymbol(math, main, rel, \"\\u22c8\", \"\\\\bowtie\", true);\ndefineSymbol(math, main, rel, \"\\u2323\", \"\\\\smile\", true);\ndefineSymbol(math, main, rel, \"\\u2291\", \"\\\\sqsubseteq\", true);\ndefineSymbol(math, main, rel, \"\\u2292\", \"\\\\sqsupseteq\", true);\ndefineSymbol(math, main, rel, \"\\u2250\", \"\\\\doteq\", true);\ndefineSymbol(math, main, rel, \"\\u2322\", \"\\\\frown\", true);\ndefineSymbol(math, main, rel, \"\\u220b\", \"\\\\ni\", true);\ndefineSymbol(math, main, rel, \"\\u221d\", \"\\\\propto\", true);\ndefineSymbol(math, main, rel, \"\\u22a2\", \"\\\\vdash\", true);\ndefineSymbol(math, main, rel, \"\\u22a3\", \"\\\\dashv\", true);\ndefineSymbol(math, main, rel, \"\\u220b\", \"\\\\owns\"); // Punctuation\n\ndefineSymbol(math, main, punct, \"\\u002e\", \"\\\\ldotp\");\ndefineSymbol(math, main, punct, \"\\u22c5\", \"\\\\cdotp\"); // Misc Symbols\n\ndefineSymbol(math, main, textord, \"\\u0023\", \"\\\\#\");\ndefineSymbol(text, main, textord, \"\\u0023\", \"\\\\#\");\ndefineSymbol(math, main, textord, \"\\u0026\", \"\\\\&\");\ndefineSymbol(text, main, textord, \"\\u0026\", \"\\\\&\");\ndefineSymbol(math, main, textord, \"\\u2135\", \"\\\\aleph\", true);\ndefineSymbol(math, main, textord, \"\\u2200\", \"\\\\forall\", true);\ndefineSymbol(math, main, textord, \"\\u210f\", \"\\\\hbar\", true);\ndefineSymbol(math, main, textord, \"\\u2203\", \"\\\\exists\", true);\ndefineSymbol(math, main, textord, \"\\u2207\", \"\\\\nabla\", true);\ndefineSymbol(math, main, textord, \"\\u266d\", \"\\\\flat\", true);\ndefineSymbol(math, main, textord, \"\\u2113\", \"\\\\ell\", true);\ndefineSymbol(math, main, textord, \"\\u266e\", \"\\\\natural\", true);\ndefineSymbol(math, main, textord, \"\\u2663\", \"\\\\clubsuit\", true);\ndefineSymbol(math, main, textord, \"\\u2118\", \"\\\\wp\", true);\ndefineSymbol(math, main, textord, \"\\u266f\", \"\\\\sharp\", true);\ndefineSymbol(math, main, textord, \"\\u2662\", \"\\\\diamondsuit\", true);\ndefineSymbol(math, main, textord, \"\\u211c\", \"\\\\Re\", true);\ndefineSymbol(math, main, textord, \"\\u2661\", \"\\\\heartsuit\", true);\ndefineSymbol(math, main, textord, \"\\u2111\", \"\\\\Im\", true);\ndefineSymbol(math, main, textord, \"\\u2660\", \"\\\\spadesuit\", true);\ndefineSymbol(math, main, textord, \"\\u00a7\", \"\\\\S\", true);\ndefineSymbol(text, main, textord, \"\\u00a7\", \"\\\\S\");\ndefineSymbol(math, main, textord, \"\\u00b6\", \"\\\\P\", true);\ndefineSymbol(text, main, textord, \"\\u00b6\", \"\\\\P\"); // Math and Text\n\ndefineSymbol(math, main, textord, \"\\u2020\", \"\\\\dag\");\ndefineSymbol(text, main, textord, \"\\u2020\", \"\\\\dag\");\ndefineSymbol(text, main, textord, \"\\u2020\", \"\\\\textdagger\");\ndefineSymbol(math, main, textord, \"\\u2021\", \"\\\\ddag\");\ndefineSymbol(text, main, textord, \"\\u2021\", \"\\\\ddag\");\ndefineSymbol(text, main, textord, \"\\u2021\", \"\\\\textdaggerdbl\"); // Large Delimiters\n\ndefineSymbol(math, main, close, \"\\u23b1\", \"\\\\rmoustache\", true);\ndefineSymbol(math, main, open, \"\\u23b0\", \"\\\\lmoustache\", true);\ndefineSymbol(math, main, close, \"\\u27ef\", \"\\\\rgroup\", true);\ndefineSymbol(math, main, open, \"\\u27ee\", \"\\\\lgroup\", true); // Binary Operators\n\ndefineSymbol(math, main, bin, \"\\u2213\", \"\\\\mp\", true);\ndefineSymbol(math, main, bin, \"\\u2296\", \"\\\\ominus\", true);\ndefineSymbol(math, main, bin, \"\\u228e\", \"\\\\uplus\", true);\ndefineSymbol(math, main, bin, \"\\u2293\", \"\\\\sqcap\", true);\ndefineSymbol(math, main, bin, \"\\u2217\", \"\\\\ast\");\ndefineSymbol(math, main, bin, \"\\u2294\", \"\\\\sqcup\", true);\ndefineSymbol(math, main, bin, \"\\u25ef\", \"\\\\bigcirc\", true);\ndefineSymbol(math, main, bin, \"\\u2219\", \"\\\\bullet\", true);\ndefineSymbol(math, main, bin, \"\\u2021\", \"\\\\ddagger\");\ndefineSymbol(math, main, bin, \"\\u2240\", \"\\\\wr\", true);\ndefineSymbol(math, main, bin, \"\\u2a3f\", \"\\\\amalg\");\ndefineSymbol(math, main, bin, \"\\u0026\", \"\\\\And\"); // from amsmath\n// Arrow Symbols\n\ndefineSymbol(math, main, rel, \"\\u27f5\", \"\\\\longleftarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21d0\", \"\\\\Leftarrow\", true);\ndefineSymbol(math, main, rel, \"\\u27f8\", \"\\\\Longleftarrow\", true);\ndefineSymbol(math, main, rel, \"\\u27f6\", \"\\\\longrightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21d2\", \"\\\\Rightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u27f9\", \"\\\\Longrightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u2194\", \"\\\\leftrightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u27f7\", \"\\\\longleftrightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21d4\", \"\\\\Leftrightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u27fa\", \"\\\\Longleftrightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21a6\", \"\\\\mapsto\", true);\ndefineSymbol(math, main, rel, \"\\u27fc\", \"\\\\longmapsto\", true);\ndefineSymbol(math, main, rel, \"\\u2197\", \"\\\\nearrow\", true);\ndefineSymbol(math, main, rel, \"\\u21a9\", \"\\\\hookleftarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21aa\", \"\\\\hookrightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u2198\", \"\\\\searrow\", true);\ndefineSymbol(math, main, rel, \"\\u21bc\", \"\\\\leftharpoonup\", true);\ndefineSymbol(math, main, rel, \"\\u21c0\", \"\\\\rightharpoonup\", true);\ndefineSymbol(math, main, rel, \"\\u2199\", \"\\\\swarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21bd\", \"\\\\leftharpoondown\", true);\ndefineSymbol(math, main, rel, \"\\u21c1\", \"\\\\rightharpoondown\", true);\ndefineSymbol(math, main, rel, \"\\u2196\", \"\\\\nwarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21cc\", \"\\\\rightleftharpoons\", true); // AMS Negated Binary Relations\n\ndefineSymbol(math, ams, rel, \"\\u226e\", \"\\\\nless\", true); // Symbol names preceded by \"@\" each have a corresponding macro.\n\ndefineSymbol(math, ams, rel, \"\\ue010\", \"\\\\@nleqslant\");\ndefineSymbol(math, ams, rel, \"\\ue011\", \"\\\\@nleqq\");\ndefineSymbol(math, ams, rel, \"\\u2a87\", \"\\\\lneq\", true);\ndefineSymbol(math, ams, rel, \"\\u2268\", \"\\\\lneqq\", true);\ndefineSymbol(math, ams, rel, \"\\ue00c\", \"\\\\@lvertneqq\");\ndefineSymbol(math, ams, rel, \"\\u22e6\", \"\\\\lnsim\", true);\ndefineSymbol(math, ams, rel, \"\\u2a89\", \"\\\\lnapprox\", true);\ndefineSymbol(math, ams, rel, \"\\u2280\", \"\\\\nprec\", true); // unicode-math maps \\u22e0 to \\npreccurlyeq. We'll use the AMS synonym.\n\ndefineSymbol(math, ams, rel, \"\\u22e0\", \"\\\\npreceq\", true);\ndefineSymbol(math, ams, rel, \"\\u22e8\", \"\\\\precnsim\", true);\ndefineSymbol(math, ams, rel, \"\\u2ab9\", \"\\\\precnapprox\", true);\ndefineSymbol(math, ams, rel, \"\\u2241\", \"\\\\nsim\", true);\ndefineSymbol(math, ams, rel, \"\\ue006\", \"\\\\@nshortmid\");\ndefineSymbol(math, ams, rel, \"\\u2224\", \"\\\\nmid\", true);\ndefineSymbol(math, ams, rel, \"\\u22ac\", \"\\\\nvdash\", true);\ndefineSymbol(math, ams, rel, \"\\u22ad\", \"\\\\nvDash\", true);\ndefineSymbol(math, ams, rel, \"\\u22ea\", \"\\\\ntriangleleft\");\ndefineSymbol(math, ams, rel, \"\\u22ec\", \"\\\\ntrianglelefteq\", true);\ndefineSymbol(math, ams, rel, \"\\u228a\", \"\\\\subsetneq\", true);\ndefineSymbol(math, ams, rel, \"\\ue01a\", \"\\\\@varsubsetneq\");\ndefineSymbol(math, ams, rel, \"\\u2acb\", \"\\\\subsetneqq\", true);\ndefineSymbol(math, ams, rel, \"\\ue017\", \"\\\\@varsubsetneqq\");\ndefineSymbol(math, ams, rel, \"\\u226f\", \"\\\\ngtr\", true);\ndefineSymbol(math, ams, rel, \"\\ue00f\", \"\\\\@ngeqslant\");\ndefineSymbol(math, ams, rel, \"\\ue00e\", \"\\\\@ngeqq\");\ndefineSymbol(math, ams, rel, \"\\u2a88\", \"\\\\gneq\", true);\ndefineSymbol(math, ams, rel, \"\\u2269\", \"\\\\gneqq\", true);\ndefineSymbol(math, ams, rel, \"\\ue00d\", \"\\\\@gvertneqq\");\ndefineSymbol(math, ams, rel, \"\\u22e7\", \"\\\\gnsim\", true);\ndefineSymbol(math, ams, rel, \"\\u2a8a\", \"\\\\gnapprox\", true);\ndefineSymbol(math, ams, rel, \"\\u2281\", \"\\\\nsucc\", true); // unicode-math maps \\u22e1 to \\nsucccurlyeq. We'll use the AMS synonym.\n\ndefineSymbol(math, ams, rel, \"\\u22e1\", \"\\\\nsucceq\", true);\ndefineSymbol(math, ams, rel, \"\\u22e9\", \"\\\\succnsim\", true);\ndefineSymbol(math, ams, rel, \"\\u2aba\", \"\\\\succnapprox\", true); // unicode-math maps \\u2246 to \\simneqq. We'll use the AMS synonym.\n\ndefineSymbol(math, ams, rel, \"\\u2246\", \"\\\\ncong\", true);\ndefineSymbol(math, ams, rel, \"\\ue007\", \"\\\\@nshortparallel\");\ndefineSymbol(math, ams, rel, \"\\u2226\", \"\\\\nparallel\", true);\ndefineSymbol(math, ams, rel, \"\\u22af\", \"\\\\nVDash\", true);\ndefineSymbol(math, ams, rel, \"\\u22eb\", \"\\\\ntriangleright\");\ndefineSymbol(math, ams, rel, \"\\u22ed\", \"\\\\ntrianglerighteq\", true);\ndefineSymbol(math, ams, rel, \"\\ue018\", \"\\\\@nsupseteqq\");\ndefineSymbol(math, ams, rel, \"\\u228b\", \"\\\\supsetneq\", true);\ndefineSymbol(math, ams, rel, \"\\ue01b\", \"\\\\@varsupsetneq\");\ndefineSymbol(math, ams, rel, \"\\u2acc\", \"\\\\supsetneqq\", true);\ndefineSymbol(math, ams, rel, \"\\ue019\", \"\\\\@varsupsetneqq\");\ndefineSymbol(math, ams, rel, \"\\u22ae\", \"\\\\nVdash\", true);\ndefineSymbol(math, ams, rel, \"\\u2ab5\", \"\\\\precneqq\", true);\ndefineSymbol(math, ams, rel, \"\\u2ab6\", \"\\\\succneqq\", true);\ndefineSymbol(math, ams, rel, \"\\ue016\", \"\\\\@nsubseteqq\");\ndefineSymbol(math, ams, bin, \"\\u22b4\", \"\\\\unlhd\");\ndefineSymbol(math, ams, bin, \"\\u22b5\", \"\\\\unrhd\"); // AMS Negated Arrows\n\ndefineSymbol(math, ams, rel, \"\\u219a\", \"\\\\nleftarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u219b\", \"\\\\nrightarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21cd\", \"\\\\nLeftarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21cf\", \"\\\\nRightarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21ae\", \"\\\\nleftrightarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21ce\", \"\\\\nLeftrightarrow\", true); // AMS Misc\n\ndefineSymbol(math, ams, rel, \"\\u25b3\", \"\\\\vartriangle\");\ndefineSymbol(math, ams, textord, \"\\u210f\", \"\\\\hslash\");\ndefineSymbol(math, ams, textord, \"\\u25bd\", \"\\\\triangledown\");\ndefineSymbol(math, ams, textord, \"\\u25ca\", \"\\\\lozenge\");\ndefineSymbol(math, ams, textord, \"\\u24c8\", \"\\\\circledS\");\ndefineSymbol(math, ams, textord, \"\\u00ae\", \"\\\\circledR\");\ndefineSymbol(text, ams, textord, \"\\u00ae\", \"\\\\circledR\");\ndefineSymbol(math, ams, textord, \"\\u2221\", \"\\\\measuredangle\", true);\ndefineSymbol(math, ams, textord, \"\\u2204\", \"\\\\nexists\");\ndefineSymbol(math, ams, textord, \"\\u2127\", \"\\\\mho\");\ndefineSymbol(math, ams, textord, \"\\u2132\", \"\\\\Finv\", true);\ndefineSymbol(math, ams, textord, \"\\u2141\", \"\\\\Game\", true);\ndefineSymbol(math, ams, textord, \"\\u2035\", \"\\\\backprime\");\ndefineSymbol(math, ams, textord, \"\\u25b2\", \"\\\\blacktriangle\");\ndefineSymbol(math, ams, textord, \"\\u25bc\", \"\\\\blacktriangledown\");\ndefineSymbol(math, ams, textord, \"\\u25a0\", \"\\\\blacksquare\");\ndefineSymbol(math, ams, textord, \"\\u29eb\", \"\\\\blacklozenge\");\ndefineSymbol(math, ams, textord, \"\\u2605\", \"\\\\bigstar\");\ndefineSymbol(math, ams, textord, \"\\u2222\", \"\\\\sphericalangle\", true);\ndefineSymbol(math, ams, textord, \"\\u2201\", \"\\\\complement\", true); // unicode-math maps U+F0 to \\matheth. We map to AMS function \\eth\n\ndefineSymbol(math, ams, textord, \"\\u00f0\", \"\\\\eth\", true);\ndefineSymbol(text, main, textord, \"\\u00f0\", \"\\u00f0\");\ndefineSymbol(math, ams, textord, \"\\u2571\", \"\\\\diagup\");\ndefineSymbol(math, ams, textord, \"\\u2572\", \"\\\\diagdown\");\ndefineSymbol(math, ams, textord, \"\\u25a1\", \"\\\\square\");\ndefineSymbol(math, ams, textord, \"\\u25a1\", \"\\\\Box\");\ndefineSymbol(math, ams, textord, \"\\u25ca\", \"\\\\Diamond\"); // unicode-math maps U+A5 to \\mathyen. We map to AMS function \\yen\n\ndefineSymbol(math, ams, textord, \"\\u00a5\", \"\\\\yen\", true);\ndefineSymbol(text, ams, textord, \"\\u00a5\", \"\\\\yen\", true);\ndefineSymbol(math, ams, textord, \"\\u2713\", \"\\\\checkmark\", true);\ndefineSymbol(text, ams, textord, \"\\u2713\", \"\\\\checkmark\"); // AMS Hebrew\n\ndefineSymbol(math, ams, textord, \"\\u2136\", \"\\\\beth\", true);\ndefineSymbol(math, ams, textord, \"\\u2138\", \"\\\\daleth\", true);\ndefineSymbol(math, ams, textord, \"\\u2137\", \"\\\\gimel\", true); // AMS Greek\n\ndefineSymbol(math, ams, textord, \"\\u03dd\", \"\\\\digamma\", true);\ndefineSymbol(math, ams, textord, \"\\u03f0\", \"\\\\varkappa\"); // AMS Delimiters\n\ndefineSymbol(math, ams, open, \"\\u250c\", \"\\\\@ulcorner\", true);\ndefineSymbol(math, ams, close, \"\\u2510\", \"\\\\@urcorner\", true);\ndefineSymbol(math, ams, open, \"\\u2514\", \"\\\\@llcorner\", true);\ndefineSymbol(math, ams, close, \"\\u2518\", \"\\\\@lrcorner\", true); // AMS Binary Relations\n\ndefineSymbol(math, ams, rel, \"\\u2266\", \"\\\\leqq\", true);\ndefineSymbol(math, ams, rel, \"\\u2a7d\", \"\\\\leqslant\", true);\ndefineSymbol(math, ams, rel, \"\\u2a95\", \"\\\\eqslantless\", true);\ndefineSymbol(math, ams, rel, \"\\u2272\", \"\\\\lesssim\", true);\ndefineSymbol(math, ams, rel, \"\\u2a85\", \"\\\\lessapprox\", true);\ndefineSymbol(math, ams, rel, \"\\u224a\", \"\\\\approxeq\", true);\ndefineSymbol(math, ams, bin, \"\\u22d6\", \"\\\\lessdot\");\ndefineSymbol(math, ams, rel, \"\\u22d8\", \"\\\\lll\", true);\ndefineSymbol(math, ams, rel, \"\\u2276\", \"\\\\lessgtr\", true);\ndefineSymbol(math, ams, rel, \"\\u22da\", \"\\\\lesseqgtr\", true);\ndefineSymbol(math, ams, rel, \"\\u2a8b\", \"\\\\lesseqqgtr\", true);\ndefineSymbol(math, ams, rel, \"\\u2251\", \"\\\\doteqdot\");\ndefineSymbol(math, ams, rel, \"\\u2253\", \"\\\\risingdotseq\", true);\ndefineSymbol(math, ams, rel, \"\\u2252\", \"\\\\fallingdotseq\", true);\ndefineSymbol(math, ams, rel, \"\\u223d\", \"\\\\backsim\", true);\ndefineSymbol(math, ams, rel, \"\\u22cd\", \"\\\\backsimeq\", true);\ndefineSymbol(math, ams, rel, \"\\u2ac5\", \"\\\\subseteqq\", true);\ndefineSymbol(math, ams, rel, \"\\u22d0\", \"\\\\Subset\", true);\ndefineSymbol(math, ams, rel, \"\\u228f\", \"\\\\sqsubset\", true);\ndefineSymbol(math, ams, rel, \"\\u227c\", \"\\\\preccurlyeq\", true);\ndefineSymbol(math, ams, rel, \"\\u22de\", \"\\\\curlyeqprec\", true);\ndefineSymbol(math, ams, rel, \"\\u227e\", \"\\\\precsim\", true);\ndefineSymbol(math, ams, rel, \"\\u2ab7\", \"\\\\precapprox\", true);\ndefineSymbol(math, ams, rel, \"\\u22b2\", \"\\\\vartriangleleft\");\ndefineSymbol(math, ams, rel, \"\\u22b4\", \"\\\\trianglelefteq\");\ndefineSymbol(math, ams, rel, \"\\u22a8\", \"\\\\vDash\", true);\ndefineSymbol(math, ams, rel, \"\\u22aa\", \"\\\\Vvdash\", true);\ndefineSymbol(math, ams, rel, \"\\u2323\", \"\\\\smallsmile\");\ndefineSymbol(math, ams, rel, \"\\u2322\", \"\\\\smallfrown\");\ndefineSymbol(math, ams, rel, \"\\u224f\", \"\\\\bumpeq\", true);\ndefineSymbol(math, ams, rel, \"\\u224e\", \"\\\\Bumpeq\", true);\ndefineSymbol(math, ams, rel, \"\\u2267\", \"\\\\geqq\", true);\ndefineSymbol(math, ams, rel, \"\\u2a7e\", \"\\\\geqslant\", true);\ndefineSymbol(math, ams, rel, \"\\u2a96\", \"\\\\eqslantgtr\", true);\ndefineSymbol(math, ams, rel, \"\\u2273\", \"\\\\gtrsim\", true);\ndefineSymbol(math, ams, rel, \"\\u2a86\", \"\\\\gtrapprox\", true);\ndefineSymbol(math, ams, bin, \"\\u22d7\", \"\\\\gtrdot\");\ndefineSymbol(math, ams, rel, \"\\u22d9\", \"\\\\ggg\", true);\ndefineSymbol(math, ams, rel, \"\\u2277\", \"\\\\gtrless\", true);\ndefineSymbol(math, ams, rel, \"\\u22db\", \"\\\\gtreqless\", true);\ndefineSymbol(math, ams, rel, \"\\u2a8c\", \"\\\\gtreqqless\", true);\ndefineSymbol(math, ams, rel, \"\\u2256\", \"\\\\eqcirc\", true);\ndefineSymbol(math, ams, rel, \"\\u2257\", \"\\\\circeq\", true);\ndefineSymbol(math, ams, rel, \"\\u225c\", \"\\\\triangleq\", true);\ndefineSymbol(math, ams, rel, \"\\u223c\", \"\\\\thicksim\");\ndefineSymbol(math, ams, rel, \"\\u2248\", \"\\\\thickapprox\");\ndefineSymbol(math, ams, rel, \"\\u2ac6\", \"\\\\supseteqq\", true);\ndefineSymbol(math, ams, rel, \"\\u22d1\", \"\\\\Supset\", true);\ndefineSymbol(math, ams, rel, \"\\u2290\", \"\\\\sqsupset\", true);\ndefineSymbol(math, ams, rel, \"\\u227d\", \"\\\\succcurlyeq\", true);\ndefineSymbol(math, ams, rel, \"\\u22df\", \"\\\\curlyeqsucc\", true);\ndefineSymbol(math, ams, rel, \"\\u227f\", \"\\\\succsim\", true);\ndefineSymbol(math, ams, rel, \"\\u2ab8\", \"\\\\succapprox\", true);\ndefineSymbol(math, ams, rel, \"\\u22b3\", \"\\\\vartriangleright\");\ndefineSymbol(math, ams, rel, \"\\u22b5\", \"\\\\trianglerighteq\");\ndefineSymbol(math, ams, rel, \"\\u22a9\", \"\\\\Vdash\", true);\ndefineSymbol(math, ams, rel, \"\\u2223\", \"\\\\shortmid\");\ndefineSymbol(math, ams, rel, \"\\u2225\", \"\\\\shortparallel\");\ndefineSymbol(math, ams, rel, \"\\u226c\", \"\\\\between\", true);\ndefineSymbol(math, ams, rel, \"\\u22d4\", \"\\\\pitchfork\", true);\ndefineSymbol(math, ams, rel, \"\\u221d\", \"\\\\varpropto\");\ndefineSymbol(math, ams, rel, \"\\u25c0\", \"\\\\blacktriangleleft\"); // unicode-math says that \\therefore is a mathord atom.\n// We kept the amssymb atom type, which is rel.\n\ndefineSymbol(math, ams, rel, \"\\u2234\", \"\\\\therefore\", true);\ndefineSymbol(math, ams, rel, \"\\u220d\", \"\\\\backepsilon\");\ndefineSymbol(math, ams, rel, \"\\u25b6\", \"\\\\blacktriangleright\"); // unicode-math says that \\because is a mathord atom.\n// We kept the amssymb atom type, which is rel.\n\ndefineSymbol(math, ams, rel, \"\\u2235\", \"\\\\because\", true);\ndefineSymbol(math, ams, rel, \"\\u22d8\", \"\\\\llless\");\ndefineSymbol(math, ams, rel, \"\\u22d9\", \"\\\\gggtr\");\ndefineSymbol(math, ams, bin, \"\\u22b2\", \"\\\\lhd\");\ndefineSymbol(math, ams, bin, \"\\u22b3\", \"\\\\rhd\");\ndefineSymbol(math, ams, rel, \"\\u2242\", \"\\\\eqsim\", true);\ndefineSymbol(math, main, rel, \"\\u22c8\", \"\\\\Join\");\ndefineSymbol(math, ams, rel, \"\\u2251\", \"\\\\Doteq\", true); // AMS Binary Operators\n\ndefineSymbol(math, ams, bin, \"\\u2214\", \"\\\\dotplus\", true);\ndefineSymbol(math, ams, bin, \"\\u2216\", \"\\\\smallsetminus\");\ndefineSymbol(math, ams, bin, \"\\u22d2\", \"\\\\Cap\", true);\ndefineSymbol(math, ams, bin, \"\\u22d3\", \"\\\\Cup\", true);\ndefineSymbol(math, ams, bin, \"\\u2a5e\", \"\\\\doublebarwedge\", true);\ndefineSymbol(math, ams, bin, \"\\u229f\", \"\\\\boxminus\", true);\ndefineSymbol(math, ams, bin, \"\\u229e\", \"\\\\boxplus\", true);\ndefineSymbol(math, ams, bin, \"\\u22c7\", \"\\\\divideontimes\", true);\ndefineSymbol(math, ams, bin, \"\\u22c9\", \"\\\\ltimes\", true);\ndefineSymbol(math, ams, bin, \"\\u22ca\", \"\\\\rtimes\", true);\ndefineSymbol(math, ams, bin, \"\\u22cb\", \"\\\\leftthreetimes\", true);\ndefineSymbol(math, ams, bin, \"\\u22cc\", \"\\\\rightthreetimes\", true);\ndefineSymbol(math, ams, bin, \"\\u22cf\", \"\\\\curlywedge\", true);\ndefineSymbol(math, ams, bin, \"\\u22ce\", \"\\\\curlyvee\", true);\ndefineSymbol(math, ams, bin, \"\\u229d\", \"\\\\circleddash\", true);\ndefineSymbol(math, ams, bin, \"\\u229b\", \"\\\\circledast\", true);\ndefineSymbol(math, ams, bin, \"\\u22c5\", \"\\\\centerdot\");\ndefineSymbol(math, ams, bin, \"\\u22ba\", \"\\\\intercal\", true);\ndefineSymbol(math, ams, bin, \"\\u22d2\", \"\\\\doublecap\");\ndefineSymbol(math, ams, bin, \"\\u22d3\", \"\\\\doublecup\");\ndefineSymbol(math, ams, bin, \"\\u22a0\", \"\\\\boxtimes\", true); // AMS Arrows\n// Note: unicode-math maps \\u21e2 to their own function \\rightdasharrow.\n// We'll map it to AMS function \\dashrightarrow. It produces the same atom.\n\ndefineSymbol(math, ams, rel, \"\\u21e2\", \"\\\\dashrightarrow\", true); // unicode-math maps \\u21e0 to \\leftdasharrow. We'll use the AMS synonym.\n\ndefineSymbol(math, ams, rel, \"\\u21e0\", \"\\\\dashleftarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21c7\", \"\\\\leftleftarrows\", true);\ndefineSymbol(math, ams, rel, \"\\u21c6\", \"\\\\leftrightarrows\", true);\ndefineSymbol(math, ams, rel, \"\\u21da\", \"\\\\Lleftarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u219e\", \"\\\\twoheadleftarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21a2\", \"\\\\leftarrowtail\", true);\ndefineSymbol(math, ams, rel, \"\\u21ab\", \"\\\\looparrowleft\", true);\ndefineSymbol(math, ams, rel, \"\\u21cb\", \"\\\\leftrightharpoons\", true);\ndefineSymbol(math, ams, rel, \"\\u21b6\", \"\\\\curvearrowleft\", true); // unicode-math maps \\u21ba to \\acwopencirclearrow. We'll use the AMS synonym.\n\ndefineSymbol(math, ams, rel, \"\\u21ba\", \"\\\\circlearrowleft\", true);\ndefineSymbol(math, ams, rel, \"\\u21b0\", \"\\\\Lsh\", true);\ndefineSymbol(math, ams, rel, \"\\u21c8\", \"\\\\upuparrows\", true);\ndefineSymbol(math, ams, rel, \"\\u21bf\", \"\\\\upharpoonleft\", true);\ndefineSymbol(math, ams, rel, \"\\u21c3\", \"\\\\downharpoonleft\", true);\ndefineSymbol(math, main, rel, \"\\u22b6\", \"\\\\origof\", true); // not in font\n\ndefineSymbol(math, main, rel, \"\\u22b7\", \"\\\\imageof\", true); // not in font\n\ndefineSymbol(math, ams, rel, \"\\u22b8\", \"\\\\multimap\", true);\ndefineSymbol(math, ams, rel, \"\\u21ad\", \"\\\\leftrightsquigarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21c9\", \"\\\\rightrightarrows\", true);\ndefineSymbol(math, ams, rel, \"\\u21c4\", \"\\\\rightleftarrows\", true);\ndefineSymbol(math, ams, rel, \"\\u21a0\", \"\\\\twoheadrightarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21a3\", \"\\\\rightarrowtail\", true);\ndefineSymbol(math, ams, rel, \"\\u21ac\", \"\\\\looparrowright\", true);\ndefineSymbol(math, ams, rel, \"\\u21b7\", \"\\\\curvearrowright\", true); // unicode-math maps \\u21bb to \\cwopencirclearrow. We'll use the AMS synonym.\n\ndefineSymbol(math, ams, rel, \"\\u21bb\", \"\\\\circlearrowright\", true);\ndefineSymbol(math, ams, rel, \"\\u21b1\", \"\\\\Rsh\", true);\ndefineSymbol(math, ams, rel, \"\\u21ca\", \"\\\\downdownarrows\", true);\ndefineSymbol(math, ams, rel, \"\\u21be\", \"\\\\upharpoonright\", true);\ndefineSymbol(math, ams, rel, \"\\u21c2\", \"\\\\downharpoonright\", true);\ndefineSymbol(math, ams, rel, \"\\u21dd\", \"\\\\rightsquigarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21dd\", \"\\\\leadsto\");\ndefineSymbol(math, ams, rel, \"\\u21db\", \"\\\\Rrightarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21be\", \"\\\\restriction\");\ndefineSymbol(math, main, textord, \"\\u2018\", \"`\");\ndefineSymbol(math, main, textord, \"$\", \"\\\\$\");\ndefineSymbol(text, main, textord, \"$\", \"\\\\$\");\ndefineSymbol(text, main, textord, \"$\", \"\\\\textdollar\");\ndefineSymbol(math, main, textord, \"%\", \"\\\\%\");\ndefineSymbol(text, main, textord, \"%\", \"\\\\%\");\ndefineSymbol(math, main, textord, \"_\", \"\\\\_\");\ndefineSymbol(text, main, textord, \"_\", \"\\\\_\");\ndefineSymbol(text, main, textord, \"_\", \"\\\\textunderscore\");\ndefineSymbol(math, main, textord, \"\\u2220\", \"\\\\angle\", true);\ndefineSymbol(math, main, textord, \"\\u221e\", \"\\\\infty\", true);\ndefineSymbol(math, main, textord, \"\\u2032\", \"\\\\prime\");\ndefineSymbol(math, main, textord, \"\\u25b3\", \"\\\\triangle\");\ndefineSymbol(math, main, textord, \"\\u0393\", \"\\\\Gamma\", true);\ndefineSymbol(math, main, textord, \"\\u0394\", \"\\\\Delta\", true);\ndefineSymbol(math, main, textord, \"\\u0398\", \"\\\\Theta\", true);\ndefineSymbol(math, main, textord, \"\\u039b\", \"\\\\Lambda\", true);\ndefineSymbol(math, main, textord, \"\\u039e\", \"\\\\Xi\", true);\ndefineSymbol(math, main, textord, \"\\u03a0\", \"\\\\Pi\", true);\ndefineSymbol(math, main, textord, \"\\u03a3\", \"\\\\Sigma\", true);\ndefineSymbol(math, main, textord, \"\\u03a5\", \"\\\\Upsilon\", true);\ndefineSymbol(math, main, textord, \"\\u03a6\", \"\\\\Phi\", true);\ndefineSymbol(math, main, textord, \"\\u03a8\", \"\\\\Psi\", true);\ndefineSymbol(math, main, textord, \"\\u03a9\", \"\\\\Omega\", true);\ndefineSymbol(math, main, textord, \"A\", \"\\u0391\");\ndefineSymbol(math, main, textord, \"B\", \"\\u0392\");\ndefineSymbol(math, main, textord, \"E\", \"\\u0395\");\ndefineSymbol(math, main, textord, \"Z\", \"\\u0396\");\ndefineSymbol(math, main, textord, \"H\", \"\\u0397\");\ndefineSymbol(math, main, textord, \"I\", \"\\u0399\");\ndefineSymbol(math, main, textord, \"K\", \"\\u039A\");\ndefineSymbol(math, main, textord, \"M\", \"\\u039C\");\ndefineSymbol(math, main, textord, \"N\", \"\\u039D\");\ndefineSymbol(math, main, textord, \"O\", \"\\u039F\");\ndefineSymbol(math, main, textord, \"P\", \"\\u03A1\");\ndefineSymbol(math, main, textord, \"T\", \"\\u03A4\");\ndefineSymbol(math, main, textord, \"X\", \"\\u03A7\");\ndefineSymbol(math, main, textord, \"\\u00ac\", \"\\\\neg\", true);\ndefineSymbol(math, main, textord, \"\\u00ac\", \"\\\\lnot\");\ndefineSymbol(math, main, textord, \"\\u22a4\", \"\\\\top\");\ndefineSymbol(math, main, textord, \"\\u22a5\", \"\\\\bot\");\ndefineSymbol(math, main, textord, \"\\u2205\", \"\\\\emptyset\");\ndefineSymbol(math, ams, textord, \"\\u2205\", \"\\\\varnothing\");\ndefineSymbol(math, main, mathord, \"\\u03b1\", \"\\\\alpha\", true);\ndefineSymbol(math, main, mathord, \"\\u03b2\", \"\\\\beta\", true);\ndefineSymbol(math, main, mathord, \"\\u03b3\", \"\\\\gamma\", true);\ndefineSymbol(math, main, mathord, \"\\u03b4\", \"\\\\delta\", true);\ndefineSymbol(math, main, mathord, \"\\u03f5\", \"\\\\epsilon\", true);\ndefineSymbol(math, main, mathord, \"\\u03b6\", \"\\\\zeta\", true);\ndefineSymbol(math, main, mathord, \"\\u03b7\", \"\\\\eta\", true);\ndefineSymbol(math, main, mathord, \"\\u03b8\", \"\\\\theta\", true);\ndefineSymbol(math, main, mathord, \"\\u03b9\", \"\\\\iota\", true);\ndefineSymbol(math, main, mathord, \"\\u03ba\", \"\\\\kappa\", true);\ndefineSymbol(math, main, mathord, \"\\u03bb\", \"\\\\lambda\", true);\ndefineSymbol(math, main, mathord, \"\\u03bc\", \"\\\\mu\", true);\ndefineSymbol(math, main, mathord, \"\\u03bd\", \"\\\\nu\", true);\ndefineSymbol(math, main, mathord, \"\\u03be\", \"\\\\xi\", true);\ndefineSymbol(math, main, mathord, \"\\u03bf\", \"\\\\omicron\", true);\ndefineSymbol(math, main, mathord, \"\\u03c0\", \"\\\\pi\", true);\ndefineSymbol(math, main, mathord, \"\\u03c1\", \"\\\\rho\", true);\ndefineSymbol(math, main, mathord, \"\\u03c3\", \"\\\\sigma\", true);\ndefineSymbol(math, main, mathord, \"\\u03c4\", \"\\\\tau\", true);\ndefineSymbol(math, main, mathord, \"\\u03c5\", \"\\\\upsilon\", true);\ndefineSymbol(math, main, mathord, \"\\u03d5\", \"\\\\phi\", true);\ndefineSymbol(math, main, mathord, \"\\u03c7\", \"\\\\chi\", true);\ndefineSymbol(math, main, mathord, \"\\u03c8\", \"\\\\psi\", true);\ndefineSymbol(math, main, mathord, \"\\u03c9\", \"\\\\omega\", true);\ndefineSymbol(math, main, mathord, \"\\u03b5\", \"\\\\varepsilon\", true);\ndefineSymbol(math, main, mathord, \"\\u03d1\", \"\\\\vartheta\", true);\ndefineSymbol(math, main, mathord, \"\\u03d6\", \"\\\\varpi\", true);\ndefineSymbol(math, main, mathord, \"\\u03f1\", \"\\\\varrho\", true);\ndefineSymbol(math, main, mathord, \"\\u03c2\", \"\\\\varsigma\", true);\ndefineSymbol(math, main, mathord, \"\\u03c6\", \"\\\\varphi\", true);\ndefineSymbol(math, main, bin, \"\\u2217\", \"*\", true);\ndefineSymbol(math, main, bin, \"+\", \"+\");\ndefineSymbol(math, main, bin, \"\\u2212\", \"-\", true);\ndefineSymbol(math, main, bin, \"\\u22c5\", \"\\\\cdot\", true);\ndefineSymbol(math, main, bin, \"\\u2218\", \"\\\\circ\", true);\ndefineSymbol(math, main, bin, \"\\u00f7\", \"\\\\div\", true);\ndefineSymbol(math, main, bin, \"\\u00b1\", \"\\\\pm\", true);\ndefineSymbol(math, main, bin, \"\\u00d7\", \"\\\\times\", true);\ndefineSymbol(math, main, bin, \"\\u2229\", \"\\\\cap\", true);\ndefineSymbol(math, main, bin, \"\\u222a\", \"\\\\cup\", true);\ndefineSymbol(math, main, bin, \"\\u2216\", \"\\\\setminus\", true);\ndefineSymbol(math, main, bin, \"\\u2227\", \"\\\\land\");\ndefineSymbol(math, main, bin, \"\\u2228\", \"\\\\lor\");\ndefineSymbol(math, main, bin, \"\\u2227\", \"\\\\wedge\", true);\ndefineSymbol(math, main, bin, \"\\u2228\", \"\\\\vee\", true);\ndefineSymbol(math, main, textord, \"\\u221a\", \"\\\\surd\");\ndefineSymbol(math, main, open, \"\\u27e8\", \"\\\\langle\", true);\ndefineSymbol(math, main, open, \"\\u2223\", \"\\\\lvert\");\ndefineSymbol(math, main, open, \"\\u2225\", \"\\\\lVert\");\ndefineSymbol(math, main, close, \"?\", \"?\");\ndefineSymbol(math, main, close, \"!\", \"!\");\ndefineSymbol(math, main, close, \"\\u27e9\", \"\\\\rangle\", true);\ndefineSymbol(math, main, close, \"\\u2223\", \"\\\\rvert\");\ndefineSymbol(math, main, close, \"\\u2225\", \"\\\\rVert\");\ndefineSymbol(math, main, rel, \"=\", \"=\");\ndefineSymbol(math, main, rel, \":\", \":\");\ndefineSymbol(math, main, rel, \"\\u2248\", \"\\\\approx\", true);\ndefineSymbol(math, main, rel, \"\\u2245\", \"\\\\cong\", true);\ndefineSymbol(math, main, rel, \"\\u2265\", \"\\\\ge\");\ndefineSymbol(math, main, rel, \"\\u2265\", \"\\\\geq\", true);\ndefineSymbol(math, main, rel, \"\\u2190\", \"\\\\gets\");\ndefineSymbol(math, main, rel, \">\", \"\\\\gt\", true);\ndefineSymbol(math, main, rel, \"\\u2208\", \"\\\\in\", true);\ndefineSymbol(math, main, rel, \"\\ue020\", \"\\\\@not\");\ndefineSymbol(math, main, rel, \"\\u2282\", \"\\\\subset\", true);\ndefineSymbol(math, main, rel, \"\\u2283\", \"\\\\supset\", true);\ndefineSymbol(math, main, rel, \"\\u2286\", \"\\\\subseteq\", true);\ndefineSymbol(math, main, rel, \"\\u2287\", \"\\\\supseteq\", true);\ndefineSymbol(math, ams, rel, \"\\u2288\", \"\\\\nsubseteq\", true);\ndefineSymbol(math, ams, rel, \"\\u2289\", \"\\\\nsupseteq\", true);\ndefineSymbol(math, main, rel, \"\\u22a8\", \"\\\\models\");\ndefineSymbol(math, main, rel, \"\\u2190\", \"\\\\leftarrow\", true);\ndefineSymbol(math, main, rel, \"\\u2264\", \"\\\\le\");\ndefineSymbol(math, main, rel, \"\\u2264\", \"\\\\leq\", true);\ndefineSymbol(math, main, rel, \"<\", \"\\\\lt\", true);\ndefineSymbol(math, main, rel, \"\\u2192\", \"\\\\rightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u2192\", \"\\\\to\");\ndefineSymbol(math, ams, rel, \"\\u2271\", \"\\\\ngeq\", true);\ndefineSymbol(math, ams, rel, \"\\u2270\", \"\\\\nleq\", true);\ndefineSymbol(math, main, spacing, \"\\u00a0\", \"\\\\ \");\ndefineSymbol(math, main, spacing, \"\\u00a0\", \"\\\\space\"); // Ref: LaTeX Source 2e: \\DeclareRobustCommand{\\nobreakspace}{%\n\ndefineSymbol(math, main, spacing, \"\\u00a0\", \"\\\\nobreakspace\");\ndefineSymbol(text, main, spacing, \"\\u00a0\", \"\\\\ \");\ndefineSymbol(text, main, spacing, \"\\u00a0\", \" \");\ndefineSymbol(text, main, spacing, \"\\u00a0\", \"\\\\space\");\ndefineSymbol(text, main, spacing, \"\\u00a0\", \"\\\\nobreakspace\");\ndefineSymbol(math, main, spacing, null, \"\\\\nobreak\");\ndefineSymbol(math, main, spacing, null, \"\\\\allowbreak\");\ndefineSymbol(math, main, punct, \",\", \",\");\ndefineSymbol(math, main, punct, \";\", \";\");\ndefineSymbol(math, ams, bin, \"\\u22bc\", \"\\\\barwedge\", true);\ndefineSymbol(math, ams, bin, \"\\u22bb\", \"\\\\veebar\", true);\ndefineSymbol(math, main, bin, \"\\u2299\", \"\\\\odot\", true);\ndefineSymbol(math, main, bin, \"\\u2295\", \"\\\\oplus\", true);\ndefineSymbol(math, main, bin, \"\\u2297\", \"\\\\otimes\", true);\ndefineSymbol(math, main, textord, \"\\u2202\", \"\\\\partial\", true);\ndefineSymbol(math, main, bin, \"\\u2298\", \"\\\\oslash\", true);\ndefineSymbol(math, ams, bin, \"\\u229a\", \"\\\\circledcirc\", true);\ndefineSymbol(math, ams, bin, \"\\u22a1\", \"\\\\boxdot\", true);\ndefineSymbol(math, main, bin, \"\\u25b3\", \"\\\\bigtriangleup\");\ndefineSymbol(math, main, bin, \"\\u25bd\", \"\\\\bigtriangledown\");\ndefineSymbol(math, main, bin, \"\\u2020\", \"\\\\dagger\");\ndefineSymbol(math, main, bin, \"\\u22c4\", \"\\\\diamond\");\ndefineSymbol(math, main, bin, \"\\u22c6\", \"\\\\star\");\ndefineSymbol(math, main, bin, \"\\u25c3\", \"\\\\triangleleft\");\ndefineSymbol(math, main, bin, \"\\u25b9\", \"\\\\triangleright\");\ndefineSymbol(math, main, open, \"{\", \"\\\\{\");\ndefineSymbol(text, main, textord, \"{\", \"\\\\{\");\ndefineSymbol(text, main, textord, \"{\", \"\\\\textbraceleft\");\ndefineSymbol(math, main, close, \"}\", \"\\\\}\");\ndefineSymbol(text, main, textord, \"}\", \"\\\\}\");\ndefineSymbol(text, main, textord, \"}\", \"\\\\textbraceright\");\ndefineSymbol(math, main, open, \"{\", \"\\\\lbrace\");\ndefineSymbol(math, main, close, \"}\", \"\\\\rbrace\");\ndefineSymbol(math, main, open, \"[\", \"\\\\lbrack\", true);\ndefineSymbol(text, main, textord, \"[\", \"\\\\lbrack\", true);\ndefineSymbol(math, main, close, \"]\", \"\\\\rbrack\", true);\ndefineSymbol(text, main, textord, \"]\", \"\\\\rbrack\", true);\ndefineSymbol(math, main, open, \"(\", \"\\\\lparen\", true);\ndefineSymbol(math, main, close, \")\", \"\\\\rparen\", true);\ndefineSymbol(text, main, textord, \"<\", \"\\\\textless\", true); // in T1 fontenc\n\ndefineSymbol(text, main, textord, \">\", \"\\\\textgreater\", true); // in T1 fontenc\n\ndefineSymbol(math, main, open, \"\\u230a\", \"\\\\lfloor\", true);\ndefineSymbol(math, main, close, \"\\u230b\", \"\\\\rfloor\", true);\ndefineSymbol(math, main, open, \"\\u2308\", \"\\\\lceil\", true);\ndefineSymbol(math, main, close, \"\\u2309\", \"\\\\rceil\", true);\ndefineSymbol(math, main, textord, \"\\\\\", \"\\\\backslash\");\ndefineSymbol(math, main, textord, \"\\u2223\", \"|\");\ndefineSymbol(math, main, textord, \"\\u2223\", \"\\\\vert\");\ndefineSymbol(text, main, textord, \"|\", \"\\\\textbar\", true); // in T1 fontenc\n\ndefineSymbol(math, main, textord, \"\\u2225\", \"\\\\|\");\ndefineSymbol(math, main, textord, \"\\u2225\", \"\\\\Vert\");\ndefineSymbol(text, main, textord, \"\\u2225\", \"\\\\textbardbl\");\ndefineSymbol(text, main, textord, \"~\", \"\\\\textasciitilde\");\ndefineSymbol(text, main, textord, \"\\\\\", \"\\\\textbackslash\");\ndefineSymbol(text, main, textord, \"^\", \"\\\\textasciicircum\");\ndefineSymbol(math, main, rel, \"\\u2191\", \"\\\\uparrow\", true);\ndefineSymbol(math, main, rel, \"\\u21d1\", \"\\\\Uparrow\", true);\ndefineSymbol(math, main, rel, \"\\u2193\", \"\\\\downarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21d3\", \"\\\\Downarrow\", true);\ndefineSymbol(math, main, rel, \"\\u2195\", \"\\\\updownarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21d5\", \"\\\\Updownarrow\", true);\ndefineSymbol(math, main, op, \"\\u2210\", \"\\\\coprod\");\ndefineSymbol(math, main, op, \"\\u22c1\", \"\\\\bigvee\");\ndefineSymbol(math, main, op, \"\\u22c0\", \"\\\\bigwedge\");\ndefineSymbol(math, main, op, \"\\u2a04\", \"\\\\biguplus\");\ndefineSymbol(math, main, op, \"\\u22c2\", \"\\\\bigcap\");\ndefineSymbol(math, main, op, \"\\u22c3\", \"\\\\bigcup\");\ndefineSymbol(math, main, op, \"\\u222b\", \"\\\\int\");\ndefineSymbol(math, main, op, \"\\u222b\", \"\\\\intop\");\ndefineSymbol(math, main, op, \"\\u222c\", \"\\\\iint\");\ndefineSymbol(math, main, op, \"\\u222d\", \"\\\\iiint\");\ndefineSymbol(math, main, op, \"\\u220f\", \"\\\\prod\");\ndefineSymbol(math, main, op, \"\\u2211\", \"\\\\sum\");\ndefineSymbol(math, main, op, \"\\u2a02\", \"\\\\bigotimes\");\ndefineSymbol(math, main, op, \"\\u2a01\", \"\\\\bigoplus\");\ndefineSymbol(math, main, op, \"\\u2a00\", \"\\\\bigodot\");\ndefineSymbol(math, main, op, \"\\u222e\", \"\\\\oint\");\ndefineSymbol(math, main, op, \"\\u222f\", \"\\\\oiint\");\ndefineSymbol(math, main, op, \"\\u2230\", \"\\\\oiiint\");\ndefineSymbol(math, main, op, \"\\u2a06\", \"\\\\bigsqcup\");\ndefineSymbol(math, main, op, \"\\u222b\", \"\\\\smallint\");\ndefineSymbol(text, main, inner, \"\\u2026\", \"\\\\textellipsis\");\ndefineSymbol(math, main, inner, \"\\u2026\", \"\\\\mathellipsis\");\ndefineSymbol(text, main, inner, \"\\u2026\", \"\\\\ldots\", true);\ndefineSymbol(math, main, inner, \"\\u2026\", \"\\\\ldots\", true);\ndefineSymbol(math, main, inner, \"\\u22ef\", \"\\\\@cdots\", true);\ndefineSymbol(math, main, inner, \"\\u22f1\", \"\\\\ddots\", true); // \\vdots is a macro that uses one of these two symbols (with made-up names):\n\ndefineSymbol(math, main, textord, \"\\u22ee\", \"\\\\varvdots\");\ndefineSymbol(text, main, textord, \"\\u22ee\", \"\\\\varvdots\");\ndefineSymbol(math, main, accent, \"\\u02ca\", \"\\\\acute\");\ndefineSymbol(math, main, accent, \"\\u02cb\", \"\\\\grave\");\ndefineSymbol(math, main, accent, \"\\u00a8\", \"\\\\ddot\");\ndefineSymbol(math, main, accent, \"\\u007e\", \"\\\\tilde\");\ndefineSymbol(math, main, accent, \"\\u02c9\", \"\\\\bar\");\ndefineSymbol(math, main, accent, \"\\u02d8\", \"\\\\breve\");\ndefineSymbol(math, main, accent, \"\\u02c7\", \"\\\\check\");\ndefineSymbol(math, main, accent, \"\\u005e\", \"\\\\hat\");\ndefineSymbol(math, main, accent, \"\\u20d7\", \"\\\\vec\");\ndefineSymbol(math, main, accent, \"\\u02d9\", \"\\\\dot\");\ndefineSymbol(math, main, accent, \"\\u02da\", \"\\\\mathring\"); // \\imath and \\jmath should be invariant to \\mathrm, \\mathbf, etc., so use PUA\n\ndefineSymbol(math, main, mathord, \"\\ue131\", \"\\\\@imath\");\ndefineSymbol(math, main, mathord, \"\\ue237\", \"\\\\@jmath\");\ndefineSymbol(math, main, textord, \"\\u0131\", \"\\u0131\");\ndefineSymbol(math, main, textord, \"\\u0237\", \"\\u0237\");\ndefineSymbol(text, main, textord, \"\\u0131\", \"\\\\i\", true);\ndefineSymbol(text, main, textord, \"\\u0237\", \"\\\\j\", true);\ndefineSymbol(text, main, textord, \"\\u00df\", \"\\\\ss\", true);\ndefineSymbol(text, main, textord, \"\\u00e6\", \"\\\\ae\", true);\ndefineSymbol(text, main, textord, \"\\u0153\", \"\\\\oe\", true);\ndefineSymbol(text, main, textord, \"\\u00f8\", \"\\\\o\", true);\ndefineSymbol(text, main, textord, \"\\u00c6\", \"\\\\AE\", true);\ndefineSymbol(text, main, textord, \"\\u0152\", \"\\\\OE\", true);\ndefineSymbol(text, main, textord, \"\\u00d8\", \"\\\\O\", true);\ndefineSymbol(text, main, accent, \"\\u02ca\", \"\\\\'\"); // acute\n\ndefineSymbol(text, main, accent, \"\\u02cb\", \"\\\\`\"); // grave\n\ndefineSymbol(text, main, accent, \"\\u02c6\", \"\\\\^\"); // circumflex\n\ndefineSymbol(text, main, accent, \"\\u02dc\", \"\\\\~\"); // tilde\n\ndefineSymbol(text, main, accent, \"\\u02c9\", \"\\\\=\"); // macron\n\ndefineSymbol(text, main, accent, \"\\u02d8\", \"\\\\u\"); // breve\n\ndefineSymbol(text, main, accent, \"\\u02d9\", \"\\\\.\"); // dot above\n\ndefineSymbol(text, main, accent, \"\\u00b8\", \"\\\\c\"); // cedilla\n\ndefineSymbol(text, main, accent, \"\\u02da\", \"\\\\r\"); // ring above\n\ndefineSymbol(text, main, accent, \"\\u02c7\", \"\\\\v\"); // caron\n\ndefineSymbol(text, main, accent, \"\\u00a8\", '\\\\\"'); // diaeresis\n\ndefineSymbol(text, main, accent, \"\\u02dd\", \"\\\\H\"); // double acute\n\ndefineSymbol(text, main, accent, \"\\u25ef\", \"\\\\textcircled\"); // \\bigcirc glyph\n// These ligatures are detected and created in Parser.js's `formLigatures`.\n\nvar ligatures = {\n  \"--\": true,\n  \"---\": true,\n  \"``\": true,\n  \"''\": true\n};\ndefineSymbol(text, main, textord, \"\\u2013\", \"--\", true);\ndefineSymbol(text, main, textord, \"\\u2013\", \"\\\\textendash\");\ndefineSymbol(text, main, textord, \"\\u2014\", \"---\", true);\ndefineSymbol(text, main, textord, \"\\u2014\", \"\\\\textemdash\");\ndefineSymbol(text, main, textord, \"\\u2018\", \"`\", true);\ndefineSymbol(text, main, textord, \"\\u2018\", \"\\\\textquoteleft\");\ndefineSymbol(text, main, textord, \"\\u2019\", \"'\", true);\ndefineSymbol(text, main, textord, \"\\u2019\", \"\\\\textquoteright\");\ndefineSymbol(text, main, textord, \"\\u201c\", \"``\", true);\ndefineSymbol(text, main, textord, \"\\u201c\", \"\\\\textquotedblleft\");\ndefineSymbol(text, main, textord, \"\\u201d\", \"''\", true);\ndefineSymbol(text, main, textord, \"\\u201d\", \"\\\\textquotedblright\"); //  \\degree from gensymb package\n\ndefineSymbol(math, main, textord, \"\\u00b0\", \"\\\\degree\", true);\ndefineSymbol(text, main, textord, \"\\u00b0\", \"\\\\degree\"); // \\textdegree from inputenc package\n\ndefineSymbol(text, main, textord, \"\\u00b0\", \"\\\\textdegree\", true); // TODO: In LaTeX, \\pounds can generate a different character in text and math\n// mode, but among our fonts, only Main-Regular defines this character \"163\".\n\ndefineSymbol(math, main, textord, \"\\u00a3\", \"\\\\pounds\");\ndefineSymbol(math, main, textord, \"\\u00a3\", \"\\\\mathsterling\", true);\ndefineSymbol(text, main, textord, \"\\u00a3\", \"\\\\pounds\");\ndefineSymbol(text, main, textord, \"\\u00a3\", \"\\\\textsterling\", true);\ndefineSymbol(math, ams, textord, \"\\u2720\", \"\\\\maltese\");\ndefineSymbol(text, ams, textord, \"\\u2720\", \"\\\\maltese\"); // There are lots of symbols which are the same, so we add them in afterwards.\n// All of these are textords in math mode\n\nvar mathTextSymbols = \"0123456789/@.\\\"\";\n\nfor (var i = 0; i < mathTextSymbols.length; i++) {\n  var ch = mathTextSymbols.charAt(i);\n  defineSymbol(math, main, textord, ch, ch);\n} // All of these are textords in text mode\n\n\nvar textSymbols = \"0123456789!@*()-=+\\\";:?/.,\";\n\nfor (var _i = 0; _i < textSymbols.length; _i++) {\n  var _ch = textSymbols.charAt(_i);\n\n  defineSymbol(text, main, textord, _ch, _ch);\n} // All of these are textords in text mode, and mathords in math mode\n\n\nvar letters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n\nfor (var _i2 = 0; _i2 < letters.length; _i2++) {\n  var _ch2 = letters.charAt(_i2);\n\n  defineSymbol(math, main, mathord, _ch2, _ch2);\n  defineSymbol(text, main, textord, _ch2, _ch2);\n} // Blackboard bold and script letters in Unicode range\n\n\ndefineSymbol(math, ams, textord, \"C\", \"\\u2102\"); // blackboard bold\n\ndefineSymbol(text, ams, textord, \"C\", \"\\u2102\");\ndefineSymbol(math, ams, textord, \"H\", \"\\u210D\");\ndefineSymbol(text, ams, textord, \"H\", \"\\u210D\");\ndefineSymbol(math, ams, textord, \"N\", \"\\u2115\");\ndefineSymbol(text, ams, textord, \"N\", \"\\u2115\");\ndefineSymbol(math, ams, textord, \"P\", \"\\u2119\");\ndefineSymbol(text, ams, textord, \"P\", \"\\u2119\");\ndefineSymbol(math, ams, textord, \"Q\", \"\\u211A\");\ndefineSymbol(text, ams, textord, \"Q\", \"\\u211A\");\ndefineSymbol(math, ams, textord, \"R\", \"\\u211D\");\ndefineSymbol(text, ams, textord, \"R\", \"\\u211D\");\ndefineSymbol(math, ams, textord, \"Z\", \"\\u2124\");\ndefineSymbol(text, ams, textord, \"Z\", \"\\u2124\");\ndefineSymbol(math, main, mathord, \"h\", \"\\u210E\"); // italic h, Planck constant\n\ndefineSymbol(text, main, mathord, \"h\", \"\\u210E\"); // The next loop loads wide (surrogate pair) characters.\n// We support some letters in the Unicode range U+1D400 to U+1D7FF,\n// Mathematical Alphanumeric Symbols.\n// Some editors do not deal well with wide characters. So don't write the\n// string into this file. Instead, create the string from the surrogate pair.\n\nvar wideChar = \"\";\n\nfor (var _i3 = 0; _i3 < letters.length; _i3++) {\n  var _ch3 = letters.charAt(_i3); // The hex numbers in the next line are a surrogate pair.\n  // 0xD835 is the high surrogate for all letters in the range we support.\n  // 0xDC00 is the low surrogate for bold A.\n\n\n  wideChar = String.fromCharCode(0xD835, 0xDC00 + _i3); // A-Z a-z bold\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text, main, textord, _ch3, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDC34 + _i3); // A-Z a-z italic\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text, main, textord, _ch3, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDC68 + _i3); // A-Z a-z bold italic\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text, main, textord, _ch3, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDD04 + _i3); // A-Z a-z Fraktur\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text, main, textord, _ch3, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDD6C + _i3); // A-Z a-z bold Fraktur\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text, main, textord, _ch3, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDDA0 + _i3); // A-Z a-z sans-serif\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text, main, textord, _ch3, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDDD4 + _i3); // A-Z a-z sans bold\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text, main, textord, _ch3, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDE08 + _i3); // A-Z a-z sans italic\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text, main, textord, _ch3, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDE70 + _i3); // A-Z a-z monospace\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text, main, textord, _ch3, wideChar);\n\n  if (_i3 < 26) {\n    // KaTeX fonts have only capital letters for blackboard bold and script.\n    // See exception for k below.\n    wideChar = String.fromCharCode(0xD835, 0xDD38 + _i3); // A-Z double struck\n\n    defineSymbol(math, main, mathord, _ch3, wideChar);\n    defineSymbol(text, main, textord, _ch3, wideChar);\n    wideChar = String.fromCharCode(0xD835, 0xDC9C + _i3); // A-Z script\n\n    defineSymbol(math, main, mathord, _ch3, wideChar);\n    defineSymbol(text, main, textord, _ch3, wideChar);\n  } // TODO: Add bold script when it is supported by a KaTeX font.\n\n} // \"k\" is the only double struck lower case letter in the KaTeX fonts.\n\n\nwideChar = String.fromCharCode(0xD835, 0xDD5C); // k double struck\n\ndefineSymbol(math, main, mathord, \"k\", wideChar);\ndefineSymbol(text, main, textord, \"k\", wideChar); // Next, some wide character numerals\n\nfor (var _i4 = 0; _i4 < 10; _i4++) {\n  var _ch4 = _i4.toString();\n\n  wideChar = String.fromCharCode(0xD835, 0xDFCE + _i4); // 0-9 bold\n\n  defineSymbol(math, main, mathord, _ch4, wideChar);\n  defineSymbol(text, main, textord, _ch4, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDFE2 + _i4); // 0-9 sans serif\n\n  defineSymbol(math, main, mathord, _ch4, wideChar);\n  defineSymbol(text, main, textord, _ch4, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDFEC + _i4); // 0-9 bold sans\n\n  defineSymbol(math, main, mathord, _ch4, wideChar);\n  defineSymbol(text, main, textord, _ch4, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDFF6 + _i4); // 0-9 monospace\n\n  defineSymbol(math, main, mathord, _ch4, wideChar);\n  defineSymbol(text, main, textord, _ch4, wideChar);\n} // We add these Latin-1 letters as symbols for backwards-compatibility,\n// but they are not actually in the font, nor are they supported by the\n// Unicode accent mechanism, so they fall back to Times font and look ugly.\n// TODO(edemaine): Fix this.\n\n\nvar extraLatin = \"\\u00d0\\u00de\\u00fe\";\n\nfor (var _i5 = 0; _i5 < extraLatin.length; _i5++) {\n  var _ch5 = extraLatin.charAt(_i5);\n\n  defineSymbol(math, main, mathord, _ch5, _ch5);\n  defineSymbol(text, main, textord, _ch5, _ch5);\n}\n\n/**\n * This file provides support for Unicode range U+1D400 to U+1D7FF,\n * Mathematical Alphanumeric Symbols.\n *\n * Function wideCharacterFont takes a wide character as input and returns\n * the font information necessary to render it properly.\n */\n/**\n * Data below is from https://www.unicode.org/charts/PDF/U1D400.pdf\n * That document sorts characters into groups by font type, say bold or italic.\n *\n * In the arrays below, each subarray consists three elements:\n *      * The CSS class of that group when in math mode.\n *      * The CSS class of that group when in text mode.\n *      * The font name, so that KaTeX can get font metrics.\n */\n\nvar wideLatinLetterData = [[\"mathbf\", \"textbf\", \"Main-Bold\"], // A-Z bold upright\n[\"mathbf\", \"textbf\", \"Main-Bold\"], // a-z bold upright\n[\"mathnormal\", \"textit\", \"Math-Italic\"], // A-Z italic\n[\"mathnormal\", \"textit\", \"Math-Italic\"], // a-z italic\n[\"boldsymbol\", \"boldsymbol\", \"Main-BoldItalic\"], // A-Z bold italic\n[\"boldsymbol\", \"boldsymbol\", \"Main-BoldItalic\"], // a-z bold italic\n// Map fancy A-Z letters to script, not calligraphic.\n// This aligns with unicode-math and math fonts (except Cambria Math).\n[\"mathscr\", \"textscr\", \"Script-Regular\"], // A-Z script\n[\"\", \"\", \"\"], // a-z script.  No font\n[\"\", \"\", \"\"], // A-Z bold script. No font\n[\"\", \"\", \"\"], // a-z bold script. No font\n[\"mathfrak\", \"textfrak\", \"Fraktur-Regular\"], // A-Z Fraktur\n[\"mathfrak\", \"textfrak\", \"Fraktur-Regular\"], // a-z Fraktur\n[\"mathbb\", \"textbb\", \"AMS-Regular\"], // A-Z double-struck\n[\"mathbb\", \"textbb\", \"AMS-Regular\"], // k double-struck\n// Note that we are using a bold font, but font metrics for regular Fraktur.\n[\"mathboldfrak\", \"textboldfrak\", \"Fraktur-Regular\"], // A-Z bold Fraktur\n[\"mathboldfrak\", \"textboldfrak\", \"Fraktur-Regular\"], // a-z bold Fraktur\n[\"mathsf\", \"textsf\", \"SansSerif-Regular\"], // A-Z sans-serif\n[\"mathsf\", \"textsf\", \"SansSerif-Regular\"], // a-z sans-serif\n[\"mathboldsf\", \"textboldsf\", \"SansSerif-Bold\"], // A-Z bold sans-serif\n[\"mathboldsf\", \"textboldsf\", \"SansSerif-Bold\"], // a-z bold sans-serif\n[\"mathitsf\", \"textitsf\", \"SansSerif-Italic\"], // A-Z italic sans-serif\n[\"mathitsf\", \"textitsf\", \"SansSerif-Italic\"], // a-z italic sans-serif\n[\"\", \"\", \"\"], // A-Z bold italic sans. No font\n[\"\", \"\", \"\"], // a-z bold italic sans. No font\n[\"mathtt\", \"texttt\", \"Typewriter-Regular\"], // A-Z monospace\n[\"mathtt\", \"texttt\", \"Typewriter-Regular\"] // a-z monospace\n];\nvar wideNumeralData = [[\"mathbf\", \"textbf\", \"Main-Bold\"], // 0-9 bold\n[\"\", \"\", \"\"], // 0-9 double-struck. No KaTeX font.\n[\"mathsf\", \"textsf\", \"SansSerif-Regular\"], // 0-9 sans-serif\n[\"mathboldsf\", \"textboldsf\", \"SansSerif-Bold\"], // 0-9 bold sans-serif\n[\"mathtt\", \"texttt\", \"Typewriter-Regular\"] // 0-9 monospace\n];\nvar wideCharacterFont = function wideCharacterFont(wideChar, mode) {\n  // IE doesn't support codePointAt(). So work with the surrogate pair.\n  var H = wideChar.charCodeAt(0); // high surrogate\n\n  var L = wideChar.charCodeAt(1); // low surrogate\n\n  var codePoint = (H - 0xD800) * 0x400 + (L - 0xDC00) + 0x10000;\n  var j = mode === \"math\" ? 0 : 1; // column index for CSS class.\n\n  if (0x1D400 <= codePoint && codePoint < 0x1D6A4) {\n    // wideLatinLetterData contains exactly 26 chars on each row.\n    // So we can calculate the relevant row. No traverse necessary.\n    var i = Math.floor((codePoint - 0x1D400) / 26);\n    return [wideLatinLetterData[i][2], wideLatinLetterData[i][j]];\n  } else if (0x1D7CE <= codePoint && codePoint <= 0x1D7FF) {\n    // Numerals, ten per row.\n    var _i = Math.floor((codePoint - 0x1D7CE) / 10);\n\n    return [wideNumeralData[_i][2], wideNumeralData[_i][j]];\n  } else if (codePoint === 0x1D6A5 || codePoint === 0x1D6A6) {\n    // dotless i or j\n    return [wideLatinLetterData[0][2], wideLatinLetterData[0][j]];\n  } else if (0x1D6A6 < codePoint && codePoint < 0x1D7CE) {\n    // Greek letters. Not supported, yet.\n    return [\"\", \"\"];\n  } else {\n    // We don't support any wide characters outside 1D4001D7FF.\n    throw new ParseError(\"Unsupported character: \" + wideChar);\n  }\n};\n\n/* eslint no-console:0 */\n\n/**\n * Looks up the given symbol in fontMetrics, after applying any symbol\n * replacements defined in symbol.js\n */\nvar lookupSymbol = function lookupSymbol(value, // TODO(#963): Use a union type for this.\nfontName, mode) {\n  // Replace the value with its replaced value from symbol.js\n  if (symbols[mode][value] && symbols[mode][value].replace) {\n    value = symbols[mode][value].replace;\n  }\n\n  return {\n    value: value,\n    metrics: getCharacterMetrics(value, fontName, mode)\n  };\n};\n/**\n * Makes a symbolNode after translation via the list of symbols in symbols.js.\n * Correctly pulls out metrics for the character, and optionally takes a list of\n * classes to be attached to the node.\n *\n * TODO: make argument order closer to makeSpan\n * TODO: add a separate argument for math class (e.g. `mop`, `mbin`), which\n * should if present come first in `classes`.\n * TODO(#953): Make `options` mandatory and always pass it in.\n */\n\n\nvar makeSymbol = function makeSymbol(value, fontName, mode, options, classes) {\n  var lookup = lookupSymbol(value, fontName, mode);\n  var metrics = lookup.metrics;\n  value = lookup.value;\n  var symbolNode;\n\n  if (metrics) {\n    var italic = metrics.italic;\n\n    if (mode === \"text\" || options && options.font === \"mathit\") {\n      italic = 0;\n    }\n\n    symbolNode = new SymbolNode(value, metrics.height, metrics.depth, italic, metrics.skew, metrics.width, classes);\n  } else {\n    // TODO(emily): Figure out a good way to only print this in development\n    typeof console !== \"undefined\" && console.warn(\"No character metrics \" + (\"for '\" + value + \"' in style '\" + fontName + \"' and mode '\" + mode + \"'\"));\n    symbolNode = new SymbolNode(value, 0, 0, 0, 0, 0, classes);\n  }\n\n  if (options) {\n    symbolNode.maxFontSize = options.sizeMultiplier;\n\n    if (options.style.isTight()) {\n      symbolNode.classes.push(\"mtight\");\n    }\n\n    var color = options.getColor();\n\n    if (color) {\n      symbolNode.style.color = color;\n    }\n  }\n\n  return symbolNode;\n};\n/**\n * Makes a symbol in Main-Regular or AMS-Regular.\n * Used for rel, bin, open, close, inner, and punct.\n */\n\n\nvar mathsym = function mathsym(value, mode, options, classes) {\n  if (classes === void 0) {\n    classes = [];\n  }\n\n  // Decide what font to render the symbol in by its entry in the symbols\n  // table.\n  // Have a special case for when the value = \\ because the \\ is used as a\n  // textord in unsupported command errors but cannot be parsed as a regular\n  // text ordinal and is therefore not present as a symbol in the symbols\n  // table for text, as well as a special case for boldsymbol because it\n  // can be used for bold + and -\n  if (options.font === \"boldsymbol\" && lookupSymbol(value, \"Main-Bold\", mode).metrics) {\n    return makeSymbol(value, \"Main-Bold\", mode, options, classes.concat([\"mathbf\"]));\n  } else if (value === \"\\\\\" || symbols[mode][value].font === \"main\") {\n    return makeSymbol(value, \"Main-Regular\", mode, options, classes);\n  } else {\n    return makeSymbol(value, \"AMS-Regular\", mode, options, classes.concat([\"amsrm\"]));\n  }\n};\n/**\n * Determines which of the two font names (Main-Bold and Math-BoldItalic) and\n * corresponding style tags (mathbf or boldsymbol) to use for font \"boldsymbol\",\n * depending on the symbol.  Use this function instead of fontMap for font\n * \"boldsymbol\".\n */\n\n\nvar boldsymbol = function boldsymbol(value, mode, options, classes, type) {\n  if (type !== \"textord\" && lookupSymbol(value, \"Math-BoldItalic\", mode).metrics) {\n    return {\n      fontName: \"Math-BoldItalic\",\n      fontClass: \"boldsymbol\"\n    };\n  } else {\n    // Some glyphs do not exist in Math-BoldItalic so we need to use\n    // Main-Bold instead.\n    return {\n      fontName: \"Main-Bold\",\n      fontClass: \"mathbf\"\n    };\n  }\n};\n/**\n * Makes either a mathord or textord in the correct font and color.\n */\n\n\nvar makeOrd = function makeOrd(group, options, type) {\n  var mode = group.mode;\n  var text = group.text;\n  var classes = [\"mord\"]; // Math mode or Old font (i.e. \\rm)\n\n  var isFont = mode === \"math\" || mode === \"text\" && options.font;\n  var fontOrFamily = isFont ? options.font : options.fontFamily;\n  var wideFontName = \"\";\n  var wideFontClass = \"\";\n\n  if (text.charCodeAt(0) === 0xD835) {\n    [wideFontName, wideFontClass] = wideCharacterFont(text, mode);\n  }\n\n  if (wideFontName.length > 0) {\n    // surrogate pairs get special treatment\n    return makeSymbol(text, wideFontName, mode, options, classes.concat(wideFontClass));\n  } else if (fontOrFamily) {\n    var fontName;\n    var fontClasses;\n\n    if (fontOrFamily === \"boldsymbol\") {\n      var fontData = boldsymbol(text, mode, options, classes, type);\n      fontName = fontData.fontName;\n      fontClasses = [fontData.fontClass];\n    } else if (isFont) {\n      fontName = fontMap[fontOrFamily].fontName;\n      fontClasses = [fontOrFamily];\n    } else {\n      fontName = retrieveTextFontName(fontOrFamily, options.fontWeight, options.fontShape);\n      fontClasses = [fontOrFamily, options.fontWeight, options.fontShape];\n    }\n\n    if (lookupSymbol(text, fontName, mode).metrics) {\n      return makeSymbol(text, fontName, mode, options, classes.concat(fontClasses));\n    } else if (ligatures.hasOwnProperty(text) && fontName.slice(0, 10) === \"Typewriter\") {\n      // Deconstruct ligatures in monospace fonts (\\texttt, \\tt).\n      var parts = [];\n\n      for (var i = 0; i < text.length; i++) {\n        parts.push(makeSymbol(text[i], fontName, mode, options, classes.concat(fontClasses)));\n      }\n\n      return makeFragment(parts);\n    }\n  } // Makes a symbol in the default font for mathords and textords.\n\n\n  if (type === \"mathord\") {\n    return makeSymbol(text, \"Math-Italic\", mode, options, classes.concat([\"mathnormal\"]));\n  } else if (type === \"textord\") {\n    var font = symbols[mode][text] && symbols[mode][text].font;\n\n    if (font === \"ams\") {\n      var _fontName = retrieveTextFontName(\"amsrm\", options.fontWeight, options.fontShape);\n\n      return makeSymbol(text, _fontName, mode, options, classes.concat(\"amsrm\", options.fontWeight, options.fontShape));\n    } else if (font === \"main\" || !font) {\n      var _fontName2 = retrieveTextFontName(\"textrm\", options.fontWeight, options.fontShape);\n\n      return makeSymbol(text, _fontName2, mode, options, classes.concat(options.fontWeight, options.fontShape));\n    } else {\n      // fonts added by plugins\n      var _fontName3 = retrieveTextFontName(font, options.fontWeight, options.fontShape); // We add font name as a css class\n\n\n      return makeSymbol(text, _fontName3, mode, options, classes.concat(_fontName3, options.fontWeight, options.fontShape));\n    }\n  } else {\n    throw new Error(\"unexpected type: \" + type + \" in makeOrd\");\n  }\n};\n/**\n * Returns true if subsequent symbolNodes have the same classes, skew, maxFont,\n * and styles.\n */\n\n\nvar canCombine = (prev, next) => {\n  if (createClass(prev.classes) !== createClass(next.classes) || prev.skew !== next.skew || prev.maxFontSize !== next.maxFontSize) {\n    return false;\n  } // If prev and next both are just \"mbin\"s or \"mord\"s we don't combine them\n  // so that the proper spacing can be preserved.\n\n\n  if (prev.classes.length === 1) {\n    var cls = prev.classes[0];\n\n    if (cls === \"mbin\" || cls === \"mord\") {\n      return false;\n    }\n  }\n\n  for (var style in prev.style) {\n    if (prev.style.hasOwnProperty(style) && prev.style[style] !== next.style[style]) {\n      return false;\n    }\n  }\n\n  for (var _style in next.style) {\n    if (next.style.hasOwnProperty(_style) && prev.style[_style] !== next.style[_style]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n/**\n * Combine consecutive domTree.symbolNodes into a single symbolNode.\n * Note: this function mutates the argument.\n */\n\n\nvar tryCombineChars = chars => {\n  for (var i = 0; i < chars.length - 1; i++) {\n    var prev = chars[i];\n    var next = chars[i + 1];\n\n    if (prev instanceof SymbolNode && next instanceof SymbolNode && canCombine(prev, next)) {\n      prev.text += next.text;\n      prev.height = Math.max(prev.height, next.height);\n      prev.depth = Math.max(prev.depth, next.depth); // Use the last character's italic correction since we use\n      // it to add padding to the right of the span created from\n      // the combined characters.\n\n      prev.italic = next.italic;\n      chars.splice(i + 1, 1);\n      i--;\n    }\n  }\n\n  return chars;\n};\n/**\n * Calculate the height, depth, and maxFontSize of an element based on its\n * children.\n */\n\n\nvar sizeElementFromChildren = function sizeElementFromChildren(elem) {\n  var height = 0;\n  var depth = 0;\n  var maxFontSize = 0;\n\n  for (var i = 0; i < elem.children.length; i++) {\n    var child = elem.children[i];\n\n    if (child.height > height) {\n      height = child.height;\n    }\n\n    if (child.depth > depth) {\n      depth = child.depth;\n    }\n\n    if (child.maxFontSize > maxFontSize) {\n      maxFontSize = child.maxFontSize;\n    }\n  }\n\n  elem.height = height;\n  elem.depth = depth;\n  elem.maxFontSize = maxFontSize;\n};\n/**\n * Makes a span with the given list of classes, list of children, and options.\n *\n * TODO(#953): Ensure that `options` is always provided (currently some call\n * sites don't pass it) and make the type below mandatory.\n * TODO: add a separate argument for math class (e.g. `mop`, `mbin`), which\n * should if present come first in `classes`.\n */\n\n\nvar makeSpan$2 = function makeSpan(classes, children, options, style) {\n  var span = new Span(classes, children, options, style);\n  sizeElementFromChildren(span);\n  return span;\n}; // SVG one is simpler -- doesn't require height, depth, max-font setting.\n// This is also a separate method for typesafety.\n\n\nvar makeSvgSpan = (classes, children, options, style) => new Span(classes, children, options, style);\n\nvar makeLineSpan = function makeLineSpan(className, options, thickness) {\n  var line = makeSpan$2([className], [], options);\n  line.height = Math.max(thickness || options.fontMetrics().defaultRuleThickness, options.minRuleThickness);\n  line.style.borderBottomWidth = makeEm(line.height);\n  line.maxFontSize = 1.0;\n  return line;\n};\n/**\n * Makes an anchor with the given href, list of classes, list of children,\n * and options.\n */\n\n\nvar makeAnchor = function makeAnchor(href, classes, children, options) {\n  var anchor = new Anchor(href, classes, children, options);\n  sizeElementFromChildren(anchor);\n  return anchor;\n};\n/**\n * Makes a document fragment with the given list of children.\n */\n\n\nvar makeFragment = function makeFragment(children) {\n  var fragment = new DocumentFragment(children);\n  sizeElementFromChildren(fragment);\n  return fragment;\n};\n/**\n * Wraps group in a span if it's a document fragment, allowing to apply classes\n * and styles\n */\n\n\nvar wrapFragment = function wrapFragment(group, options) {\n  if (group instanceof DocumentFragment) {\n    return makeSpan$2([], [group], options);\n  }\n\n  return group;\n}; // These are exact object types to catch typos in the names of the optional fields.\n\n\n// Computes the updated `children` list and the overall depth.\n//\n// This helper function for makeVList makes it easier to enforce type safety by\n// allowing early exits (returns) in the logic.\nvar getVListChildrenAndDepth = function getVListChildrenAndDepth(params) {\n  if (params.positionType === \"individualShift\") {\n    var oldChildren = params.children;\n    var children = [oldChildren[0]]; // Add in kerns to the list of params.children to get each element to be\n    // shifted to the correct specified shift\n\n    var _depth = -oldChildren[0].shift - oldChildren[0].elem.depth;\n\n    var currPos = _depth;\n\n    for (var i = 1; i < oldChildren.length; i++) {\n      var diff = -oldChildren[i].shift - currPos - oldChildren[i].elem.depth;\n      var size = diff - (oldChildren[i - 1].elem.height + oldChildren[i - 1].elem.depth);\n      currPos = currPos + diff;\n      children.push({\n        type: \"kern\",\n        size\n      });\n      children.push(oldChildren[i]);\n    }\n\n    return {\n      children,\n      depth: _depth\n    };\n  }\n\n  var depth;\n\n  if (params.positionType === \"top\") {\n    // We always start at the bottom, so calculate the bottom by adding up\n    // all the sizes\n    var bottom = params.positionData;\n\n    for (var _i = 0; _i < params.children.length; _i++) {\n      var child = params.children[_i];\n      bottom -= child.type === \"kern\" ? child.size : child.elem.height + child.elem.depth;\n    }\n\n    depth = bottom;\n  } else if (params.positionType === \"bottom\") {\n    depth = -params.positionData;\n  } else {\n    var firstChild = params.children[0];\n\n    if (firstChild.type !== \"elem\") {\n      throw new Error('First child must have type \"elem\".');\n    }\n\n    if (params.positionType === \"shift\") {\n      depth = -firstChild.elem.depth - params.positionData;\n    } else if (params.positionType === \"firstBaseline\") {\n      depth = -firstChild.elem.depth;\n    } else {\n      throw new Error(\"Invalid positionType \" + params.positionType + \".\");\n    }\n  }\n\n  return {\n    children: params.children,\n    depth\n  };\n};\n/**\n * Makes a vertical list by stacking elements and kerns on top of each other.\n * Allows for many different ways of specifying the positioning method.\n *\n * See VListParam documentation above.\n */\n\n\nvar makeVList = function makeVList(params, options) {\n  var {\n    children,\n    depth\n  } = getVListChildrenAndDepth(params); // Create a strut that is taller than any list item. The strut is added to\n  // each item, where it will determine the item's baseline. Since it has\n  // `overflow:hidden`, the strut's top edge will sit on the item's line box's\n  // top edge and the strut's bottom edge will sit on the item's baseline,\n  // with no additional line-height spacing. This allows the item baseline to\n  // be positioned precisely without worrying about font ascent and\n  // line-height.\n\n  var pstrutSize = 0;\n\n  for (var i = 0; i < children.length; i++) {\n    var child = children[i];\n\n    if (child.type === \"elem\") {\n      var elem = child.elem;\n      pstrutSize = Math.max(pstrutSize, elem.maxFontSize, elem.height);\n    }\n  }\n\n  pstrutSize += 2;\n  var pstrut = makeSpan$2([\"pstrut\"], []);\n  pstrut.style.height = makeEm(pstrutSize); // Create a new list of actual children at the correct offsets\n\n  var realChildren = [];\n  var minPos = depth;\n  var maxPos = depth;\n  var currPos = depth;\n\n  for (var _i2 = 0; _i2 < children.length; _i2++) {\n    var _child = children[_i2];\n\n    if (_child.type === \"kern\") {\n      currPos += _child.size;\n    } else {\n      var _elem = _child.elem;\n      var classes = _child.wrapperClasses || [];\n      var style = _child.wrapperStyle || {};\n      var childWrap = makeSpan$2(classes, [pstrut, _elem], undefined, style);\n      childWrap.style.top = makeEm(-pstrutSize - currPos - _elem.depth);\n\n      if (_child.marginLeft) {\n        childWrap.style.marginLeft = _child.marginLeft;\n      }\n\n      if (_child.marginRight) {\n        childWrap.style.marginRight = _child.marginRight;\n      }\n\n      realChildren.push(childWrap);\n      currPos += _elem.height + _elem.depth;\n    }\n\n    minPos = Math.min(minPos, currPos);\n    maxPos = Math.max(maxPos, currPos);\n  } // The vlist contents go in a table-cell with `vertical-align:bottom`.\n  // This cell's bottom edge will determine the containing table's baseline\n  // without overly expanding the containing line-box.\n\n\n  var vlist = makeSpan$2([\"vlist\"], realChildren);\n  vlist.style.height = makeEm(maxPos); // A second row is used if necessary to represent the vlist's depth.\n\n  var rows;\n\n  if (minPos < 0) {\n    // We will define depth in an empty span with display: table-cell.\n    // It should render with the height that we define. But Chrome, in\n    // contenteditable mode only, treats that span as if it contains some\n    // text content. And that min-height over-rides our desired height.\n    // So we put another empty span inside the depth strut span.\n    var emptySpan = makeSpan$2([], []);\n    var depthStrut = makeSpan$2([\"vlist\"], [emptySpan]);\n    depthStrut.style.height = makeEm(-minPos); // Safari wants the first row to have inline content; otherwise it\n    // puts the bottom of the *second* row on the baseline.\n\n    var topStrut = makeSpan$2([\"vlist-s\"], [new SymbolNode(\"\\u200b\")]);\n    rows = [makeSpan$2([\"vlist-r\"], [vlist, topStrut]), makeSpan$2([\"vlist-r\"], [depthStrut])];\n  } else {\n    rows = [makeSpan$2([\"vlist-r\"], [vlist])];\n  }\n\n  var vtable = makeSpan$2([\"vlist-t\"], rows);\n\n  if (rows.length === 2) {\n    vtable.classes.push(\"vlist-t2\");\n  }\n\n  vtable.height = maxPos;\n  vtable.depth = -minPos;\n  return vtable;\n}; // Glue is a concept from TeX which is a flexible space between elements in\n// either a vertical or horizontal list. In KaTeX, at least for now, it's\n// static space between elements in a horizontal layout.\n\n\nvar makeGlue = (measurement, options) => {\n  // Make an empty span for the space\n  var rule = makeSpan$2([\"mspace\"], [], options);\n  var size = calculateSize(measurement, options);\n  rule.style.marginRight = makeEm(size);\n  return rule;\n}; // Takes font options, and returns the appropriate fontLookup name\n\n\nvar retrieveTextFontName = function retrieveTextFontName(fontFamily, fontWeight, fontShape) {\n  var baseFontName = \"\";\n\n  switch (fontFamily) {\n    case \"amsrm\":\n      baseFontName = \"AMS\";\n      break;\n\n    case \"textrm\":\n      baseFontName = \"Main\";\n      break;\n\n    case \"textsf\":\n      baseFontName = \"SansSerif\";\n      break;\n\n    case \"texttt\":\n      baseFontName = \"Typewriter\";\n      break;\n\n    default:\n      baseFontName = fontFamily;\n    // use fonts added by a plugin\n  }\n\n  var fontStylesName;\n\n  if (fontWeight === \"textbf\" && fontShape === \"textit\") {\n    fontStylesName = \"BoldItalic\";\n  } else if (fontWeight === \"textbf\") {\n    fontStylesName = \"Bold\";\n  } else if (fontWeight === \"textit\") {\n    fontStylesName = \"Italic\";\n  } else {\n    fontStylesName = \"Regular\";\n  }\n\n  return baseFontName + \"-\" + fontStylesName;\n};\n/**\n * Maps TeX font commands to objects containing:\n * - variant: string used for \"mathvariant\" attribute in buildMathML.js\n * - fontName: the \"style\" parameter to fontMetrics.getCharacterMetrics\n */\n// A map between tex font commands an MathML mathvariant attribute values\n\n\nvar fontMap = {\n  // styles\n  \"mathbf\": {\n    variant: \"bold\",\n    fontName: \"Main-Bold\"\n  },\n  \"mathrm\": {\n    variant: \"normal\",\n    fontName: \"Main-Regular\"\n  },\n  \"textit\": {\n    variant: \"italic\",\n    fontName: \"Main-Italic\"\n  },\n  \"mathit\": {\n    variant: \"italic\",\n    fontName: \"Main-Italic\"\n  },\n  \"mathnormal\": {\n    variant: \"italic\",\n    fontName: \"Math-Italic\"\n  },\n  \"mathsfit\": {\n    variant: \"sans-serif-italic\",\n    fontName: \"SansSerif-Italic\"\n  },\n  // \"boldsymbol\" is missing because they require the use of multiple fonts:\n  // Math-BoldItalic and Main-Bold.  This is handled by a special case in\n  // makeOrd which ends up calling boldsymbol.\n  // families\n  \"mathbb\": {\n    variant: \"double-struck\",\n    fontName: \"AMS-Regular\"\n  },\n  \"mathcal\": {\n    variant: \"script\",\n    fontName: \"Caligraphic-Regular\"\n  },\n  \"mathfrak\": {\n    variant: \"fraktur\",\n    fontName: \"Fraktur-Regular\"\n  },\n  \"mathscr\": {\n    variant: \"script\",\n    fontName: \"Script-Regular\"\n  },\n  \"mathsf\": {\n    variant: \"sans-serif\",\n    fontName: \"SansSerif-Regular\"\n  },\n  \"mathtt\": {\n    variant: \"monospace\",\n    fontName: \"Typewriter-Regular\"\n  }\n};\nvar svgData = {\n  //   path, width, height\n  vec: [\"vec\", 0.471, 0.714],\n  // values from the font glyph\n  oiintSize1: [\"oiintSize1\", 0.957, 0.499],\n  // oval to overlay the integrand\n  oiintSize2: [\"oiintSize2\", 1.472, 0.659],\n  oiiintSize1: [\"oiiintSize1\", 1.304, 0.499],\n  oiiintSize2: [\"oiiintSize2\", 1.98, 0.659]\n};\n\nvar staticSvg = function staticSvg(value, options) {\n  // Create a span with inline SVG for the element.\n  var [pathName, width, height] = svgData[value];\n  var path = new PathNode(pathName);\n  var svgNode = new SvgNode([path], {\n    \"width\": makeEm(width),\n    \"height\": makeEm(height),\n    // Override CSS rule `.katex svg { width: 100% }`\n    \"style\": \"width:\" + makeEm(width),\n    \"viewBox\": \"0 0 \" + 1000 * width + \" \" + 1000 * height,\n    \"preserveAspectRatio\": \"xMinYMin\"\n  });\n  var span = makeSvgSpan([\"overlay\"], [svgNode], options);\n  span.height = height;\n  span.style.height = makeEm(height);\n  span.style.width = makeEm(width);\n  return span;\n};\n\nvar buildCommon = {\n  fontMap,\n  makeSymbol,\n  mathsym,\n  makeSpan: makeSpan$2,\n  makeSvgSpan,\n  makeLineSpan,\n  makeAnchor,\n  makeFragment,\n  wrapFragment,\n  makeVList,\n  makeOrd,\n  makeGlue,\n  staticSvg,\n  svgData,\n  tryCombineChars\n};\n\n/**\n * Describes spaces between different classes of atoms.\n */\nvar thinspace = {\n  number: 3,\n  unit: \"mu\"\n};\nvar mediumspace = {\n  number: 4,\n  unit: \"mu\"\n};\nvar thickspace = {\n  number: 5,\n  unit: \"mu\"\n}; // Making the type below exact with all optional fields doesn't work due to\n// - https://github.com/facebook/flow/issues/4582\n// - https://github.com/facebook/flow/issues/5688\n// However, since *all* fields are optional, $Shape<> works as suggested in 5688\n// above.\n\n// Spacing relationships for display and text styles\nvar spacings = {\n  mord: {\n    mop: thinspace,\n    mbin: mediumspace,\n    mrel: thickspace,\n    minner: thinspace\n  },\n  mop: {\n    mord: thinspace,\n    mop: thinspace,\n    mrel: thickspace,\n    minner: thinspace\n  },\n  mbin: {\n    mord: mediumspace,\n    mop: mediumspace,\n    mopen: mediumspace,\n    minner: mediumspace\n  },\n  mrel: {\n    mord: thickspace,\n    mop: thickspace,\n    mopen: thickspace,\n    minner: thickspace\n  },\n  mopen: {},\n  mclose: {\n    mop: thinspace,\n    mbin: mediumspace,\n    mrel: thickspace,\n    minner: thinspace\n  },\n  mpunct: {\n    mord: thinspace,\n    mop: thinspace,\n    mrel: thickspace,\n    mopen: thinspace,\n    mclose: thinspace,\n    mpunct: thinspace,\n    minner: thinspace\n  },\n  minner: {\n    mord: thinspace,\n    mop: thinspace,\n    mbin: mediumspace,\n    mrel: thickspace,\n    mopen: thinspace,\n    mpunct: thinspace,\n    minner: thinspace\n  }\n}; // Spacing relationships for script and scriptscript styles\n\nvar tightSpacings = {\n  mord: {\n    mop: thinspace\n  },\n  mop: {\n    mord: thinspace,\n    mop: thinspace\n  },\n  mbin: {},\n  mrel: {},\n  mopen: {},\n  mclose: {\n    mop: thinspace\n  },\n  mpunct: {},\n  minner: {\n    mop: thinspace\n  }\n};\n\n/** Context provided to function handlers for error messages. */\n// Note: reverse the order of the return type union will cause a flow error.\n// See https://github.com/facebook/flow/issues/3663.\n// More general version of `HtmlBuilder` for nodes (e.g. \\sum, accent types)\n// whose presence impacts super/subscripting. In this case, ParseNode<\"supsub\">\n// delegates its HTML building to the HtmlBuilder corresponding to these nodes.\n\n/**\n * Final function spec for use at parse time.\n * This is almost identical to `FunctionPropSpec`, except it\n * 1. includes the function handler, and\n * 2. requires all arguments except argTypes.\n * It is generated by `defineFunction()` below.\n */\n\n/**\n * All registered functions.\n * `functions.js` just exports this same dictionary again and makes it public.\n * `Parser.js` requires this dictionary.\n */\nvar _functions = {};\n/**\n * All HTML builders. Should be only used in the `define*` and the `build*ML`\n * functions.\n */\n\nvar _htmlGroupBuilders = {};\n/**\n * All MathML builders. Should be only used in the `define*` and the `build*ML`\n * functions.\n */\n\nvar _mathmlGroupBuilders = {};\nfunction defineFunction(_ref) {\n  var {\n    type,\n    names,\n    props,\n    handler,\n    htmlBuilder,\n    mathmlBuilder\n  } = _ref;\n  // Set default values of functions\n  var data = {\n    type,\n    numArgs: props.numArgs,\n    argTypes: props.argTypes,\n    allowedInArgument: !!props.allowedInArgument,\n    allowedInText: !!props.allowedInText,\n    allowedInMath: props.allowedInMath === undefined ? true : props.allowedInMath,\n    numOptionalArgs: props.numOptionalArgs || 0,\n    infix: !!props.infix,\n    primitive: !!props.primitive,\n    handler: handler\n  };\n\n  for (var i = 0; i < names.length; ++i) {\n    _functions[names[i]] = data;\n  }\n\n  if (type) {\n    if (htmlBuilder) {\n      _htmlGroupBuilders[type] = htmlBuilder;\n    }\n\n    if (mathmlBuilder) {\n      _mathmlGroupBuilders[type] = mathmlBuilder;\n    }\n  }\n}\n/**\n * Use this to register only the HTML and MathML builders for a function (e.g.\n * if the function's ParseNode is generated in Parser.js rather than via a\n * stand-alone handler provided to `defineFunction`).\n */\n\nfunction defineFunctionBuilders(_ref2) {\n  var {\n    type,\n    htmlBuilder,\n    mathmlBuilder\n  } = _ref2;\n  defineFunction({\n    type,\n    names: [],\n    props: {\n      numArgs: 0\n    },\n\n    handler() {\n      throw new Error('Should never be called.');\n    },\n\n    htmlBuilder,\n    mathmlBuilder\n  });\n}\nvar normalizeArgument = function normalizeArgument(arg) {\n  return arg.type === \"ordgroup\" && arg.body.length === 1 ? arg.body[0] : arg;\n}; // Since the corresponding buildHTML/buildMathML function expects a\n// list of elements, we normalize for different kinds of arguments\n\nvar ordargument = function ordargument(arg) {\n  return arg.type === \"ordgroup\" ? arg.body : [arg];\n};\n\n/**\n * This file does the main work of building a domTree structure from a parse\n * tree. The entry point is the `buildHTML` function, which takes a parse tree.\n * Then, the buildExpression, buildGroup, and various groupBuilders functions\n * are called, to produce a final HTML tree.\n */\nvar makeSpan$1 = buildCommon.makeSpan; // Binary atoms (first class `mbin`) change into ordinary atoms (`mord`)\n// depending on their surroundings. See TeXbook pg. 442-446, Rules 5 and 6,\n// and the text before Rule 19.\n\nvar binLeftCanceller = [\"leftmost\", \"mbin\", \"mopen\", \"mrel\", \"mop\", \"mpunct\"];\nvar binRightCanceller = [\"rightmost\", \"mrel\", \"mclose\", \"mpunct\"];\nvar styleMap$1 = {\n  \"display\": Style$1.DISPLAY,\n  \"text\": Style$1.TEXT,\n  \"script\": Style$1.SCRIPT,\n  \"scriptscript\": Style$1.SCRIPTSCRIPT\n};\nvar DomEnum = {\n  mord: \"mord\",\n  mop: \"mop\",\n  mbin: \"mbin\",\n  mrel: \"mrel\",\n  mopen: \"mopen\",\n  mclose: \"mclose\",\n  mpunct: \"mpunct\",\n  minner: \"minner\"\n};\n\n/**\n * Take a list of nodes, build them in order, and return a list of the built\n * nodes. documentFragments are flattened into their contents, so the\n * returned list contains no fragments. `isRealGroup` is true if `expression`\n * is a real group (no atoms will be added on either side), as opposed to\n * a partial group (e.g. one created by \\color). `surrounding` is an array\n * consisting type of nodes that will be added to the left and right.\n */\nvar buildExpression$1 = function buildExpression(expression, options, isRealGroup, surrounding) {\n  if (surrounding === void 0) {\n    surrounding = [null, null];\n  }\n\n  // Parse expressions into `groups`.\n  var groups = [];\n\n  for (var i = 0; i < expression.length; i++) {\n    var output = buildGroup$1(expression[i], options);\n\n    if (output instanceof DocumentFragment) {\n      var children = output.children;\n      groups.push(...children);\n    } else {\n      groups.push(output);\n    }\n  } // Combine consecutive domTree.symbolNodes into a single symbolNode.\n\n\n  buildCommon.tryCombineChars(groups); // If `expression` is a partial group, let the parent handle spacings\n  // to avoid processing groups multiple times.\n\n  if (!isRealGroup) {\n    return groups;\n  }\n\n  var glueOptions = options;\n\n  if (expression.length === 1) {\n    var node = expression[0];\n\n    if (node.type === \"sizing\") {\n      glueOptions = options.havingSize(node.size);\n    } else if (node.type === \"styling\") {\n      glueOptions = options.havingStyle(styleMap$1[node.style]);\n    }\n  } // Dummy spans for determining spacings between surrounding atoms.\n  // If `expression` has no atoms on the left or right, class \"leftmost\"\n  // or \"rightmost\", respectively, is used to indicate it.\n\n\n  var dummyPrev = makeSpan$1([surrounding[0] || \"leftmost\"], [], options);\n  var dummyNext = makeSpan$1([surrounding[1] || \"rightmost\"], [], options); // TODO: These code assumes that a node's math class is the first element\n  // of its `classes` array. A later cleanup should ensure this, for\n  // instance by changing the signature of `makeSpan`.\n  // Before determining what spaces to insert, perform bin cancellation.\n  // Binary operators change to ordinary symbols in some contexts.\n\n  var isRoot = isRealGroup === \"root\";\n  traverseNonSpaceNodes(groups, (node, prev) => {\n    var prevType = prev.classes[0];\n    var type = node.classes[0];\n\n    if (prevType === \"mbin\" && binRightCanceller.includes(type)) {\n      prev.classes[0] = \"mord\";\n    } else if (type === \"mbin\" && binLeftCanceller.includes(prevType)) {\n      node.classes[0] = \"mord\";\n    }\n  }, {\n    node: dummyPrev\n  }, dummyNext, isRoot);\n  traverseNonSpaceNodes(groups, (node, prev) => {\n    var prevType = getTypeOfDomTree(prev);\n    var type = getTypeOfDomTree(node); // 'mtight' indicates that the node is script or scriptscript style.\n\n    var space = prevType && type ? node.hasClass(\"mtight\") ? tightSpacings[prevType][type] : spacings[prevType][type] : null;\n\n    if (space) {\n      // Insert glue (spacing) after the `prev`.\n      return buildCommon.makeGlue(space, glueOptions);\n    }\n  }, {\n    node: dummyPrev\n  }, dummyNext, isRoot);\n  return groups;\n}; // Depth-first traverse non-space `nodes`, calling `callback` with the current and\n// previous node as arguments, optionally returning a node to insert after the\n// previous node. `prev` is an object with the previous node and `insertAfter`\n// function to insert after it. `next` is a node that will be added to the right.\n// Used for bin cancellation and inserting spacings.\n\nvar traverseNonSpaceNodes = function traverseNonSpaceNodes(nodes, callback, prev, next, isRoot) {\n  if (next) {\n    // temporarily append the right node, if exists\n    nodes.push(next);\n  }\n\n  var i = 0;\n\n  for (; i < nodes.length; i++) {\n    var node = nodes[i];\n    var partialGroup = checkPartialGroup(node);\n\n    if (partialGroup) {\n      // Recursive DFS\n      // $FlowFixMe: make nodes a $ReadOnlyArray by returning a new array\n      traverseNonSpaceNodes(partialGroup.children, callback, prev, null, isRoot);\n      continue;\n    } // Ignore explicit spaces (e.g., \\;, \\,) when determining what implicit\n    // spacing should go between atoms of different classes\n\n\n    var nonspace = !node.hasClass(\"mspace\");\n\n    if (nonspace) {\n      var result = callback(node, prev.node);\n\n      if (result) {\n        if (prev.insertAfter) {\n          prev.insertAfter(result);\n        } else {\n          // insert at front\n          nodes.unshift(result);\n          i++;\n        }\n      }\n    }\n\n    if (nonspace) {\n      prev.node = node;\n    } else if (isRoot && node.hasClass(\"newline\")) {\n      prev.node = makeSpan$1([\"leftmost\"]); // treat like beginning of line\n    }\n\n    prev.insertAfter = (index => n => {\n      nodes.splice(index + 1, 0, n);\n      i++;\n    })(i);\n  }\n\n  if (next) {\n    nodes.pop();\n  }\n}; // Check if given node is a partial group, i.e., does not affect spacing around.\n\n\nvar checkPartialGroup = function checkPartialGroup(node) {\n  if (node instanceof DocumentFragment || node instanceof Anchor || node instanceof Span && node.hasClass(\"enclosing\")) {\n    return node;\n  }\n\n  return null;\n}; // Return the outermost node of a domTree.\n\n\nvar getOutermostNode = function getOutermostNode(node, side) {\n  var partialGroup = checkPartialGroup(node);\n\n  if (partialGroup) {\n    var children = partialGroup.children;\n\n    if (children.length) {\n      if (side === \"right\") {\n        return getOutermostNode(children[children.length - 1], \"right\");\n      } else if (side === \"left\") {\n        return getOutermostNode(children[0], \"left\");\n      }\n    }\n  }\n\n  return node;\n}; // Return math atom class (mclass) of a domTree.\n// If `side` is given, it will get the type of the outermost node at given side.\n\n\nvar getTypeOfDomTree = function getTypeOfDomTree(node, side) {\n  if (!node) {\n    return null;\n  }\n\n  if (side) {\n    node = getOutermostNode(node, side);\n  } // This makes a lot of assumptions as to where the type of atom\n  // appears.  We should do a better job of enforcing this.\n\n\n  return DomEnum[node.classes[0]] || null;\n};\nvar makeNullDelimiter = function makeNullDelimiter(options, classes) {\n  var moreClasses = [\"nulldelimiter\"].concat(options.baseSizingClasses());\n  return makeSpan$1(classes.concat(moreClasses));\n};\n/**\n * buildGroup is the function that takes a group and calls the correct groupType\n * function for it. It also handles the interaction of size and style changes\n * between parents and children.\n */\n\nvar buildGroup$1 = function buildGroup(group, options, baseOptions) {\n  if (!group) {\n    return makeSpan$1();\n  }\n\n  if (_htmlGroupBuilders[group.type]) {\n    // Call the groupBuilders function\n    // $FlowFixMe\n    var groupNode = _htmlGroupBuilders[group.type](group, options); // If the size changed between the parent and the current group, account\n    // for that size difference.\n\n    if (baseOptions && options.size !== baseOptions.size) {\n      groupNode = makeSpan$1(options.sizingClasses(baseOptions), [groupNode], options);\n      var multiplier = options.sizeMultiplier / baseOptions.sizeMultiplier;\n      groupNode.height *= multiplier;\n      groupNode.depth *= multiplier;\n    }\n\n    return groupNode;\n  } else {\n    throw new ParseError(\"Got group of unknown type: '\" + group.type + \"'\");\n  }\n};\n/**\n * Combine an array of HTML DOM nodes (e.g., the output of `buildExpression`)\n * into an unbreakable HTML node of class .base, with proper struts to\n * guarantee correct vertical extent.  `buildHTML` calls this repeatedly to\n * make up the entire expression as a sequence of unbreakable units.\n */\n\nfunction buildHTMLUnbreakable(children, options) {\n  // Compute height and depth of this chunk.\n  var body = makeSpan$1([\"base\"], children, options); // Add strut, which ensures that the top of the HTML element falls at\n  // the height of the expression, and the bottom of the HTML element\n  // falls at the depth of the expression.\n\n  var strut = makeSpan$1([\"strut\"]);\n  strut.style.height = makeEm(body.height + body.depth);\n\n  if (body.depth) {\n    strut.style.verticalAlign = makeEm(-body.depth);\n  }\n\n  body.children.unshift(strut);\n  return body;\n}\n/**\n * Take an entire parse tree, and build it into an appropriate set of HTML\n * nodes.\n */\n\n\nfunction buildHTML(tree, options) {\n  // Strip off outer tag wrapper for processing below.\n  var tag = null;\n\n  if (tree.length === 1 && tree[0].type === \"tag\") {\n    tag = tree[0].tag;\n    tree = tree[0].body;\n  } // Build the expression contained in the tree\n\n\n  var expression = buildExpression$1(tree, options, \"root\");\n  var eqnNum;\n\n  if (expression.length === 2 && expression[1].hasClass(\"tag\")) {\n    // An environment with automatic equation numbers, e.g. {gather}.\n    eqnNum = expression.pop();\n  }\n\n  var children = []; // Create one base node for each chunk between potential line breaks.\n  // The TeXBook [p.173] says \"A formula will be broken only after a\n  // relation symbol like $=$ or $<$ or $\\rightarrow$, or after a binary\n  // operation symbol like $+$ or $-$ or $\\times$, where the relation or\n  // binary operation is on the ``outer level'' of the formula (i.e., not\n  // enclosed in {...} and not part of an \\over construction).\"\n\n  var parts = [];\n\n  for (var i = 0; i < expression.length; i++) {\n    parts.push(expression[i]);\n\n    if (expression[i].hasClass(\"mbin\") || expression[i].hasClass(\"mrel\") || expression[i].hasClass(\"allowbreak\")) {\n      // Put any post-operator glue on same line as operator.\n      // Watch for \\nobreak along the way, and stop at \\newline.\n      var nobreak = false;\n\n      while (i < expression.length - 1 && expression[i + 1].hasClass(\"mspace\") && !expression[i + 1].hasClass(\"newline\")) {\n        i++;\n        parts.push(expression[i]);\n\n        if (expression[i].hasClass(\"nobreak\")) {\n          nobreak = true;\n        }\n      } // Don't allow break if \\nobreak among the post-operator glue.\n\n\n      if (!nobreak) {\n        children.push(buildHTMLUnbreakable(parts, options));\n        parts = [];\n      }\n    } else if (expression[i].hasClass(\"newline\")) {\n      // Write the line except the newline\n      parts.pop();\n\n      if (parts.length > 0) {\n        children.push(buildHTMLUnbreakable(parts, options));\n        parts = [];\n      } // Put the newline at the top level\n\n\n      children.push(expression[i]);\n    }\n  }\n\n  if (parts.length > 0) {\n    children.push(buildHTMLUnbreakable(parts, options));\n  } // Now, if there was a tag, build it too and append it as a final child.\n\n\n  var tagChild;\n\n  if (tag) {\n    tagChild = buildHTMLUnbreakable(buildExpression$1(tag, options, true));\n    tagChild.classes = [\"tag\"];\n    children.push(tagChild);\n  } else if (eqnNum) {\n    children.push(eqnNum);\n  }\n\n  var htmlNode = makeSpan$1([\"katex-html\"], children);\n  htmlNode.setAttribute(\"aria-hidden\", \"true\"); // Adjust the strut of the tag to be the maximum height of all children\n  // (the height of the enclosing htmlNode) for proper vertical alignment.\n\n  if (tagChild) {\n    var strut = tagChild.children[0];\n    strut.style.height = makeEm(htmlNode.height + htmlNode.depth);\n\n    if (htmlNode.depth) {\n      strut.style.verticalAlign = makeEm(-htmlNode.depth);\n    }\n  }\n\n  return htmlNode;\n}\n\n/**\n * These objects store data about MathML nodes. This is the MathML equivalent\n * of the types in domTree.js. Since MathML handles its own rendering, and\n * since we're mainly using MathML to improve accessibility, we don't manage\n * any of the styling state that the plain DOM nodes do.\n *\n * The `toNode` and `toMarkup` functions work similarly to how they do in\n * domTree.js, creating namespaced DOM nodes and HTML text markup respectively.\n */\nfunction newDocumentFragment(children) {\n  return new DocumentFragment(children);\n}\n/**\n * This node represents a general purpose MathML node of any type. The\n * constructor requires the type of node to create (for example, `\"mo\"` or\n * `\"mspace\"`, corresponding to `<mo>` and `<mspace>` tags).\n */\n\nclass MathNode {\n  constructor(type, children, classes) {\n    this.type = void 0;\n    this.attributes = void 0;\n    this.children = void 0;\n    this.classes = void 0;\n    this.type = type;\n    this.attributes = {};\n    this.children = children || [];\n    this.classes = classes || [];\n  }\n  /**\n   * Sets an attribute on a MathML node. MathML depends on attributes to convey a\n   * semantic content, so this is used heavily.\n   */\n\n\n  setAttribute(name, value) {\n    this.attributes[name] = value;\n  }\n  /**\n   * Gets an attribute on a MathML node.\n   */\n\n\n  getAttribute(name) {\n    return this.attributes[name];\n  }\n  /**\n   * Converts the math node into a MathML-namespaced DOM element.\n   */\n\n\n  toNode() {\n    var node = document.createElementNS(\"http://www.w3.org/1998/Math/MathML\", this.type);\n\n    for (var attr in this.attributes) {\n      if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n        node.setAttribute(attr, this.attributes[attr]);\n      }\n    }\n\n    if (this.classes.length > 0) {\n      node.className = createClass(this.classes);\n    }\n\n    for (var i = 0; i < this.children.length; i++) {\n      // Combine multiple TextNodes into one TextNode, to prevent\n      // screen readers from reading each as a separate word [#3995]\n      if (this.children[i] instanceof TextNode && this.children[i + 1] instanceof TextNode) {\n        var text = this.children[i].toText() + this.children[++i].toText();\n\n        while (this.children[i + 1] instanceof TextNode) {\n          text += this.children[++i].toText();\n        }\n\n        node.appendChild(new TextNode(text).toNode());\n      } else {\n        node.appendChild(this.children[i].toNode());\n      }\n    }\n\n    return node;\n  }\n  /**\n   * Converts the math node into an HTML markup string.\n   */\n\n\n  toMarkup() {\n    var markup = \"<\" + this.type; // Add the attributes\n\n    for (var attr in this.attributes) {\n      if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n        markup += \" \" + attr + \"=\\\"\";\n        markup += utils.escape(this.attributes[attr]);\n        markup += \"\\\"\";\n      }\n    }\n\n    if (this.classes.length > 0) {\n      markup += \" class =\\\"\" + utils.escape(createClass(this.classes)) + \"\\\"\";\n    }\n\n    markup += \">\";\n\n    for (var i = 0; i < this.children.length; i++) {\n      markup += this.children[i].toMarkup();\n    }\n\n    markup += \"</\" + this.type + \">\";\n    return markup;\n  }\n  /**\n   * Converts the math node into a string, similar to innerText, but escaped.\n   */\n\n\n  toText() {\n    return this.children.map(child => child.toText()).join(\"\");\n  }\n\n}\n/**\n * This node represents a piece of text.\n */\n\nclass TextNode {\n  constructor(text) {\n    this.text = void 0;\n    this.text = text;\n  }\n  /**\n   * Converts the text node into a DOM text node.\n   */\n\n\n  toNode() {\n    return document.createTextNode(this.text);\n  }\n  /**\n   * Converts the text node into escaped HTML markup\n   * (representing the text itself).\n   */\n\n\n  toMarkup() {\n    return utils.escape(this.toText());\n  }\n  /**\n   * Converts the text node into a string\n   * (representing the text itself).\n   */\n\n\n  toText() {\n    return this.text;\n  }\n\n}\n/**\n * This node represents a space, but may render as <mspace.../> or as text,\n * depending on the width.\n */\n\nclass SpaceNode {\n  /**\n   * Create a Space node with width given in CSS ems.\n   */\n  constructor(width) {\n    this.width = void 0;\n    this.character = void 0;\n    this.width = width; // See https://www.w3.org/TR/2000/WD-MathML2-20000328/chapter6.html\n    // for a table of space-like characters.  We use Unicode\n    // representations instead of &LongNames; as it's not clear how to\n    // make the latter via document.createTextNode.\n\n    if (width >= 0.05555 && width <= 0.05556) {\n      this.character = \"\\u200a\"; // &VeryThinSpace;\n    } else if (width >= 0.1666 && width <= 0.1667) {\n      this.character = \"\\u2009\"; // &ThinSpace;\n    } else if (width >= 0.2222 && width <= 0.2223) {\n      this.character = \"\\u2005\"; // &MediumSpace;\n    } else if (width >= 0.2777 && width <= 0.2778) {\n      this.character = \"\\u2005\\u200a\"; // &ThickSpace;\n    } else if (width >= -0.05556 && width <= -0.05555) {\n      this.character = \"\\u200a\\u2063\"; // &NegativeVeryThinSpace;\n    } else if (width >= -0.1667 && width <= -0.1666) {\n      this.character = \"\\u2009\\u2063\"; // &NegativeThinSpace;\n    } else if (width >= -0.2223 && width <= -0.2222) {\n      this.character = \"\\u205f\\u2063\"; // &NegativeMediumSpace;\n    } else if (width >= -0.2778 && width <= -0.2777) {\n      this.character = \"\\u2005\\u2063\"; // &NegativeThickSpace;\n    } else {\n      this.character = null;\n    }\n  }\n  /**\n   * Converts the math node into a MathML-namespaced DOM element.\n   */\n\n\n  toNode() {\n    if (this.character) {\n      return document.createTextNode(this.character);\n    } else {\n      var node = document.createElementNS(\"http://www.w3.org/1998/Math/MathML\", \"mspace\");\n      node.setAttribute(\"width\", makeEm(this.width));\n      return node;\n    }\n  }\n  /**\n   * Converts the math node into an HTML markup string.\n   */\n\n\n  toMarkup() {\n    if (this.character) {\n      return \"<mtext>\" + this.character + \"</mtext>\";\n    } else {\n      return \"<mspace width=\\\"\" + makeEm(this.width) + \"\\\"/>\";\n    }\n  }\n  /**\n   * Converts the math node into a string, similar to innerText.\n   */\n\n\n  toText() {\n    if (this.character) {\n      return this.character;\n    } else {\n      return \" \";\n    }\n  }\n\n}\n\nvar mathMLTree = {\n  MathNode,\n  TextNode,\n  SpaceNode,\n  newDocumentFragment\n};\n\n/**\n * This file converts a parse tree into a corresponding MathML tree. The main\n * entry point is the `buildMathML` function, which takes a parse tree from the\n * parser.\n */\n\n/**\n * Takes a symbol and converts it into a MathML text node after performing\n * optional replacement from symbols.js.\n */\nvar makeText = function makeText(text, mode, options) {\n  if (symbols[mode][text] && symbols[mode][text].replace && text.charCodeAt(0) !== 0xD835 && !(ligatures.hasOwnProperty(text) && options && (options.fontFamily && options.fontFamily.slice(4, 6) === \"tt\" || options.font && options.font.slice(4, 6) === \"tt\"))) {\n    text = symbols[mode][text].replace;\n  }\n\n  return new mathMLTree.TextNode(text);\n};\n/**\n * Wrap the given array of nodes in an <mrow> node if needed, i.e.,\n * unless the array has length 1.  Always returns a single node.\n */\n\nvar makeRow = function makeRow(body) {\n  if (body.length === 1) {\n    return body[0];\n  } else {\n    return new mathMLTree.MathNode(\"mrow\", body);\n  }\n};\n/**\n * Returns the math variant as a string or null if none is required.\n */\n\nvar getVariant = function getVariant(group, options) {\n  // Handle \\text... font specifiers as best we can.\n  // MathML has a limited list of allowable mathvariant specifiers; see\n  // https://www.w3.org/TR/MathML3/chapter3.html#presm.commatt\n  if (options.fontFamily === \"texttt\") {\n    return \"monospace\";\n  } else if (options.fontFamily === \"textsf\") {\n    if (options.fontShape === \"textit\" && options.fontWeight === \"textbf\") {\n      return \"sans-serif-bold-italic\";\n    } else if (options.fontShape === \"textit\") {\n      return \"sans-serif-italic\";\n    } else if (options.fontWeight === \"textbf\") {\n      return \"bold-sans-serif\";\n    } else {\n      return \"sans-serif\";\n    }\n  } else if (options.fontShape === \"textit\" && options.fontWeight === \"textbf\") {\n    return \"bold-italic\";\n  } else if (options.fontShape === \"textit\") {\n    return \"italic\";\n  } else if (options.fontWeight === \"textbf\") {\n    return \"bold\";\n  }\n\n  var font = options.font;\n\n  if (!font || font === \"mathnormal\") {\n    return null;\n  }\n\n  var mode = group.mode;\n\n  if (font === \"mathit\") {\n    return \"italic\";\n  } else if (font === \"boldsymbol\") {\n    return group.type === \"textord\" ? \"bold\" : \"bold-italic\";\n  } else if (font === \"mathbf\") {\n    return \"bold\";\n  } else if (font === \"mathbb\") {\n    return \"double-struck\";\n  } else if (font === \"mathsfit\") {\n    return \"sans-serif-italic\";\n  } else if (font === \"mathfrak\") {\n    return \"fraktur\";\n  } else if (font === \"mathscr\" || font === \"mathcal\") {\n    // MathML makes no distinction between script and calligraphic\n    return \"script\";\n  } else if (font === \"mathsf\") {\n    return \"sans-serif\";\n  } else if (font === \"mathtt\") {\n    return \"monospace\";\n  }\n\n  var text = group.text;\n\n  if ([\"\\\\imath\", \"\\\\jmath\"].includes(text)) {\n    return null;\n  }\n\n  if (symbols[mode][text] && symbols[mode][text].replace) {\n    text = symbols[mode][text].replace;\n  }\n\n  var fontName = buildCommon.fontMap[font].fontName;\n\n  if (getCharacterMetrics(text, fontName, mode)) {\n    return buildCommon.fontMap[font].variant;\n  }\n\n  return null;\n};\n/**\n * Check for <mi>.</mi> which is how a dot renders in MathML,\n * or <mo separator=\"true\" lspace=\"0em\" rspace=\"0em\">,</mo>\n * which is how a braced comma {,} renders in MathML\n */\n\nfunction isNumberPunctuation(group) {\n  if (!group) {\n    return false;\n  }\n\n  if (group.type === 'mi' && group.children.length === 1) {\n    var child = group.children[0];\n    return child instanceof TextNode && child.text === '.';\n  } else if (group.type === 'mo' && group.children.length === 1 && group.getAttribute('separator') === 'true' && group.getAttribute('lspace') === '0em' && group.getAttribute('rspace') === '0em') {\n    var _child = group.children[0];\n    return _child instanceof TextNode && _child.text === ',';\n  } else {\n    return false;\n  }\n}\n/**\n * Takes a list of nodes, builds them, and returns a list of the generated\n * MathML nodes.  Also combine consecutive <mtext> outputs into a single\n * <mtext> tag.\n */\n\n\nvar buildExpression = function buildExpression(expression, options, isOrdgroup) {\n  if (expression.length === 1) {\n    var group = buildGroup(expression[0], options);\n\n    if (isOrdgroup && group instanceof MathNode && group.type === \"mo\") {\n      // When TeX writers want to suppress spacing on an operator,\n      // they often put the operator by itself inside braces.\n      group.setAttribute(\"lspace\", \"0em\");\n      group.setAttribute(\"rspace\", \"0em\");\n    }\n\n    return [group];\n  }\n\n  var groups = [];\n  var lastGroup;\n\n  for (var i = 0; i < expression.length; i++) {\n    var _group = buildGroup(expression[i], options);\n\n    if (_group instanceof MathNode && lastGroup instanceof MathNode) {\n      // Concatenate adjacent <mtext>s\n      if (_group.type === 'mtext' && lastGroup.type === 'mtext' && _group.getAttribute('mathvariant') === lastGroup.getAttribute('mathvariant')) {\n        lastGroup.children.push(..._group.children);\n        continue; // Concatenate adjacent <mn>s\n      } else if (_group.type === 'mn' && lastGroup.type === 'mn') {\n        lastGroup.children.push(..._group.children);\n        continue; // Concatenate <mn>...</mn> followed by <mi>.</mi>\n      } else if (isNumberPunctuation(_group) && lastGroup.type === 'mn') {\n        lastGroup.children.push(..._group.children);\n        continue; // Concatenate <mi>.</mi> followed by <mn>...</mn>\n      } else if (_group.type === 'mn' && isNumberPunctuation(lastGroup)) {\n        _group.children = [...lastGroup.children, ..._group.children];\n        groups.pop(); // Put preceding <mn>...</mn> or <mi>.</mi> inside base of\n        // <msup><mn>...base...</mn>...exponent...</msup> (or <msub>)\n      } else if ((_group.type === 'msup' || _group.type === 'msub') && _group.children.length >= 1 && (lastGroup.type === 'mn' || isNumberPunctuation(lastGroup))) {\n        var base = _group.children[0];\n\n        if (base instanceof MathNode && base.type === 'mn') {\n          base.children = [...lastGroup.children, ...base.children];\n          groups.pop();\n        } // \\not\n\n      } else if (lastGroup.type === 'mi' && lastGroup.children.length === 1) {\n        var lastChild = lastGroup.children[0];\n\n        if (lastChild instanceof TextNode && lastChild.text === '\\u0338' && (_group.type === 'mo' || _group.type === 'mi' || _group.type === 'mn')) {\n          var child = _group.children[0];\n\n          if (child instanceof TextNode && child.text.length > 0) {\n            // Overlay with combining character long solidus\n            child.text = child.text.slice(0, 1) + \"\\u0338\" + child.text.slice(1);\n            groups.pop();\n          }\n        }\n      }\n    }\n\n    groups.push(_group);\n    lastGroup = _group;\n  }\n\n  return groups;\n};\n/**\n * Equivalent to buildExpression, but wraps the elements in an <mrow>\n * if there's more than one.  Returns a single node instead of an array.\n */\n\nvar buildExpressionRow = function buildExpressionRow(expression, options, isOrdgroup) {\n  return makeRow(buildExpression(expression, options, isOrdgroup));\n};\n/**\n * Takes a group from the parser and calls the appropriate groupBuilders function\n * on it to produce a MathML node.\n */\n\nvar buildGroup = function buildGroup(group, options) {\n  if (!group) {\n    return new mathMLTree.MathNode(\"mrow\");\n  }\n\n  if (_mathmlGroupBuilders[group.type]) {\n    // Call the groupBuilders function\n    // $FlowFixMe\n    var result = _mathmlGroupBuilders[group.type](group, options); // $FlowFixMe\n\n    return result;\n  } else {\n    throw new ParseError(\"Got group of unknown type: '\" + group.type + \"'\");\n  }\n};\n/**\n * Takes a full parse tree and settings and builds a MathML representation of\n * it. In particular, we put the elements from building the parse tree into a\n * <semantics> tag so we can also include that TeX source as an annotation.\n *\n * Note that we actually return a domTree element with a `<math>` inside it so\n * we can do appropriate styling.\n */\n\nfunction buildMathML(tree, texExpression, options, isDisplayMode, forMathmlOnly) {\n  var expression = buildExpression(tree, options); // TODO: Make a pass thru the MathML similar to buildHTML.traverseNonSpaceNodes\n  // and add spacing nodes. This is necessary only adjacent to math operators\n  // like \\sin or \\lim or to subsup elements that contain math operators.\n  // MathML takes care of the other spacing issues.\n  // Wrap up the expression in an mrow so it is presented in the semantics\n  // tag correctly, unless it's a single <mrow> or <mtable>.\n\n  var wrapper;\n\n  if (expression.length === 1 && expression[0] instanceof MathNode && [\"mrow\", \"mtable\"].includes(expression[0].type)) {\n    wrapper = expression[0];\n  } else {\n    wrapper = new mathMLTree.MathNode(\"mrow\", expression);\n  } // Build a TeX annotation of the source\n\n\n  var annotation = new mathMLTree.MathNode(\"annotation\", [new mathMLTree.TextNode(texExpression)]);\n  annotation.setAttribute(\"encoding\", \"application/x-tex\");\n  var semantics = new mathMLTree.MathNode(\"semantics\", [wrapper, annotation]);\n  var math = new mathMLTree.MathNode(\"math\", [semantics]);\n  math.setAttribute(\"xmlns\", \"http://www.w3.org/1998/Math/MathML\");\n\n  if (isDisplayMode) {\n    math.setAttribute(\"display\", \"block\");\n  } // You can't style <math> nodes, so we wrap the node in a span.\n  // NOTE: The span class is not typed to have <math> nodes as children, and\n  // we don't want to make the children type more generic since the children\n  // of span are expected to have more fields in `buildHtml` contexts.\n\n\n  var wrapperClass = forMathmlOnly ? \"katex\" : \"katex-mathml\"; // $FlowFixMe\n\n  return buildCommon.makeSpan([wrapperClass], [math]);\n}\n\nvar optionsFromSettings = function optionsFromSettings(settings) {\n  return new Options({\n    style: settings.displayMode ? Style$1.DISPLAY : Style$1.TEXT,\n    maxSize: settings.maxSize,\n    minRuleThickness: settings.minRuleThickness\n  });\n};\n\nvar displayWrap = function displayWrap(node, settings) {\n  if (settings.displayMode) {\n    var classes = [\"katex-display\"];\n\n    if (settings.leqno) {\n      classes.push(\"leqno\");\n    }\n\n    if (settings.fleqn) {\n      classes.push(\"fleqn\");\n    }\n\n    node = buildCommon.makeSpan(classes, [node]);\n  }\n\n  return node;\n};\n\nvar buildTree = function buildTree(tree, expression, settings) {\n  var options = optionsFromSettings(settings);\n  var katexNode;\n\n  if (settings.output === \"mathml\") {\n    return buildMathML(tree, expression, options, settings.displayMode, true);\n  } else if (settings.output === \"html\") {\n    var htmlNode = buildHTML(tree, options);\n    katexNode = buildCommon.makeSpan([\"katex\"], [htmlNode]);\n  } else {\n    var mathMLNode = buildMathML(tree, expression, options, settings.displayMode, false);\n\n    var _htmlNode = buildHTML(tree, options);\n\n    katexNode = buildCommon.makeSpan([\"katex\"], [mathMLNode, _htmlNode]);\n  }\n\n  return displayWrap(katexNode, settings);\n};\nvar buildHTMLTree = function buildHTMLTree(tree, expression, settings) {\n  var options = optionsFromSettings(settings);\n  var htmlNode = buildHTML(tree, options);\n  var katexNode = buildCommon.makeSpan([\"katex\"], [htmlNode]);\n  return displayWrap(katexNode, settings);\n};\n\n/**\n * This file provides support to buildMathML.js and buildHTML.js\n * for stretchy wide elements rendered from SVG files\n * and other CSS trickery.\n */\nvar stretchyCodePoint = {\n  widehat: \"^\",\n  widecheck: \"\",\n  widetilde: \"~\",\n  utilde: \"~\",\n  overleftarrow: \"\\u2190\",\n  underleftarrow: \"\\u2190\",\n  xleftarrow: \"\\u2190\",\n  overrightarrow: \"\\u2192\",\n  underrightarrow: \"\\u2192\",\n  xrightarrow: \"\\u2192\",\n  underbrace: \"\\u23df\",\n  overbrace: \"\\u23de\",\n  overgroup: \"\\u23e0\",\n  undergroup: \"\\u23e1\",\n  overleftrightarrow: \"\\u2194\",\n  underleftrightarrow: \"\\u2194\",\n  xleftrightarrow: \"\\u2194\",\n  Overrightarrow: \"\\u21d2\",\n  xRightarrow: \"\\u21d2\",\n  overleftharpoon: \"\\u21bc\",\n  xleftharpoonup: \"\\u21bc\",\n  overrightharpoon: \"\\u21c0\",\n  xrightharpoonup: \"\\u21c0\",\n  xLeftarrow: \"\\u21d0\",\n  xLeftrightarrow: \"\\u21d4\",\n  xhookleftarrow: \"\\u21a9\",\n  xhookrightarrow: \"\\u21aa\",\n  xmapsto: \"\\u21a6\",\n  xrightharpoondown: \"\\u21c1\",\n  xleftharpoondown: \"\\u21bd\",\n  xrightleftharpoons: \"\\u21cc\",\n  xleftrightharpoons: \"\\u21cb\",\n  xtwoheadleftarrow: \"\\u219e\",\n  xtwoheadrightarrow: \"\\u21a0\",\n  xlongequal: \"=\",\n  xtofrom: \"\\u21c4\",\n  xrightleftarrows: \"\\u21c4\",\n  xrightequilibrium: \"\\u21cc\",\n  // Not a perfect match.\n  xleftequilibrium: \"\\u21cb\",\n  // None better available.\n  \"\\\\cdrightarrow\": \"\\u2192\",\n  \"\\\\cdleftarrow\": \"\\u2190\",\n  \"\\\\cdlongequal\": \"=\"\n};\n\nvar mathMLnode = function mathMLnode(label) {\n  var node = new mathMLTree.MathNode(\"mo\", [new mathMLTree.TextNode(stretchyCodePoint[label.replace(/^\\\\/, '')])]);\n  node.setAttribute(\"stretchy\", \"true\");\n  return node;\n}; // Many of the KaTeX SVG images have been adapted from glyphs in KaTeX fonts.\n// Copyright (c) 2009-2010, Design Science, Inc. (<www.mathjax.org>)\n// Copyright (c) 2014-2017 Khan Academy (<www.khanacademy.org>)\n// Licensed under the SIL Open Font License, Version 1.1.\n// See \\nhttp://scripts.sil.org/OFL\n// Very Long SVGs\n//    Many of the KaTeX stretchy wide elements use a long SVG image and an\n//    overflow: hidden tactic to achieve a stretchy image while avoiding\n//    distortion of arrowheads or brace corners.\n//    The SVG typically contains a very long (400 em) arrow.\n//    The SVG is in a container span that has overflow: hidden, so the span\n//    acts like a window that exposes only part of the  SVG.\n//    The SVG always has a longer, thinner aspect ratio than the container span.\n//    After the SVG fills 100% of the height of the container span,\n//    there is a long arrow shaft left over. That left-over shaft is not shown.\n//    Instead, it is sliced off because the span's CSS has overflow: hidden.\n//    Thus, the reader sees an arrow that matches the subject matter width\n//    without distortion.\n//    Some functions, such as \\cancel, need to vary their aspect ratio. These\n//    functions do not get the overflow SVG treatment.\n// Second Brush Stroke\n//    Low resolution monitors struggle to display images in fine detail.\n//    So browsers apply anti-aliasing. A long straight arrow shaft therefore\n//    will sometimes appear as if it has a blurred edge.\n//    To mitigate this, these SVG files contain a second \"brush-stroke\" on the\n//    arrow shafts. That is, a second long thin rectangular SVG path has been\n//    written directly on top of each arrow shaft. This reinforcement causes\n//    some of the screen pixels to display as black instead of the anti-aliased\n//    gray pixel that a  single path would generate. So we get arrow shafts\n//    whose edges appear to be sharper.\n// In the katexImagesData object just below, the dimensions all\n// correspond to path geometry inside the relevant SVG.\n// For example, \\overrightarrow uses the same arrowhead as glyph U+2192\n// from the KaTeX Main font. The scaling factor is 1000.\n// That is, inside the font, that arrowhead is 522 units tall, which\n// corresponds to 0.522 em inside the document.\n\n\nvar katexImagesData = {\n  //   path(s), minWidth, height, align\n  overrightarrow: [[\"rightarrow\"], 0.888, 522, \"xMaxYMin\"],\n  overleftarrow: [[\"leftarrow\"], 0.888, 522, \"xMinYMin\"],\n  underrightarrow: [[\"rightarrow\"], 0.888, 522, \"xMaxYMin\"],\n  underleftarrow: [[\"leftarrow\"], 0.888, 522, \"xMinYMin\"],\n  xrightarrow: [[\"rightarrow\"], 1.469, 522, \"xMaxYMin\"],\n  \"\\\\cdrightarrow\": [[\"rightarrow\"], 3.0, 522, \"xMaxYMin\"],\n  // CD minwwidth2.5pc\n  xleftarrow: [[\"leftarrow\"], 1.469, 522, \"xMinYMin\"],\n  \"\\\\cdleftarrow\": [[\"leftarrow\"], 3.0, 522, \"xMinYMin\"],\n  Overrightarrow: [[\"doublerightarrow\"], 0.888, 560, \"xMaxYMin\"],\n  xRightarrow: [[\"doublerightarrow\"], 1.526, 560, \"xMaxYMin\"],\n  xLeftarrow: [[\"doubleleftarrow\"], 1.526, 560, \"xMinYMin\"],\n  overleftharpoon: [[\"leftharpoon\"], 0.888, 522, \"xMinYMin\"],\n  xleftharpoonup: [[\"leftharpoon\"], 0.888, 522, \"xMinYMin\"],\n  xleftharpoondown: [[\"leftharpoondown\"], 0.888, 522, \"xMinYMin\"],\n  overrightharpoon: [[\"rightharpoon\"], 0.888, 522, \"xMaxYMin\"],\n  xrightharpoonup: [[\"rightharpoon\"], 0.888, 522, \"xMaxYMin\"],\n  xrightharpoondown: [[\"rightharpoondown\"], 0.888, 522, \"xMaxYMin\"],\n  xlongequal: [[\"longequal\"], 0.888, 334, \"xMinYMin\"],\n  \"\\\\cdlongequal\": [[\"longequal\"], 3.0, 334, \"xMinYMin\"],\n  xtwoheadleftarrow: [[\"twoheadleftarrow\"], 0.888, 334, \"xMinYMin\"],\n  xtwoheadrightarrow: [[\"twoheadrightarrow\"], 0.888, 334, \"xMaxYMin\"],\n  overleftrightarrow: [[\"leftarrow\", \"rightarrow\"], 0.888, 522],\n  overbrace: [[\"leftbrace\", \"midbrace\", \"rightbrace\"], 1.6, 548],\n  underbrace: [[\"leftbraceunder\", \"midbraceunder\", \"rightbraceunder\"], 1.6, 548],\n  underleftrightarrow: [[\"leftarrow\", \"rightarrow\"], 0.888, 522],\n  xleftrightarrow: [[\"leftarrow\", \"rightarrow\"], 1.75, 522],\n  xLeftrightarrow: [[\"doubleleftarrow\", \"doublerightarrow\"], 1.75, 560],\n  xrightleftharpoons: [[\"leftharpoondownplus\", \"rightharpoonplus\"], 1.75, 716],\n  xleftrightharpoons: [[\"leftharpoonplus\", \"rightharpoondownplus\"], 1.75, 716],\n  xhookleftarrow: [[\"leftarrow\", \"righthook\"], 1.08, 522],\n  xhookrightarrow: [[\"lefthook\", \"rightarrow\"], 1.08, 522],\n  overlinesegment: [[\"leftlinesegment\", \"rightlinesegment\"], 0.888, 522],\n  underlinesegment: [[\"leftlinesegment\", \"rightlinesegment\"], 0.888, 522],\n  overgroup: [[\"leftgroup\", \"rightgroup\"], 0.888, 342],\n  undergroup: [[\"leftgroupunder\", \"rightgroupunder\"], 0.888, 342],\n  xmapsto: [[\"leftmapsto\", \"rightarrow\"], 1.5, 522],\n  xtofrom: [[\"leftToFrom\", \"rightToFrom\"], 1.75, 528],\n  // The next three arrows are from the mhchem package.\n  // In mhchem.sty, min-length is 2.0em. But these arrows might appear in the\n  // document as \\xrightarrow or \\xrightleftharpoons. Those have\n  // min-length = 1.75em, so we set min-length on these next three to match.\n  xrightleftarrows: [[\"baraboveleftarrow\", \"rightarrowabovebar\"], 1.75, 901],\n  xrightequilibrium: [[\"baraboveshortleftharpoon\", \"rightharpoonaboveshortbar\"], 1.75, 716],\n  xleftequilibrium: [[\"shortbaraboveleftharpoon\", \"shortrightharpoonabovebar\"], 1.75, 716]\n};\n\nvar groupLength = function groupLength(arg) {\n  if (arg.type === \"ordgroup\") {\n    return arg.body.length;\n  } else {\n    return 1;\n  }\n};\n\nvar svgSpan = function svgSpan(group, options) {\n  // Create a span with inline SVG for the element.\n  function buildSvgSpan_() {\n    var viewBoxWidth = 400000; // default\n\n    var label = group.label.slice(1);\n\n    if ([\"widehat\", \"widecheck\", \"widetilde\", \"utilde\"].includes(label)) {\n      // Each type in the `if` statement corresponds to one of the ParseNode\n      // types below. This narrowing is required to access `grp.base`.\n      // $FlowFixMe\n      var grp = group; // There are four SVG images available for each function.\n      // Choose a taller image when there are more characters.\n\n      var numChars = groupLength(grp.base);\n      var viewBoxHeight;\n      var pathName;\n\n      var _height;\n\n      if (numChars > 5) {\n        if (label === \"widehat\" || label === \"widecheck\") {\n          viewBoxHeight = 420;\n          viewBoxWidth = 2364;\n          _height = 0.42;\n          pathName = label + \"4\";\n        } else {\n          viewBoxHeight = 312;\n          viewBoxWidth = 2340;\n          _height = 0.34;\n          pathName = \"tilde4\";\n        }\n      } else {\n        var imgIndex = [1, 1, 2, 2, 3, 3][numChars];\n\n        if (label === \"widehat\" || label === \"widecheck\") {\n          viewBoxWidth = [0, 1062, 2364, 2364, 2364][imgIndex];\n          viewBoxHeight = [0, 239, 300, 360, 420][imgIndex];\n          _height = [0, 0.24, 0.3, 0.3, 0.36, 0.42][imgIndex];\n          pathName = label + imgIndex;\n        } else {\n          viewBoxWidth = [0, 600, 1033, 2339, 2340][imgIndex];\n          viewBoxHeight = [0, 260, 286, 306, 312][imgIndex];\n          _height = [0, 0.26, 0.286, 0.3, 0.306, 0.34][imgIndex];\n          pathName = \"tilde\" + imgIndex;\n        }\n      }\n\n      var path = new PathNode(pathName);\n      var svgNode = new SvgNode([path], {\n        \"width\": \"100%\",\n        \"height\": makeEm(_height),\n        \"viewBox\": \"0 0 \" + viewBoxWidth + \" \" + viewBoxHeight,\n        \"preserveAspectRatio\": \"none\"\n      });\n      return {\n        span: buildCommon.makeSvgSpan([], [svgNode], options),\n        minWidth: 0,\n        height: _height\n      };\n    } else {\n      var spans = [];\n      var data = katexImagesData[label];\n      var [paths, _minWidth, _viewBoxHeight] = data;\n\n      var _height2 = _viewBoxHeight / 1000;\n\n      var numSvgChildren = paths.length;\n      var widthClasses;\n      var aligns;\n\n      if (numSvgChildren === 1) {\n        // $FlowFixMe: All these cases must be of the 4-tuple type.\n        var align1 = data[3];\n        widthClasses = [\"hide-tail\"];\n        aligns = [align1];\n      } else if (numSvgChildren === 2) {\n        widthClasses = [\"halfarrow-left\", \"halfarrow-right\"];\n        aligns = [\"xMinYMin\", \"xMaxYMin\"];\n      } else if (numSvgChildren === 3) {\n        widthClasses = [\"brace-left\", \"brace-center\", \"brace-right\"];\n        aligns = [\"xMinYMin\", \"xMidYMin\", \"xMaxYMin\"];\n      } else {\n        throw new Error(\"Correct katexImagesData or update code here to support\\n                    \" + numSvgChildren + \" children.\");\n      }\n\n      for (var i = 0; i < numSvgChildren; i++) {\n        var _path = new PathNode(paths[i]);\n\n        var _svgNode = new SvgNode([_path], {\n          \"width\": \"400em\",\n          \"height\": makeEm(_height2),\n          \"viewBox\": \"0 0 \" + viewBoxWidth + \" \" + _viewBoxHeight,\n          \"preserveAspectRatio\": aligns[i] + \" slice\"\n        });\n\n        var _span = buildCommon.makeSvgSpan([widthClasses[i]], [_svgNode], options);\n\n        if (numSvgChildren === 1) {\n          return {\n            span: _span,\n            minWidth: _minWidth,\n            height: _height2\n          };\n        } else {\n          _span.style.height = makeEm(_height2);\n          spans.push(_span);\n        }\n      }\n\n      return {\n        span: buildCommon.makeSpan([\"stretchy\"], spans, options),\n        minWidth: _minWidth,\n        height: _height2\n      };\n    }\n  } // buildSvgSpan_()\n\n\n  var {\n    span,\n    minWidth,\n    height\n  } = buildSvgSpan_(); // Note that we are returning span.depth = 0.\n  // Any adjustments relative to the baseline must be done in buildHTML.\n\n  span.height = height;\n  span.style.height = makeEm(height);\n\n  if (minWidth > 0) {\n    span.style.minWidth = makeEm(minWidth);\n  }\n\n  return span;\n};\n\nvar encloseSpan = function encloseSpan(inner, label, topPad, bottomPad, options) {\n  // Return an image span for \\cancel, \\bcancel, \\xcancel, \\fbox, or \\angl\n  var img;\n  var totalHeight = inner.height + inner.depth + topPad + bottomPad;\n\n  if (/fbox|color|angl/.test(label)) {\n    img = buildCommon.makeSpan([\"stretchy\", label], [], options);\n\n    if (label === \"fbox\") {\n      var color = options.color && options.getColor();\n\n      if (color) {\n        img.style.borderColor = color;\n      }\n    }\n  } else {\n    // \\cancel, \\bcancel, or \\xcancel\n    // Since \\cancel's SVG is inline and it omits the viewBox attribute,\n    // its stroke-width will not vary with span area.\n    var lines = [];\n\n    if (/^[bx]cancel$/.test(label)) {\n      lines.push(new LineNode({\n        \"x1\": \"0\",\n        \"y1\": \"0\",\n        \"x2\": \"100%\",\n        \"y2\": \"100%\",\n        \"stroke-width\": \"0.046em\"\n      }));\n    }\n\n    if (/^x?cancel$/.test(label)) {\n      lines.push(new LineNode({\n        \"x1\": \"0\",\n        \"y1\": \"100%\",\n        \"x2\": \"100%\",\n        \"y2\": \"0\",\n        \"stroke-width\": \"0.046em\"\n      }));\n    }\n\n    var svgNode = new SvgNode(lines, {\n      \"width\": \"100%\",\n      \"height\": makeEm(totalHeight)\n    });\n    img = buildCommon.makeSvgSpan([], [svgNode], options);\n  }\n\n  img.height = totalHeight;\n  img.style.height = makeEm(totalHeight);\n  return img;\n};\n\nvar stretchy = {\n  encloseSpan,\n  mathMLnode,\n  svgSpan\n};\n\n/**\n * Asserts that the node is of the given type and returns it with stricter\n * typing. Throws if the node's type does not match.\n */\nfunction assertNodeType(node, type) {\n  if (!node || node.type !== type) {\n    throw new Error(\"Expected node of type \" + type + \", but got \" + (node ? \"node of type \" + node.type : String(node)));\n  } // $FlowFixMe, >=0.125\n\n\n  return node;\n}\n/**\n * Returns the node more strictly typed iff it is of the given type. Otherwise,\n * returns null.\n */\n\nfunction assertSymbolNodeType(node) {\n  var typedNode = checkSymbolNodeType(node);\n\n  if (!typedNode) {\n    throw new Error(\"Expected node of symbol group type, but got \" + (node ? \"node of type \" + node.type : String(node)));\n  }\n\n  return typedNode;\n}\n/**\n * Returns the node more strictly typed iff it is of the given type. Otherwise,\n * returns null.\n */\n\nfunction checkSymbolNodeType(node) {\n  if (node && (node.type === \"atom\" || NON_ATOMS.hasOwnProperty(node.type))) {\n    // $FlowFixMe\n    return node;\n  }\n\n  return null;\n}\n\n// NOTE: Unlike most `htmlBuilder`s, this one handles not only \"accent\", but\n// also \"supsub\" since an accent can affect super/subscripting.\nvar htmlBuilder$a = (grp, options) => {\n  // Accents are handled in the TeXbook pg. 443, rule 12.\n  var base;\n  var group;\n  var supSubGroup;\n\n  if (grp && grp.type === \"supsub\") {\n    // If our base is a character box, and we have superscripts and\n    // subscripts, the supsub will defer to us. In particular, we want\n    // to attach the superscripts and subscripts to the inner body (so\n    // that the position of the superscripts and subscripts won't be\n    // affected by the height of the accent). We accomplish this by\n    // sticking the base of the accent into the base of the supsub, and\n    // rendering that, while keeping track of where the accent is.\n    // The real accent group is the base of the supsub group\n    group = assertNodeType(grp.base, \"accent\"); // The character box is the base of the accent group\n\n    base = group.base; // Stick the character box into the base of the supsub group\n\n    grp.base = base; // Rerender the supsub group with its new base, and store that\n    // result.\n\n    supSubGroup = assertSpan(buildGroup$1(grp, options)); // reset original base\n\n    grp.base = group;\n  } else {\n    group = assertNodeType(grp, \"accent\");\n    base = group.base;\n  } // Build the base group\n\n\n  var body = buildGroup$1(base, options.havingCrampedStyle()); // Does the accent need to shift for the skew of a character?\n\n  var mustShift = group.isShifty && utils.isCharacterBox(base); // Calculate the skew of the accent. This is based on the line \"If the\n  // nucleus is not a single character, let s = 0; otherwise set s to the\n  // kern amount for the nucleus followed by the \\skewchar of its font.\"\n  // Note that our skew metrics are just the kern between each character\n  // and the skewchar.\n\n  var skew = 0;\n\n  if (mustShift) {\n    // If the base is a character box, then we want the skew of the\n    // innermost character. To do that, we find the innermost character:\n    var baseChar = utils.getBaseElem(base); // Then, we render its group to get the symbol inside it\n\n    var baseGroup = buildGroup$1(baseChar, options.havingCrampedStyle()); // Finally, we pull the skew off of the symbol.\n\n    skew = assertSymbolDomNode(baseGroup).skew; // Note that we now throw away baseGroup, because the layers we\n    // removed with getBaseElem might contain things like \\color which\n    // we can't get rid of.\n    // TODO(emily): Find a better way to get the skew\n  }\n\n  var accentBelow = group.label === \"\\\\c\"; // calculate the amount of space between the body and the accent\n\n  var clearance = accentBelow ? body.height + body.depth : Math.min(body.height, options.fontMetrics().xHeight); // Build the accent\n\n  var accentBody;\n\n  if (!group.isStretchy) {\n    var accent;\n    var width;\n\n    if (group.label === \"\\\\vec\") {\n      // Before version 0.9, \\vec used the combining font glyph U+20D7.\n      // But browsers, especially Safari, are not consistent in how they\n      // render combining characters when not preceded by a character.\n      // So now we use an SVG.\n      // If Safari reforms, we should consider reverting to the glyph.\n      accent = buildCommon.staticSvg(\"vec\", options);\n      width = buildCommon.svgData.vec[1];\n    } else {\n      accent = buildCommon.makeOrd({\n        mode: group.mode,\n        text: group.label\n      }, options, \"textord\");\n      accent = assertSymbolDomNode(accent); // Remove the italic correction of the accent, because it only serves to\n      // shift the accent over to a place we don't want.\n\n      accent.italic = 0;\n      width = accent.width;\n\n      if (accentBelow) {\n        clearance += accent.depth;\n      }\n    }\n\n    accentBody = buildCommon.makeSpan([\"accent-body\"], [accent]); // \"Full\" accents expand the width of the resulting symbol to be\n    // at least the width of the accent, and overlap directly onto the\n    // character without any vertical offset.\n\n    var accentFull = group.label === \"\\\\textcircled\";\n\n    if (accentFull) {\n      accentBody.classes.push('accent-full');\n      clearance = body.height;\n    } // Shift the accent over by the skew.\n\n\n    var left = skew; // CSS defines `.katex .accent .accent-body:not(.accent-full) { width: 0 }`\n    // so that the accent doesn't contribute to the bounding box.\n    // We need to shift the character by its width (effectively half\n    // its width) to compensate.\n\n    if (!accentFull) {\n      left -= width / 2;\n    }\n\n    accentBody.style.left = makeEm(left); // \\textcircled uses the \\bigcirc glyph, so it needs some\n    // vertical adjustment to match LaTeX.\n\n    if (group.label === \"\\\\textcircled\") {\n      accentBody.style.top = \".2em\";\n    }\n\n    accentBody = buildCommon.makeVList({\n      positionType: \"firstBaseline\",\n      children: [{\n        type: \"elem\",\n        elem: body\n      }, {\n        type: \"kern\",\n        size: -clearance\n      }, {\n        type: \"elem\",\n        elem: accentBody\n      }]\n    }, options);\n  } else {\n    accentBody = stretchy.svgSpan(group, options);\n    accentBody = buildCommon.makeVList({\n      positionType: \"firstBaseline\",\n      children: [{\n        type: \"elem\",\n        elem: body\n      }, {\n        type: \"elem\",\n        elem: accentBody,\n        wrapperClasses: [\"svg-align\"],\n        wrapperStyle: skew > 0 ? {\n          width: \"calc(100% - \" + makeEm(2 * skew) + \")\",\n          marginLeft: makeEm(2 * skew)\n        } : undefined\n      }]\n    }, options);\n  }\n\n  var accentWrap = buildCommon.makeSpan([\"mord\", \"accent\"], [accentBody], options);\n\n  if (supSubGroup) {\n    // Here, we replace the \"base\" child of the supsub with our newly\n    // generated accent.\n    supSubGroup.children[0] = accentWrap; // Since we don't rerun the height calculation after replacing the\n    // accent, we manually recalculate height.\n\n    supSubGroup.height = Math.max(accentWrap.height, supSubGroup.height); // Accents should always be ords, even when their innards are not.\n\n    supSubGroup.classes[0] = \"mord\";\n    return supSubGroup;\n  } else {\n    return accentWrap;\n  }\n};\n\nvar mathmlBuilder$9 = (group, options) => {\n  var accentNode = group.isStretchy ? stretchy.mathMLnode(group.label) : new mathMLTree.MathNode(\"mo\", [makeText(group.label, group.mode)]);\n  var node = new mathMLTree.MathNode(\"mover\", [buildGroup(group.base, options), accentNode]);\n  node.setAttribute(\"accent\", \"true\");\n  return node;\n};\n\nvar NON_STRETCHY_ACCENT_REGEX = new RegExp([\"\\\\acute\", \"\\\\grave\", \"\\\\ddot\", \"\\\\tilde\", \"\\\\bar\", \"\\\\breve\", \"\\\\check\", \"\\\\hat\", \"\\\\vec\", \"\\\\dot\", \"\\\\mathring\"].map(accent => \"\\\\\" + accent).join(\"|\")); // Accents\n\ndefineFunction({\n  type: \"accent\",\n  names: [\"\\\\acute\", \"\\\\grave\", \"\\\\ddot\", \"\\\\tilde\", \"\\\\bar\", \"\\\\breve\", \"\\\\check\", \"\\\\hat\", \"\\\\vec\", \"\\\\dot\", \"\\\\mathring\", \"\\\\widecheck\", \"\\\\widehat\", \"\\\\widetilde\", \"\\\\overrightarrow\", \"\\\\overleftarrow\", \"\\\\Overrightarrow\", \"\\\\overleftrightarrow\", \"\\\\overgroup\", \"\\\\overlinesegment\", \"\\\\overleftharpoon\", \"\\\\overrightharpoon\"],\n  props: {\n    numArgs: 1\n  },\n  handler: (context, args) => {\n    var base = normalizeArgument(args[0]);\n    var isStretchy = !NON_STRETCHY_ACCENT_REGEX.test(context.funcName);\n    var isShifty = !isStretchy || context.funcName === \"\\\\widehat\" || context.funcName === \"\\\\widetilde\" || context.funcName === \"\\\\widecheck\";\n    return {\n      type: \"accent\",\n      mode: context.parser.mode,\n      label: context.funcName,\n      isStretchy: isStretchy,\n      isShifty: isShifty,\n      base: base\n    };\n  },\n  htmlBuilder: htmlBuilder$a,\n  mathmlBuilder: mathmlBuilder$9\n}); // Text-mode accents\n\ndefineFunction({\n  type: \"accent\",\n  names: [\"\\\\'\", \"\\\\`\", \"\\\\^\", \"\\\\~\", \"\\\\=\", \"\\\\u\", \"\\\\.\", '\\\\\"', \"\\\\c\", \"\\\\r\", \"\\\\H\", \"\\\\v\", \"\\\\textcircled\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true,\n    allowedInMath: true,\n    // unless in strict mode\n    argTypes: [\"primitive\"]\n  },\n  handler: (context, args) => {\n    var base = args[0];\n    var mode = context.parser.mode;\n\n    if (mode === \"math\") {\n      context.parser.settings.reportNonstrict(\"mathVsTextAccents\", \"LaTeX's accent \" + context.funcName + \" works only in text mode\");\n      mode = \"text\";\n    }\n\n    return {\n      type: \"accent\",\n      mode: mode,\n      label: context.funcName,\n      isStretchy: false,\n      isShifty: true,\n      base: base\n    };\n  },\n  htmlBuilder: htmlBuilder$a,\n  mathmlBuilder: mathmlBuilder$9\n});\n\n// Horizontal overlap functions\ndefineFunction({\n  type: \"accentUnder\",\n  names: [\"\\\\underleftarrow\", \"\\\\underrightarrow\", \"\\\\underleftrightarrow\", \"\\\\undergroup\", \"\\\\underlinesegment\", \"\\\\utilde\"],\n  props: {\n    numArgs: 1\n  },\n  handler: (_ref, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var base = args[0];\n    return {\n      type: \"accentUnder\",\n      mode: parser.mode,\n      label: funcName,\n      base: base\n    };\n  },\n  htmlBuilder: (group, options) => {\n    // Treat under accents much like underlines.\n    var innerGroup = buildGroup$1(group.base, options);\n    var accentBody = stretchy.svgSpan(group, options);\n    var kern = group.label === \"\\\\utilde\" ? 0.12 : 0; // Generate the vlist, with the appropriate kerns\n\n    var vlist = buildCommon.makeVList({\n      positionType: \"top\",\n      positionData: innerGroup.height,\n      children: [{\n        type: \"elem\",\n        elem: accentBody,\n        wrapperClasses: [\"svg-align\"]\n      }, {\n        type: \"kern\",\n        size: kern\n      }, {\n        type: \"elem\",\n        elem: innerGroup\n      }]\n    }, options);\n    return buildCommon.makeSpan([\"mord\", \"accentunder\"], [vlist], options);\n  },\n  mathmlBuilder: (group, options) => {\n    var accentNode = stretchy.mathMLnode(group.label);\n    var node = new mathMLTree.MathNode(\"munder\", [buildGroup(group.base, options), accentNode]);\n    node.setAttribute(\"accentunder\", \"true\");\n    return node;\n  }\n});\n\n// Helper function\nvar paddedNode = group => {\n  var node = new mathMLTree.MathNode(\"mpadded\", group ? [group] : []);\n  node.setAttribute(\"width\", \"+0.6em\");\n  node.setAttribute(\"lspace\", \"0.3em\");\n  return node;\n}; // Stretchy arrows with an optional argument\n\n\ndefineFunction({\n  type: \"xArrow\",\n  names: [\"\\\\xleftarrow\", \"\\\\xrightarrow\", \"\\\\xLeftarrow\", \"\\\\xRightarrow\", \"\\\\xleftrightarrow\", \"\\\\xLeftrightarrow\", \"\\\\xhookleftarrow\", \"\\\\xhookrightarrow\", \"\\\\xmapsto\", \"\\\\xrightharpoondown\", \"\\\\xrightharpoonup\", \"\\\\xleftharpoondown\", \"\\\\xleftharpoonup\", \"\\\\xrightleftharpoons\", \"\\\\xleftrightharpoons\", \"\\\\xlongequal\", \"\\\\xtwoheadrightarrow\", \"\\\\xtwoheadleftarrow\", \"\\\\xtofrom\", // The next 3 functions are here to support the mhchem extension.\n  // Direct use of these functions is discouraged and may break someday.\n  \"\\\\xrightleftarrows\", \"\\\\xrightequilibrium\", \"\\\\xleftequilibrium\", // The next 3 functions are here only to support the {CD} environment.\n  \"\\\\\\\\cdrightarrow\", \"\\\\\\\\cdleftarrow\", \"\\\\\\\\cdlongequal\"],\n  props: {\n    numArgs: 1,\n    numOptionalArgs: 1\n  },\n\n  handler(_ref, args, optArgs) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    return {\n      type: \"xArrow\",\n      mode: parser.mode,\n      label: funcName,\n      body: args[0],\n      below: optArgs[0]\n    };\n  },\n\n  // Flow is unable to correctly infer the type of `group`, even though it's\n  // unambiguously determined from the passed-in `type` above.\n  htmlBuilder(group, options) {\n    var style = options.style; // Build the argument groups in the appropriate style.\n    // Ref: amsmath.dtx:   \\hbox{$\\scriptstyle\\mkern#3mu{#6}\\mkern#4mu$}%\n    // Some groups can return document fragments.  Handle those by wrapping\n    // them in a span.\n\n    var newOptions = options.havingStyle(style.sup());\n    var upperGroup = buildCommon.wrapFragment(buildGroup$1(group.body, newOptions, options), options);\n    var arrowPrefix = group.label.slice(0, 2) === \"\\\\x\" ? \"x\" : \"cd\";\n    upperGroup.classes.push(arrowPrefix + \"-arrow-pad\");\n    var lowerGroup;\n\n    if (group.below) {\n      // Build the lower group\n      newOptions = options.havingStyle(style.sub());\n      lowerGroup = buildCommon.wrapFragment(buildGroup$1(group.below, newOptions, options), options);\n      lowerGroup.classes.push(arrowPrefix + \"-arrow-pad\");\n    }\n\n    var arrowBody = stretchy.svgSpan(group, options); // Re shift: Note that stretchy.svgSpan returned arrowBody.depth = 0.\n    // The point we want on the math axis is at 0.5 * arrowBody.height.\n\n    var arrowShift = -options.fontMetrics().axisHeight + 0.5 * arrowBody.height; // 2 mu kern. Ref: amsmath.dtx: #7\\if0#2\\else\\mkern#2mu\\fi\n\n    var upperShift = -options.fontMetrics().axisHeight - 0.5 * arrowBody.height - 0.111; // 0.111 em = 2 mu\n\n    if (upperGroup.depth > 0.25 || group.label === \"\\\\xleftequilibrium\") {\n      upperShift -= upperGroup.depth; // shift up if depth encroaches\n    } // Generate the vlist\n\n\n    var vlist;\n\n    if (lowerGroup) {\n      var lowerShift = -options.fontMetrics().axisHeight + lowerGroup.height + 0.5 * arrowBody.height + 0.111;\n      vlist = buildCommon.makeVList({\n        positionType: \"individualShift\",\n        children: [{\n          type: \"elem\",\n          elem: upperGroup,\n          shift: upperShift\n        }, {\n          type: \"elem\",\n          elem: arrowBody,\n          shift: arrowShift\n        }, {\n          type: \"elem\",\n          elem: lowerGroup,\n          shift: lowerShift\n        }]\n      }, options);\n    } else {\n      vlist = buildCommon.makeVList({\n        positionType: \"individualShift\",\n        children: [{\n          type: \"elem\",\n          elem: upperGroup,\n          shift: upperShift\n        }, {\n          type: \"elem\",\n          elem: arrowBody,\n          shift: arrowShift\n        }]\n      }, options);\n    } // $FlowFixMe: Replace this with passing \"svg-align\" into makeVList.\n\n\n    vlist.children[0].children[0].children[1].classes.push(\"svg-align\");\n    return buildCommon.makeSpan([\"mrel\", \"x-arrow\"], [vlist], options);\n  },\n\n  mathmlBuilder(group, options) {\n    var arrowNode = stretchy.mathMLnode(group.label);\n    arrowNode.setAttribute(\"minsize\", group.label.charAt(0) === \"x\" ? \"1.75em\" : \"3.0em\");\n    var node;\n\n    if (group.body) {\n      var upperNode = paddedNode(buildGroup(group.body, options));\n\n      if (group.below) {\n        var lowerNode = paddedNode(buildGroup(group.below, options));\n        node = new mathMLTree.MathNode(\"munderover\", [arrowNode, lowerNode, upperNode]);\n      } else {\n        node = new mathMLTree.MathNode(\"mover\", [arrowNode, upperNode]);\n      }\n    } else if (group.below) {\n      var _lowerNode = paddedNode(buildGroup(group.below, options));\n\n      node = new mathMLTree.MathNode(\"munder\", [arrowNode, _lowerNode]);\n    } else {\n      // This should never happen.\n      // Parser.js throws an error if there is no argument.\n      node = paddedNode();\n      node = new mathMLTree.MathNode(\"mover\", [arrowNode, node]);\n    }\n\n    return node;\n  }\n\n});\n\nvar makeSpan = buildCommon.makeSpan;\n\nfunction htmlBuilder$9(group, options) {\n  var elements = buildExpression$1(group.body, options, true);\n  return makeSpan([group.mclass], elements, options);\n}\n\nfunction mathmlBuilder$8(group, options) {\n  var node;\n  var inner = buildExpression(group.body, options);\n\n  if (group.mclass === \"minner\") {\n    node = new mathMLTree.MathNode(\"mpadded\", inner);\n  } else if (group.mclass === \"mord\") {\n    if (group.isCharacterBox) {\n      node = inner[0];\n      node.type = \"mi\";\n    } else {\n      node = new mathMLTree.MathNode(\"mi\", inner);\n    }\n  } else {\n    if (group.isCharacterBox) {\n      node = inner[0];\n      node.type = \"mo\";\n    } else {\n      node = new mathMLTree.MathNode(\"mo\", inner);\n    } // Set spacing based on what is the most likely adjacent atom type.\n    // See TeXbook p170.\n\n\n    if (group.mclass === \"mbin\") {\n      node.attributes.lspace = \"0.22em\"; // medium space\n\n      node.attributes.rspace = \"0.22em\";\n    } else if (group.mclass === \"mpunct\") {\n      node.attributes.lspace = \"0em\";\n      node.attributes.rspace = \"0.17em\"; // thinspace\n    } else if (group.mclass === \"mopen\" || group.mclass === \"mclose\") {\n      node.attributes.lspace = \"0em\";\n      node.attributes.rspace = \"0em\";\n    } else if (group.mclass === \"minner\") {\n      node.attributes.lspace = \"0.0556em\"; // 1 mu is the most likely option\n\n      node.attributes.width = \"+0.1111em\";\n    } // MathML <mo> default space is 5/18 em, so <mrel> needs no action.\n    // Ref: https://developer.mozilla.org/en-US/docs/Web/MathML/Element/mo\n\n  }\n\n  return node;\n} // Math class commands except \\mathop\n\n\ndefineFunction({\n  type: \"mclass\",\n  names: [\"\\\\mathord\", \"\\\\mathbin\", \"\\\\mathrel\", \"\\\\mathopen\", \"\\\\mathclose\", \"\\\\mathpunct\", \"\\\\mathinner\"],\n  props: {\n    numArgs: 1,\n    primitive: true\n  },\n\n  handler(_ref, args) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var body = args[0];\n    return {\n      type: \"mclass\",\n      mode: parser.mode,\n      mclass: \"m\" + funcName.slice(5),\n      // TODO(kevinb): don't prefix with 'm'\n      body: ordargument(body),\n      isCharacterBox: utils.isCharacterBox(body)\n    };\n  },\n\n  htmlBuilder: htmlBuilder$9,\n  mathmlBuilder: mathmlBuilder$8\n});\nvar binrelClass = arg => {\n  // \\binrel@ spacing varies with (bin|rel|ord) of the atom in the argument.\n  // (by rendering separately and with {}s before and after, and measuring\n  // the change in spacing).  We'll do roughly the same by detecting the\n  // atom type directly.\n  var atom = arg.type === \"ordgroup\" && arg.body.length ? arg.body[0] : arg;\n\n  if (atom.type === \"atom\" && (atom.family === \"bin\" || atom.family === \"rel\")) {\n    return \"m\" + atom.family;\n  } else {\n    return \"mord\";\n  }\n}; // \\@binrel{x}{y} renders like y but as mbin/mrel/mord if x is mbin/mrel/mord.\n// This is equivalent to \\binrel@{x}\\binrel@@{y} in AMSTeX.\n\ndefineFunction({\n  type: \"mclass\",\n  names: [\"\\\\@binrel\"],\n  props: {\n    numArgs: 2\n  },\n\n  handler(_ref2, args) {\n    var {\n      parser\n    } = _ref2;\n    return {\n      type: \"mclass\",\n      mode: parser.mode,\n      mclass: binrelClass(args[0]),\n      body: ordargument(args[1]),\n      isCharacterBox: utils.isCharacterBox(args[1])\n    };\n  }\n\n}); // Build a relation or stacked op by placing one symbol on top of another\n\ndefineFunction({\n  type: \"mclass\",\n  names: [\"\\\\stackrel\", \"\\\\overset\", \"\\\\underset\"],\n  props: {\n    numArgs: 2\n  },\n\n  handler(_ref3, args) {\n    var {\n      parser,\n      funcName\n    } = _ref3;\n    var baseArg = args[1];\n    var shiftedArg = args[0];\n    var mclass;\n\n    if (funcName !== \"\\\\stackrel\") {\n      // LaTeX applies \\binrel spacing to \\overset and \\underset.\n      mclass = binrelClass(baseArg);\n    } else {\n      mclass = \"mrel\"; // for \\stackrel\n    }\n\n    var baseOp = {\n      type: \"op\",\n      mode: baseArg.mode,\n      limits: true,\n      alwaysHandleSupSub: true,\n      parentIsSupSub: false,\n      symbol: false,\n      suppressBaseShift: funcName !== \"\\\\stackrel\",\n      body: ordargument(baseArg)\n    };\n    var supsub = {\n      type: \"supsub\",\n      mode: shiftedArg.mode,\n      base: baseOp,\n      sup: funcName === \"\\\\underset\" ? null : shiftedArg,\n      sub: funcName === \"\\\\underset\" ? shiftedArg : null\n    };\n    return {\n      type: \"mclass\",\n      mode: parser.mode,\n      mclass,\n      body: [supsub],\n      isCharacterBox: utils.isCharacterBox(supsub)\n    };\n  },\n\n  htmlBuilder: htmlBuilder$9,\n  mathmlBuilder: mathmlBuilder$8\n});\n\n// \\pmb is a simulation of bold font.\n// The version of \\pmb in ambsy.sty works by typesetting three copies\n// with small offsets. We use CSS text-shadow.\n// It's a hack. Not as good as a real bold font. Better than nothing.\ndefineFunction({\n  type: \"pmb\",\n  names: [\"\\\\pmb\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true\n  },\n\n  handler(_ref, args) {\n    var {\n      parser\n    } = _ref;\n    return {\n      type: \"pmb\",\n      mode: parser.mode,\n      mclass: binrelClass(args[0]),\n      body: ordargument(args[0])\n    };\n  },\n\n  htmlBuilder(group, options) {\n    var elements = buildExpression$1(group.body, options, true);\n    var node = buildCommon.makeSpan([group.mclass], elements, options);\n    node.style.textShadow = \"0.02em 0.01em 0.04px\";\n    return node;\n  },\n\n  mathmlBuilder(group, style) {\n    var inner = buildExpression(group.body, style); // Wrap with an <mstyle> element.\n\n    var node = new mathMLTree.MathNode(\"mstyle\", inner);\n    node.setAttribute(\"style\", \"text-shadow: 0.02em 0.01em 0.04px\");\n    return node;\n  }\n\n});\n\nvar cdArrowFunctionName = {\n  \">\": \"\\\\\\\\cdrightarrow\",\n  \"<\": \"\\\\\\\\cdleftarrow\",\n  \"=\": \"\\\\\\\\cdlongequal\",\n  \"A\": \"\\\\uparrow\",\n  \"V\": \"\\\\downarrow\",\n  \"|\": \"\\\\Vert\",\n  \".\": \"no arrow\"\n};\n\nvar newCell = () => {\n  // Create an empty cell, to be filled below with parse nodes.\n  // The parseTree from this module must be constructed like the\n  // one created by parseArray(), so an empty CD cell must\n  // be a ParseNode<\"styling\">. And CD is always displaystyle.\n  // So these values are fixed and flow can do implicit typing.\n  return {\n    type: \"styling\",\n    body: [],\n    mode: \"math\",\n    style: \"display\"\n  };\n};\n\nvar isStartOfArrow = node => {\n  return node.type === \"textord\" && node.text === \"@\";\n};\n\nvar isLabelEnd = (node, endChar) => {\n  return (node.type === \"mathord\" || node.type === \"atom\") && node.text === endChar;\n};\n\nfunction cdArrow(arrowChar, labels, parser) {\n  // Return a parse tree of an arrow and its labels.\n  // This acts in a way similar to a macro expansion.\n  var funcName = cdArrowFunctionName[arrowChar];\n\n  switch (funcName) {\n    case \"\\\\\\\\cdrightarrow\":\n    case \"\\\\\\\\cdleftarrow\":\n      return parser.callFunction(funcName, [labels[0]], [labels[1]]);\n\n    case \"\\\\uparrow\":\n    case \"\\\\downarrow\":\n      {\n        var leftLabel = parser.callFunction(\"\\\\\\\\cdleft\", [labels[0]], []);\n        var bareArrow = {\n          type: \"atom\",\n          text: funcName,\n          mode: \"math\",\n          family: \"rel\"\n        };\n        var sizedArrow = parser.callFunction(\"\\\\Big\", [bareArrow], []);\n        var rightLabel = parser.callFunction(\"\\\\\\\\cdright\", [labels[1]], []);\n        var arrowGroup = {\n          type: \"ordgroup\",\n          mode: \"math\",\n          body: [leftLabel, sizedArrow, rightLabel]\n        };\n        return parser.callFunction(\"\\\\\\\\cdparent\", [arrowGroup], []);\n      }\n\n    case \"\\\\\\\\cdlongequal\":\n      return parser.callFunction(\"\\\\\\\\cdlongequal\", [], []);\n\n    case \"\\\\Vert\":\n      {\n        var arrow = {\n          type: \"textord\",\n          text: \"\\\\Vert\",\n          mode: \"math\"\n        };\n        return parser.callFunction(\"\\\\Big\", [arrow], []);\n      }\n\n    default:\n      return {\n        type: \"textord\",\n        text: \" \",\n        mode: \"math\"\n      };\n  }\n}\n\nfunction parseCD(parser) {\n  // Get the array's parse nodes with \\\\ temporarily mapped to \\cr.\n  var parsedRows = [];\n  parser.gullet.beginGroup();\n  parser.gullet.macros.set(\"\\\\cr\", \"\\\\\\\\\\\\relax\");\n  parser.gullet.beginGroup();\n\n  while (true) {\n    // eslint-disable-line no-constant-condition\n    // Get the parse nodes for the next row.\n    parsedRows.push(parser.parseExpression(false, \"\\\\\\\\\"));\n    parser.gullet.endGroup();\n    parser.gullet.beginGroup();\n    var next = parser.fetch().text;\n\n    if (next === \"&\" || next === \"\\\\\\\\\") {\n      parser.consume();\n    } else if (next === \"\\\\end\") {\n      if (parsedRows[parsedRows.length - 1].length === 0) {\n        parsedRows.pop(); // final row ended in \\\\\n      }\n\n      break;\n    } else {\n      throw new ParseError(\"Expected \\\\\\\\ or \\\\cr or \\\\end\", parser.nextToken);\n    }\n  }\n\n  var row = [];\n  var body = [row]; // Loop thru the parse nodes. Collect them into cells and arrows.\n\n  for (var i = 0; i < parsedRows.length; i++) {\n    // Start a new row.\n    var rowNodes = parsedRows[i]; // Create the first cell.\n\n    var cell = newCell();\n\n    for (var j = 0; j < rowNodes.length; j++) {\n      if (!isStartOfArrow(rowNodes[j])) {\n        // If a parseNode is not an arrow, it goes into a cell.\n        cell.body.push(rowNodes[j]);\n      } else {\n        // Parse node j is an \"@\", the start of an arrow.\n        // Before starting on the arrow, push the cell into `row`.\n        row.push(cell); // Now collect parseNodes into an arrow.\n        // The character after \"@\" defines the arrow type.\n\n        j += 1;\n        var arrowChar = assertSymbolNodeType(rowNodes[j]).text; // Create two empty label nodes. We may or may not use them.\n\n        var labels = new Array(2);\n        labels[0] = {\n          type: \"ordgroup\",\n          mode: \"math\",\n          body: []\n        };\n        labels[1] = {\n          type: \"ordgroup\",\n          mode: \"math\",\n          body: []\n        }; // Process the arrow.\n\n        if (\"=|.\".indexOf(arrowChar) > -1) ; else if (\"<>AV\".indexOf(arrowChar) > -1) {\n          // Four arrows, `@>>>`, `@<<<`, `@AAA`, and `@VVV`, each take\n          // two optional labels. E.g. the right-point arrow syntax is\n          // really:  @>{optional label}>{optional label}>\n          // Collect parseNodes into labels.\n          for (var labelNum = 0; labelNum < 2; labelNum++) {\n            var inLabel = true;\n\n            for (var k = j + 1; k < rowNodes.length; k++) {\n              if (isLabelEnd(rowNodes[k], arrowChar)) {\n                inLabel = false;\n                j = k;\n                break;\n              }\n\n              if (isStartOfArrow(rowNodes[k])) {\n                throw new ParseError(\"Missing a \" + arrowChar + \" character to complete a CD arrow.\", rowNodes[k]);\n              }\n\n              labels[labelNum].body.push(rowNodes[k]);\n            }\n\n            if (inLabel) {\n              // isLabelEnd never returned a true.\n              throw new ParseError(\"Missing a \" + arrowChar + \" character to complete a CD arrow.\", rowNodes[j]);\n            }\n          }\n        } else {\n          throw new ParseError(\"Expected one of \\\"<>AV=|.\\\" after @\", rowNodes[j]);\n        } // Now join the arrow to its labels.\n\n\n        var arrow = cdArrow(arrowChar, labels, parser); // Wrap the arrow in  ParseNode<\"styling\">.\n        // This is done to match parseArray() behavior.\n\n        var wrappedArrow = {\n          type: \"styling\",\n          body: [arrow],\n          mode: \"math\",\n          style: \"display\" // CD is always displaystyle.\n\n        };\n        row.push(wrappedArrow); // In CD's syntax, cells are implicit. That is, everything that\n        // is not an arrow gets collected into a cell. So create an empty\n        // cell now. It will collect upcoming parseNodes.\n\n        cell = newCell();\n      }\n    }\n\n    if (i % 2 === 0) {\n      // Even-numbered rows consist of: cell, arrow, cell, arrow, ... cell\n      // The last cell is not yet pushed into `row`, so:\n      row.push(cell);\n    } else {\n      // Odd-numbered rows consist of: vert arrow, empty cell, ... vert arrow\n      // Remove the empty cell that was placed at the beginning of `row`.\n      row.shift();\n    }\n\n    row = [];\n    body.push(row);\n  } // End row group\n\n\n  parser.gullet.endGroup(); // End array group defining \\\\\n\n  parser.gullet.endGroup(); // define column separation.\n\n  var cols = new Array(body[0].length).fill({\n    type: \"align\",\n    align: \"c\",\n    pregap: 0.25,\n    // CD package sets \\enskip between columns.\n    postgap: 0.25 // So pre and post each get half an \\enskip, i.e. 0.25em.\n\n  });\n  return {\n    type: \"array\",\n    mode: \"math\",\n    body,\n    arraystretch: 1,\n    addJot: true,\n    rowGaps: [null],\n    cols,\n    colSeparationType: \"CD\",\n    hLinesBeforeRow: new Array(body.length + 1).fill([])\n  };\n} // The functions below are not available for general use.\n// They are here only for internal use by the {CD} environment in placing labels\n// next to vertical arrows.\n// We don't need any such functions for horizontal arrows because we can reuse\n// the functionality that already exists for extensible arrows.\n\ndefineFunction({\n  type: \"cdlabel\",\n  names: [\"\\\\\\\\cdleft\", \"\\\\\\\\cdright\"],\n  props: {\n    numArgs: 1\n  },\n\n  handler(_ref, args) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    return {\n      type: \"cdlabel\",\n      mode: parser.mode,\n      side: funcName.slice(4),\n      label: args[0]\n    };\n  },\n\n  htmlBuilder(group, options) {\n    var newOptions = options.havingStyle(options.style.sup());\n    var label = buildCommon.wrapFragment(buildGroup$1(group.label, newOptions, options), options);\n    label.classes.push(\"cd-label-\" + group.side);\n    label.style.bottom = makeEm(0.8 - label.depth); // Zero out label height & depth, so vertical align of arrow is set\n    // by the arrow height, not by the label.\n\n    label.height = 0;\n    label.depth = 0;\n    return label;\n  },\n\n  mathmlBuilder(group, options) {\n    var label = new mathMLTree.MathNode(\"mrow\", [buildGroup(group.label, options)]);\n    label = new mathMLTree.MathNode(\"mpadded\", [label]);\n    label.setAttribute(\"width\", \"0\");\n\n    if (group.side === \"left\") {\n      label.setAttribute(\"lspace\", \"-1width\");\n    } // We have to guess at vertical alignment. We know the arrow is 1.8em tall,\n    // But we don't know the height or depth of the label.\n\n\n    label.setAttribute(\"voffset\", \"0.7em\");\n    label = new mathMLTree.MathNode(\"mstyle\", [label]);\n    label.setAttribute(\"displaystyle\", \"false\");\n    label.setAttribute(\"scriptlevel\", \"1\");\n    return label;\n  }\n\n});\ndefineFunction({\n  type: \"cdlabelparent\",\n  names: [\"\\\\\\\\cdparent\"],\n  props: {\n    numArgs: 1\n  },\n\n  handler(_ref2, args) {\n    var {\n      parser\n    } = _ref2;\n    return {\n      type: \"cdlabelparent\",\n      mode: parser.mode,\n      fragment: args[0]\n    };\n  },\n\n  htmlBuilder(group, options) {\n    // Wrap the vertical arrow and its labels.\n    // The parent gets position: relative. The child gets position: absolute.\n    // So CSS can locate the label correctly.\n    var parent = buildCommon.wrapFragment(buildGroup$1(group.fragment, options), options);\n    parent.classes.push(\"cd-vert-arrow\");\n    return parent;\n  },\n\n  mathmlBuilder(group, options) {\n    return new mathMLTree.MathNode(\"mrow\", [buildGroup(group.fragment, options)]);\n  }\n\n});\n\n// {123} and converts into symbol with code 123.  It is used by the *macro*\n// \\char defined in macros.js.\n\ndefineFunction({\n  type: \"textord\",\n  names: [\"\\\\@char\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true\n  },\n\n  handler(_ref, args) {\n    var {\n      parser\n    } = _ref;\n    var arg = assertNodeType(args[0], \"ordgroup\");\n    var group = arg.body;\n    var number = \"\";\n\n    for (var i = 0; i < group.length; i++) {\n      var node = assertNodeType(group[i], \"textord\");\n      number += node.text;\n    }\n\n    var code = parseInt(number);\n    var text;\n\n    if (isNaN(code)) {\n      throw new ParseError(\"\\\\@char has non-numeric argument \" + number); // If we drop IE support, the following code could be replaced with\n      // text = String.fromCodePoint(code)\n    } else if (code < 0 || code >= 0x10ffff) {\n      throw new ParseError(\"\\\\@char with invalid code point \" + number);\n    } else if (code <= 0xffff) {\n      text = String.fromCharCode(code);\n    } else {\n      // Astral code point; split into surrogate halves\n      code -= 0x10000;\n      text = String.fromCharCode((code >> 10) + 0xd800, (code & 0x3ff) + 0xdc00);\n    }\n\n    return {\n      type: \"textord\",\n      mode: parser.mode,\n      text: text\n    };\n  }\n\n});\n\nvar htmlBuilder$8 = (group, options) => {\n  var elements = buildExpression$1(group.body, options.withColor(group.color), false); // \\color isn't supposed to affect the type of the elements it contains.\n  // To accomplish this, we wrap the results in a fragment, so the inner\n  // elements will be able to directly interact with their neighbors. For\n  // example, `\\color{red}{2 +} 3` has the same spacing as `2 + 3`\n\n  return buildCommon.makeFragment(elements);\n};\n\nvar mathmlBuilder$7 = (group, options) => {\n  var inner = buildExpression(group.body, options.withColor(group.color));\n  var node = new mathMLTree.MathNode(\"mstyle\", inner);\n  node.setAttribute(\"mathcolor\", group.color);\n  return node;\n};\n\ndefineFunction({\n  type: \"color\",\n  names: [\"\\\\textcolor\"],\n  props: {\n    numArgs: 2,\n    allowedInText: true,\n    argTypes: [\"color\", \"original\"]\n  },\n\n  handler(_ref, args) {\n    var {\n      parser\n    } = _ref;\n    var color = assertNodeType(args[0], \"color-token\").color;\n    var body = args[1];\n    return {\n      type: \"color\",\n      mode: parser.mode,\n      color,\n      body: ordargument(body)\n    };\n  },\n\n  htmlBuilder: htmlBuilder$8,\n  mathmlBuilder: mathmlBuilder$7\n});\ndefineFunction({\n  type: \"color\",\n  names: [\"\\\\color\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true,\n    argTypes: [\"color\"]\n  },\n\n  handler(_ref2, args) {\n    var {\n      parser,\n      breakOnTokenText\n    } = _ref2;\n    var color = assertNodeType(args[0], \"color-token\").color; // Set macro \\current@color in current namespace to store the current\n    // color, mimicking the behavior of color.sty.\n    // This is currently used just to correctly color a \\right\n    // that follows a \\color command.\n\n    parser.gullet.macros.set(\"\\\\current@color\", color); // Parse out the implicit body that should be colored.\n\n    var body = parser.parseExpression(true, breakOnTokenText);\n    return {\n      type: \"color\",\n      mode: parser.mode,\n      color,\n      body\n    };\n  },\n\n  htmlBuilder: htmlBuilder$8,\n  mathmlBuilder: mathmlBuilder$7\n});\n\n// Row breaks within tabular environments, and line breaks at top level\n\ndefineFunction({\n  type: \"cr\",\n  names: [\"\\\\\\\\\"],\n  props: {\n    numArgs: 0,\n    numOptionalArgs: 0,\n    allowedInText: true\n  },\n\n  handler(_ref, args, optArgs) {\n    var {\n      parser\n    } = _ref;\n    var size = parser.gullet.future().text === \"[\" ? parser.parseSizeGroup(true) : null;\n    var newLine = !parser.settings.displayMode || !parser.settings.useStrictBehavior(\"newLineInDisplayMode\", \"In LaTeX, \\\\\\\\ or \\\\newline \" + \"does nothing in display mode\");\n    return {\n      type: \"cr\",\n      mode: parser.mode,\n      newLine,\n      size: size && assertNodeType(size, \"size\").value\n    };\n  },\n\n  // The following builders are called only at the top level,\n  // not within tabular/array environments.\n  htmlBuilder(group, options) {\n    var span = buildCommon.makeSpan([\"mspace\"], [], options);\n\n    if (group.newLine) {\n      span.classes.push(\"newline\");\n\n      if (group.size) {\n        span.style.marginTop = makeEm(calculateSize(group.size, options));\n      }\n    }\n\n    return span;\n  },\n\n  mathmlBuilder(group, options) {\n    var node = new mathMLTree.MathNode(\"mspace\");\n\n    if (group.newLine) {\n      node.setAttribute(\"linebreak\", \"newline\");\n\n      if (group.size) {\n        node.setAttribute(\"height\", makeEm(calculateSize(group.size, options)));\n      }\n    }\n\n    return node;\n  }\n\n});\n\nvar globalMap = {\n  \"\\\\global\": \"\\\\global\",\n  \"\\\\long\": \"\\\\\\\\globallong\",\n  \"\\\\\\\\globallong\": \"\\\\\\\\globallong\",\n  \"\\\\def\": \"\\\\gdef\",\n  \"\\\\gdef\": \"\\\\gdef\",\n  \"\\\\edef\": \"\\\\xdef\",\n  \"\\\\xdef\": \"\\\\xdef\",\n  \"\\\\let\": \"\\\\\\\\globallet\",\n  \"\\\\futurelet\": \"\\\\\\\\globalfuture\"\n};\n\nvar checkControlSequence = tok => {\n  var name = tok.text;\n\n  if (/^(?:[\\\\{}$&#^_]|EOF)$/.test(name)) {\n    throw new ParseError(\"Expected a control sequence\", tok);\n  }\n\n  return name;\n};\n\nvar getRHS = parser => {\n  var tok = parser.gullet.popToken();\n\n  if (tok.text === \"=\") {\n    // consume optional equals\n    tok = parser.gullet.popToken();\n\n    if (tok.text === \" \") {\n      // consume one optional space\n      tok = parser.gullet.popToken();\n    }\n  }\n\n  return tok;\n};\n\nvar letCommand = (parser, name, tok, global) => {\n  var macro = parser.gullet.macros.get(tok.text);\n\n  if (macro == null) {\n    // don't expand it later even if a macro with the same name is defined\n    // e.g., \\let\\foo=\\frac \\def\\frac{\\relax} \\frac12\n    tok.noexpand = true;\n    macro = {\n      tokens: [tok],\n      numArgs: 0,\n      // reproduce the same behavior in expansion\n      unexpandable: !parser.gullet.isExpandable(tok.text)\n    };\n  }\n\n  parser.gullet.macros.set(name, macro, global);\n}; // <assignment> -> <non-macro assignment>|<macro assignment>\n// <non-macro assignment> -> <simple assignment>|\\global<non-macro assignment>\n// <macro assignment> -> <definition>|<prefix><macro assignment>\n// <prefix> -> \\global|\\long|\\outer\n\n\ndefineFunction({\n  type: \"internal\",\n  names: [\"\\\\global\", \"\\\\long\", \"\\\\\\\\globallong\" // cant be entered directly\n  ],\n  props: {\n    numArgs: 0,\n    allowedInText: true\n  },\n\n  handler(_ref) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    parser.consumeSpaces();\n    var token = parser.fetch();\n\n    if (globalMap[token.text]) {\n      // KaTeX doesn't have \\par, so ignore \\long\n      if (funcName === \"\\\\global\" || funcName === \"\\\\\\\\globallong\") {\n        token.text = globalMap[token.text];\n      }\n\n      return assertNodeType(parser.parseFunction(), \"internal\");\n    }\n\n    throw new ParseError(\"Invalid token after macro prefix\", token);\n  }\n\n}); // Basic support for macro definitions: \\def, \\gdef, \\edef, \\xdef\n// <definition> -> <def><control sequence><definition text>\n// <def> -> \\def|\\gdef|\\edef|\\xdef\n// <definition text> -> <parameter text><left brace><balanced text><right brace>\n\ndefineFunction({\n  type: \"internal\",\n  names: [\"\\\\def\", \"\\\\gdef\", \"\\\\edef\", \"\\\\xdef\"],\n  props: {\n    numArgs: 0,\n    allowedInText: true,\n    primitive: true\n  },\n\n  handler(_ref2) {\n    var {\n      parser,\n      funcName\n    } = _ref2;\n    var tok = parser.gullet.popToken();\n    var name = tok.text;\n\n    if (/^(?:[\\\\{}$&#^_]|EOF)$/.test(name)) {\n      throw new ParseError(\"Expected a control sequence\", tok);\n    }\n\n    var numArgs = 0;\n    var insert;\n    var delimiters = [[]]; // <parameter text> contains no braces\n\n    while (parser.gullet.future().text !== \"{\") {\n      tok = parser.gullet.popToken();\n\n      if (tok.text === \"#\") {\n        // If the very last character of the <parameter text> is #, so that\n        // this # is immediately followed by {, TeX will behave as if the {\n        // had been inserted at the right end of both the parameter text\n        // and the replacement text.\n        if (parser.gullet.future().text === \"{\") {\n          insert = parser.gullet.future();\n          delimiters[numArgs].push(\"{\");\n          break;\n        } // A parameter, the first appearance of # must be followed by 1,\n        // the next by 2, and so on; up to nine #s are allowed\n\n\n        tok = parser.gullet.popToken();\n\n        if (!/^[1-9]$/.test(tok.text)) {\n          throw new ParseError(\"Invalid argument number \\\"\" + tok.text + \"\\\"\");\n        }\n\n        if (parseInt(tok.text) !== numArgs + 1) {\n          throw new ParseError(\"Argument number \\\"\" + tok.text + \"\\\" out of order\");\n        }\n\n        numArgs++;\n        delimiters.push([]);\n      } else if (tok.text === \"EOF\") {\n        throw new ParseError(\"Expected a macro definition\");\n      } else {\n        delimiters[numArgs].push(tok.text);\n      }\n    } // replacement text, enclosed in '{' and '}' and properly nested\n\n\n    var {\n      tokens\n    } = parser.gullet.consumeArg();\n\n    if (insert) {\n      tokens.unshift(insert);\n    }\n\n    if (funcName === \"\\\\edef\" || funcName === \"\\\\xdef\") {\n      tokens = parser.gullet.expandTokens(tokens);\n      tokens.reverse(); // to fit in with stack order\n    } // Final arg is the expansion of the macro\n\n\n    parser.gullet.macros.set(name, {\n      tokens,\n      numArgs,\n      delimiters\n    }, funcName === globalMap[funcName]);\n    return {\n      type: \"internal\",\n      mode: parser.mode\n    };\n  }\n\n}); // <simple assignment> -> <let assignment>\n// <let assignment> -> \\futurelet<control sequence><token><token>\n//     | \\let<control sequence><equals><one optional space><token>\n// <equals> -> <optional spaces>|<optional spaces>=\n\ndefineFunction({\n  type: \"internal\",\n  names: [\"\\\\let\", \"\\\\\\\\globallet\" // cant be entered directly\n  ],\n  props: {\n    numArgs: 0,\n    allowedInText: true,\n    primitive: true\n  },\n\n  handler(_ref3) {\n    var {\n      parser,\n      funcName\n    } = _ref3;\n    var name = checkControlSequence(parser.gullet.popToken());\n    parser.gullet.consumeSpaces();\n    var tok = getRHS(parser);\n    letCommand(parser, name, tok, funcName === \"\\\\\\\\globallet\");\n    return {\n      type: \"internal\",\n      mode: parser.mode\n    };\n  }\n\n}); // ref: https://www.tug.org/TUGboat/tb09-3/tb22bechtolsheim.pdf\n\ndefineFunction({\n  type: \"internal\",\n  names: [\"\\\\futurelet\", \"\\\\\\\\globalfuture\" // cant be entered directly\n  ],\n  props: {\n    numArgs: 0,\n    allowedInText: true,\n    primitive: true\n  },\n\n  handler(_ref4) {\n    var {\n      parser,\n      funcName\n    } = _ref4;\n    var name = checkControlSequence(parser.gullet.popToken());\n    var middle = parser.gullet.popToken();\n    var tok = parser.gullet.popToken();\n    letCommand(parser, name, tok, funcName === \"\\\\\\\\globalfuture\");\n    parser.gullet.pushToken(tok);\n    parser.gullet.pushToken(middle);\n    return {\n      type: \"internal\",\n      mode: parser.mode\n    };\n  }\n\n});\n\n/**\n * This file deals with creating delimiters of various sizes. The TeXbook\n * discusses these routines on page 441-442, in the \"Another subroutine sets box\n * x to a specified variable delimiter\" paragraph.\n *\n * There are three main routines here. `makeSmallDelim` makes a delimiter in the\n * normal font, but in either text, script, or scriptscript style.\n * `makeLargeDelim` makes a delimiter in textstyle, but in one of the Size1,\n * Size2, Size3, or Size4 fonts. `makeStackedDelim` makes a delimiter out of\n * smaller pieces that are stacked on top of one another.\n *\n * The functions take a parameter `center`, which determines if the delimiter\n * should be centered around the axis.\n *\n * Then, there are three exposed functions. `sizedDelim` makes a delimiter in\n * one of the given sizes. This is used for things like `\\bigl`.\n * `customSizedDelim` makes a delimiter with a given total height+depth. It is\n * called in places like `\\sqrt`. `leftRightDelim` makes an appropriate\n * delimiter which surrounds an expression of a given height an depth. It is\n * used in `\\left` and `\\right`.\n */\n\n/**\n * Get the metrics for a given symbol and font, after transformation (i.e.\n * after following replacement from symbols.js)\n */\nvar getMetrics = function getMetrics(symbol, font, mode) {\n  var replace = symbols.math[symbol] && symbols.math[symbol].replace;\n  var metrics = getCharacterMetrics(replace || symbol, font, mode);\n\n  if (!metrics) {\n    throw new Error(\"Unsupported symbol \" + symbol + \" and font size \" + font + \".\");\n  }\n\n  return metrics;\n};\n/**\n * Puts a delimiter span in a given style, and adds appropriate height, depth,\n * and maxFontSizes.\n */\n\n\nvar styleWrap = function styleWrap(delim, toStyle, options, classes) {\n  var newOptions = options.havingBaseStyle(toStyle);\n  var span = buildCommon.makeSpan(classes.concat(newOptions.sizingClasses(options)), [delim], options);\n  var delimSizeMultiplier = newOptions.sizeMultiplier / options.sizeMultiplier;\n  span.height *= delimSizeMultiplier;\n  span.depth *= delimSizeMultiplier;\n  span.maxFontSize = newOptions.sizeMultiplier;\n  return span;\n};\n\nvar centerSpan = function centerSpan(span, options, style) {\n  var newOptions = options.havingBaseStyle(style);\n  var shift = (1 - options.sizeMultiplier / newOptions.sizeMultiplier) * options.fontMetrics().axisHeight;\n  span.classes.push(\"delimcenter\");\n  span.style.top = makeEm(shift);\n  span.height -= shift;\n  span.depth += shift;\n};\n/**\n * Makes a small delimiter. This is a delimiter that comes in the Main-Regular\n * font, but is restyled to either be in textstyle, scriptstyle, or\n * scriptscriptstyle.\n */\n\n\nvar makeSmallDelim = function makeSmallDelim(delim, style, center, options, mode, classes) {\n  var text = buildCommon.makeSymbol(delim, \"Main-Regular\", mode, options);\n  var span = styleWrap(text, style, options, classes);\n\n  if (center) {\n    centerSpan(span, options, style);\n  }\n\n  return span;\n};\n/**\n * Builds a symbol in the given font size (note size is an integer)\n */\n\n\nvar mathrmSize = function mathrmSize(value, size, mode, options) {\n  return buildCommon.makeSymbol(value, \"Size\" + size + \"-Regular\", mode, options);\n};\n/**\n * Makes a large delimiter. This is a delimiter that comes in the Size1, Size2,\n * Size3, or Size4 fonts. It is always rendered in textstyle.\n */\n\n\nvar makeLargeDelim = function makeLargeDelim(delim, size, center, options, mode, classes) {\n  var inner = mathrmSize(delim, size, mode, options);\n  var span = styleWrap(buildCommon.makeSpan([\"delimsizing\", \"size\" + size], [inner], options), Style$1.TEXT, options, classes);\n\n  if (center) {\n    centerSpan(span, options, Style$1.TEXT);\n  }\n\n  return span;\n};\n/**\n * Make a span from a font glyph with the given offset and in the given font.\n * This is used in makeStackedDelim to make the stacking pieces for the delimiter.\n */\n\n\nvar makeGlyphSpan = function makeGlyphSpan(symbol, font, mode) {\n  var sizeClass; // Apply the correct CSS class to choose the right font.\n\n  if (font === \"Size1-Regular\") {\n    sizeClass = \"delim-size1\";\n  } else\n    /* if (font === \"Size4-Regular\") */\n    {\n      sizeClass = \"delim-size4\";\n    }\n\n  var corner = buildCommon.makeSpan([\"delimsizinginner\", sizeClass], [buildCommon.makeSpan([], [buildCommon.makeSymbol(symbol, font, mode)])]); // Since this will be passed into `makeVList` in the end, wrap the element\n  // in the appropriate tag that VList uses.\n\n  return {\n    type: \"elem\",\n    elem: corner\n  };\n};\n\nvar makeInner = function makeInner(ch, height, options) {\n  // Create a span with inline SVG for the inner part of a tall stacked delimiter.\n  var width = fontMetricsData['Size4-Regular'][ch.charCodeAt(0)] ? fontMetricsData['Size4-Regular'][ch.charCodeAt(0)][4] : fontMetricsData['Size1-Regular'][ch.charCodeAt(0)][4];\n  var path = new PathNode(\"inner\", innerPath(ch, Math.round(1000 * height)));\n  var svgNode = new SvgNode([path], {\n    \"width\": makeEm(width),\n    \"height\": makeEm(height),\n    // Override CSS rule `.katex svg { width: 100% }`\n    \"style\": \"width:\" + makeEm(width),\n    \"viewBox\": \"0 0 \" + 1000 * width + \" \" + Math.round(1000 * height),\n    \"preserveAspectRatio\": \"xMinYMin\"\n  });\n  var span = buildCommon.makeSvgSpan([], [svgNode], options);\n  span.height = height;\n  span.style.height = makeEm(height);\n  span.style.width = makeEm(width);\n  return {\n    type: \"elem\",\n    elem: span\n  };\n}; // Helpers for makeStackedDelim\n\n\nvar lapInEms = 0.008;\nvar lap = {\n  type: \"kern\",\n  size: -1 * lapInEms\n};\nvar verts = [\"|\", \"\\\\lvert\", \"\\\\rvert\", \"\\\\vert\"];\nvar doubleVerts = [\"\\\\|\", \"\\\\lVert\", \"\\\\rVert\", \"\\\\Vert\"];\n/**\n * Make a stacked delimiter out of a given delimiter, with the total height at\n * least `heightTotal`. This routine is mentioned on page 442 of the TeXbook.\n */\n\nvar makeStackedDelim = function makeStackedDelim(delim, heightTotal, center, options, mode, classes) {\n  // There are four parts, the top, an optional middle, a repeated part, and a\n  // bottom.\n  var top;\n  var middle;\n  var repeat;\n  var bottom;\n  var svgLabel = \"\";\n  var viewBoxWidth = 0;\n  top = repeat = bottom = delim;\n  middle = null; // Also keep track of what font the delimiters are in\n\n  var font = \"Size1-Regular\"; // We set the parts and font based on the symbol. Note that we use\n  // '\\u23d0' instead of '|' and '\\u2016' instead of '\\\\|' for the\n  // repeats of the arrows\n\n  if (delim === \"\\\\uparrow\") {\n    repeat = bottom = \"\\u23d0\";\n  } else if (delim === \"\\\\Uparrow\") {\n    repeat = bottom = \"\\u2016\";\n  } else if (delim === \"\\\\downarrow\") {\n    top = repeat = \"\\u23d0\";\n  } else if (delim === \"\\\\Downarrow\") {\n    top = repeat = \"\\u2016\";\n  } else if (delim === \"\\\\updownarrow\") {\n    top = \"\\\\uparrow\";\n    repeat = \"\\u23d0\";\n    bottom = \"\\\\downarrow\";\n  } else if (delim === \"\\\\Updownarrow\") {\n    top = \"\\\\Uparrow\";\n    repeat = \"\\u2016\";\n    bottom = \"\\\\Downarrow\";\n  } else if (verts.includes(delim)) {\n    repeat = \"\\u2223\";\n    svgLabel = \"vert\";\n    viewBoxWidth = 333;\n  } else if (doubleVerts.includes(delim)) {\n    repeat = \"\\u2225\";\n    svgLabel = \"doublevert\";\n    viewBoxWidth = 556;\n  } else if (delim === \"[\" || delim === \"\\\\lbrack\") {\n    top = \"\\u23a1\";\n    repeat = \"\\u23a2\";\n    bottom = \"\\u23a3\";\n    font = \"Size4-Regular\";\n    svgLabel = \"lbrack\";\n    viewBoxWidth = 667;\n  } else if (delim === \"]\" || delim === \"\\\\rbrack\") {\n    top = \"\\u23a4\";\n    repeat = \"\\u23a5\";\n    bottom = \"\\u23a6\";\n    font = \"Size4-Regular\";\n    svgLabel = \"rbrack\";\n    viewBoxWidth = 667;\n  } else if (delim === \"\\\\lfloor\" || delim === \"\\u230a\") {\n    repeat = top = \"\\u23a2\";\n    bottom = \"\\u23a3\";\n    font = \"Size4-Regular\";\n    svgLabel = \"lfloor\";\n    viewBoxWidth = 667;\n  } else if (delim === \"\\\\lceil\" || delim === \"\\u2308\") {\n    top = \"\\u23a1\";\n    repeat = bottom = \"\\u23a2\";\n    font = \"Size4-Regular\";\n    svgLabel = \"lceil\";\n    viewBoxWidth = 667;\n  } else if (delim === \"\\\\rfloor\" || delim === \"\\u230b\") {\n    repeat = top = \"\\u23a5\";\n    bottom = \"\\u23a6\";\n    font = \"Size4-Regular\";\n    svgLabel = \"rfloor\";\n    viewBoxWidth = 667;\n  } else if (delim === \"\\\\rceil\" || delim === \"\\u2309\") {\n    top = \"\\u23a4\";\n    repeat = bottom = \"\\u23a5\";\n    font = \"Size4-Regular\";\n    svgLabel = \"rceil\";\n    viewBoxWidth = 667;\n  } else if (delim === \"(\" || delim === \"\\\\lparen\") {\n    top = \"\\u239b\";\n    repeat = \"\\u239c\";\n    bottom = \"\\u239d\";\n    font = \"Size4-Regular\";\n    svgLabel = \"lparen\";\n    viewBoxWidth = 875;\n  } else if (delim === \")\" || delim === \"\\\\rparen\") {\n    top = \"\\u239e\";\n    repeat = \"\\u239f\";\n    bottom = \"\\u23a0\";\n    font = \"Size4-Regular\";\n    svgLabel = \"rparen\";\n    viewBoxWidth = 875;\n  } else if (delim === \"\\\\{\" || delim === \"\\\\lbrace\") {\n    top = \"\\u23a7\";\n    middle = \"\\u23a8\";\n    bottom = \"\\u23a9\";\n    repeat = \"\\u23aa\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"\\\\}\" || delim === \"\\\\rbrace\") {\n    top = \"\\u23ab\";\n    middle = \"\\u23ac\";\n    bottom = \"\\u23ad\";\n    repeat = \"\\u23aa\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"\\\\lgroup\" || delim === \"\\u27ee\") {\n    top = \"\\u23a7\";\n    bottom = \"\\u23a9\";\n    repeat = \"\\u23aa\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"\\\\rgroup\" || delim === \"\\u27ef\") {\n    top = \"\\u23ab\";\n    bottom = \"\\u23ad\";\n    repeat = \"\\u23aa\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"\\\\lmoustache\" || delim === \"\\u23b0\") {\n    top = \"\\u23a7\";\n    bottom = \"\\u23ad\";\n    repeat = \"\\u23aa\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"\\\\rmoustache\" || delim === \"\\u23b1\") {\n    top = \"\\u23ab\";\n    bottom = \"\\u23a9\";\n    repeat = \"\\u23aa\";\n    font = \"Size4-Regular\";\n  } // Get the metrics of the four sections\n\n\n  var topMetrics = getMetrics(top, font, mode);\n  var topHeightTotal = topMetrics.height + topMetrics.depth;\n  var repeatMetrics = getMetrics(repeat, font, mode);\n  var repeatHeightTotal = repeatMetrics.height + repeatMetrics.depth;\n  var bottomMetrics = getMetrics(bottom, font, mode);\n  var bottomHeightTotal = bottomMetrics.height + bottomMetrics.depth;\n  var middleHeightTotal = 0;\n  var middleFactor = 1;\n\n  if (middle !== null) {\n    var middleMetrics = getMetrics(middle, font, mode);\n    middleHeightTotal = middleMetrics.height + middleMetrics.depth;\n    middleFactor = 2; // repeat symmetrically above and below middle\n  } // Calculate the minimal height that the delimiter can have.\n  // It is at least the size of the top, bottom, and optional middle combined.\n\n\n  var minHeight = topHeightTotal + bottomHeightTotal + middleHeightTotal; // Compute the number of copies of the repeat symbol we will need\n\n  var repeatCount = Math.max(0, Math.ceil((heightTotal - minHeight) / (middleFactor * repeatHeightTotal))); // Compute the total height of the delimiter including all the symbols\n\n  var realHeightTotal = minHeight + repeatCount * middleFactor * repeatHeightTotal; // The center of the delimiter is placed at the center of the axis. Note\n  // that in this context, \"center\" means that the delimiter should be\n  // centered around the axis in the current style, while normally it is\n  // centered around the axis in textstyle.\n\n  var axisHeight = options.fontMetrics().axisHeight;\n\n  if (center) {\n    axisHeight *= options.sizeMultiplier;\n  } // Calculate the depth\n\n\n  var depth = realHeightTotal / 2 - axisHeight; // Now, we start building the pieces that will go into the vlist\n  // Keep a list of the pieces of the stacked delimiter\n\n  var stack = [];\n\n  if (svgLabel.length > 0) {\n    // Instead of stacking glyphs, create a single SVG.\n    // This evades browser problems with imprecise positioning of spans.\n    var midHeight = realHeightTotal - topHeightTotal - bottomHeightTotal;\n    var viewBoxHeight = Math.round(realHeightTotal * 1000);\n    var pathStr = tallDelim(svgLabel, Math.round(midHeight * 1000));\n    var path = new PathNode(svgLabel, pathStr);\n    var width = (viewBoxWidth / 1000).toFixed(3) + \"em\";\n    var height = (viewBoxHeight / 1000).toFixed(3) + \"em\";\n    var svg = new SvgNode([path], {\n      \"width\": width,\n      \"height\": height,\n      \"viewBox\": \"0 0 \" + viewBoxWidth + \" \" + viewBoxHeight\n    });\n    var wrapper = buildCommon.makeSvgSpan([], [svg], options);\n    wrapper.height = viewBoxHeight / 1000;\n    wrapper.style.width = width;\n    wrapper.style.height = height;\n    stack.push({\n      type: \"elem\",\n      elem: wrapper\n    });\n  } else {\n    // Stack glyphs\n    // Start by adding the bottom symbol\n    stack.push(makeGlyphSpan(bottom, font, mode));\n    stack.push(lap); // overlap\n\n    if (middle === null) {\n      // The middle section will be an SVG. Make it an extra 0.016em tall.\n      // We'll overlap by 0.008em at top and bottom.\n      var innerHeight = realHeightTotal - topHeightTotal - bottomHeightTotal + 2 * lapInEms;\n      stack.push(makeInner(repeat, innerHeight, options));\n    } else {\n      // When there is a middle bit, we need the middle part and two repeated\n      // sections\n      var _innerHeight = (realHeightTotal - topHeightTotal - bottomHeightTotal - middleHeightTotal) / 2 + 2 * lapInEms;\n\n      stack.push(makeInner(repeat, _innerHeight, options)); // Now insert the middle of the brace.\n\n      stack.push(lap);\n      stack.push(makeGlyphSpan(middle, font, mode));\n      stack.push(lap);\n      stack.push(makeInner(repeat, _innerHeight, options));\n    } // Add the top symbol\n\n\n    stack.push(lap);\n    stack.push(makeGlyphSpan(top, font, mode));\n  } // Finally, build the vlist\n\n\n  var newOptions = options.havingBaseStyle(Style$1.TEXT);\n  var inner = buildCommon.makeVList({\n    positionType: \"bottom\",\n    positionData: depth,\n    children: stack\n  }, newOptions);\n  return styleWrap(buildCommon.makeSpan([\"delimsizing\", \"mult\"], [inner], newOptions), Style$1.TEXT, options, classes);\n}; // All surds have 0.08em padding above the vinculum inside the SVG.\n// That keeps browser span height rounding error from pinching the line.\n\n\nvar vbPad = 80; // padding above the surd, measured inside the viewBox.\n\nvar emPad = 0.08; // padding, in ems, measured in the document.\n\nvar sqrtSvg = function sqrtSvg(sqrtName, height, viewBoxHeight, extraVinculum, options) {\n  var path = sqrtPath(sqrtName, extraVinculum, viewBoxHeight);\n  var pathNode = new PathNode(sqrtName, path);\n  var svg = new SvgNode([pathNode], {\n    // Note: 1000:1 ratio of viewBox to document em width.\n    \"width\": \"400em\",\n    \"height\": makeEm(height),\n    \"viewBox\": \"0 0 400000 \" + viewBoxHeight,\n    \"preserveAspectRatio\": \"xMinYMin slice\"\n  });\n  return buildCommon.makeSvgSpan([\"hide-tail\"], [svg], options);\n};\n/**\n * Make a sqrt image of the given height,\n */\n\n\nvar makeSqrtImage = function makeSqrtImage(height, options) {\n  // Define a newOptions that removes the effect of size changes such as \\Huge.\n  // We don't pick different a height surd for \\Huge. For it, we scale up.\n  var newOptions = options.havingBaseSizing(); // Pick the desired surd glyph from a sequence of surds.\n\n  var delim = traverseSequence(\"\\\\surd\", height * newOptions.sizeMultiplier, stackLargeDelimiterSequence, newOptions);\n  var sizeMultiplier = newOptions.sizeMultiplier; // default\n  // The standard sqrt SVGs each have a 0.04em thick vinculum.\n  // If Settings.minRuleThickness is larger than that, we add extraVinculum.\n\n  var extraVinculum = Math.max(0, options.minRuleThickness - options.fontMetrics().sqrtRuleThickness); // Create a span containing an SVG image of a sqrt symbol.\n\n  var span;\n  var spanHeight = 0;\n  var texHeight = 0;\n  var viewBoxHeight = 0;\n  var advanceWidth; // We create viewBoxes with 80 units of \"padding\" above each surd.\n  // Then browser rounding error on the parent span height will not\n  // encroach on the ink of the vinculum. But that padding is not\n  // included in the TeX-like `height` used for calculation of\n  // vertical alignment. So texHeight = span.height < span.style.height.\n\n  if (delim.type === \"small\") {\n    // Get an SVG that is derived from glyph U+221A in font KaTeX-Main.\n    // 1000 unit normal glyph height.\n    viewBoxHeight = 1000 + 1000 * extraVinculum + vbPad;\n\n    if (height < 1.0) {\n      sizeMultiplier = 1.0; // mimic a \\textfont radical\n    } else if (height < 1.4) {\n      sizeMultiplier = 0.7; // mimic a \\scriptfont radical\n    }\n\n    spanHeight = (1.0 + extraVinculum + emPad) / sizeMultiplier;\n    texHeight = (1.00 + extraVinculum) / sizeMultiplier;\n    span = sqrtSvg(\"sqrtMain\", spanHeight, viewBoxHeight, extraVinculum, options);\n    span.style.minWidth = \"0.853em\";\n    advanceWidth = 0.833 / sizeMultiplier; // from the font.\n  } else if (delim.type === \"large\") {\n    // These SVGs come from fonts: KaTeX_Size1, _Size2, etc.\n    viewBoxHeight = (1000 + vbPad) * sizeToMaxHeight[delim.size];\n    texHeight = (sizeToMaxHeight[delim.size] + extraVinculum) / sizeMultiplier;\n    spanHeight = (sizeToMaxHeight[delim.size] + extraVinculum + emPad) / sizeMultiplier;\n    span = sqrtSvg(\"sqrtSize\" + delim.size, spanHeight, viewBoxHeight, extraVinculum, options);\n    span.style.minWidth = \"1.02em\";\n    advanceWidth = 1.0 / sizeMultiplier; // 1.0 from the font.\n  } else {\n    // Tall sqrt. In TeX, this would be stacked using multiple glyphs.\n    // We'll use a single SVG to accomplish the same thing.\n    spanHeight = height + extraVinculum + emPad;\n    texHeight = height + extraVinculum;\n    viewBoxHeight = Math.floor(1000 * height + extraVinculum) + vbPad;\n    span = sqrtSvg(\"sqrtTall\", spanHeight, viewBoxHeight, extraVinculum, options);\n    span.style.minWidth = \"0.742em\";\n    advanceWidth = 1.056;\n  }\n\n  span.height = texHeight;\n  span.style.height = makeEm(spanHeight);\n  return {\n    span,\n    advanceWidth,\n    // Calculate the actual line width.\n    // This actually should depend on the chosen font -- e.g. \\boldmath\n    // should use the thicker surd symbols from e.g. KaTeX_Main-Bold, and\n    // have thicker rules.\n    ruleWidth: (options.fontMetrics().sqrtRuleThickness + extraVinculum) * sizeMultiplier\n  };\n}; // There are three kinds of delimiters, delimiters that stack when they become\n// too large\n\n\nvar stackLargeDelimiters = [\"(\", \"\\\\lparen\", \")\", \"\\\\rparen\", \"[\", \"\\\\lbrack\", \"]\", \"\\\\rbrack\", \"\\\\{\", \"\\\\lbrace\", \"\\\\}\", \"\\\\rbrace\", \"\\\\lfloor\", \"\\\\rfloor\", \"\\u230a\", \"\\u230b\", \"\\\\lceil\", \"\\\\rceil\", \"\\u2308\", \"\\u2309\", \"\\\\surd\"]; // delimiters that always stack\n\nvar stackAlwaysDelimiters = [\"\\\\uparrow\", \"\\\\downarrow\", \"\\\\updownarrow\", \"\\\\Uparrow\", \"\\\\Downarrow\", \"\\\\Updownarrow\", \"|\", \"\\\\|\", \"\\\\vert\", \"\\\\Vert\", \"\\\\lvert\", \"\\\\rvert\", \"\\\\lVert\", \"\\\\rVert\", \"\\\\lgroup\", \"\\\\rgroup\", \"\\u27ee\", \"\\u27ef\", \"\\\\lmoustache\", \"\\\\rmoustache\", \"\\u23b0\", \"\\u23b1\"]; // and delimiters that never stack\n\nvar stackNeverDelimiters = [\"<\", \">\", \"\\\\langle\", \"\\\\rangle\", \"/\", \"\\\\backslash\", \"\\\\lt\", \"\\\\gt\"]; // Metrics of the different sizes. Found by looking at TeX's output of\n// $\\bigl| // \\Bigl| \\biggl| \\Biggl| \\showlists$\n// Used to create stacked delimiters of appropriate sizes in makeSizedDelim.\n\nvar sizeToMaxHeight = [0, 1.2, 1.8, 2.4, 3.0];\n/**\n * Used to create a delimiter of a specific size, where `size` is 1, 2, 3, or 4.\n */\n\nvar makeSizedDelim = function makeSizedDelim(delim, size, options, mode, classes) {\n  // < and > turn into \\langle and \\rangle in delimiters\n  if (delim === \"<\" || delim === \"\\\\lt\" || delim === \"\\u27e8\") {\n    delim = \"\\\\langle\";\n  } else if (delim === \">\" || delim === \"\\\\gt\" || delim === \"\\u27e9\") {\n    delim = \"\\\\rangle\";\n  } // Sized delimiters are never centered.\n\n\n  if (stackLargeDelimiters.includes(delim) || stackNeverDelimiters.includes(delim)) {\n    return makeLargeDelim(delim, size, false, options, mode, classes);\n  } else if (stackAlwaysDelimiters.includes(delim)) {\n    return makeStackedDelim(delim, sizeToMaxHeight[size], false, options, mode, classes);\n  } else {\n    throw new ParseError(\"Illegal delimiter: '\" + delim + \"'\");\n  }\n};\n/**\n * There are three different sequences of delimiter sizes that the delimiters\n * follow depending on the kind of delimiter. This is used when creating custom\n * sized delimiters to decide whether to create a small, large, or stacked\n * delimiter.\n *\n * In real TeX, these sequences aren't explicitly defined, but are instead\n * defined inside the font metrics. Since there are only three sequences that\n * are possible for the delimiters that TeX defines, it is easier to just encode\n * them explicitly here.\n */\n\n\n// Delimiters that never stack try small delimiters and large delimiters only\nvar stackNeverDelimiterSequence = [{\n  type: \"small\",\n  style: Style$1.SCRIPTSCRIPT\n}, {\n  type: \"small\",\n  style: Style$1.SCRIPT\n}, {\n  type: \"small\",\n  style: Style$1.TEXT\n}, {\n  type: \"large\",\n  size: 1\n}, {\n  type: \"large\",\n  size: 2\n}, {\n  type: \"large\",\n  size: 3\n}, {\n  type: \"large\",\n  size: 4\n}]; // Delimiters that always stack try the small delimiters first, then stack\n\nvar stackAlwaysDelimiterSequence = [{\n  type: \"small\",\n  style: Style$1.SCRIPTSCRIPT\n}, {\n  type: \"small\",\n  style: Style$1.SCRIPT\n}, {\n  type: \"small\",\n  style: Style$1.TEXT\n}, {\n  type: \"stack\"\n}]; // Delimiters that stack when large try the small and then large delimiters, and\n// stack afterwards\n\nvar stackLargeDelimiterSequence = [{\n  type: \"small\",\n  style: Style$1.SCRIPTSCRIPT\n}, {\n  type: \"small\",\n  style: Style$1.SCRIPT\n}, {\n  type: \"small\",\n  style: Style$1.TEXT\n}, {\n  type: \"large\",\n  size: 1\n}, {\n  type: \"large\",\n  size: 2\n}, {\n  type: \"large\",\n  size: 3\n}, {\n  type: \"large\",\n  size: 4\n}, {\n  type: \"stack\"\n}];\n/**\n * Get the font used in a delimiter based on what kind of delimiter it is.\n * TODO(#963) Use more specific font family return type once that is introduced.\n */\n\nvar delimTypeToFont = function delimTypeToFont(type) {\n  if (type.type === \"small\") {\n    return \"Main-Regular\";\n  } else if (type.type === \"large\") {\n    return \"Size\" + type.size + \"-Regular\";\n  } else if (type.type === \"stack\") {\n    return \"Size4-Regular\";\n  } else {\n    throw new Error(\"Add support for delim type '\" + type.type + \"' here.\");\n  }\n};\n/**\n * Traverse a sequence of types of delimiters to decide what kind of delimiter\n * should be used to create a delimiter of the given height+depth.\n */\n\n\nvar traverseSequence = function traverseSequence(delim, height, sequence, options) {\n  // Here, we choose the index we should start at in the sequences. In smaller\n  // sizes (which correspond to larger numbers in style.size) we start earlier\n  // in the sequence. Thus, scriptscript starts at index 3-3=0, script starts\n  // at index 3-2=1, text starts at 3-1=2, and display starts at min(2,3-0)=2\n  var start = Math.min(2, 3 - options.style.size);\n\n  for (var i = start; i < sequence.length; i++) {\n    if (sequence[i].type === \"stack\") {\n      // This is always the last delimiter, so we just break the loop now.\n      break;\n    }\n\n    var metrics = getMetrics(delim, delimTypeToFont(sequence[i]), \"math\");\n    var heightDepth = metrics.height + metrics.depth; // Small delimiters are scaled down versions of the same font, so we\n    // account for the style change size.\n\n    if (sequence[i].type === \"small\") {\n      var newOptions = options.havingBaseStyle(sequence[i].style);\n      heightDepth *= newOptions.sizeMultiplier;\n    } // Check if the delimiter at this size works for the given height.\n\n\n    if (heightDepth > height) {\n      return sequence[i];\n    }\n  } // If we reached the end of the sequence, return the last sequence element.\n\n\n  return sequence[sequence.length - 1];\n};\n/**\n * Make a delimiter of a given height+depth, with optional centering. Here, we\n * traverse the sequences, and create a delimiter that the sequence tells us to.\n */\n\n\nvar makeCustomSizedDelim = function makeCustomSizedDelim(delim, height, center, options, mode, classes) {\n  if (delim === \"<\" || delim === \"\\\\lt\" || delim === \"\\u27e8\") {\n    delim = \"\\\\langle\";\n  } else if (delim === \">\" || delim === \"\\\\gt\" || delim === \"\\u27e9\") {\n    delim = \"\\\\rangle\";\n  } // Decide what sequence to use\n\n\n  var sequence;\n\n  if (stackNeverDelimiters.includes(delim)) {\n    sequence = stackNeverDelimiterSequence;\n  } else if (stackLargeDelimiters.includes(delim)) {\n    sequence = stackLargeDelimiterSequence;\n  } else {\n    sequence = stackAlwaysDelimiterSequence;\n  } // Look through the sequence\n\n\n  var delimType = traverseSequence(delim, height, sequence, options); // Get the delimiter from font glyphs.\n  // Depending on the sequence element we decided on, call the\n  // appropriate function.\n\n  if (delimType.type === \"small\") {\n    return makeSmallDelim(delim, delimType.style, center, options, mode, classes);\n  } else if (delimType.type === \"large\") {\n    return makeLargeDelim(delim, delimType.size, center, options, mode, classes);\n  } else\n    /* if (delimType.type === \"stack\") */\n    {\n      return makeStackedDelim(delim, height, center, options, mode, classes);\n    }\n};\n/**\n * Make a delimiter for use with `\\left` and `\\right`, given a height and depth\n * of an expression that the delimiters surround.\n */\n\n\nvar makeLeftRightDelim = function makeLeftRightDelim(delim, height, depth, options, mode, classes) {\n  // We always center \\left/\\right delimiters, so the axis is always shifted\n  var axisHeight = options.fontMetrics().axisHeight * options.sizeMultiplier; // Taken from TeX source, tex.web, function make_left_right\n\n  var delimiterFactor = 901;\n  var delimiterExtend = 5.0 / options.fontMetrics().ptPerEm;\n  var maxDistFromAxis = Math.max(height - axisHeight, depth + axisHeight);\n  var totalHeight = Math.max( // In real TeX, calculations are done using integral values which are\n  // 65536 per pt, or 655360 per em. So, the division here truncates in\n  // TeX but doesn't here, producing different results. If we wanted to\n  // exactly match TeX's calculation, we could do\n  //   Math.floor(655360 * maxDistFromAxis / 500) *\n  //    delimiterFactor / 655360\n  // (To see the difference, compare\n  //    x^{x^{\\left(\\rule{0.1em}{0.68em}\\right)}}\n  // in TeX and KaTeX)\n  maxDistFromAxis / 500 * delimiterFactor, 2 * maxDistFromAxis - delimiterExtend); // Finally, we defer to `makeCustomSizedDelim` with our calculated total\n  // height\n\n  return makeCustomSizedDelim(delim, totalHeight, true, options, mode, classes);\n};\n\nvar delimiter = {\n  sqrtImage: makeSqrtImage,\n  sizedDelim: makeSizedDelim,\n  sizeToMaxHeight: sizeToMaxHeight,\n  customSizedDelim: makeCustomSizedDelim,\n  leftRightDelim: makeLeftRightDelim\n};\n\n// Extra data needed for the delimiter handler down below\nvar delimiterSizes = {\n  \"\\\\bigl\": {\n    mclass: \"mopen\",\n    size: 1\n  },\n  \"\\\\Bigl\": {\n    mclass: \"mopen\",\n    size: 2\n  },\n  \"\\\\biggl\": {\n    mclass: \"mopen\",\n    size: 3\n  },\n  \"\\\\Biggl\": {\n    mclass: \"mopen\",\n    size: 4\n  },\n  \"\\\\bigr\": {\n    mclass: \"mclose\",\n    size: 1\n  },\n  \"\\\\Bigr\": {\n    mclass: \"mclose\",\n    size: 2\n  },\n  \"\\\\biggr\": {\n    mclass: \"mclose\",\n    size: 3\n  },\n  \"\\\\Biggr\": {\n    mclass: \"mclose\",\n    size: 4\n  },\n  \"\\\\bigm\": {\n    mclass: \"mrel\",\n    size: 1\n  },\n  \"\\\\Bigm\": {\n    mclass: \"mrel\",\n    size: 2\n  },\n  \"\\\\biggm\": {\n    mclass: \"mrel\",\n    size: 3\n  },\n  \"\\\\Biggm\": {\n    mclass: \"mrel\",\n    size: 4\n  },\n  \"\\\\big\": {\n    mclass: \"mord\",\n    size: 1\n  },\n  \"\\\\Big\": {\n    mclass: \"mord\",\n    size: 2\n  },\n  \"\\\\bigg\": {\n    mclass: \"mord\",\n    size: 3\n  },\n  \"\\\\Bigg\": {\n    mclass: \"mord\",\n    size: 4\n  }\n};\nvar delimiters = [\"(\", \"\\\\lparen\", \")\", \"\\\\rparen\", \"[\", \"\\\\lbrack\", \"]\", \"\\\\rbrack\", \"\\\\{\", \"\\\\lbrace\", \"\\\\}\", \"\\\\rbrace\", \"\\\\lfloor\", \"\\\\rfloor\", \"\\u230a\", \"\\u230b\", \"\\\\lceil\", \"\\\\rceil\", \"\\u2308\", \"\\u2309\", \"<\", \">\", \"\\\\langle\", \"\\u27e8\", \"\\\\rangle\", \"\\u27e9\", \"\\\\lt\", \"\\\\gt\", \"\\\\lvert\", \"\\\\rvert\", \"\\\\lVert\", \"\\\\rVert\", \"\\\\lgroup\", \"\\\\rgroup\", \"\\u27ee\", \"\\u27ef\", \"\\\\lmoustache\", \"\\\\rmoustache\", \"\\u23b0\", \"\\u23b1\", \"/\", \"\\\\backslash\", \"|\", \"\\\\vert\", \"\\\\|\", \"\\\\Vert\", \"\\\\uparrow\", \"\\\\Uparrow\", \"\\\\downarrow\", \"\\\\Downarrow\", \"\\\\updownarrow\", \"\\\\Updownarrow\", \".\"];\n\n// Delimiter functions\nfunction checkDelimiter(delim, context) {\n  var symDelim = checkSymbolNodeType(delim);\n\n  if (symDelim && delimiters.includes(symDelim.text)) {\n    return symDelim;\n  } else if (symDelim) {\n    throw new ParseError(\"Invalid delimiter '\" + symDelim.text + \"' after '\" + context.funcName + \"'\", delim);\n  } else {\n    throw new ParseError(\"Invalid delimiter type '\" + delim.type + \"'\", delim);\n  }\n}\n\ndefineFunction({\n  type: \"delimsizing\",\n  names: [\"\\\\bigl\", \"\\\\Bigl\", \"\\\\biggl\", \"\\\\Biggl\", \"\\\\bigr\", \"\\\\Bigr\", \"\\\\biggr\", \"\\\\Biggr\", \"\\\\bigm\", \"\\\\Bigm\", \"\\\\biggm\", \"\\\\Biggm\", \"\\\\big\", \"\\\\Big\", \"\\\\bigg\", \"\\\\Bigg\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"primitive\"]\n  },\n  handler: (context, args) => {\n    var delim = checkDelimiter(args[0], context);\n    return {\n      type: \"delimsizing\",\n      mode: context.parser.mode,\n      size: delimiterSizes[context.funcName].size,\n      mclass: delimiterSizes[context.funcName].mclass,\n      delim: delim.text\n    };\n  },\n  htmlBuilder: (group, options) => {\n    if (group.delim === \".\") {\n      // Empty delimiters still count as elements, even though they don't\n      // show anything.\n      return buildCommon.makeSpan([group.mclass]);\n    } // Use delimiter.sizedDelim to generate the delimiter.\n\n\n    return delimiter.sizedDelim(group.delim, group.size, options, group.mode, [group.mclass]);\n  },\n  mathmlBuilder: group => {\n    var children = [];\n\n    if (group.delim !== \".\") {\n      children.push(makeText(group.delim, group.mode));\n    }\n\n    var node = new mathMLTree.MathNode(\"mo\", children);\n\n    if (group.mclass === \"mopen\" || group.mclass === \"mclose\") {\n      // Only some of the delimsizing functions act as fences, and they\n      // return \"mopen\" or \"mclose\" mclass.\n      node.setAttribute(\"fence\", \"true\");\n    } else {\n      // Explicitly disable fencing if it's not a fence, to override the\n      // defaults.\n      node.setAttribute(\"fence\", \"false\");\n    }\n\n    node.setAttribute(\"stretchy\", \"true\");\n    var size = makeEm(delimiter.sizeToMaxHeight[group.size]);\n    node.setAttribute(\"minsize\", size);\n    node.setAttribute(\"maxsize\", size);\n    return node;\n  }\n});\n\nfunction assertParsed(group) {\n  if (!group.body) {\n    throw new Error(\"Bug: The leftright ParseNode wasn't fully parsed.\");\n  }\n}\n\ndefineFunction({\n  type: \"leftright-right\",\n  names: [\"\\\\right\"],\n  props: {\n    numArgs: 1,\n    primitive: true\n  },\n  handler: (context, args) => {\n    // \\left case below triggers parsing of \\right in\n    //   `const right = parser.parseFunction();`\n    // uses this return value.\n    var color = context.parser.gullet.macros.get(\"\\\\current@color\");\n\n    if (color && typeof color !== \"string\") {\n      throw new ParseError(\"\\\\current@color set to non-string in \\\\right\");\n    }\n\n    return {\n      type: \"leftright-right\",\n      mode: context.parser.mode,\n      delim: checkDelimiter(args[0], context).text,\n      color // undefined if not set via \\color\n\n    };\n  }\n});\ndefineFunction({\n  type: \"leftright\",\n  names: [\"\\\\left\"],\n  props: {\n    numArgs: 1,\n    primitive: true\n  },\n  handler: (context, args) => {\n    var delim = checkDelimiter(args[0], context);\n    var parser = context.parser; // Parse out the implicit body\n\n    ++parser.leftrightDepth; // parseExpression stops before '\\\\right'\n\n    var body = parser.parseExpression(false);\n    --parser.leftrightDepth; // Check the next token\n\n    parser.expect(\"\\\\right\", false);\n    var right = assertNodeType(parser.parseFunction(), \"leftright-right\");\n    return {\n      type: \"leftright\",\n      mode: parser.mode,\n      body,\n      left: delim.text,\n      right: right.delim,\n      rightColor: right.color\n    };\n  },\n  htmlBuilder: (group, options) => {\n    assertParsed(group); // Build the inner expression\n\n    var inner = buildExpression$1(group.body, options, true, [\"mopen\", \"mclose\"]);\n    var innerHeight = 0;\n    var innerDepth = 0;\n    var hadMiddle = false; // Calculate its height and depth\n\n    for (var i = 0; i < inner.length; i++) {\n      // Property `isMiddle` not defined on `span`. See comment in\n      // \"middle\"'s htmlBuilder.\n      // $FlowFixMe\n      if (inner[i].isMiddle) {\n        hadMiddle = true;\n      } else {\n        innerHeight = Math.max(inner[i].height, innerHeight);\n        innerDepth = Math.max(inner[i].depth, innerDepth);\n      }\n    } // The size of delimiters is the same, regardless of what style we are\n    // in. Thus, to correctly calculate the size of delimiter we need around\n    // a group, we scale down the inner size based on the size.\n\n\n    innerHeight *= options.sizeMultiplier;\n    innerDepth *= options.sizeMultiplier;\n    var leftDelim;\n\n    if (group.left === \".\") {\n      // Empty delimiters in \\left and \\right make null delimiter spaces.\n      leftDelim = makeNullDelimiter(options, [\"mopen\"]);\n    } else {\n      // Otherwise, use leftRightDelim to generate the correct sized\n      // delimiter.\n      leftDelim = delimiter.leftRightDelim(group.left, innerHeight, innerDepth, options, group.mode, [\"mopen\"]);\n    } // Add it to the beginning of the expression\n\n\n    inner.unshift(leftDelim); // Handle middle delimiters\n\n    if (hadMiddle) {\n      for (var _i = 1; _i < inner.length; _i++) {\n        var middleDelim = inner[_i]; // Property `isMiddle` not defined on `span`. See comment in\n        // \"middle\"'s htmlBuilder.\n        // $FlowFixMe\n\n        var isMiddle = middleDelim.isMiddle;\n\n        if (isMiddle) {\n          // Apply the options that were active when \\middle was called\n          inner[_i] = delimiter.leftRightDelim(isMiddle.delim, innerHeight, innerDepth, isMiddle.options, group.mode, []);\n        }\n      }\n    }\n\n    var rightDelim; // Same for the right delimiter, but using color specified by \\color\n\n    if (group.right === \".\") {\n      rightDelim = makeNullDelimiter(options, [\"mclose\"]);\n    } else {\n      var colorOptions = group.rightColor ? options.withColor(group.rightColor) : options;\n      rightDelim = delimiter.leftRightDelim(group.right, innerHeight, innerDepth, colorOptions, group.mode, [\"mclose\"]);\n    } // Add it to the end of the expression.\n\n\n    inner.push(rightDelim);\n    return buildCommon.makeSpan([\"minner\"], inner, options);\n  },\n  mathmlBuilder: (group, options) => {\n    assertParsed(group);\n    var inner = buildExpression(group.body, options);\n\n    if (group.left !== \".\") {\n      var leftNode = new mathMLTree.MathNode(\"mo\", [makeText(group.left, group.mode)]);\n      leftNode.setAttribute(\"fence\", \"true\");\n      inner.unshift(leftNode);\n    }\n\n    if (group.right !== \".\") {\n      var rightNode = new mathMLTree.MathNode(\"mo\", [makeText(group.right, group.mode)]);\n      rightNode.setAttribute(\"fence\", \"true\");\n\n      if (group.rightColor) {\n        rightNode.setAttribute(\"mathcolor\", group.rightColor);\n      }\n\n      inner.push(rightNode);\n    }\n\n    return makeRow(inner);\n  }\n});\ndefineFunction({\n  type: \"middle\",\n  names: [\"\\\\middle\"],\n  props: {\n    numArgs: 1,\n    primitive: true\n  },\n  handler: (context, args) => {\n    var delim = checkDelimiter(args[0], context);\n\n    if (!context.parser.leftrightDepth) {\n      throw new ParseError(\"\\\\middle without preceding \\\\left\", delim);\n    }\n\n    return {\n      type: \"middle\",\n      mode: context.parser.mode,\n      delim: delim.text\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var middleDelim;\n\n    if (group.delim === \".\") {\n      middleDelim = makeNullDelimiter(options, []);\n    } else {\n      middleDelim = delimiter.sizedDelim(group.delim, 1, options, group.mode, []);\n      var isMiddle = {\n        delim: group.delim,\n        options\n      }; // Property `isMiddle` not defined on `span`. It is only used in\n      // this file above.\n      // TODO: Fix this violation of the `span` type and possibly rename\n      // things since `isMiddle` sounds like a boolean, but is a struct.\n      // $FlowFixMe\n\n      middleDelim.isMiddle = isMiddle;\n    }\n\n    return middleDelim;\n  },\n  mathmlBuilder: (group, options) => {\n    // A Firefox \\middle will stretch a character vertically only if it\n    // is in the fence part of the operator dictionary at:\n    // https://www.w3.org/TR/MathML3/appendixc.html.\n    // So we need to avoid U+2223 and use plain \"|\" instead.\n    var textNode = group.delim === \"\\\\vert\" || group.delim === \"|\" ? makeText(\"|\", \"text\") : makeText(group.delim, group.mode);\n    var middleNode = new mathMLTree.MathNode(\"mo\", [textNode]);\n    middleNode.setAttribute(\"fence\", \"true\"); // MathML gives 5/18em spacing to each <mo> element.\n    // \\middle should get delimiter spacing instead.\n\n    middleNode.setAttribute(\"lspace\", \"0.05em\");\n    middleNode.setAttribute(\"rspace\", \"0.05em\");\n    return middleNode;\n  }\n});\n\nvar htmlBuilder$7 = (group, options) => {\n  // \\cancel, \\bcancel, \\xcancel, \\sout, \\fbox, \\colorbox, \\fcolorbox, \\phase\n  // Some groups can return document fragments.  Handle those by wrapping\n  // them in a span.\n  var inner = buildCommon.wrapFragment(buildGroup$1(group.body, options), options);\n  var label = group.label.slice(1);\n  var scale = options.sizeMultiplier;\n  var img;\n  var imgShift = 0; // In the LaTeX cancel package, line geometry is slightly different\n  // depending on whether the subject is wider than it is tall, or vice versa.\n  // We don't know the width of a group, so as a proxy, we test if\n  // the subject is a single character. This captures most of the\n  // subjects that should get the \"tall\" treatment.\n\n  var isSingleChar = utils.isCharacterBox(group.body);\n\n  if (label === \"sout\") {\n    img = buildCommon.makeSpan([\"stretchy\", \"sout\"]);\n    img.height = options.fontMetrics().defaultRuleThickness / scale;\n    imgShift = -0.5 * options.fontMetrics().xHeight;\n  } else if (label === \"phase\") {\n    // Set a couple of dimensions from the steinmetz package.\n    var lineWeight = calculateSize({\n      number: 0.6,\n      unit: \"pt\"\n    }, options);\n    var clearance = calculateSize({\n      number: 0.35,\n      unit: \"ex\"\n    }, options); // Prevent size changes like \\Huge from affecting line thickness\n\n    var newOptions = options.havingBaseSizing();\n    scale = scale / newOptions.sizeMultiplier;\n    var angleHeight = inner.height + inner.depth + lineWeight + clearance; // Reserve a left pad for the angle.\n\n    inner.style.paddingLeft = makeEm(angleHeight / 2 + lineWeight); // Create an SVG\n\n    var viewBoxHeight = Math.floor(1000 * angleHeight * scale);\n    var path = phasePath(viewBoxHeight);\n    var svgNode = new SvgNode([new PathNode(\"phase\", path)], {\n      \"width\": \"400em\",\n      \"height\": makeEm(viewBoxHeight / 1000),\n      \"viewBox\": \"0 0 400000 \" + viewBoxHeight,\n      \"preserveAspectRatio\": \"xMinYMin slice\"\n    }); // Wrap it in a span with overflow: hidden.\n\n    img = buildCommon.makeSvgSpan([\"hide-tail\"], [svgNode], options);\n    img.style.height = makeEm(angleHeight);\n    imgShift = inner.depth + lineWeight + clearance;\n  } else {\n    // Add horizontal padding\n    if (/cancel/.test(label)) {\n      if (!isSingleChar) {\n        inner.classes.push(\"cancel-pad\");\n      }\n    } else if (label === \"angl\") {\n      inner.classes.push(\"anglpad\");\n    } else {\n      inner.classes.push(\"boxpad\");\n    } // Add vertical padding\n\n\n    var topPad = 0;\n    var bottomPad = 0;\n    var ruleThickness = 0; // ref: cancel package: \\advance\\totalheight2\\p@ % \"+2\"\n\n    if (/box/.test(label)) {\n      ruleThickness = Math.max(options.fontMetrics().fboxrule, // default\n      options.minRuleThickness // User override.\n      );\n      topPad = options.fontMetrics().fboxsep + (label === \"colorbox\" ? 0 : ruleThickness);\n      bottomPad = topPad;\n    } else if (label === \"angl\") {\n      ruleThickness = Math.max(options.fontMetrics().defaultRuleThickness, options.minRuleThickness);\n      topPad = 4 * ruleThickness; // gap = 3  line, plus the line itself.\n\n      bottomPad = Math.max(0, 0.25 - inner.depth);\n    } else {\n      topPad = isSingleChar ? 0.2 : 0;\n      bottomPad = topPad;\n    }\n\n    img = stretchy.encloseSpan(inner, label, topPad, bottomPad, options);\n\n    if (/fbox|boxed|fcolorbox/.test(label)) {\n      img.style.borderStyle = \"solid\";\n      img.style.borderWidth = makeEm(ruleThickness);\n    } else if (label === \"angl\" && ruleThickness !== 0.049) {\n      img.style.borderTopWidth = makeEm(ruleThickness);\n      img.style.borderRightWidth = makeEm(ruleThickness);\n    }\n\n    imgShift = inner.depth + bottomPad;\n\n    if (group.backgroundColor) {\n      img.style.backgroundColor = group.backgroundColor;\n\n      if (group.borderColor) {\n        img.style.borderColor = group.borderColor;\n      }\n    }\n  }\n\n  var vlist;\n\n  if (group.backgroundColor) {\n    vlist = buildCommon.makeVList({\n      positionType: \"individualShift\",\n      children: [// Put the color background behind inner;\n      {\n        type: \"elem\",\n        elem: img,\n        shift: imgShift\n      }, {\n        type: \"elem\",\n        elem: inner,\n        shift: 0\n      }]\n    }, options);\n  } else {\n    var classes = /cancel|phase/.test(label) ? [\"svg-align\"] : [];\n    vlist = buildCommon.makeVList({\n      positionType: \"individualShift\",\n      children: [// Write the \\cancel stroke on top of inner.\n      {\n        type: \"elem\",\n        elem: inner,\n        shift: 0\n      }, {\n        type: \"elem\",\n        elem: img,\n        shift: imgShift,\n        wrapperClasses: classes\n      }]\n    }, options);\n  }\n\n  if (/cancel/.test(label)) {\n    // The cancel package documentation says that cancel lines add their height\n    // to the expression, but tests show that isn't how it actually works.\n    vlist.height = inner.height;\n    vlist.depth = inner.depth;\n  }\n\n  if (/cancel/.test(label) && !isSingleChar) {\n    // cancel does not create horiz space for its line extension.\n    return buildCommon.makeSpan([\"mord\", \"cancel-lap\"], [vlist], options);\n  } else {\n    return buildCommon.makeSpan([\"mord\"], [vlist], options);\n  }\n};\n\nvar mathmlBuilder$6 = (group, options) => {\n  var fboxsep = 0;\n  var node = new mathMLTree.MathNode(group.label.indexOf(\"colorbox\") > -1 ? \"mpadded\" : \"menclose\", [buildGroup(group.body, options)]);\n\n  switch (group.label) {\n    case \"\\\\cancel\":\n      node.setAttribute(\"notation\", \"updiagonalstrike\");\n      break;\n\n    case \"\\\\bcancel\":\n      node.setAttribute(\"notation\", \"downdiagonalstrike\");\n      break;\n\n    case \"\\\\phase\":\n      node.setAttribute(\"notation\", \"phasorangle\");\n      break;\n\n    case \"\\\\sout\":\n      node.setAttribute(\"notation\", \"horizontalstrike\");\n      break;\n\n    case \"\\\\fbox\":\n      node.setAttribute(\"notation\", \"box\");\n      break;\n\n    case \"\\\\angl\":\n      node.setAttribute(\"notation\", \"actuarial\");\n      break;\n\n    case \"\\\\fcolorbox\":\n    case \"\\\\colorbox\":\n      // <menclose> doesn't have a good notation option. So use <mpadded>\n      // instead. Set some attributes that come included with <menclose>.\n      fboxsep = options.fontMetrics().fboxsep * options.fontMetrics().ptPerEm;\n      node.setAttribute(\"width\", \"+\" + 2 * fboxsep + \"pt\");\n      node.setAttribute(\"height\", \"+\" + 2 * fboxsep + \"pt\");\n      node.setAttribute(\"lspace\", fboxsep + \"pt\"); //\n\n      node.setAttribute(\"voffset\", fboxsep + \"pt\");\n\n      if (group.label === \"\\\\fcolorbox\") {\n        var thk = Math.max(options.fontMetrics().fboxrule, // default\n        options.minRuleThickness // user override\n        );\n        node.setAttribute(\"style\", \"border: \" + thk + \"em solid \" + String(group.borderColor));\n      }\n\n      break;\n\n    case \"\\\\xcancel\":\n      node.setAttribute(\"notation\", \"updiagonalstrike downdiagonalstrike\");\n      break;\n  }\n\n  if (group.backgroundColor) {\n    node.setAttribute(\"mathbackground\", group.backgroundColor);\n  }\n\n  return node;\n};\n\ndefineFunction({\n  type: \"enclose\",\n  names: [\"\\\\colorbox\"],\n  props: {\n    numArgs: 2,\n    allowedInText: true,\n    argTypes: [\"color\", \"text\"]\n  },\n\n  handler(_ref, args, optArgs) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var color = assertNodeType(args[0], \"color-token\").color;\n    var body = args[1];\n    return {\n      type: \"enclose\",\n      mode: parser.mode,\n      label: funcName,\n      backgroundColor: color,\n      body\n    };\n  },\n\n  htmlBuilder: htmlBuilder$7,\n  mathmlBuilder: mathmlBuilder$6\n});\ndefineFunction({\n  type: \"enclose\",\n  names: [\"\\\\fcolorbox\"],\n  props: {\n    numArgs: 3,\n    allowedInText: true,\n    argTypes: [\"color\", \"color\", \"text\"]\n  },\n\n  handler(_ref2, args, optArgs) {\n    var {\n      parser,\n      funcName\n    } = _ref2;\n    var borderColor = assertNodeType(args[0], \"color-token\").color;\n    var backgroundColor = assertNodeType(args[1], \"color-token\").color;\n    var body = args[2];\n    return {\n      type: \"enclose\",\n      mode: parser.mode,\n      label: funcName,\n      backgroundColor,\n      borderColor,\n      body\n    };\n  },\n\n  htmlBuilder: htmlBuilder$7,\n  mathmlBuilder: mathmlBuilder$6\n});\ndefineFunction({\n  type: \"enclose\",\n  names: [\"\\\\fbox\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"hbox\"],\n    allowedInText: true\n  },\n\n  handler(_ref3, args) {\n    var {\n      parser\n    } = _ref3;\n    return {\n      type: \"enclose\",\n      mode: parser.mode,\n      label: \"\\\\fbox\",\n      body: args[0]\n    };\n  }\n\n});\ndefineFunction({\n  type: \"enclose\",\n  names: [\"\\\\cancel\", \"\\\\bcancel\", \"\\\\xcancel\", \"\\\\sout\", \"\\\\phase\"],\n  props: {\n    numArgs: 1\n  },\n\n  handler(_ref4, args) {\n    var {\n      parser,\n      funcName\n    } = _ref4;\n    var body = args[0];\n    return {\n      type: \"enclose\",\n      mode: parser.mode,\n      label: funcName,\n      body\n    };\n  },\n\n  htmlBuilder: htmlBuilder$7,\n  mathmlBuilder: mathmlBuilder$6\n});\ndefineFunction({\n  type: \"enclose\",\n  names: [\"\\\\angl\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"hbox\"],\n    allowedInText: false\n  },\n\n  handler(_ref5, args) {\n    var {\n      parser\n    } = _ref5;\n    return {\n      type: \"enclose\",\n      mode: parser.mode,\n      label: \"\\\\angl\",\n      body: args[0]\n    };\n  }\n\n});\n\n/**\n * All registered environments.\n * `environments.js` exports this same dictionary again and makes it public.\n * `Parser.js` requires this dictionary via `environments.js`.\n */\nvar _environments = {};\nfunction defineEnvironment(_ref) {\n  var {\n    type,\n    names,\n    props,\n    handler,\n    htmlBuilder,\n    mathmlBuilder\n  } = _ref;\n  // Set default values of environments.\n  var data = {\n    type,\n    numArgs: props.numArgs || 0,\n    allowedInText: false,\n    numOptionalArgs: 0,\n    handler\n  };\n\n  for (var i = 0; i < names.length; ++i) {\n    // TODO: The value type of _environments should be a type union of all\n    // possible `EnvSpec<>` possibilities instead of `EnvSpec<*>`, which is\n    // an existential type.\n    _environments[names[i]] = data;\n  }\n\n  if (htmlBuilder) {\n    _htmlGroupBuilders[type] = htmlBuilder;\n  }\n\n  if (mathmlBuilder) {\n    _mathmlGroupBuilders[type] = mathmlBuilder;\n  }\n}\n\n/**\n * All registered global/built-in macros.\n * `macros.js` exports this same dictionary again and makes it public.\n * `Parser.js` requires this dictionary via `macros.js`.\n */\nvar _macros = {}; // This function might one day accept an additional argument and do more things.\n\nfunction defineMacro(name, body) {\n  _macros[name] = body;\n}\n\n// Helper functions\nfunction getHLines(parser) {\n  // Return an array. The array length = number of hlines.\n  // Each element in the array tells if the line is dashed.\n  var hlineInfo = [];\n  parser.consumeSpaces();\n  var nxt = parser.fetch().text;\n\n  if (nxt === \"\\\\relax\") {\n    // \\relax is an artifact of the \\cr macro below\n    parser.consume();\n    parser.consumeSpaces();\n    nxt = parser.fetch().text;\n  }\n\n  while (nxt === \"\\\\hline\" || nxt === \"\\\\hdashline\") {\n    parser.consume();\n    hlineInfo.push(nxt === \"\\\\hdashline\");\n    parser.consumeSpaces();\n    nxt = parser.fetch().text;\n  }\n\n  return hlineInfo;\n}\n\nvar validateAmsEnvironmentContext = context => {\n  var settings = context.parser.settings;\n\n  if (!settings.displayMode) {\n    throw new ParseError(\"{\" + context.envName + \"} can be used only in\" + \" display mode.\");\n  }\n}; // autoTag (an argument to parseArray) can be one of three values:\n// * undefined: Regular (not-top-level) array; no tags on each row\n// * true: Automatic equation numbering, overridable by \\tag\n// * false: Tags allowed on each row, but no automatic numbering\n// This function *doesn't* work with the \"split\" environment name.\n\n\nfunction getAutoTag(name) {\n  if (name.indexOf(\"ed\") === -1) {\n    return name.indexOf(\"*\") === -1;\n  } // return undefined;\n\n}\n/**\n * Parse the body of the environment, with rows delimited by \\\\ and\n * columns delimited by &, and create a nested list in row-major order\n * with one group per cell.  If given an optional argument style\n * (\"text\", \"display\", etc.), then each cell is cast into that style.\n */\n\n\nfunction parseArray(parser, _ref, style) {\n  var {\n    hskipBeforeAndAfter,\n    addJot,\n    cols,\n    arraystretch,\n    colSeparationType,\n    autoTag,\n    singleRow,\n    emptySingleRow,\n    maxNumCols,\n    leqno\n  } = _ref;\n  parser.gullet.beginGroup();\n\n  if (!singleRow) {\n    // \\cr is equivalent to \\\\ without the optional size argument (see below)\n    // TODO: provide helpful error when \\cr is used outside array environment\n    parser.gullet.macros.set(\"\\\\cr\", \"\\\\\\\\\\\\relax\");\n  } // Get current arraystretch if it's not set by the environment\n\n\n  if (!arraystretch) {\n    var stretch = parser.gullet.expandMacroAsText(\"\\\\arraystretch\");\n\n    if (stretch == null) {\n      // Default \\arraystretch from lttab.dtx\n      arraystretch = 1;\n    } else {\n      arraystretch = parseFloat(stretch);\n\n      if (!arraystretch || arraystretch < 0) {\n        throw new ParseError(\"Invalid \\\\arraystretch: \" + stretch);\n      }\n    }\n  } // Start group for first cell\n\n\n  parser.gullet.beginGroup();\n  var row = [];\n  var body = [row];\n  var rowGaps = [];\n  var hLinesBeforeRow = [];\n  var tags = autoTag != null ? [] : undefined; // amsmath uses \\global\\@eqnswtrue and \\global\\@eqnswfalse to represent\n  // whether this row should have an equation number.  Simulate this with\n  // a \\@eqnsw macro set to 1 or 0.\n\n  function beginRow() {\n    if (autoTag) {\n      parser.gullet.macros.set(\"\\\\@eqnsw\", \"1\", true);\n    }\n  }\n\n  function endRow() {\n    if (tags) {\n      if (parser.gullet.macros.get(\"\\\\df@tag\")) {\n        tags.push(parser.subparse([new Token(\"\\\\df@tag\")]));\n        parser.gullet.macros.set(\"\\\\df@tag\", undefined, true);\n      } else {\n        tags.push(Boolean(autoTag) && parser.gullet.macros.get(\"\\\\@eqnsw\") === \"1\");\n      }\n    }\n  }\n\n  beginRow(); // Test for \\hline at the top of the array.\n\n  hLinesBeforeRow.push(getHLines(parser));\n\n  while (true) {\n    // eslint-disable-line no-constant-condition\n    // Parse each cell in its own group (namespace)\n    var cell = parser.parseExpression(false, singleRow ? \"\\\\end\" : \"\\\\\\\\\");\n    parser.gullet.endGroup();\n    parser.gullet.beginGroup();\n    cell = {\n      type: \"ordgroup\",\n      mode: parser.mode,\n      body: cell\n    };\n\n    if (style) {\n      cell = {\n        type: \"styling\",\n        mode: parser.mode,\n        style,\n        body: [cell]\n      };\n    }\n\n    row.push(cell);\n    var next = parser.fetch().text;\n\n    if (next === \"&\") {\n      if (maxNumCols && row.length === maxNumCols) {\n        if (singleRow || colSeparationType) {\n          // {equation} or {split}\n          throw new ParseError(\"Too many tab characters: &\", parser.nextToken);\n        } else {\n          // {array} environment\n          parser.settings.reportNonstrict(\"textEnv\", \"Too few columns \" + \"specified in the {array} column argument.\");\n        }\n      }\n\n      parser.consume();\n    } else if (next === \"\\\\end\") {\n      endRow(); // Arrays terminate newlines with `\\crcr` which consumes a `\\cr` if\n      // the last line is empty.  However, AMS environments keep the\n      // empty row if it's the only one.\n      // NOTE: Currently, `cell` is the last item added into `row`.\n\n      if (row.length === 1 && cell.type === \"styling\" && cell.body[0].body.length === 0 && (body.length > 1 || !emptySingleRow)) {\n        body.pop();\n      }\n\n      if (hLinesBeforeRow.length < body.length + 1) {\n        hLinesBeforeRow.push([]);\n      }\n\n      break;\n    } else if (next === \"\\\\\\\\\") {\n      parser.consume();\n      var size = void 0; // \\def\\Let@{\\let\\\\\\math@cr}\n      // \\def\\math@cr{...\\math@cr@}\n      // \\def\\math@cr@{\\new@ifnextchar[\\math@cr@@{\\math@cr@@[\\z@]}}\n      // \\def\\math@cr@@[#1]{...\\math@cr@@@...}\n      // \\def\\math@cr@@@{\\cr}\n\n      if (parser.gullet.future().text !== \" \") {\n        size = parser.parseSizeGroup(true);\n      }\n\n      rowGaps.push(size ? size.value : null);\n      endRow(); // check for \\hline(s) following the row separator\n\n      hLinesBeforeRow.push(getHLines(parser));\n      row = [];\n      body.push(row);\n      beginRow();\n    } else {\n      throw new ParseError(\"Expected & or \\\\\\\\ or \\\\cr or \\\\end\", parser.nextToken);\n    }\n  } // End cell group\n\n\n  parser.gullet.endGroup(); // End array group defining \\cr\n\n  parser.gullet.endGroup();\n  return {\n    type: \"array\",\n    mode: parser.mode,\n    addJot,\n    arraystretch,\n    body,\n    cols,\n    rowGaps,\n    hskipBeforeAndAfter,\n    hLinesBeforeRow,\n    colSeparationType,\n    tags,\n    leqno\n  };\n} // Decides on a style for cells in an array according to whether the given\n// environment name starts with the letter 'd'.\n\n\nfunction dCellStyle(envName) {\n  if (envName.slice(0, 1) === \"d\") {\n    return \"display\";\n  } else {\n    return \"text\";\n  }\n}\n\nvar htmlBuilder$6 = function htmlBuilder(group, options) {\n  var r;\n  var c;\n  var nr = group.body.length;\n  var hLinesBeforeRow = group.hLinesBeforeRow;\n  var nc = 0;\n  var body = new Array(nr);\n  var hlines = [];\n  var ruleThickness = Math.max( // From LaTeX \\showthe\\arrayrulewidth. Equals 0.04 em.\n  options.fontMetrics().arrayRuleWidth, options.minRuleThickness // User override.\n  ); // Horizontal spacing\n\n  var pt = 1 / options.fontMetrics().ptPerEm;\n  var arraycolsep = 5 * pt; // default value, i.e. \\arraycolsep in article.cls\n\n  if (group.colSeparationType && group.colSeparationType === \"small\") {\n    // We're in a {smallmatrix}. Default column space is \\thickspace,\n    // i.e. 5/18em = 0.2778em, per amsmath.dtx for {smallmatrix}.\n    // But that needs adjustment because LaTeX applies \\scriptstyle to the\n    // entire array, including the colspace, but this function applies\n    // \\scriptstyle only inside each element.\n    var localMultiplier = options.havingStyle(Style$1.SCRIPT).sizeMultiplier;\n    arraycolsep = 0.2778 * (localMultiplier / options.sizeMultiplier);\n  } // Vertical spacing\n\n\n  var baselineskip = group.colSeparationType === \"CD\" ? calculateSize({\n    number: 3,\n    unit: \"ex\"\n  }, options) : 12 * pt; // see size10.clo\n  // Default \\jot from ltmath.dtx\n  // TODO(edemaine): allow overriding \\jot via \\setlength (#687)\n\n  var jot = 3 * pt;\n  var arrayskip = group.arraystretch * baselineskip;\n  var arstrutHeight = 0.7 * arrayskip; // \\strutbox in ltfsstrc.dtx and\n\n  var arstrutDepth = 0.3 * arrayskip; // \\@arstrutbox in lttab.dtx\n\n  var totalHeight = 0; // Set a position for \\hline(s) at the top of the array, if any.\n\n  function setHLinePos(hlinesInGap) {\n    for (var i = 0; i < hlinesInGap.length; ++i) {\n      if (i > 0) {\n        totalHeight += 0.25;\n      }\n\n      hlines.push({\n        pos: totalHeight,\n        isDashed: hlinesInGap[i]\n      });\n    }\n  }\n\n  setHLinePos(hLinesBeforeRow[0]);\n\n  for (r = 0; r < group.body.length; ++r) {\n    var inrow = group.body[r];\n    var height = arstrutHeight; // \\@array adds an \\@arstrut\n\n    var depth = arstrutDepth; // to each tow (via the template)\n\n    if (nc < inrow.length) {\n      nc = inrow.length;\n    }\n\n    var outrow = new Array(inrow.length);\n\n    for (c = 0; c < inrow.length; ++c) {\n      var elt = buildGroup$1(inrow[c], options);\n\n      if (depth < elt.depth) {\n        depth = elt.depth;\n      }\n\n      if (height < elt.height) {\n        height = elt.height;\n      }\n\n      outrow[c] = elt;\n    }\n\n    var rowGap = group.rowGaps[r];\n    var gap = 0;\n\n    if (rowGap) {\n      gap = calculateSize(rowGap, options);\n\n      if (gap > 0) {\n        // \\@argarraycr\n        gap += arstrutDepth;\n\n        if (depth < gap) {\n          depth = gap; // \\@xargarraycr\n        }\n\n        gap = 0;\n      }\n    } // In AMS multiline environments such as aligned and gathered, rows\n    // correspond to lines that have additional \\jot added to the\n    // \\baselineskip via \\openup.\n\n\n    if (group.addJot) {\n      depth += jot;\n    }\n\n    outrow.height = height;\n    outrow.depth = depth;\n    totalHeight += height;\n    outrow.pos = totalHeight;\n    totalHeight += depth + gap; // \\@yargarraycr\n\n    body[r] = outrow; // Set a position for \\hline(s), if any.\n\n    setHLinePos(hLinesBeforeRow[r + 1]);\n  }\n\n  var offset = totalHeight / 2 + options.fontMetrics().axisHeight;\n  var colDescriptions = group.cols || [];\n  var cols = [];\n  var colSep;\n  var colDescrNum;\n  var tagSpans = [];\n\n  if (group.tags && group.tags.some(tag => tag)) {\n    // An environment with manual tags and/or automatic equation numbers.\n    // Create node(s), the latter of which trigger CSS counter increment.\n    for (r = 0; r < nr; ++r) {\n      var rw = body[r];\n      var shift = rw.pos - offset;\n      var tag = group.tags[r];\n      var tagSpan = void 0;\n\n      if (tag === true) {\n        // automatic numbering\n        tagSpan = buildCommon.makeSpan([\"eqn-num\"], [], options);\n      } else if (tag === false) {\n        // \\nonumber/\\notag or starred environment\n        tagSpan = buildCommon.makeSpan([], [], options);\n      } else {\n        // manual \\tag\n        tagSpan = buildCommon.makeSpan([], buildExpression$1(tag, options, true), options);\n      }\n\n      tagSpan.depth = rw.depth;\n      tagSpan.height = rw.height;\n      tagSpans.push({\n        type: \"elem\",\n        elem: tagSpan,\n        shift\n      });\n    }\n  }\n\n  for (c = 0, colDescrNum = 0; // Continue while either there are more columns or more column\n  // descriptions, so trailing separators don't get lost.\n  c < nc || colDescrNum < colDescriptions.length; ++c, ++colDescrNum) {\n    var colDescr = colDescriptions[colDescrNum] || {};\n    var firstSeparator = true;\n\n    while (colDescr.type === \"separator\") {\n      // If there is more than one separator in a row, add a space\n      // between them.\n      if (!firstSeparator) {\n        colSep = buildCommon.makeSpan([\"arraycolsep\"], []);\n        colSep.style.width = makeEm(options.fontMetrics().doubleRuleSep);\n        cols.push(colSep);\n      }\n\n      if (colDescr.separator === \"|\" || colDescr.separator === \":\") {\n        var lineType = colDescr.separator === \"|\" ? \"solid\" : \"dashed\";\n        var separator = buildCommon.makeSpan([\"vertical-separator\"], [], options);\n        separator.style.height = makeEm(totalHeight);\n        separator.style.borderRightWidth = makeEm(ruleThickness);\n        separator.style.borderRightStyle = lineType;\n        separator.style.margin = \"0 \" + makeEm(-ruleThickness / 2);\n\n        var _shift = totalHeight - offset;\n\n        if (_shift) {\n          separator.style.verticalAlign = makeEm(-_shift);\n        }\n\n        cols.push(separator);\n      } else {\n        throw new ParseError(\"Invalid separator type: \" + colDescr.separator);\n      }\n\n      colDescrNum++;\n      colDescr = colDescriptions[colDescrNum] || {};\n      firstSeparator = false;\n    }\n\n    if (c >= nc) {\n      continue;\n    }\n\n    var sepwidth = void 0;\n\n    if (c > 0 || group.hskipBeforeAndAfter) {\n      sepwidth = utils.deflt(colDescr.pregap, arraycolsep);\n\n      if (sepwidth !== 0) {\n        colSep = buildCommon.makeSpan([\"arraycolsep\"], []);\n        colSep.style.width = makeEm(sepwidth);\n        cols.push(colSep);\n      }\n    }\n\n    var col = [];\n\n    for (r = 0; r < nr; ++r) {\n      var row = body[r];\n      var elem = row[c];\n\n      if (!elem) {\n        continue;\n      }\n\n      var _shift2 = row.pos - offset;\n\n      elem.depth = row.depth;\n      elem.height = row.height;\n      col.push({\n        type: \"elem\",\n        elem: elem,\n        shift: _shift2\n      });\n    }\n\n    col = buildCommon.makeVList({\n      positionType: \"individualShift\",\n      children: col\n    }, options);\n    col = buildCommon.makeSpan([\"col-align-\" + (colDescr.align || \"c\")], [col]);\n    cols.push(col);\n\n    if (c < nc - 1 || group.hskipBeforeAndAfter) {\n      sepwidth = utils.deflt(colDescr.postgap, arraycolsep);\n\n      if (sepwidth !== 0) {\n        colSep = buildCommon.makeSpan([\"arraycolsep\"], []);\n        colSep.style.width = makeEm(sepwidth);\n        cols.push(colSep);\n      }\n    }\n  }\n\n  body = buildCommon.makeSpan([\"mtable\"], cols); // Add \\hline(s), if any.\n\n  if (hlines.length > 0) {\n    var line = buildCommon.makeLineSpan(\"hline\", options, ruleThickness);\n    var dashes = buildCommon.makeLineSpan(\"hdashline\", options, ruleThickness);\n    var vListElems = [{\n      type: \"elem\",\n      elem: body,\n      shift: 0\n    }];\n\n    while (hlines.length > 0) {\n      var hline = hlines.pop();\n      var lineShift = hline.pos - offset;\n\n      if (hline.isDashed) {\n        vListElems.push({\n          type: \"elem\",\n          elem: dashes,\n          shift: lineShift\n        });\n      } else {\n        vListElems.push({\n          type: \"elem\",\n          elem: line,\n          shift: lineShift\n        });\n      }\n    }\n\n    body = buildCommon.makeVList({\n      positionType: \"individualShift\",\n      children: vListElems\n    }, options);\n  }\n\n  if (tagSpans.length === 0) {\n    return buildCommon.makeSpan([\"mord\"], [body], options);\n  } else {\n    var eqnNumCol = buildCommon.makeVList({\n      positionType: \"individualShift\",\n      children: tagSpans\n    }, options);\n    eqnNumCol = buildCommon.makeSpan([\"tag\"], [eqnNumCol], options);\n    return buildCommon.makeFragment([body, eqnNumCol]);\n  }\n};\n\nvar alignMap = {\n  c: \"center \",\n  l: \"left \",\n  r: \"right \"\n};\n\nvar mathmlBuilder$5 = function mathmlBuilder(group, options) {\n  var tbl = [];\n  var glue = new mathMLTree.MathNode(\"mtd\", [], [\"mtr-glue\"]);\n  var tag = new mathMLTree.MathNode(\"mtd\", [], [\"mml-eqn-num\"]);\n\n  for (var i = 0; i < group.body.length; i++) {\n    var rw = group.body[i];\n    var row = [];\n\n    for (var j = 0; j < rw.length; j++) {\n      row.push(new mathMLTree.MathNode(\"mtd\", [buildGroup(rw[j], options)]));\n    }\n\n    if (group.tags && group.tags[i]) {\n      row.unshift(glue);\n      row.push(glue);\n\n      if (group.leqno) {\n        row.unshift(tag);\n      } else {\n        row.push(tag);\n      }\n    }\n\n    tbl.push(new mathMLTree.MathNode(\"mtr\", row));\n  }\n\n  var table = new mathMLTree.MathNode(\"mtable\", tbl); // Set column alignment, row spacing, column spacing, and\n  // array lines by setting attributes on the table element.\n  // Set the row spacing. In MathML, we specify a gap distance.\n  // We do not use rowGap[] because MathML automatically increases\n  // cell height with the height/depth of the element content.\n  // LaTeX \\arraystretch multiplies the row baseline-to-baseline distance.\n  // We simulate this by adding (arraystretch - 1)em to the gap. This\n  // does a reasonable job of adjusting arrays containing 1 em tall content.\n  // The 0.16 and 0.09 values are found empirically. They produce an array\n  // similar to LaTeX and in which content does not interfere with \\hlines.\n\n  var gap = group.arraystretch === 0.5 ? 0.1 // {smallmatrix}, {subarray}\n  : 0.16 + group.arraystretch - 1 + (group.addJot ? 0.09 : 0);\n  table.setAttribute(\"rowspacing\", makeEm(gap)); // MathML table lines go only between cells.\n  // To place a line on an edge we'll use <menclose>, if necessary.\n\n  var menclose = \"\";\n  var align = \"\";\n\n  if (group.cols && group.cols.length > 0) {\n    // Find column alignment, column spacing, and  vertical lines.\n    var cols = group.cols;\n    var columnLines = \"\";\n    var prevTypeWasAlign = false;\n    var iStart = 0;\n    var iEnd = cols.length;\n\n    if (cols[0].type === \"separator\") {\n      menclose += \"top \";\n      iStart = 1;\n    }\n\n    if (cols[cols.length - 1].type === \"separator\") {\n      menclose += \"bottom \";\n      iEnd -= 1;\n    }\n\n    for (var _i = iStart; _i < iEnd; _i++) {\n      if (cols[_i].type === \"align\") {\n        align += alignMap[cols[_i].align];\n\n        if (prevTypeWasAlign) {\n          columnLines += \"none \";\n        }\n\n        prevTypeWasAlign = true;\n      } else if (cols[_i].type === \"separator\") {\n        // MathML accepts only single lines between cells.\n        // So we read only the first of consecutive separators.\n        if (prevTypeWasAlign) {\n          columnLines += cols[_i].separator === \"|\" ? \"solid \" : \"dashed \";\n          prevTypeWasAlign = false;\n        }\n      }\n    }\n\n    table.setAttribute(\"columnalign\", align.trim());\n\n    if (/[sd]/.test(columnLines)) {\n      table.setAttribute(\"columnlines\", columnLines.trim());\n    }\n  } // Set column spacing.\n\n\n  if (group.colSeparationType === \"align\") {\n    var _cols = group.cols || [];\n\n    var spacing = \"\";\n\n    for (var _i2 = 1; _i2 < _cols.length; _i2++) {\n      spacing += _i2 % 2 ? \"0em \" : \"1em \";\n    }\n\n    table.setAttribute(\"columnspacing\", spacing.trim());\n  } else if (group.colSeparationType === \"alignat\" || group.colSeparationType === \"gather\") {\n    table.setAttribute(\"columnspacing\", \"0em\");\n  } else if (group.colSeparationType === \"small\") {\n    table.setAttribute(\"columnspacing\", \"0.2778em\");\n  } else if (group.colSeparationType === \"CD\") {\n    table.setAttribute(\"columnspacing\", \"0.5em\");\n  } else {\n    table.setAttribute(\"columnspacing\", \"1em\");\n  } // Address \\hline and \\hdashline\n\n\n  var rowLines = \"\";\n  var hlines = group.hLinesBeforeRow;\n  menclose += hlines[0].length > 0 ? \"left \" : \"\";\n  menclose += hlines[hlines.length - 1].length > 0 ? \"right \" : \"\";\n\n  for (var _i3 = 1; _i3 < hlines.length - 1; _i3++) {\n    rowLines += hlines[_i3].length === 0 ? \"none \" // MathML accepts only a single line between rows. Read one element.\n    : hlines[_i3][0] ? \"dashed \" : \"solid \";\n  }\n\n  if (/[sd]/.test(rowLines)) {\n    table.setAttribute(\"rowlines\", rowLines.trim());\n  }\n\n  if (menclose !== \"\") {\n    table = new mathMLTree.MathNode(\"menclose\", [table]);\n    table.setAttribute(\"notation\", menclose.trim());\n  }\n\n  if (group.arraystretch && group.arraystretch < 1) {\n    // A small array. Wrap in scriptstyle so row gap is not too large.\n    table = new mathMLTree.MathNode(\"mstyle\", [table]);\n    table.setAttribute(\"scriptlevel\", \"1\");\n  }\n\n  return table;\n}; // Convenience function for align, align*, aligned, alignat, alignat*, alignedat.\n\n\nvar alignedHandler = function alignedHandler(context, args) {\n  if (context.envName.indexOf(\"ed\") === -1) {\n    validateAmsEnvironmentContext(context);\n  }\n\n  var cols = [];\n  var separationType = context.envName.indexOf(\"at\") > -1 ? \"alignat\" : \"align\";\n  var isSplit = context.envName === \"split\";\n  var res = parseArray(context.parser, {\n    cols,\n    addJot: true,\n    autoTag: isSplit ? undefined : getAutoTag(context.envName),\n    emptySingleRow: true,\n    colSeparationType: separationType,\n    maxNumCols: isSplit ? 2 : undefined,\n    leqno: context.parser.settings.leqno\n  }, \"display\"); // Determining number of columns.\n  // 1. If the first argument is given, we use it as a number of columns,\n  //    and makes sure that each row doesn't exceed that number.\n  // 2. Otherwise, just count number of columns = maximum number\n  //    of cells in each row (\"aligned\" mode -- isAligned will be true).\n  //\n  // At the same time, prepend empty group {} at beginning of every second\n  // cell in each row (starting with second cell) so that operators become\n  // binary.  This behavior is implemented in amsmath's \\start@aligned.\n\n  var numMaths;\n  var numCols = 0;\n  var emptyGroup = {\n    type: \"ordgroup\",\n    mode: context.mode,\n    body: []\n  };\n\n  if (args[0] && args[0].type === \"ordgroup\") {\n    var arg0 = \"\";\n\n    for (var i = 0; i < args[0].body.length; i++) {\n      var textord = assertNodeType(args[0].body[i], \"textord\");\n      arg0 += textord.text;\n    }\n\n    numMaths = Number(arg0);\n    numCols = numMaths * 2;\n  }\n\n  var isAligned = !numCols;\n  res.body.forEach(function (row) {\n    for (var _i4 = 1; _i4 < row.length; _i4 += 2) {\n      // Modify ordgroup node within styling node\n      var styling = assertNodeType(row[_i4], \"styling\");\n      var ordgroup = assertNodeType(styling.body[0], \"ordgroup\");\n      ordgroup.body.unshift(emptyGroup);\n    }\n\n    if (!isAligned) {\n      // Case 1\n      var curMaths = row.length / 2;\n\n      if (numMaths < curMaths) {\n        throw new ParseError(\"Too many math in a row: \" + (\"expected \" + numMaths + \", but got \" + curMaths), row[0]);\n      }\n    } else if (numCols < row.length) {\n      // Case 2\n      numCols = row.length;\n    }\n  }); // Adjusting alignment.\n  // In aligned mode, we add one \\qquad between columns;\n  // otherwise we add nothing.\n\n  for (var _i5 = 0; _i5 < numCols; ++_i5) {\n    var align = \"r\";\n    var pregap = 0;\n\n    if (_i5 % 2 === 1) {\n      align = \"l\";\n    } else if (_i5 > 0 && isAligned) {\n      // \"aligned\" mode.\n      pregap = 1; // add one \\quad\n    }\n\n    cols[_i5] = {\n      type: \"align\",\n      align: align,\n      pregap: pregap,\n      postgap: 0\n    };\n  }\n\n  res.colSeparationType = isAligned ? \"align\" : \"alignat\";\n  return res;\n}; // Arrays are part of LaTeX, defined in lttab.dtx so its documentation\n// is part of the source2e.pdf file of LaTeX2e source documentation.\n// {darray} is an {array} environment where cells are set in \\displaystyle,\n// as defined in nccmath.sty.\n\n\ndefineEnvironment({\n  type: \"array\",\n  names: [\"array\", \"darray\"],\n  props: {\n    numArgs: 1\n  },\n\n  handler(context, args) {\n    // Since no types are specified above, the two possibilities are\n    // - The argument is wrapped in {} or [], in which case Parser's\n    //   parseGroup() returns an \"ordgroup\" wrapping some symbol node.\n    // - The argument is a bare symbol node.\n    var symNode = checkSymbolNodeType(args[0]);\n    var colalign = symNode ? [args[0]] : assertNodeType(args[0], \"ordgroup\").body;\n    var cols = colalign.map(function (nde) {\n      var node = assertSymbolNodeType(nde);\n      var ca = node.text;\n\n      if (\"lcr\".indexOf(ca) !== -1) {\n        return {\n          type: \"align\",\n          align: ca\n        };\n      } else if (ca === \"|\") {\n        return {\n          type: \"separator\",\n          separator: \"|\"\n        };\n      } else if (ca === \":\") {\n        return {\n          type: \"separator\",\n          separator: \":\"\n        };\n      }\n\n      throw new ParseError(\"Unknown column alignment: \" + ca, nde);\n    });\n    var res = {\n      cols,\n      hskipBeforeAndAfter: true,\n      // \\@preamble in lttab.dtx\n      maxNumCols: cols.length\n    };\n    return parseArray(context.parser, res, dCellStyle(context.envName));\n  },\n\n  htmlBuilder: htmlBuilder$6,\n  mathmlBuilder: mathmlBuilder$5\n}); // The matrix environments of amsmath builds on the array environment\n// of LaTeX, which is discussed above.\n// The mathtools package adds starred versions of the same environments.\n// These have an optional argument to choose left|center|right justification.\n\ndefineEnvironment({\n  type: \"array\",\n  names: [\"matrix\", \"pmatrix\", \"bmatrix\", \"Bmatrix\", \"vmatrix\", \"Vmatrix\", \"matrix*\", \"pmatrix*\", \"bmatrix*\", \"Bmatrix*\", \"vmatrix*\", \"Vmatrix*\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(context) {\n    var delimiters = {\n      \"matrix\": null,\n      \"pmatrix\": [\"(\", \")\"],\n      \"bmatrix\": [\"[\", \"]\"],\n      \"Bmatrix\": [\"\\\\{\", \"\\\\}\"],\n      \"vmatrix\": [\"|\", \"|\"],\n      \"Vmatrix\": [\"\\\\Vert\", \"\\\\Vert\"]\n    }[context.envName.replace(\"*\", \"\")]; // \\hskip -\\arraycolsep in amsmath\n\n    var colAlign = \"c\";\n    var payload = {\n      hskipBeforeAndAfter: false,\n      cols: [{\n        type: \"align\",\n        align: colAlign\n      }]\n    };\n\n    if (context.envName.charAt(context.envName.length - 1) === \"*\") {\n      // It's one of the mathtools starred functions.\n      // Parse the optional alignment argument.\n      var parser = context.parser;\n      parser.consumeSpaces();\n\n      if (parser.fetch().text === \"[\") {\n        parser.consume();\n        parser.consumeSpaces();\n        colAlign = parser.fetch().text;\n\n        if (\"lcr\".indexOf(colAlign) === -1) {\n          throw new ParseError(\"Expected l or c or r\", parser.nextToken);\n        }\n\n        parser.consume();\n        parser.consumeSpaces();\n        parser.expect(\"]\");\n        parser.consume();\n        payload.cols = [{\n          type: \"align\",\n          align: colAlign\n        }];\n      }\n    }\n\n    var res = parseArray(context.parser, payload, dCellStyle(context.envName)); // Populate cols with the correct number of column alignment specs.\n\n    var numCols = Math.max(0, ...res.body.map(row => row.length));\n    res.cols = new Array(numCols).fill({\n      type: \"align\",\n      align: colAlign\n    });\n    return delimiters ? {\n      type: \"leftright\",\n      mode: context.mode,\n      body: [res],\n      left: delimiters[0],\n      right: delimiters[1],\n      rightColor: undefined // \\right uninfluenced by \\color in array\n\n    } : res;\n  },\n\n  htmlBuilder: htmlBuilder$6,\n  mathmlBuilder: mathmlBuilder$5\n});\ndefineEnvironment({\n  type: \"array\",\n  names: [\"smallmatrix\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(context) {\n    var payload = {\n      arraystretch: 0.5\n    };\n    var res = parseArray(context.parser, payload, \"script\");\n    res.colSeparationType = \"small\";\n    return res;\n  },\n\n  htmlBuilder: htmlBuilder$6,\n  mathmlBuilder: mathmlBuilder$5\n});\ndefineEnvironment({\n  type: \"array\",\n  names: [\"subarray\"],\n  props: {\n    numArgs: 1\n  },\n\n  handler(context, args) {\n    // Parsing of {subarray} is similar to {array}\n    var symNode = checkSymbolNodeType(args[0]);\n    var colalign = symNode ? [args[0]] : assertNodeType(args[0], \"ordgroup\").body;\n    var cols = colalign.map(function (nde) {\n      var node = assertSymbolNodeType(nde);\n      var ca = node.text; // {subarray} only recognizes \"l\" & \"c\"\n\n      if (\"lc\".indexOf(ca) !== -1) {\n        return {\n          type: \"align\",\n          align: ca\n        };\n      }\n\n      throw new ParseError(\"Unknown column alignment: \" + ca, nde);\n    });\n\n    if (cols.length > 1) {\n      throw new ParseError(\"{subarray} can contain only one column\");\n    }\n\n    var res = {\n      cols,\n      hskipBeforeAndAfter: false,\n      arraystretch: 0.5\n    };\n    res = parseArray(context.parser, res, \"script\");\n\n    if (res.body.length > 0 && res.body[0].length > 1) {\n      throw new ParseError(\"{subarray} can contain only one column\");\n    }\n\n    return res;\n  },\n\n  htmlBuilder: htmlBuilder$6,\n  mathmlBuilder: mathmlBuilder$5\n}); // A cases environment (in amsmath.sty) is almost equivalent to\n// \\def\\arraystretch{1.2}%\n// \\left\\{\\begin{array}{@{}l@{\\quad}l@{}}  \\end{array}\\right.\n// {dcases} is a {cases} environment where cells are set in \\displaystyle,\n// as defined in mathtools.sty.\n// {rcases} is another mathtools environment. It's brace is on the right side.\n\ndefineEnvironment({\n  type: \"array\",\n  names: [\"cases\", \"dcases\", \"rcases\", \"drcases\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(context) {\n    var payload = {\n      arraystretch: 1.2,\n      cols: [{\n        type: \"align\",\n        align: \"l\",\n        pregap: 0,\n        // TODO(kevinb) get the current style.\n        // For now we use the metrics for TEXT style which is what we were\n        // doing before.  Before attempting to get the current style we\n        // should look at TeX's behavior especially for \\over and matrices.\n        postgap: 1.0\n        /* 1em quad */\n\n      }, {\n        type: \"align\",\n        align: \"l\",\n        pregap: 0,\n        postgap: 0\n      }]\n    };\n    var res = parseArray(context.parser, payload, dCellStyle(context.envName));\n    return {\n      type: \"leftright\",\n      mode: context.mode,\n      body: [res],\n      left: context.envName.indexOf(\"r\") > -1 ? \".\" : \"\\\\{\",\n      right: context.envName.indexOf(\"r\") > -1 ? \"\\\\}\" : \".\",\n      rightColor: undefined\n    };\n  },\n\n  htmlBuilder: htmlBuilder$6,\n  mathmlBuilder: mathmlBuilder$5\n}); // In the align environment, one uses ampersands, &, to specify number of\n// columns in each row, and to locate spacing between each column.\n// align gets automatic numbering. align* and aligned do not.\n// The alignedat environment can be used in math mode.\n// Note that we assume \\nomallineskiplimit to be zero,\n// so that \\strut@ is the same as \\strut.\n\ndefineEnvironment({\n  type: \"array\",\n  names: [\"align\", \"align*\", \"aligned\", \"split\"],\n  props: {\n    numArgs: 0\n  },\n  handler: alignedHandler,\n  htmlBuilder: htmlBuilder$6,\n  mathmlBuilder: mathmlBuilder$5\n}); // A gathered environment is like an array environment with one centered\n// column, but where rows are considered lines so get \\jot line spacing\n// and contents are set in \\displaystyle.\n\ndefineEnvironment({\n  type: \"array\",\n  names: [\"gathered\", \"gather\", \"gather*\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(context) {\n    if ([\"gather\", \"gather*\"].includes(context.envName)) {\n      validateAmsEnvironmentContext(context);\n    }\n\n    var res = {\n      cols: [{\n        type: \"align\",\n        align: \"c\"\n      }],\n      addJot: true,\n      colSeparationType: \"gather\",\n      autoTag: getAutoTag(context.envName),\n      emptySingleRow: true,\n      leqno: context.parser.settings.leqno\n    };\n    return parseArray(context.parser, res, \"display\");\n  },\n\n  htmlBuilder: htmlBuilder$6,\n  mathmlBuilder: mathmlBuilder$5\n}); // alignat environment is like an align environment, but one must explicitly\n// specify maximum number of columns in each row, and can adjust spacing between\n// each columns.\n\ndefineEnvironment({\n  type: \"array\",\n  names: [\"alignat\", \"alignat*\", \"alignedat\"],\n  props: {\n    numArgs: 1\n  },\n  handler: alignedHandler,\n  htmlBuilder: htmlBuilder$6,\n  mathmlBuilder: mathmlBuilder$5\n});\ndefineEnvironment({\n  type: \"array\",\n  names: [\"equation\", \"equation*\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(context) {\n    validateAmsEnvironmentContext(context);\n    var res = {\n      autoTag: getAutoTag(context.envName),\n      emptySingleRow: true,\n      singleRow: true,\n      maxNumCols: 1,\n      leqno: context.parser.settings.leqno\n    };\n    return parseArray(context.parser, res, \"display\");\n  },\n\n  htmlBuilder: htmlBuilder$6,\n  mathmlBuilder: mathmlBuilder$5\n});\ndefineEnvironment({\n  type: \"array\",\n  names: [\"CD\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(context) {\n    validateAmsEnvironmentContext(context);\n    return parseCD(context.parser);\n  },\n\n  htmlBuilder: htmlBuilder$6,\n  mathmlBuilder: mathmlBuilder$5\n});\ndefineMacro(\"\\\\nonumber\", \"\\\\gdef\\\\@eqnsw{0}\");\ndefineMacro(\"\\\\notag\", \"\\\\nonumber\"); // Catch \\hline outside array environment\n\ndefineFunction({\n  type: \"text\",\n  // Doesn't matter what this is.\n  names: [\"\\\\hline\", \"\\\\hdashline\"],\n  props: {\n    numArgs: 0,\n    allowedInText: true,\n    allowedInMath: true\n  },\n\n  handler(context, args) {\n    throw new ParseError(context.funcName + \" valid only within array environment\");\n  }\n\n});\n\nvar environments = _environments;\n\n// defineEnvironment definitions.\n\ndefineFunction({\n  type: \"environment\",\n  names: [\"\\\\begin\", \"\\\\end\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"text\"]\n  },\n\n  handler(_ref, args) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var nameGroup = args[0];\n\n    if (nameGroup.type !== \"ordgroup\") {\n      throw new ParseError(\"Invalid environment name\", nameGroup);\n    }\n\n    var envName = \"\";\n\n    for (var i = 0; i < nameGroup.body.length; ++i) {\n      envName += assertNodeType(nameGroup.body[i], \"textord\").text;\n    }\n\n    if (funcName === \"\\\\begin\") {\n      // begin...end is similar to left...right\n      if (!environments.hasOwnProperty(envName)) {\n        throw new ParseError(\"No such environment: \" + envName, nameGroup);\n      } // Build the environment object. Arguments and other information will\n      // be made available to the begin and end methods using properties.\n\n\n      var env = environments[envName];\n      var {\n        args: _args,\n        optArgs\n      } = parser.parseArguments(\"\\\\begin{\" + envName + \"}\", env);\n      var context = {\n        mode: parser.mode,\n        envName,\n        parser\n      };\n      var result = env.handler(context, _args, optArgs);\n      parser.expect(\"\\\\end\", false);\n      var endNameToken = parser.nextToken;\n      var end = assertNodeType(parser.parseFunction(), \"environment\");\n\n      if (end.name !== envName) {\n        throw new ParseError(\"Mismatch: \\\\begin{\" + envName + \"} matched by \\\\end{\" + end.name + \"}\", endNameToken);\n      } // $FlowFixMe, \"environment\" handler returns an environment ParseNode\n\n\n      return result;\n    }\n\n    return {\n      type: \"environment\",\n      mode: parser.mode,\n      name: envName,\n      nameGroup\n    };\n  }\n\n});\n\n// TODO(kevinb): implement \\\\sl and \\\\sc\n\nvar htmlBuilder$5 = (group, options) => {\n  var font = group.font;\n  var newOptions = options.withFont(font);\n  return buildGroup$1(group.body, newOptions);\n};\n\nvar mathmlBuilder$4 = (group, options) => {\n  var font = group.font;\n  var newOptions = options.withFont(font);\n  return buildGroup(group.body, newOptions);\n};\n\nvar fontAliases = {\n  \"\\\\Bbb\": \"\\\\mathbb\",\n  \"\\\\bold\": \"\\\\mathbf\",\n  \"\\\\frak\": \"\\\\mathfrak\",\n  \"\\\\bm\": \"\\\\boldsymbol\"\n};\ndefineFunction({\n  type: \"font\",\n  names: [// styles, except \\boldsymbol defined below\n  \"\\\\mathrm\", \"\\\\mathit\", \"\\\\mathbf\", \"\\\\mathnormal\", \"\\\\mathsfit\", // families\n  \"\\\\mathbb\", \"\\\\mathcal\", \"\\\\mathfrak\", \"\\\\mathscr\", \"\\\\mathsf\", \"\\\\mathtt\", // aliases, except \\bm defined below\n  \"\\\\Bbb\", \"\\\\bold\", \"\\\\frak\"],\n  props: {\n    numArgs: 1,\n    allowedInArgument: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var body = normalizeArgument(args[0]);\n    var func = funcName;\n\n    if (func in fontAliases) {\n      func = fontAliases[func];\n    }\n\n    return {\n      type: \"font\",\n      mode: parser.mode,\n      font: func.slice(1),\n      body\n    };\n  },\n  htmlBuilder: htmlBuilder$5,\n  mathmlBuilder: mathmlBuilder$4\n});\ndefineFunction({\n  type: \"mclass\",\n  names: [\"\\\\boldsymbol\", \"\\\\bm\"],\n  props: {\n    numArgs: 1\n  },\n  handler: (_ref2, args) => {\n    var {\n      parser\n    } = _ref2;\n    var body = args[0];\n    var isCharacterBox = utils.isCharacterBox(body); // amsbsy.sty's \\boldsymbol uses \\binrel spacing to inherit the\n    // argument's bin|rel|ord status\n\n    return {\n      type: \"mclass\",\n      mode: parser.mode,\n      mclass: binrelClass(body),\n      body: [{\n        type: \"font\",\n        mode: parser.mode,\n        font: \"boldsymbol\",\n        body\n      }],\n      isCharacterBox: isCharacterBox\n    };\n  }\n}); // Old font changing functions\n\ndefineFunction({\n  type: \"font\",\n  names: [\"\\\\rm\", \"\\\\sf\", \"\\\\tt\", \"\\\\bf\", \"\\\\it\", \"\\\\cal\"],\n  props: {\n    numArgs: 0,\n    allowedInText: true\n  },\n  handler: (_ref3, args) => {\n    var {\n      parser,\n      funcName,\n      breakOnTokenText\n    } = _ref3;\n    var {\n      mode\n    } = parser;\n    var body = parser.parseExpression(true, breakOnTokenText);\n    var style = \"math\" + funcName.slice(1);\n    return {\n      type: \"font\",\n      mode: mode,\n      font: style,\n      body: {\n        type: \"ordgroup\",\n        mode: parser.mode,\n        body\n      }\n    };\n  },\n  htmlBuilder: htmlBuilder$5,\n  mathmlBuilder: mathmlBuilder$4\n});\n\nvar adjustStyle = (size, originalStyle) => {\n  // Figure out what style this fraction should be in based on the\n  // function used\n  var style = originalStyle;\n\n  if (size === \"display\") {\n    // Get display style as a default.\n    // If incoming style is sub/sup, use style.text() to get correct size.\n    style = style.id >= Style$1.SCRIPT.id ? style.text() : Style$1.DISPLAY;\n  } else if (size === \"text\" && style.size === Style$1.DISPLAY.size) {\n    // We're in a \\tfrac but incoming style is displaystyle, so:\n    style = Style$1.TEXT;\n  } else if (size === \"script\") {\n    style = Style$1.SCRIPT;\n  } else if (size === \"scriptscript\") {\n    style = Style$1.SCRIPTSCRIPT;\n  }\n\n  return style;\n};\n\nvar htmlBuilder$4 = (group, options) => {\n  // Fractions are handled in the TeXbook on pages 444-445, rules 15(a-e).\n  var style = adjustStyle(group.size, options.style);\n  var nstyle = style.fracNum();\n  var dstyle = style.fracDen();\n  var newOptions;\n  newOptions = options.havingStyle(nstyle);\n  var numerm = buildGroup$1(group.numer, newOptions, options);\n\n  if (group.continued) {\n    // \\cfrac inserts a \\strut into the numerator.\n    // Get \\strut dimensions from TeXbook page 353.\n    var hStrut = 8.5 / options.fontMetrics().ptPerEm;\n    var dStrut = 3.5 / options.fontMetrics().ptPerEm;\n    numerm.height = numerm.height < hStrut ? hStrut : numerm.height;\n    numerm.depth = numerm.depth < dStrut ? dStrut : numerm.depth;\n  }\n\n  newOptions = options.havingStyle(dstyle);\n  var denomm = buildGroup$1(group.denom, newOptions, options);\n  var rule;\n  var ruleWidth;\n  var ruleSpacing;\n\n  if (group.hasBarLine) {\n    if (group.barSize) {\n      ruleWidth = calculateSize(group.barSize, options);\n      rule = buildCommon.makeLineSpan(\"frac-line\", options, ruleWidth);\n    } else {\n      rule = buildCommon.makeLineSpan(\"frac-line\", options);\n    }\n\n    ruleWidth = rule.height;\n    ruleSpacing = rule.height;\n  } else {\n    rule = null;\n    ruleWidth = 0;\n    ruleSpacing = options.fontMetrics().defaultRuleThickness;\n  } // Rule 15b\n\n\n  var numShift;\n  var clearance;\n  var denomShift;\n\n  if (style.size === Style$1.DISPLAY.size || group.size === \"display\") {\n    numShift = options.fontMetrics().num1;\n\n    if (ruleWidth > 0) {\n      clearance = 3 * ruleSpacing;\n    } else {\n      clearance = 7 * ruleSpacing;\n    }\n\n    denomShift = options.fontMetrics().denom1;\n  } else {\n    if (ruleWidth > 0) {\n      numShift = options.fontMetrics().num2;\n      clearance = ruleSpacing;\n    } else {\n      numShift = options.fontMetrics().num3;\n      clearance = 3 * ruleSpacing;\n    }\n\n    denomShift = options.fontMetrics().denom2;\n  }\n\n  var frac;\n\n  if (!rule) {\n    // Rule 15c\n    var candidateClearance = numShift - numerm.depth - (denomm.height - denomShift);\n\n    if (candidateClearance < clearance) {\n      numShift += 0.5 * (clearance - candidateClearance);\n      denomShift += 0.5 * (clearance - candidateClearance);\n    }\n\n    frac = buildCommon.makeVList({\n      positionType: \"individualShift\",\n      children: [{\n        type: \"elem\",\n        elem: denomm,\n        shift: denomShift\n      }, {\n        type: \"elem\",\n        elem: numerm,\n        shift: -numShift\n      }]\n    }, options);\n  } else {\n    // Rule 15d\n    var axisHeight = options.fontMetrics().axisHeight;\n\n    if (numShift - numerm.depth - (axisHeight + 0.5 * ruleWidth) < clearance) {\n      numShift += clearance - (numShift - numerm.depth - (axisHeight + 0.5 * ruleWidth));\n    }\n\n    if (axisHeight - 0.5 * ruleWidth - (denomm.height - denomShift) < clearance) {\n      denomShift += clearance - (axisHeight - 0.5 * ruleWidth - (denomm.height - denomShift));\n    }\n\n    var midShift = -(axisHeight - 0.5 * ruleWidth);\n    frac = buildCommon.makeVList({\n      positionType: \"individualShift\",\n      children: [{\n        type: \"elem\",\n        elem: denomm,\n        shift: denomShift\n      }, {\n        type: \"elem\",\n        elem: rule,\n        shift: midShift\n      }, {\n        type: \"elem\",\n        elem: numerm,\n        shift: -numShift\n      }]\n    }, options);\n  } // Since we manually change the style sometimes (with \\dfrac or \\tfrac),\n  // account for the possible size change here.\n\n\n  newOptions = options.havingStyle(style);\n  frac.height *= newOptions.sizeMultiplier / options.sizeMultiplier;\n  frac.depth *= newOptions.sizeMultiplier / options.sizeMultiplier; // Rule 15e\n\n  var delimSize;\n\n  if (style.size === Style$1.DISPLAY.size) {\n    delimSize = options.fontMetrics().delim1;\n  } else if (style.size === Style$1.SCRIPTSCRIPT.size) {\n    delimSize = options.havingStyle(Style$1.SCRIPT).fontMetrics().delim2;\n  } else {\n    delimSize = options.fontMetrics().delim2;\n  }\n\n  var leftDelim;\n  var rightDelim;\n\n  if (group.leftDelim == null) {\n    leftDelim = makeNullDelimiter(options, [\"mopen\"]);\n  } else {\n    leftDelim = delimiter.customSizedDelim(group.leftDelim, delimSize, true, options.havingStyle(style), group.mode, [\"mopen\"]);\n  }\n\n  if (group.continued) {\n    rightDelim = buildCommon.makeSpan([]); // zero width for \\cfrac\n  } else if (group.rightDelim == null) {\n    rightDelim = makeNullDelimiter(options, [\"mclose\"]);\n  } else {\n    rightDelim = delimiter.customSizedDelim(group.rightDelim, delimSize, true, options.havingStyle(style), group.mode, [\"mclose\"]);\n  }\n\n  return buildCommon.makeSpan([\"mord\"].concat(newOptions.sizingClasses(options)), [leftDelim, buildCommon.makeSpan([\"mfrac\"], [frac]), rightDelim], options);\n};\n\nvar mathmlBuilder$3 = (group, options) => {\n  var node = new mathMLTree.MathNode(\"mfrac\", [buildGroup(group.numer, options), buildGroup(group.denom, options)]);\n\n  if (!group.hasBarLine) {\n    node.setAttribute(\"linethickness\", \"0px\");\n  } else if (group.barSize) {\n    var ruleWidth = calculateSize(group.barSize, options);\n    node.setAttribute(\"linethickness\", makeEm(ruleWidth));\n  }\n\n  var style = adjustStyle(group.size, options.style);\n\n  if (style.size !== options.style.size) {\n    node = new mathMLTree.MathNode(\"mstyle\", [node]);\n    var isDisplay = style.size === Style$1.DISPLAY.size ? \"true\" : \"false\";\n    node.setAttribute(\"displaystyle\", isDisplay);\n    node.setAttribute(\"scriptlevel\", \"0\");\n  }\n\n  if (group.leftDelim != null || group.rightDelim != null) {\n    var withDelims = [];\n\n    if (group.leftDelim != null) {\n      var leftOp = new mathMLTree.MathNode(\"mo\", [new mathMLTree.TextNode(group.leftDelim.replace(\"\\\\\", \"\"))]);\n      leftOp.setAttribute(\"fence\", \"true\");\n      withDelims.push(leftOp);\n    }\n\n    withDelims.push(node);\n\n    if (group.rightDelim != null) {\n      var rightOp = new mathMLTree.MathNode(\"mo\", [new mathMLTree.TextNode(group.rightDelim.replace(\"\\\\\", \"\"))]);\n      rightOp.setAttribute(\"fence\", \"true\");\n      withDelims.push(rightOp);\n    }\n\n    return makeRow(withDelims);\n  }\n\n  return node;\n};\n\ndefineFunction({\n  type: \"genfrac\",\n  names: [\"\\\\dfrac\", \"\\\\frac\", \"\\\\tfrac\", \"\\\\dbinom\", \"\\\\binom\", \"\\\\tbinom\", \"\\\\\\\\atopfrac\", // cant be entered directly\n  \"\\\\\\\\bracefrac\", \"\\\\\\\\brackfrac\" // ditto\n  ],\n  props: {\n    numArgs: 2,\n    allowedInArgument: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var numer = args[0];\n    var denom = args[1];\n    var hasBarLine;\n    var leftDelim = null;\n    var rightDelim = null;\n    var size = \"auto\";\n\n    switch (funcName) {\n      case \"\\\\dfrac\":\n      case \"\\\\frac\":\n      case \"\\\\tfrac\":\n        hasBarLine = true;\n        break;\n\n      case \"\\\\\\\\atopfrac\":\n        hasBarLine = false;\n        break;\n\n      case \"\\\\dbinom\":\n      case \"\\\\binom\":\n      case \"\\\\tbinom\":\n        hasBarLine = false;\n        leftDelim = \"(\";\n        rightDelim = \")\";\n        break;\n\n      case \"\\\\\\\\bracefrac\":\n        hasBarLine = false;\n        leftDelim = \"\\\\{\";\n        rightDelim = \"\\\\}\";\n        break;\n\n      case \"\\\\\\\\brackfrac\":\n        hasBarLine = false;\n        leftDelim = \"[\";\n        rightDelim = \"]\";\n        break;\n\n      default:\n        throw new Error(\"Unrecognized genfrac command\");\n    }\n\n    switch (funcName) {\n      case \"\\\\dfrac\":\n      case \"\\\\dbinom\":\n        size = \"display\";\n        break;\n\n      case \"\\\\tfrac\":\n      case \"\\\\tbinom\":\n        size = \"text\";\n        break;\n    }\n\n    return {\n      type: \"genfrac\",\n      mode: parser.mode,\n      continued: false,\n      numer,\n      denom,\n      hasBarLine,\n      leftDelim,\n      rightDelim,\n      size,\n      barSize: null\n    };\n  },\n  htmlBuilder: htmlBuilder$4,\n  mathmlBuilder: mathmlBuilder$3\n});\ndefineFunction({\n  type: \"genfrac\",\n  names: [\"\\\\cfrac\"],\n  props: {\n    numArgs: 2\n  },\n  handler: (_ref2, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref2;\n    var numer = args[0];\n    var denom = args[1];\n    return {\n      type: \"genfrac\",\n      mode: parser.mode,\n      continued: true,\n      numer,\n      denom,\n      hasBarLine: true,\n      leftDelim: null,\n      rightDelim: null,\n      size: \"display\",\n      barSize: null\n    };\n  }\n}); // Infix generalized fractions -- these are not rendered directly, but replaced\n// immediately by one of the variants above.\n\ndefineFunction({\n  type: \"infix\",\n  names: [\"\\\\over\", \"\\\\choose\", \"\\\\atop\", \"\\\\brace\", \"\\\\brack\"],\n  props: {\n    numArgs: 0,\n    infix: true\n  },\n\n  handler(_ref3) {\n    var {\n      parser,\n      funcName,\n      token\n    } = _ref3;\n    var replaceWith;\n\n    switch (funcName) {\n      case \"\\\\over\":\n        replaceWith = \"\\\\frac\";\n        break;\n\n      case \"\\\\choose\":\n        replaceWith = \"\\\\binom\";\n        break;\n\n      case \"\\\\atop\":\n        replaceWith = \"\\\\\\\\atopfrac\";\n        break;\n\n      case \"\\\\brace\":\n        replaceWith = \"\\\\\\\\bracefrac\";\n        break;\n\n      case \"\\\\brack\":\n        replaceWith = \"\\\\\\\\brackfrac\";\n        break;\n\n      default:\n        throw new Error(\"Unrecognized infix genfrac command\");\n    }\n\n    return {\n      type: \"infix\",\n      mode: parser.mode,\n      replaceWith,\n      token\n    };\n  }\n\n});\nvar stylArray = [\"display\", \"text\", \"script\", \"scriptscript\"];\n\nvar delimFromValue = function delimFromValue(delimString) {\n  var delim = null;\n\n  if (delimString.length > 0) {\n    delim = delimString;\n    delim = delim === \".\" ? null : delim;\n  }\n\n  return delim;\n};\n\ndefineFunction({\n  type: \"genfrac\",\n  names: [\"\\\\genfrac\"],\n  props: {\n    numArgs: 6,\n    allowedInArgument: true,\n    argTypes: [\"math\", \"math\", \"size\", \"text\", \"math\", \"math\"]\n  },\n\n  handler(_ref4, args) {\n    var {\n      parser\n    } = _ref4;\n    var numer = args[4];\n    var denom = args[5]; // Look into the parse nodes to get the desired delimiters.\n\n    var leftNode = normalizeArgument(args[0]);\n    var leftDelim = leftNode.type === \"atom\" && leftNode.family === \"open\" ? delimFromValue(leftNode.text) : null;\n    var rightNode = normalizeArgument(args[1]);\n    var rightDelim = rightNode.type === \"atom\" && rightNode.family === \"close\" ? delimFromValue(rightNode.text) : null;\n    var barNode = assertNodeType(args[2], \"size\");\n    var hasBarLine;\n    var barSize = null;\n\n    if (barNode.isBlank) {\n      // \\genfrac acts differently than \\above.\n      // \\genfrac treats an empty size group as a signal to use a\n      // standard bar size. \\above would see size = 0 and omit the bar.\n      hasBarLine = true;\n    } else {\n      barSize = barNode.value;\n      hasBarLine = barSize.number > 0;\n    } // Find out if we want displaystyle, textstyle, etc.\n\n\n    var size = \"auto\";\n    var styl = args[3];\n\n    if (styl.type === \"ordgroup\") {\n      if (styl.body.length > 0) {\n        var textOrd = assertNodeType(styl.body[0], \"textord\");\n        size = stylArray[Number(textOrd.text)];\n      }\n    } else {\n      styl = assertNodeType(styl, \"textord\");\n      size = stylArray[Number(styl.text)];\n    }\n\n    return {\n      type: \"genfrac\",\n      mode: parser.mode,\n      numer,\n      denom,\n      continued: false,\n      hasBarLine,\n      barSize,\n      leftDelim,\n      rightDelim,\n      size\n    };\n  },\n\n  htmlBuilder: htmlBuilder$4,\n  mathmlBuilder: mathmlBuilder$3\n}); // \\above is an infix fraction that also defines a fraction bar size.\n\ndefineFunction({\n  type: \"infix\",\n  names: [\"\\\\above\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"size\"],\n    infix: true\n  },\n\n  handler(_ref5, args) {\n    var {\n      parser,\n      funcName,\n      token\n    } = _ref5;\n    return {\n      type: \"infix\",\n      mode: parser.mode,\n      replaceWith: \"\\\\\\\\abovefrac\",\n      size: assertNodeType(args[0], \"size\").value,\n      token\n    };\n  }\n\n});\ndefineFunction({\n  type: \"genfrac\",\n  names: [\"\\\\\\\\abovefrac\"],\n  props: {\n    numArgs: 3,\n    argTypes: [\"math\", \"size\", \"math\"]\n  },\n  handler: (_ref6, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref6;\n    var numer = args[0];\n    var barSize = assert(assertNodeType(args[1], \"infix\").size);\n    var denom = args[2];\n    var hasBarLine = barSize.number > 0;\n    return {\n      type: \"genfrac\",\n      mode: parser.mode,\n      numer,\n      denom,\n      continued: false,\n      hasBarLine,\n      barSize,\n      leftDelim: null,\n      rightDelim: null,\n      size: \"auto\"\n    };\n  },\n  htmlBuilder: htmlBuilder$4,\n  mathmlBuilder: mathmlBuilder$3\n});\n\n// NOTE: Unlike most `htmlBuilder`s, this one handles not only \"horizBrace\", but\n// also \"supsub\" since an over/underbrace can affect super/subscripting.\nvar htmlBuilder$3 = (grp, options) => {\n  var style = options.style; // Pull out the `ParseNode<\"horizBrace\">` if `grp` is a \"supsub\" node.\n\n  var supSubGroup;\n  var group;\n\n  if (grp.type === \"supsub\") {\n    // Ref: LaTeX source2e: }}}}\\limits}\n    // i.e. LaTeX treats the brace similar to an op and passes it\n    // with \\limits, so we need to assign supsub style.\n    supSubGroup = grp.sup ? buildGroup$1(grp.sup, options.havingStyle(style.sup()), options) : buildGroup$1(grp.sub, options.havingStyle(style.sub()), options);\n    group = assertNodeType(grp.base, \"horizBrace\");\n  } else {\n    group = assertNodeType(grp, \"horizBrace\");\n  } // Build the base group\n\n\n  var body = buildGroup$1(group.base, options.havingBaseStyle(Style$1.DISPLAY)); // Create the stretchy element\n\n  var braceBody = stretchy.svgSpan(group, options); // Generate the vlist, with the appropriate kerns        \n  // This first vlist contains the content and the brace:   equation\n\n  var vlist;\n\n  if (group.isOver) {\n    vlist = buildCommon.makeVList({\n      positionType: \"firstBaseline\",\n      children: [{\n        type: \"elem\",\n        elem: body\n      }, {\n        type: \"kern\",\n        size: 0.1\n      }, {\n        type: \"elem\",\n        elem: braceBody\n      }]\n    }, options); // $FlowFixMe: Replace this with passing \"svg-align\" into makeVList.\n\n    vlist.children[0].children[0].children[1].classes.push(\"svg-align\");\n  } else {\n    vlist = buildCommon.makeVList({\n      positionType: \"bottom\",\n      positionData: body.depth + 0.1 + braceBody.height,\n      children: [{\n        type: \"elem\",\n        elem: braceBody\n      }, {\n        type: \"kern\",\n        size: 0.1\n      }, {\n        type: \"elem\",\n        elem: body\n      }]\n    }, options); // $FlowFixMe: Replace this with passing \"svg-align\" into makeVList.\n\n    vlist.children[0].children[0].children[0].classes.push(\"svg-align\");\n  }\n\n  if (supSubGroup) {\n    // To write the supsub, wrap the first vlist in another vlist:\n    // They can't all go in the same vlist, because the note might be\n    // wider than the equation. We want the equation to control the\n    // brace width.\n    //      note          long note           long note\n    //      or         not    \n    //    equation           eqn                 eqn\n    var vSpan = buildCommon.makeSpan([\"mord\", group.isOver ? \"mover\" : \"munder\"], [vlist], options);\n\n    if (group.isOver) {\n      vlist = buildCommon.makeVList({\n        positionType: \"firstBaseline\",\n        children: [{\n          type: \"elem\",\n          elem: vSpan\n        }, {\n          type: \"kern\",\n          size: 0.2\n        }, {\n          type: \"elem\",\n          elem: supSubGroup\n        }]\n      }, options);\n    } else {\n      vlist = buildCommon.makeVList({\n        positionType: \"bottom\",\n        positionData: vSpan.depth + 0.2 + supSubGroup.height + supSubGroup.depth,\n        children: [{\n          type: \"elem\",\n          elem: supSubGroup\n        }, {\n          type: \"kern\",\n          size: 0.2\n        }, {\n          type: \"elem\",\n          elem: vSpan\n        }]\n      }, options);\n    }\n  }\n\n  return buildCommon.makeSpan([\"mord\", group.isOver ? \"mover\" : \"munder\"], [vlist], options);\n};\n\nvar mathmlBuilder$2 = (group, options) => {\n  var accentNode = stretchy.mathMLnode(group.label);\n  return new mathMLTree.MathNode(group.isOver ? \"mover\" : \"munder\", [buildGroup(group.base, options), accentNode]);\n}; // Horizontal stretchy braces\n\n\ndefineFunction({\n  type: \"horizBrace\",\n  names: [\"\\\\overbrace\", \"\\\\underbrace\"],\n  props: {\n    numArgs: 1\n  },\n\n  handler(_ref, args) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    return {\n      type: \"horizBrace\",\n      mode: parser.mode,\n      label: funcName,\n      isOver: /^\\\\over/.test(funcName),\n      base: args[0]\n    };\n  },\n\n  htmlBuilder: htmlBuilder$3,\n  mathmlBuilder: mathmlBuilder$2\n});\n\ndefineFunction({\n  type: \"href\",\n  names: [\"\\\\href\"],\n  props: {\n    numArgs: 2,\n    argTypes: [\"url\", \"original\"],\n    allowedInText: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser\n    } = _ref;\n    var body = args[1];\n    var href = assertNodeType(args[0], \"url\").url;\n\n    if (!parser.settings.isTrusted({\n      command: \"\\\\href\",\n      url: href\n    })) {\n      return parser.formatUnsupportedCmd(\"\\\\href\");\n    }\n\n    return {\n      type: \"href\",\n      mode: parser.mode,\n      href,\n      body: ordargument(body)\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var elements = buildExpression$1(group.body, options, false);\n    return buildCommon.makeAnchor(group.href, [], elements, options);\n  },\n  mathmlBuilder: (group, options) => {\n    var math = buildExpressionRow(group.body, options);\n\n    if (!(math instanceof MathNode)) {\n      math = new MathNode(\"mrow\", [math]);\n    }\n\n    math.setAttribute(\"href\", group.href);\n    return math;\n  }\n});\ndefineFunction({\n  type: \"href\",\n  names: [\"\\\\url\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"url\"],\n    allowedInText: true\n  },\n  handler: (_ref2, args) => {\n    var {\n      parser\n    } = _ref2;\n    var href = assertNodeType(args[0], \"url\").url;\n\n    if (!parser.settings.isTrusted({\n      command: \"\\\\url\",\n      url: href\n    })) {\n      return parser.formatUnsupportedCmd(\"\\\\url\");\n    }\n\n    var chars = [];\n\n    for (var i = 0; i < href.length; i++) {\n      var c = href[i];\n\n      if (c === \"~\") {\n        c = \"\\\\textasciitilde\";\n      }\n\n      chars.push({\n        type: \"textord\",\n        mode: \"text\",\n        text: c\n      });\n    }\n\n    var body = {\n      type: \"text\",\n      mode: parser.mode,\n      font: \"\\\\texttt\",\n      body: chars\n    };\n    return {\n      type: \"href\",\n      mode: parser.mode,\n      href,\n      body: ordargument(body)\n    };\n  }\n});\n\n// In LaTeX, \\vcenter can act only on a box, as in\n// \\vcenter{\\hbox{$\\frac{a+b}{\\dfrac{c}{d}}$}}\n// This function by itself doesn't do anything but prevent a soft line break.\n\ndefineFunction({\n  type: \"hbox\",\n  names: [\"\\\\hbox\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"text\"],\n    allowedInText: true,\n    primitive: true\n  },\n\n  handler(_ref, args) {\n    var {\n      parser\n    } = _ref;\n    return {\n      type: \"hbox\",\n      mode: parser.mode,\n      body: ordargument(args[0])\n    };\n  },\n\n  htmlBuilder(group, options) {\n    var elements = buildExpression$1(group.body, options, false);\n    return buildCommon.makeFragment(elements);\n  },\n\n  mathmlBuilder(group, options) {\n    return new mathMLTree.MathNode(\"mrow\", buildExpression(group.body, options));\n  }\n\n});\n\ndefineFunction({\n  type: \"html\",\n  names: [\"\\\\htmlClass\", \"\\\\htmlId\", \"\\\\htmlStyle\", \"\\\\htmlData\"],\n  props: {\n    numArgs: 2,\n    argTypes: [\"raw\", \"original\"],\n    allowedInText: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser,\n      funcName,\n      token\n    } = _ref;\n    var value = assertNodeType(args[0], \"raw\").string;\n    var body = args[1];\n\n    if (parser.settings.strict) {\n      parser.settings.reportNonstrict(\"htmlExtension\", \"HTML extension is disabled on strict mode\");\n    }\n\n    var trustContext;\n    var attributes = {};\n\n    switch (funcName) {\n      case \"\\\\htmlClass\":\n        attributes.class = value;\n        trustContext = {\n          command: \"\\\\htmlClass\",\n          class: value\n        };\n        break;\n\n      case \"\\\\htmlId\":\n        attributes.id = value;\n        trustContext = {\n          command: \"\\\\htmlId\",\n          id: value\n        };\n        break;\n\n      case \"\\\\htmlStyle\":\n        attributes.style = value;\n        trustContext = {\n          command: \"\\\\htmlStyle\",\n          style: value\n        };\n        break;\n\n      case \"\\\\htmlData\":\n        {\n          var data = value.split(\",\");\n\n          for (var i = 0; i < data.length; i++) {\n            var keyVal = data[i].split(\"=\");\n\n            if (keyVal.length !== 2) {\n              throw new ParseError(\"Error parsing key-value for \\\\htmlData\");\n            }\n\n            attributes[\"data-\" + keyVal[0].trim()] = keyVal[1].trim();\n          }\n\n          trustContext = {\n            command: \"\\\\htmlData\",\n            attributes\n          };\n          break;\n        }\n\n      default:\n        throw new Error(\"Unrecognized html command\");\n    }\n\n    if (!parser.settings.isTrusted(trustContext)) {\n      return parser.formatUnsupportedCmd(funcName);\n    }\n\n    return {\n      type: \"html\",\n      mode: parser.mode,\n      attributes,\n      body: ordargument(body)\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var elements = buildExpression$1(group.body, options, false);\n    var classes = [\"enclosing\"];\n\n    if (group.attributes.class) {\n      classes.push(...group.attributes.class.trim().split(/\\s+/));\n    }\n\n    var span = buildCommon.makeSpan(classes, elements, options);\n\n    for (var attr in group.attributes) {\n      if (attr !== \"class\" && group.attributes.hasOwnProperty(attr)) {\n        span.setAttribute(attr, group.attributes[attr]);\n      }\n    }\n\n    return span;\n  },\n  mathmlBuilder: (group, options) => {\n    return buildExpressionRow(group.body, options);\n  }\n});\n\ndefineFunction({\n  type: \"htmlmathml\",\n  names: [\"\\\\html@mathml\"],\n  props: {\n    numArgs: 2,\n    allowedInText: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser\n    } = _ref;\n    return {\n      type: \"htmlmathml\",\n      mode: parser.mode,\n      html: ordargument(args[0]),\n      mathml: ordargument(args[1])\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var elements = buildExpression$1(group.html, options, false);\n    return buildCommon.makeFragment(elements);\n  },\n  mathmlBuilder: (group, options) => {\n    return buildExpressionRow(group.mathml, options);\n  }\n});\n\nvar sizeData = function sizeData(str) {\n  if (/^[-+]? *(\\d+(\\.\\d*)?|\\.\\d+)$/.test(str)) {\n    // str is a number with no unit specified.\n    // default unit is bp, per graphix package.\n    return {\n      number: +str,\n      unit: \"bp\"\n    };\n  } else {\n    var match = /([-+]?) *(\\d+(?:\\.\\d*)?|\\.\\d+) *([a-z]{2})/.exec(str);\n\n    if (!match) {\n      throw new ParseError(\"Invalid size: '\" + str + \"' in \\\\includegraphics\");\n    }\n\n    var data = {\n      number: +(match[1] + match[2]),\n      // sign + magnitude, cast to number\n      unit: match[3]\n    };\n\n    if (!validUnit(data)) {\n      throw new ParseError(\"Invalid unit: '\" + data.unit + \"' in \\\\includegraphics.\");\n    }\n\n    return data;\n  }\n};\n\ndefineFunction({\n  type: \"includegraphics\",\n  names: [\"\\\\includegraphics\"],\n  props: {\n    numArgs: 1,\n    numOptionalArgs: 1,\n    argTypes: [\"raw\", \"url\"],\n    allowedInText: false\n  },\n  handler: (_ref, args, optArgs) => {\n    var {\n      parser\n    } = _ref;\n    var width = {\n      number: 0,\n      unit: \"em\"\n    };\n    var height = {\n      number: 0.9,\n      unit: \"em\"\n    }; // sorta character sized.\n\n    var totalheight = {\n      number: 0,\n      unit: \"em\"\n    };\n    var alt = \"\";\n\n    if (optArgs[0]) {\n      var attributeStr = assertNodeType(optArgs[0], \"raw\").string; // Parser.js does not parse key/value pairs. We get a string.\n\n      var attributes = attributeStr.split(\",\");\n\n      for (var i = 0; i < attributes.length; i++) {\n        var keyVal = attributes[i].split(\"=\");\n\n        if (keyVal.length === 2) {\n          var str = keyVal[1].trim();\n\n          switch (keyVal[0].trim()) {\n            case \"alt\":\n              alt = str;\n              break;\n\n            case \"width\":\n              width = sizeData(str);\n              break;\n\n            case \"height\":\n              height = sizeData(str);\n              break;\n\n            case \"totalheight\":\n              totalheight = sizeData(str);\n              break;\n\n            default:\n              throw new ParseError(\"Invalid key: '\" + keyVal[0] + \"' in \\\\includegraphics.\");\n          }\n        }\n      }\n    }\n\n    var src = assertNodeType(args[0], \"url\").url;\n\n    if (alt === \"\") {\n      // No alt given. Use the file name. Strip away the path.\n      alt = src;\n      alt = alt.replace(/^.*[\\\\/]/, '');\n      alt = alt.substring(0, alt.lastIndexOf('.'));\n    }\n\n    if (!parser.settings.isTrusted({\n      command: \"\\\\includegraphics\",\n      url: src\n    })) {\n      return parser.formatUnsupportedCmd(\"\\\\includegraphics\");\n    }\n\n    return {\n      type: \"includegraphics\",\n      mode: parser.mode,\n      alt: alt,\n      width: width,\n      height: height,\n      totalheight: totalheight,\n      src: src\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var height = calculateSize(group.height, options);\n    var depth = 0;\n\n    if (group.totalheight.number > 0) {\n      depth = calculateSize(group.totalheight, options) - height;\n    }\n\n    var width = 0;\n\n    if (group.width.number > 0) {\n      width = calculateSize(group.width, options);\n    }\n\n    var style = {\n      height: makeEm(height + depth)\n    };\n\n    if (width > 0) {\n      style.width = makeEm(width);\n    }\n\n    if (depth > 0) {\n      style.verticalAlign = makeEm(-depth);\n    }\n\n    var node = new Img(group.src, group.alt, style);\n    node.height = height;\n    node.depth = depth;\n    return node;\n  },\n  mathmlBuilder: (group, options) => {\n    var node = new mathMLTree.MathNode(\"mglyph\", []);\n    node.setAttribute(\"alt\", group.alt);\n    var height = calculateSize(group.height, options);\n    var depth = 0;\n\n    if (group.totalheight.number > 0) {\n      depth = calculateSize(group.totalheight, options) - height;\n      node.setAttribute(\"valign\", makeEm(-depth));\n    }\n\n    node.setAttribute(\"height\", makeEm(height + depth));\n\n    if (group.width.number > 0) {\n      var width = calculateSize(group.width, options);\n      node.setAttribute(\"width\", makeEm(width));\n    }\n\n    node.setAttribute(\"src\", group.src);\n    return node;\n  }\n});\n\n// Horizontal spacing commands\n\ndefineFunction({\n  type: \"kern\",\n  names: [\"\\\\kern\", \"\\\\mkern\", \"\\\\hskip\", \"\\\\mskip\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"size\"],\n    primitive: true,\n    allowedInText: true\n  },\n\n  handler(_ref, args) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var size = assertNodeType(args[0], \"size\");\n\n    if (parser.settings.strict) {\n      var mathFunction = funcName[1] === 'm'; // \\mkern, \\mskip\n\n      var muUnit = size.value.unit === 'mu';\n\n      if (mathFunction) {\n        if (!muUnit) {\n          parser.settings.reportNonstrict(\"mathVsTextUnits\", \"LaTeX's \" + funcName + \" supports only mu units, \" + (\"not \" + size.value.unit + \" units\"));\n        }\n\n        if (parser.mode !== \"math\") {\n          parser.settings.reportNonstrict(\"mathVsTextUnits\", \"LaTeX's \" + funcName + \" works only in math mode\");\n        }\n      } else {\n        // !mathFunction\n        if (muUnit) {\n          parser.settings.reportNonstrict(\"mathVsTextUnits\", \"LaTeX's \" + funcName + \" doesn't support mu units\");\n        }\n      }\n    }\n\n    return {\n      type: \"kern\",\n      mode: parser.mode,\n      dimension: size.value\n    };\n  },\n\n  htmlBuilder(group, options) {\n    return buildCommon.makeGlue(group.dimension, options);\n  },\n\n  mathmlBuilder(group, options) {\n    var dimension = calculateSize(group.dimension, options);\n    return new mathMLTree.SpaceNode(dimension);\n  }\n\n});\n\n// Horizontal overlap functions\ndefineFunction({\n  type: \"lap\",\n  names: [\"\\\\mathllap\", \"\\\\mathrlap\", \"\\\\mathclap\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var body = args[0];\n    return {\n      type: \"lap\",\n      mode: parser.mode,\n      alignment: funcName.slice(5),\n      body\n    };\n  },\n  htmlBuilder: (group, options) => {\n    // mathllap, mathrlap, mathclap\n    var inner;\n\n    if (group.alignment === \"clap\") {\n      // ref: https://www.math.lsu.edu/~aperlis/publications/mathclap/\n      inner = buildCommon.makeSpan([], [buildGroup$1(group.body, options)]); // wrap, since CSS will center a .clap > .inner > span\n\n      inner = buildCommon.makeSpan([\"inner\"], [inner], options);\n    } else {\n      inner = buildCommon.makeSpan([\"inner\"], [buildGroup$1(group.body, options)]);\n    }\n\n    var fix = buildCommon.makeSpan([\"fix\"], []);\n    var node = buildCommon.makeSpan([group.alignment], [inner, fix], options); // At this point, we have correctly set horizontal alignment of the\n    // two items involved in the lap.\n    // Next, use a strut to set the height of the HTML bounding box.\n    // Otherwise, a tall argument may be misplaced.\n    // This code resolved issue #1153\n\n    var strut = buildCommon.makeSpan([\"strut\"]);\n    strut.style.height = makeEm(node.height + node.depth);\n\n    if (node.depth) {\n      strut.style.verticalAlign = makeEm(-node.depth);\n    }\n\n    node.children.unshift(strut); // Next, prevent vertical misplacement when next to something tall.\n    // This code resolves issue #1234\n\n    node = buildCommon.makeSpan([\"thinbox\"], [node], options);\n    return buildCommon.makeSpan([\"mord\", \"vbox\"], [node], options);\n  },\n  mathmlBuilder: (group, options) => {\n    // mathllap, mathrlap, mathclap\n    var node = new mathMLTree.MathNode(\"mpadded\", [buildGroup(group.body, options)]);\n\n    if (group.alignment !== \"rlap\") {\n      var offset = group.alignment === \"llap\" ? \"-1\" : \"-0.5\";\n      node.setAttribute(\"lspace\", offset + \"width\");\n    }\n\n    node.setAttribute(\"width\", \"0px\");\n    return node;\n  }\n});\n\ndefineFunction({\n  type: \"styling\",\n  names: [\"\\\\(\", \"$\"],\n  props: {\n    numArgs: 0,\n    allowedInText: true,\n    allowedInMath: false\n  },\n\n  handler(_ref, args) {\n    var {\n      funcName,\n      parser\n    } = _ref;\n    var outerMode = parser.mode;\n    parser.switchMode(\"math\");\n    var close = funcName === \"\\\\(\" ? \"\\\\)\" : \"$\";\n    var body = parser.parseExpression(false, close);\n    parser.expect(close);\n    parser.switchMode(outerMode);\n    return {\n      type: \"styling\",\n      mode: parser.mode,\n      style: \"text\",\n      body\n    };\n  }\n\n}); // Check for extra closing math delimiters\n\ndefineFunction({\n  type: \"text\",\n  // Doesn't matter what this is.\n  names: [\"\\\\)\", \"\\\\]\"],\n  props: {\n    numArgs: 0,\n    allowedInText: true,\n    allowedInMath: false\n  },\n\n  handler(context, args) {\n    throw new ParseError(\"Mismatched \" + context.funcName);\n  }\n\n});\n\nvar chooseMathStyle = (group, options) => {\n  switch (options.style.size) {\n    case Style$1.DISPLAY.size:\n      return group.display;\n\n    case Style$1.TEXT.size:\n      return group.text;\n\n    case Style$1.SCRIPT.size:\n      return group.script;\n\n    case Style$1.SCRIPTSCRIPT.size:\n      return group.scriptscript;\n\n    default:\n      return group.text;\n  }\n};\n\ndefineFunction({\n  type: \"mathchoice\",\n  names: [\"\\\\mathchoice\"],\n  props: {\n    numArgs: 4,\n    primitive: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser\n    } = _ref;\n    return {\n      type: \"mathchoice\",\n      mode: parser.mode,\n      display: ordargument(args[0]),\n      text: ordargument(args[1]),\n      script: ordargument(args[2]),\n      scriptscript: ordargument(args[3])\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var body = chooseMathStyle(group, options);\n    var elements = buildExpression$1(body, options, false);\n    return buildCommon.makeFragment(elements);\n  },\n  mathmlBuilder: (group, options) => {\n    var body = chooseMathStyle(group, options);\n    return buildExpressionRow(body, options);\n  }\n});\n\nvar assembleSupSub = (base, supGroup, subGroup, options, style, slant, baseShift) => {\n  base = buildCommon.makeSpan([], [base]);\n  var subIsSingleCharacter = subGroup && utils.isCharacterBox(subGroup);\n  var sub;\n  var sup; // We manually have to handle the superscripts and subscripts. This,\n  // aside from the kern calculations, is copied from supsub.\n\n  if (supGroup) {\n    var elem = buildGroup$1(supGroup, options.havingStyle(style.sup()), options);\n    sup = {\n      elem,\n      kern: Math.max(options.fontMetrics().bigOpSpacing1, options.fontMetrics().bigOpSpacing3 - elem.depth)\n    };\n  }\n\n  if (subGroup) {\n    var _elem = buildGroup$1(subGroup, options.havingStyle(style.sub()), options);\n\n    sub = {\n      elem: _elem,\n      kern: Math.max(options.fontMetrics().bigOpSpacing2, options.fontMetrics().bigOpSpacing4 - _elem.height)\n    };\n  } // Build the final group as a vlist of the possible subscript, base,\n  // and possible superscript.\n\n\n  var finalGroup;\n\n  if (sup && sub) {\n    var bottom = options.fontMetrics().bigOpSpacing5 + sub.elem.height + sub.elem.depth + sub.kern + base.depth + baseShift;\n    finalGroup = buildCommon.makeVList({\n      positionType: \"bottom\",\n      positionData: bottom,\n      children: [{\n        type: \"kern\",\n        size: options.fontMetrics().bigOpSpacing5\n      }, {\n        type: \"elem\",\n        elem: sub.elem,\n        marginLeft: makeEm(-slant)\n      }, {\n        type: \"kern\",\n        size: sub.kern\n      }, {\n        type: \"elem\",\n        elem: base\n      }, {\n        type: \"kern\",\n        size: sup.kern\n      }, {\n        type: \"elem\",\n        elem: sup.elem,\n        marginLeft: makeEm(slant)\n      }, {\n        type: \"kern\",\n        size: options.fontMetrics().bigOpSpacing5\n      }]\n    }, options);\n  } else if (sub) {\n    var top = base.height - baseShift; // Shift the limits by the slant of the symbol. Note\n    // that we are supposed to shift the limits by 1/2 of the slant,\n    // but since we are centering the limits adding a full slant of\n    // margin will shift by 1/2 that.\n\n    finalGroup = buildCommon.makeVList({\n      positionType: \"top\",\n      positionData: top,\n      children: [{\n        type: \"kern\",\n        size: options.fontMetrics().bigOpSpacing5\n      }, {\n        type: \"elem\",\n        elem: sub.elem,\n        marginLeft: makeEm(-slant)\n      }, {\n        type: \"kern\",\n        size: sub.kern\n      }, {\n        type: \"elem\",\n        elem: base\n      }]\n    }, options);\n  } else if (sup) {\n    var _bottom = base.depth + baseShift;\n\n    finalGroup = buildCommon.makeVList({\n      positionType: \"bottom\",\n      positionData: _bottom,\n      children: [{\n        type: \"elem\",\n        elem: base\n      }, {\n        type: \"kern\",\n        size: sup.kern\n      }, {\n        type: \"elem\",\n        elem: sup.elem,\n        marginLeft: makeEm(slant)\n      }, {\n        type: \"kern\",\n        size: options.fontMetrics().bigOpSpacing5\n      }]\n    }, options);\n  } else {\n    // This case probably shouldn't occur (this would mean the\n    // supsub was sending us a group with no superscript or\n    // subscript) but be safe.\n    return base;\n  }\n\n  var parts = [finalGroup];\n\n  if (sub && slant !== 0 && !subIsSingleCharacter) {\n    // A negative margin-left was applied to the lower limit.\n    // Avoid an overlap by placing a spacer on the left on the group.\n    var spacer = buildCommon.makeSpan([\"mspace\"], [], options);\n    spacer.style.marginRight = makeEm(slant);\n    parts.unshift(spacer);\n  }\n\n  return buildCommon.makeSpan([\"mop\", \"op-limits\"], parts, options);\n};\n\n// Limits, symbols\n// Most operators have a large successor symbol, but these don't.\nvar noSuccessor = [\"\\\\smallint\"]; // NOTE: Unlike most `htmlBuilder`s, this one handles not only \"op\", but also\n// \"supsub\" since some of them (like \\int) can affect super/subscripting.\n\nvar htmlBuilder$2 = (grp, options) => {\n  // Operators are handled in the TeXbook pg. 443-444, rule 13(a).\n  var supGroup;\n  var subGroup;\n  var hasLimits = false;\n  var group;\n\n  if (grp.type === \"supsub\") {\n    // If we have limits, supsub will pass us its group to handle. Pull\n    // out the superscript and subscript and set the group to the op in\n    // its base.\n    supGroup = grp.sup;\n    subGroup = grp.sub;\n    group = assertNodeType(grp.base, \"op\");\n    hasLimits = true;\n  } else {\n    group = assertNodeType(grp, \"op\");\n  }\n\n  var style = options.style;\n  var large = false;\n\n  if (style.size === Style$1.DISPLAY.size && group.symbol && !noSuccessor.includes(group.name)) {\n    // Most symbol operators get larger in displaystyle (rule 13)\n    large = true;\n  }\n\n  var base;\n\n  if (group.symbol) {\n    // If this is a symbol, create the symbol.\n    var fontName = large ? \"Size2-Regular\" : \"Size1-Regular\";\n    var stash = \"\";\n\n    if (group.name === \"\\\\oiint\" || group.name === \"\\\\oiiint\") {\n      // No font glyphs yet, so use a glyph w/o the oval.\n      // TODO: When font glyphs are available, delete this code.\n      stash = group.name.slice(1);\n      group.name = stash === \"oiint\" ? \"\\\\iint\" : \"\\\\iiint\";\n    }\n\n    base = buildCommon.makeSymbol(group.name, fontName, \"math\", options, [\"mop\", \"op-symbol\", large ? \"large-op\" : \"small-op\"]);\n\n    if (stash.length > 0) {\n      // We're in \\oiint or \\oiiint. Overlay the oval.\n      // TODO: When font glyphs are available, delete this code.\n      var italic = base.italic;\n      var oval = buildCommon.staticSvg(stash + \"Size\" + (large ? \"2\" : \"1\"), options);\n      base = buildCommon.makeVList({\n        positionType: \"individualShift\",\n        children: [{\n          type: \"elem\",\n          elem: base,\n          shift: 0\n        }, {\n          type: \"elem\",\n          elem: oval,\n          shift: large ? 0.08 : 0\n        }]\n      }, options);\n      group.name = \"\\\\\" + stash;\n      base.classes.unshift(\"mop\"); // $FlowFixMe\n\n      base.italic = italic;\n    }\n  } else if (group.body) {\n    // If this is a list, compose that list.\n    var inner = buildExpression$1(group.body, options, true);\n\n    if (inner.length === 1 && inner[0] instanceof SymbolNode) {\n      base = inner[0];\n      base.classes[0] = \"mop\"; // replace old mclass\n    } else {\n      base = buildCommon.makeSpan([\"mop\"], inner, options);\n    }\n  } else {\n    // Otherwise, this is a text operator. Build the text from the\n    // operator's name.\n    var output = [];\n\n    for (var i = 1; i < group.name.length; i++) {\n      output.push(buildCommon.mathsym(group.name[i], group.mode, options));\n    }\n\n    base = buildCommon.makeSpan([\"mop\"], output, options);\n  } // If content of op is a single symbol, shift it vertically.\n\n\n  var baseShift = 0;\n  var slant = 0;\n\n  if ((base instanceof SymbolNode || group.name === \"\\\\oiint\" || group.name === \"\\\\oiiint\") && !group.suppressBaseShift) {\n    // We suppress the shift of the base of \\overset and \\underset. Otherwise,\n    // shift the symbol so its center lies on the axis (rule 13). It\n    // appears that our fonts have the centers of the symbols already\n    // almost on the axis, so these numbers are very small. Note we\n    // don't actually apply this here, but instead it is used either in\n    // the vlist creation or separately when there are no limits.\n    baseShift = (base.height - base.depth) / 2 - options.fontMetrics().axisHeight; // The slant of the symbol is just its italic correction.\n    // $FlowFixMe\n\n    slant = base.italic;\n  }\n\n  if (hasLimits) {\n    return assembleSupSub(base, supGroup, subGroup, options, style, slant, baseShift);\n  } else {\n    if (baseShift) {\n      base.style.position = \"relative\";\n      base.style.top = makeEm(baseShift);\n    }\n\n    return base;\n  }\n};\n\nvar mathmlBuilder$1 = (group, options) => {\n  var node;\n\n  if (group.symbol) {\n    // This is a symbol. Just add the symbol.\n    node = new MathNode(\"mo\", [makeText(group.name, group.mode)]);\n\n    if (noSuccessor.includes(group.name)) {\n      node.setAttribute(\"largeop\", \"false\");\n    }\n  } else if (group.body) {\n    // This is an operator with children. Add them.\n    node = new MathNode(\"mo\", buildExpression(group.body, options));\n  } else {\n    // This is a text operator. Add all of the characters from the\n    // operator's name.\n    node = new MathNode(\"mi\", [new TextNode(group.name.slice(1))]); // Append an <mo>&ApplyFunction;</mo>.\n    // ref: https://www.w3.org/TR/REC-MathML/chap3_2.html#sec3.2.4\n\n    var operator = new MathNode(\"mo\", [makeText(\"\\u2061\", \"text\")]);\n\n    if (group.parentIsSupSub) {\n      node = new MathNode(\"mrow\", [node, operator]);\n    } else {\n      node = newDocumentFragment([node, operator]);\n    }\n  }\n\n  return node;\n};\n\nvar singleCharBigOps = {\n  \"\\u220F\": \"\\\\prod\",\n  \"\\u2210\": \"\\\\coprod\",\n  \"\\u2211\": \"\\\\sum\",\n  \"\\u22c0\": \"\\\\bigwedge\",\n  \"\\u22c1\": \"\\\\bigvee\",\n  \"\\u22c2\": \"\\\\bigcap\",\n  \"\\u22c3\": \"\\\\bigcup\",\n  \"\\u2a00\": \"\\\\bigodot\",\n  \"\\u2a01\": \"\\\\bigoplus\",\n  \"\\u2a02\": \"\\\\bigotimes\",\n  \"\\u2a04\": \"\\\\biguplus\",\n  \"\\u2a06\": \"\\\\bigsqcup\"\n};\ndefineFunction({\n  type: \"op\",\n  names: [\"\\\\coprod\", \"\\\\bigvee\", \"\\\\bigwedge\", \"\\\\biguplus\", \"\\\\bigcap\", \"\\\\bigcup\", \"\\\\intop\", \"\\\\prod\", \"\\\\sum\", \"\\\\bigotimes\", \"\\\\bigoplus\", \"\\\\bigodot\", \"\\\\bigsqcup\", \"\\\\smallint\", \"\\u220F\", \"\\u2210\", \"\\u2211\", \"\\u22c0\", \"\\u22c1\", \"\\u22c2\", \"\\u22c3\", \"\\u2a00\", \"\\u2a01\", \"\\u2a02\", \"\\u2a04\", \"\\u2a06\"],\n  props: {\n    numArgs: 0\n  },\n  handler: (_ref, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var fName = funcName;\n\n    if (fName.length === 1) {\n      fName = singleCharBigOps[fName];\n    }\n\n    return {\n      type: \"op\",\n      mode: parser.mode,\n      limits: true,\n      parentIsSupSub: false,\n      symbol: true,\n      name: fName\n    };\n  },\n  htmlBuilder: htmlBuilder$2,\n  mathmlBuilder: mathmlBuilder$1\n}); // Note: calling defineFunction with a type that's already been defined only\n// works because the same htmlBuilder and mathmlBuilder are being used.\n\ndefineFunction({\n  type: \"op\",\n  names: [\"\\\\mathop\"],\n  props: {\n    numArgs: 1,\n    primitive: true\n  },\n  handler: (_ref2, args) => {\n    var {\n      parser\n    } = _ref2;\n    var body = args[0];\n    return {\n      type: \"op\",\n      mode: parser.mode,\n      limits: false,\n      parentIsSupSub: false,\n      symbol: false,\n      body: ordargument(body)\n    };\n  },\n  htmlBuilder: htmlBuilder$2,\n  mathmlBuilder: mathmlBuilder$1\n}); // There are 2 flags for operators; whether they produce limits in\n// displaystyle, and whether they are symbols and should grow in\n// displaystyle. These four groups cover the four possible choices.\n\nvar singleCharIntegrals = {\n  \"\\u222b\": \"\\\\int\",\n  \"\\u222c\": \"\\\\iint\",\n  \"\\u222d\": \"\\\\iiint\",\n  \"\\u222e\": \"\\\\oint\",\n  \"\\u222f\": \"\\\\oiint\",\n  \"\\u2230\": \"\\\\oiiint\"\n}; // No limits, not symbols\n\ndefineFunction({\n  type: \"op\",\n  names: [\"\\\\arcsin\", \"\\\\arccos\", \"\\\\arctan\", \"\\\\arctg\", \"\\\\arcctg\", \"\\\\arg\", \"\\\\ch\", \"\\\\cos\", \"\\\\cosec\", \"\\\\cosh\", \"\\\\cot\", \"\\\\cotg\", \"\\\\coth\", \"\\\\csc\", \"\\\\ctg\", \"\\\\cth\", \"\\\\deg\", \"\\\\dim\", \"\\\\exp\", \"\\\\hom\", \"\\\\ker\", \"\\\\lg\", \"\\\\ln\", \"\\\\log\", \"\\\\sec\", \"\\\\sin\", \"\\\\sinh\", \"\\\\sh\", \"\\\\tan\", \"\\\\tanh\", \"\\\\tg\", \"\\\\th\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(_ref3) {\n    var {\n      parser,\n      funcName\n    } = _ref3;\n    return {\n      type: \"op\",\n      mode: parser.mode,\n      limits: false,\n      parentIsSupSub: false,\n      symbol: false,\n      name: funcName\n    };\n  },\n\n  htmlBuilder: htmlBuilder$2,\n  mathmlBuilder: mathmlBuilder$1\n}); // Limits, not symbols\n\ndefineFunction({\n  type: \"op\",\n  names: [\"\\\\det\", \"\\\\gcd\", \"\\\\inf\", \"\\\\lim\", \"\\\\max\", \"\\\\min\", \"\\\\Pr\", \"\\\\sup\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(_ref4) {\n    var {\n      parser,\n      funcName\n    } = _ref4;\n    return {\n      type: \"op\",\n      mode: parser.mode,\n      limits: true,\n      parentIsSupSub: false,\n      symbol: false,\n      name: funcName\n    };\n  },\n\n  htmlBuilder: htmlBuilder$2,\n  mathmlBuilder: mathmlBuilder$1\n}); // No limits, symbols\n\ndefineFunction({\n  type: \"op\",\n  names: [\"\\\\int\", \"\\\\iint\", \"\\\\iiint\", \"\\\\oint\", \"\\\\oiint\", \"\\\\oiiint\", \"\\u222b\", \"\\u222c\", \"\\u222d\", \"\\u222e\", \"\\u222f\", \"\\u2230\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(_ref5) {\n    var {\n      parser,\n      funcName\n    } = _ref5;\n    var fName = funcName;\n\n    if (fName.length === 1) {\n      fName = singleCharIntegrals[fName];\n    }\n\n    return {\n      type: \"op\",\n      mode: parser.mode,\n      limits: false,\n      parentIsSupSub: false,\n      symbol: true,\n      name: fName\n    };\n  },\n\n  htmlBuilder: htmlBuilder$2,\n  mathmlBuilder: mathmlBuilder$1\n});\n\n// NOTE: Unlike most `htmlBuilder`s, this one handles not only\n// \"operatorname\", but also  \"supsub\" since \\operatorname* can\n// affect super/subscripting.\nvar htmlBuilder$1 = (grp, options) => {\n  // Operators are handled in the TeXbook pg. 443-444, rule 13(a).\n  var supGroup;\n  var subGroup;\n  var hasLimits = false;\n  var group;\n\n  if (grp.type === \"supsub\") {\n    // If we have limits, supsub will pass us its group to handle. Pull\n    // out the superscript and subscript and set the group to the op in\n    // its base.\n    supGroup = grp.sup;\n    subGroup = grp.sub;\n    group = assertNodeType(grp.base, \"operatorname\");\n    hasLimits = true;\n  } else {\n    group = assertNodeType(grp, \"operatorname\");\n  }\n\n  var base;\n\n  if (group.body.length > 0) {\n    var body = group.body.map(child => {\n      // $FlowFixMe: Check if the node has a string `text` property.\n      var childText = child.text;\n\n      if (typeof childText === \"string\") {\n        return {\n          type: \"textord\",\n          mode: child.mode,\n          text: childText\n        };\n      } else {\n        return child;\n      }\n    }); // Consolidate function names into symbol characters.\n\n    var expression = buildExpression$1(body, options.withFont(\"mathrm\"), true);\n\n    for (var i = 0; i < expression.length; i++) {\n      var child = expression[i];\n\n      if (child instanceof SymbolNode) {\n        // Per amsopn package,\n        // change minus to hyphen and \\ast to asterisk\n        child.text = child.text.replace(/\\u2212/, \"-\").replace(/\\u2217/, \"*\");\n      }\n    }\n\n    base = buildCommon.makeSpan([\"mop\"], expression, options);\n  } else {\n    base = buildCommon.makeSpan([\"mop\"], [], options);\n  }\n\n  if (hasLimits) {\n    return assembleSupSub(base, supGroup, subGroup, options, options.style, 0, 0);\n  } else {\n    return base;\n  }\n};\n\nvar mathmlBuilder = (group, options) => {\n  // The steps taken here are similar to the html version.\n  var expression = buildExpression(group.body, options.withFont(\"mathrm\")); // Is expression a string or has it something like a fraction?\n\n  var isAllString = true; // default\n\n  for (var i = 0; i < expression.length; i++) {\n    var node = expression[i];\n\n    if (node instanceof mathMLTree.SpaceNode) ; else if (node instanceof mathMLTree.MathNode) {\n      switch (node.type) {\n        case \"mi\":\n        case \"mn\":\n        case \"ms\":\n        case \"mspace\":\n        case \"mtext\":\n          break;\n        // Do nothing yet.\n\n        case \"mo\":\n          {\n            var child = node.children[0];\n\n            if (node.children.length === 1 && child instanceof mathMLTree.TextNode) {\n              child.text = child.text.replace(/\\u2212/, \"-\").replace(/\\u2217/, \"*\");\n            } else {\n              isAllString = false;\n            }\n\n            break;\n          }\n\n        default:\n          isAllString = false;\n      }\n    } else {\n      isAllString = false;\n    }\n  }\n\n  if (isAllString) {\n    // Write a single TextNode instead of multiple nested tags.\n    var word = expression.map(node => node.toText()).join(\"\");\n    expression = [new mathMLTree.TextNode(word)];\n  }\n\n  var identifier = new mathMLTree.MathNode(\"mi\", expression);\n  identifier.setAttribute(\"mathvariant\", \"normal\"); // \\u2061 is the same as &ApplyFunction;\n  // ref: https://www.w3schools.com/charsets/ref_html_entities_a.asp\n\n  var operator = new mathMLTree.MathNode(\"mo\", [makeText(\"\\u2061\", \"text\")]);\n\n  if (group.parentIsSupSub) {\n    return new mathMLTree.MathNode(\"mrow\", [identifier, operator]);\n  } else {\n    return mathMLTree.newDocumentFragment([identifier, operator]);\n  }\n}; // \\operatorname\n// amsopn.dtx: \\mathop{#1\\kern\\z@\\operator@font#3}\\newmcodes@\n\n\ndefineFunction({\n  type: \"operatorname\",\n  names: [\"\\\\operatorname@\", \"\\\\operatornamewithlimits\"],\n  props: {\n    numArgs: 1\n  },\n  handler: (_ref, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var body = args[0];\n    return {\n      type: \"operatorname\",\n      mode: parser.mode,\n      body: ordargument(body),\n      alwaysHandleSupSub: funcName === \"\\\\operatornamewithlimits\",\n      limits: false,\n      parentIsSupSub: false\n    };\n  },\n  htmlBuilder: htmlBuilder$1,\n  mathmlBuilder\n});\ndefineMacro(\"\\\\operatorname\", \"\\\\@ifstar\\\\operatornamewithlimits\\\\operatorname@\");\n\ndefineFunctionBuilders({\n  type: \"ordgroup\",\n\n  htmlBuilder(group, options) {\n    if (group.semisimple) {\n      return buildCommon.makeFragment(buildExpression$1(group.body, options, false));\n    }\n\n    return buildCommon.makeSpan([\"mord\"], buildExpression$1(group.body, options, true), options);\n  },\n\n  mathmlBuilder(group, options) {\n    return buildExpressionRow(group.body, options, true);\n  }\n\n});\n\ndefineFunction({\n  type: \"overline\",\n  names: [\"\\\\overline\"],\n  props: {\n    numArgs: 1\n  },\n\n  handler(_ref, args) {\n    var {\n      parser\n    } = _ref;\n    var body = args[0];\n    return {\n      type: \"overline\",\n      mode: parser.mode,\n      body\n    };\n  },\n\n  htmlBuilder(group, options) {\n    // Overlines are handled in the TeXbook pg 443, Rule 9.\n    // Build the inner group in the cramped style.\n    var innerGroup = buildGroup$1(group.body, options.havingCrampedStyle()); // Create the line above the body\n\n    var line = buildCommon.makeLineSpan(\"overline-line\", options); // Generate the vlist, with the appropriate kerns\n\n    var defaultRuleThickness = options.fontMetrics().defaultRuleThickness;\n    var vlist = buildCommon.makeVList({\n      positionType: \"firstBaseline\",\n      children: [{\n        type: \"elem\",\n        elem: innerGroup\n      }, {\n        type: \"kern\",\n        size: 3 * defaultRuleThickness\n      }, {\n        type: \"elem\",\n        elem: line\n      }, {\n        type: \"kern\",\n        size: defaultRuleThickness\n      }]\n    }, options);\n    return buildCommon.makeSpan([\"mord\", \"overline\"], [vlist], options);\n  },\n\n  mathmlBuilder(group, options) {\n    var operator = new mathMLTree.MathNode(\"mo\", [new mathMLTree.TextNode(\"\\u203e\")]);\n    operator.setAttribute(\"stretchy\", \"true\");\n    var node = new mathMLTree.MathNode(\"mover\", [buildGroup(group.body, options), operator]);\n    node.setAttribute(\"accent\", \"true\");\n    return node;\n  }\n\n});\n\ndefineFunction({\n  type: \"phantom\",\n  names: [\"\\\\phantom\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser\n    } = _ref;\n    var body = args[0];\n    return {\n      type: \"phantom\",\n      mode: parser.mode,\n      body: ordargument(body)\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var elements = buildExpression$1(group.body, options.withPhantom(), false); // \\phantom isn't supposed to affect the elements it contains.\n    // See \"color\" for more details.\n\n    return buildCommon.makeFragment(elements);\n  },\n  mathmlBuilder: (group, options) => {\n    var inner = buildExpression(group.body, options);\n    return new mathMLTree.MathNode(\"mphantom\", inner);\n  }\n});\ndefineFunction({\n  type: \"hphantom\",\n  names: [\"\\\\hphantom\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true\n  },\n  handler: (_ref2, args) => {\n    var {\n      parser\n    } = _ref2;\n    var body = args[0];\n    return {\n      type: \"hphantom\",\n      mode: parser.mode,\n      body\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var node = buildCommon.makeSpan([], [buildGroup$1(group.body, options.withPhantom())]);\n    node.height = 0;\n    node.depth = 0;\n\n    if (node.children) {\n      for (var i = 0; i < node.children.length; i++) {\n        node.children[i].height = 0;\n        node.children[i].depth = 0;\n      }\n    } // See smash for comment re: use of makeVList\n\n\n    node = buildCommon.makeVList({\n      positionType: \"firstBaseline\",\n      children: [{\n        type: \"elem\",\n        elem: node\n      }]\n    }, options); // For spacing, TeX treats \\smash as a math group (same spacing as ord).\n\n    return buildCommon.makeSpan([\"mord\"], [node], options);\n  },\n  mathmlBuilder: (group, options) => {\n    var inner = buildExpression(ordargument(group.body), options);\n    var phantom = new mathMLTree.MathNode(\"mphantom\", inner);\n    var node = new mathMLTree.MathNode(\"mpadded\", [phantom]);\n    node.setAttribute(\"height\", \"0px\");\n    node.setAttribute(\"depth\", \"0px\");\n    return node;\n  }\n});\ndefineFunction({\n  type: \"vphantom\",\n  names: [\"\\\\vphantom\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true\n  },\n  handler: (_ref3, args) => {\n    var {\n      parser\n    } = _ref3;\n    var body = args[0];\n    return {\n      type: \"vphantom\",\n      mode: parser.mode,\n      body\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var inner = buildCommon.makeSpan([\"inner\"], [buildGroup$1(group.body, options.withPhantom())]);\n    var fix = buildCommon.makeSpan([\"fix\"], []);\n    return buildCommon.makeSpan([\"mord\", \"rlap\"], [inner, fix], options);\n  },\n  mathmlBuilder: (group, options) => {\n    var inner = buildExpression(ordargument(group.body), options);\n    var phantom = new mathMLTree.MathNode(\"mphantom\", inner);\n    var node = new mathMLTree.MathNode(\"mpadded\", [phantom]);\n    node.setAttribute(\"width\", \"0px\");\n    return node;\n  }\n});\n\ndefineFunction({\n  type: \"raisebox\",\n  names: [\"\\\\raisebox\"],\n  props: {\n    numArgs: 2,\n    argTypes: [\"size\", \"hbox\"],\n    allowedInText: true\n  },\n\n  handler(_ref, args) {\n    var {\n      parser\n    } = _ref;\n    var amount = assertNodeType(args[0], \"size\").value;\n    var body = args[1];\n    return {\n      type: \"raisebox\",\n      mode: parser.mode,\n      dy: amount,\n      body\n    };\n  },\n\n  htmlBuilder(group, options) {\n    var body = buildGroup$1(group.body, options);\n    var dy = calculateSize(group.dy, options);\n    return buildCommon.makeVList({\n      positionType: \"shift\",\n      positionData: -dy,\n      children: [{\n        type: \"elem\",\n        elem: body\n      }]\n    }, options);\n  },\n\n  mathmlBuilder(group, options) {\n    var node = new mathMLTree.MathNode(\"mpadded\", [buildGroup(group.body, options)]);\n    var dy = group.dy.number + group.dy.unit;\n    node.setAttribute(\"voffset\", dy);\n    return node;\n  }\n\n});\n\ndefineFunction({\n  type: \"internal\",\n  names: [\"\\\\relax\"],\n  props: {\n    numArgs: 0,\n    allowedInText: true,\n    allowedInArgument: true\n  },\n\n  handler(_ref) {\n    var {\n      parser\n    } = _ref;\n    return {\n      type: \"internal\",\n      mode: parser.mode\n    };\n  }\n\n});\n\ndefineFunction({\n  type: \"rule\",\n  names: [\"\\\\rule\"],\n  props: {\n    numArgs: 2,\n    numOptionalArgs: 1,\n    allowedInText: true,\n    allowedInMath: true,\n    argTypes: [\"size\", \"size\", \"size\"]\n  },\n\n  handler(_ref, args, optArgs) {\n    var {\n      parser\n    } = _ref;\n    var shift = optArgs[0];\n    var width = assertNodeType(args[0], \"size\");\n    var height = assertNodeType(args[1], \"size\");\n    return {\n      type: \"rule\",\n      mode: parser.mode,\n      shift: shift && assertNodeType(shift, \"size\").value,\n      width: width.value,\n      height: height.value\n    };\n  },\n\n  htmlBuilder(group, options) {\n    // Make an empty span for the rule\n    var rule = buildCommon.makeSpan([\"mord\", \"rule\"], [], options); // Calculate the shift, width, and height of the rule, and account for units\n\n    var width = calculateSize(group.width, options);\n    var height = calculateSize(group.height, options);\n    var shift = group.shift ? calculateSize(group.shift, options) : 0; // Style the rule to the right size\n\n    rule.style.borderRightWidth = makeEm(width);\n    rule.style.borderTopWidth = makeEm(height);\n    rule.style.bottom = makeEm(shift); // Record the height and width\n\n    rule.width = width;\n    rule.height = height + shift;\n    rule.depth = -shift; // Font size is the number large enough that the browser will\n    // reserve at least `absHeight` space above the baseline.\n    // The 1.125 factor was empirically determined\n\n    rule.maxFontSize = height * 1.125 * options.sizeMultiplier;\n    return rule;\n  },\n\n  mathmlBuilder(group, options) {\n    var width = calculateSize(group.width, options);\n    var height = calculateSize(group.height, options);\n    var shift = group.shift ? calculateSize(group.shift, options) : 0;\n    var color = options.color && options.getColor() || \"black\";\n    var rule = new mathMLTree.MathNode(\"mspace\");\n    rule.setAttribute(\"mathbackground\", color);\n    rule.setAttribute(\"width\", makeEm(width));\n    rule.setAttribute(\"height\", makeEm(height));\n    var wrapper = new mathMLTree.MathNode(\"mpadded\", [rule]);\n\n    if (shift >= 0) {\n      wrapper.setAttribute(\"height\", makeEm(shift));\n    } else {\n      wrapper.setAttribute(\"height\", makeEm(shift));\n      wrapper.setAttribute(\"depth\", makeEm(-shift));\n    }\n\n    wrapper.setAttribute(\"voffset\", makeEm(shift));\n    return wrapper;\n  }\n\n});\n\nfunction sizingGroup(value, options, baseOptions) {\n  var inner = buildExpression$1(value, options, false);\n  var multiplier = options.sizeMultiplier / baseOptions.sizeMultiplier; // Add size-resetting classes to the inner list and set maxFontSize\n  // manually. Handle nested size changes.\n\n  for (var i = 0; i < inner.length; i++) {\n    var pos = inner[i].classes.indexOf(\"sizing\");\n\n    if (pos < 0) {\n      Array.prototype.push.apply(inner[i].classes, options.sizingClasses(baseOptions));\n    } else if (inner[i].classes[pos + 1] === \"reset-size\" + options.size) {\n      // This is a nested size change: e.g., inner[i] is the \"b\" in\n      // `\\Huge a \\small b`. Override the old size (the `reset-` class)\n      // but not the new size.\n      inner[i].classes[pos + 1] = \"reset-size\" + baseOptions.size;\n    }\n\n    inner[i].height *= multiplier;\n    inner[i].depth *= multiplier;\n  }\n\n  return buildCommon.makeFragment(inner);\n}\nvar sizeFuncs = [\"\\\\tiny\", \"\\\\sixptsize\", \"\\\\scriptsize\", \"\\\\footnotesize\", \"\\\\small\", \"\\\\normalsize\", \"\\\\large\", \"\\\\Large\", \"\\\\LARGE\", \"\\\\huge\", \"\\\\Huge\"];\nvar htmlBuilder = (group, options) => {\n  // Handle sizing operators like \\Huge. Real TeX doesn't actually allow\n  // these functions inside of math expressions, so we do some special\n  // handling.\n  var newOptions = options.havingSize(group.size);\n  return sizingGroup(group.body, newOptions, options);\n};\ndefineFunction({\n  type: \"sizing\",\n  names: sizeFuncs,\n  props: {\n    numArgs: 0,\n    allowedInText: true\n  },\n  handler: (_ref, args) => {\n    var {\n      breakOnTokenText,\n      funcName,\n      parser\n    } = _ref;\n    var body = parser.parseExpression(false, breakOnTokenText);\n    return {\n      type: \"sizing\",\n      mode: parser.mode,\n      // Figure out what size to use based on the list of functions above\n      size: sizeFuncs.indexOf(funcName) + 1,\n      body\n    };\n  },\n  htmlBuilder,\n  mathmlBuilder: (group, options) => {\n    var newOptions = options.havingSize(group.size);\n    var inner = buildExpression(group.body, newOptions);\n    var node = new mathMLTree.MathNode(\"mstyle\", inner); // TODO(emily): This doesn't produce the correct size for nested size\n    // changes, because we don't keep state of what style we're currently\n    // in, so we can't reset the size to normal before changing it.  Now\n    // that we're passing an options parameter we should be able to fix\n    // this.\n\n    node.setAttribute(\"mathsize\", makeEm(newOptions.sizeMultiplier));\n    return node;\n  }\n});\n\n// smash, with optional [tb], as in AMS\ndefineFunction({\n  type: \"smash\",\n  names: [\"\\\\smash\"],\n  props: {\n    numArgs: 1,\n    numOptionalArgs: 1,\n    allowedInText: true\n  },\n  handler: (_ref, args, optArgs) => {\n    var {\n      parser\n    } = _ref;\n    var smashHeight = false;\n    var smashDepth = false;\n    var tbArg = optArgs[0] && assertNodeType(optArgs[0], \"ordgroup\");\n\n    if (tbArg) {\n      // Optional [tb] argument is engaged.\n      // ref: amsmath: \\renewcommand{\\smash}[1][tb]{%\n      //               def\\mb@t{\\ht}\\def\\mb@b{\\dp}\\def\\mb@tb{\\ht\\z@\\z@\\dp}%\n      var letter = \"\";\n\n      for (var i = 0; i < tbArg.body.length; ++i) {\n        var node = tbArg.body[i]; // $FlowFixMe: Not every node type has a `text` property.\n\n        letter = node.text;\n\n        if (letter === \"t\") {\n          smashHeight = true;\n        } else if (letter === \"b\") {\n          smashDepth = true;\n        } else {\n          smashHeight = false;\n          smashDepth = false;\n          break;\n        }\n      }\n    } else {\n      smashHeight = true;\n      smashDepth = true;\n    }\n\n    var body = args[0];\n    return {\n      type: \"smash\",\n      mode: parser.mode,\n      body,\n      smashHeight,\n      smashDepth\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var node = buildCommon.makeSpan([], [buildGroup$1(group.body, options)]);\n\n    if (!group.smashHeight && !group.smashDepth) {\n      return node;\n    }\n\n    if (group.smashHeight) {\n      node.height = 0; // In order to influence makeVList, we have to reset the children.\n\n      if (node.children) {\n        for (var i = 0; i < node.children.length; i++) {\n          node.children[i].height = 0;\n        }\n      }\n    }\n\n    if (group.smashDepth) {\n      node.depth = 0;\n\n      if (node.children) {\n        for (var _i = 0; _i < node.children.length; _i++) {\n          node.children[_i].depth = 0;\n        }\n      }\n    } // At this point, we've reset the TeX-like height and depth values.\n    // But the span still has an HTML line height.\n    // makeVList applies \"display: table-cell\", which prevents the browser\n    // from acting on that line height. So we'll call makeVList now.\n\n\n    var smashedNode = buildCommon.makeVList({\n      positionType: \"firstBaseline\",\n      children: [{\n        type: \"elem\",\n        elem: node\n      }]\n    }, options); // For spacing, TeX treats \\hphantom as a math group (same spacing as ord).\n\n    return buildCommon.makeSpan([\"mord\"], [smashedNode], options);\n  },\n  mathmlBuilder: (group, options) => {\n    var node = new mathMLTree.MathNode(\"mpadded\", [buildGroup(group.body, options)]);\n\n    if (group.smashHeight) {\n      node.setAttribute(\"height\", \"0px\");\n    }\n\n    if (group.smashDepth) {\n      node.setAttribute(\"depth\", \"0px\");\n    }\n\n    return node;\n  }\n});\n\ndefineFunction({\n  type: \"sqrt\",\n  names: [\"\\\\sqrt\"],\n  props: {\n    numArgs: 1,\n    numOptionalArgs: 1\n  },\n\n  handler(_ref, args, optArgs) {\n    var {\n      parser\n    } = _ref;\n    var index = optArgs[0];\n    var body = args[0];\n    return {\n      type: \"sqrt\",\n      mode: parser.mode,\n      body,\n      index\n    };\n  },\n\n  htmlBuilder(group, options) {\n    // Square roots are handled in the TeXbook pg. 443, Rule 11.\n    // First, we do the same steps as in overline to build the inner group\n    // and line\n    var inner = buildGroup$1(group.body, options.havingCrampedStyle());\n\n    if (inner.height === 0) {\n      // Render a small surd.\n      inner.height = options.fontMetrics().xHeight;\n    } // Some groups can return document fragments.  Handle those by wrapping\n    // them in a span.\n\n\n    inner = buildCommon.wrapFragment(inner, options); // Calculate the minimum size for the \\surd delimiter\n\n    var metrics = options.fontMetrics();\n    var theta = metrics.defaultRuleThickness;\n    var phi = theta;\n\n    if (options.style.id < Style$1.TEXT.id) {\n      phi = options.fontMetrics().xHeight;\n    } // Calculate the clearance between the body and line\n\n\n    var lineClearance = theta + phi / 4;\n    var minDelimiterHeight = inner.height + inner.depth + lineClearance + theta; // Create a sqrt SVG of the required minimum size\n\n    var {\n      span: img,\n      ruleWidth,\n      advanceWidth\n    } = delimiter.sqrtImage(minDelimiterHeight, options);\n    var delimDepth = img.height - ruleWidth; // Adjust the clearance based on the delimiter size\n\n    if (delimDepth > inner.height + inner.depth + lineClearance) {\n      lineClearance = (lineClearance + delimDepth - inner.height - inner.depth) / 2;\n    } // Shift the sqrt image\n\n\n    var imgShift = img.height - inner.height - lineClearance - ruleWidth;\n    inner.style.paddingLeft = makeEm(advanceWidth); // Overlay the image and the argument.\n\n    var body = buildCommon.makeVList({\n      positionType: \"firstBaseline\",\n      children: [{\n        type: \"elem\",\n        elem: inner,\n        wrapperClasses: [\"svg-align\"]\n      }, {\n        type: \"kern\",\n        size: -(inner.height + imgShift)\n      }, {\n        type: \"elem\",\n        elem: img\n      }, {\n        type: \"kern\",\n        size: ruleWidth\n      }]\n    }, options);\n\n    if (!group.index) {\n      return buildCommon.makeSpan([\"mord\", \"sqrt\"], [body], options);\n    } else {\n      // Handle the optional root index\n      // The index is always in scriptscript style\n      var newOptions = options.havingStyle(Style$1.SCRIPTSCRIPT);\n      var rootm = buildGroup$1(group.index, newOptions, options); // The amount the index is shifted by. This is taken from the TeX\n      // source, in the definition of `\\r@@t`.\n\n      var toShift = 0.6 * (body.height - body.depth); // Build a VList with the superscript shifted up correctly\n\n      var rootVList = buildCommon.makeVList({\n        positionType: \"shift\",\n        positionData: -toShift,\n        children: [{\n          type: \"elem\",\n          elem: rootm\n        }]\n      }, options); // Add a class surrounding it so we can add on the appropriate\n      // kerning\n\n      var rootVListWrap = buildCommon.makeSpan([\"root\"], [rootVList]);\n      return buildCommon.makeSpan([\"mord\", \"sqrt\"], [rootVListWrap, body], options);\n    }\n  },\n\n  mathmlBuilder(group, options) {\n    var {\n      body,\n      index\n    } = group;\n    return index ? new mathMLTree.MathNode(\"mroot\", [buildGroup(body, options), buildGroup(index, options)]) : new mathMLTree.MathNode(\"msqrt\", [buildGroup(body, options)]);\n  }\n\n});\n\nvar styleMap = {\n  \"display\": Style$1.DISPLAY,\n  \"text\": Style$1.TEXT,\n  \"script\": Style$1.SCRIPT,\n  \"scriptscript\": Style$1.SCRIPTSCRIPT\n};\ndefineFunction({\n  type: \"styling\",\n  names: [\"\\\\displaystyle\", \"\\\\textstyle\", \"\\\\scriptstyle\", \"\\\\scriptscriptstyle\"],\n  props: {\n    numArgs: 0,\n    allowedInText: true,\n    primitive: true\n  },\n\n  handler(_ref, args) {\n    var {\n      breakOnTokenText,\n      funcName,\n      parser\n    } = _ref;\n    // parse out the implicit body\n    var body = parser.parseExpression(true, breakOnTokenText); // TODO: Refactor to avoid duplicating styleMap in multiple places (e.g.\n    // here and in buildHTML and de-dupe the enumeration of all the styles).\n    // $FlowFixMe: The names above exactly match the styles.\n\n    var style = funcName.slice(1, funcName.length - 5);\n    return {\n      type: \"styling\",\n      mode: parser.mode,\n      // Figure out what style to use by pulling out the style from\n      // the function name\n      style,\n      body\n    };\n  },\n\n  htmlBuilder(group, options) {\n    // Style changes are handled in the TeXbook on pg. 442, Rule 3.\n    var newStyle = styleMap[group.style];\n    var newOptions = options.havingStyle(newStyle).withFont('');\n    return sizingGroup(group.body, newOptions, options);\n  },\n\n  mathmlBuilder(group, options) {\n    // Figure out what style we're changing to.\n    var newStyle = styleMap[group.style];\n    var newOptions = options.havingStyle(newStyle);\n    var inner = buildExpression(group.body, newOptions);\n    var node = new mathMLTree.MathNode(\"mstyle\", inner);\n    var styleAttributes = {\n      \"display\": [\"0\", \"true\"],\n      \"text\": [\"0\", \"false\"],\n      \"script\": [\"1\", \"false\"],\n      \"scriptscript\": [\"2\", \"false\"]\n    };\n    var attr = styleAttributes[group.style];\n    node.setAttribute(\"scriptlevel\", attr[0]);\n    node.setAttribute(\"displaystyle\", attr[1]);\n    return node;\n  }\n\n});\n\n/**\n * Sometimes, groups perform special rules when they have superscripts or\n * subscripts attached to them. This function lets the `supsub` group know that\n * Sometimes, groups perform special rules when they have superscripts or\n * its inner element should handle the superscripts and subscripts instead of\n * handling them itself.\n */\nvar htmlBuilderDelegate = function htmlBuilderDelegate(group, options) {\n  var base = group.base;\n\n  if (!base) {\n    return null;\n  } else if (base.type === \"op\") {\n    // Operators handle supsubs differently when they have limits\n    // (e.g. `\\displaystyle\\sum_2^3`)\n    var delegate = base.limits && (options.style.size === Style$1.DISPLAY.size || base.alwaysHandleSupSub);\n    return delegate ? htmlBuilder$2 : null;\n  } else if (base.type === \"operatorname\") {\n    var _delegate = base.alwaysHandleSupSub && (options.style.size === Style$1.DISPLAY.size || base.limits);\n\n    return _delegate ? htmlBuilder$1 : null;\n  } else if (base.type === \"accent\") {\n    return utils.isCharacterBox(base.base) ? htmlBuilder$a : null;\n  } else if (base.type === \"horizBrace\") {\n    var isSup = !group.sub;\n    return isSup === base.isOver ? htmlBuilder$3 : null;\n  } else {\n    return null;\n  }\n}; // Super scripts and subscripts, whose precise placement can depend on other\n// functions that precede them.\n\n\ndefineFunctionBuilders({\n  type: \"supsub\",\n\n  htmlBuilder(group, options) {\n    // Superscript and subscripts are handled in the TeXbook on page\n    // 445-446, rules 18(a-f).\n    // Here is where we defer to the inner group if it should handle\n    // superscripts and subscripts itself.\n    var builderDelegate = htmlBuilderDelegate(group, options);\n\n    if (builderDelegate) {\n      return builderDelegate(group, options);\n    }\n\n    var {\n      base: valueBase,\n      sup: valueSup,\n      sub: valueSub\n    } = group;\n    var base = buildGroup$1(valueBase, options);\n    var supm;\n    var subm;\n    var metrics = options.fontMetrics(); // Rule 18a\n\n    var supShift = 0;\n    var subShift = 0;\n    var isCharacterBox = valueBase && utils.isCharacterBox(valueBase);\n\n    if (valueSup) {\n      var newOptions = options.havingStyle(options.style.sup());\n      supm = buildGroup$1(valueSup, newOptions, options);\n\n      if (!isCharacterBox) {\n        supShift = base.height - newOptions.fontMetrics().supDrop * newOptions.sizeMultiplier / options.sizeMultiplier;\n      }\n    }\n\n    if (valueSub) {\n      var _newOptions = options.havingStyle(options.style.sub());\n\n      subm = buildGroup$1(valueSub, _newOptions, options);\n\n      if (!isCharacterBox) {\n        subShift = base.depth + _newOptions.fontMetrics().subDrop * _newOptions.sizeMultiplier / options.sizeMultiplier;\n      }\n    } // Rule 18c\n\n\n    var minSupShift;\n\n    if (options.style === Style$1.DISPLAY) {\n      minSupShift = metrics.sup1;\n    } else if (options.style.cramped) {\n      minSupShift = metrics.sup3;\n    } else {\n      minSupShift = metrics.sup2;\n    } // scriptspace is a font-size-independent size, so scale it\n    // appropriately for use as the marginRight.\n\n\n    var multiplier = options.sizeMultiplier;\n    var marginRight = makeEm(0.5 / metrics.ptPerEm / multiplier);\n    var marginLeft = null;\n\n    if (subm) {\n      // Subscripts shouldn't be shifted by the base's italic correction.\n      // Account for that by shifting the subscript back the appropriate\n      // amount. Note we only do this when the base is a single symbol.\n      var isOiint = group.base && group.base.type === \"op\" && group.base.name && (group.base.name === \"\\\\oiint\" || group.base.name === \"\\\\oiiint\");\n\n      if (base instanceof SymbolNode || isOiint) {\n        // $FlowFixMe\n        marginLeft = makeEm(-base.italic);\n      }\n    }\n\n    var supsub;\n\n    if (supm && subm) {\n      supShift = Math.max(supShift, minSupShift, supm.depth + 0.25 * metrics.xHeight);\n      subShift = Math.max(subShift, metrics.sub2);\n      var ruleWidth = metrics.defaultRuleThickness; // Rule 18e\n\n      var maxWidth = 4 * ruleWidth;\n\n      if (supShift - supm.depth - (subm.height - subShift) < maxWidth) {\n        subShift = maxWidth - (supShift - supm.depth) + subm.height;\n        var psi = 0.8 * metrics.xHeight - (supShift - supm.depth);\n\n        if (psi > 0) {\n          supShift += psi;\n          subShift -= psi;\n        }\n      }\n\n      var vlistElem = [{\n        type: \"elem\",\n        elem: subm,\n        shift: subShift,\n        marginRight,\n        marginLeft\n      }, {\n        type: \"elem\",\n        elem: supm,\n        shift: -supShift,\n        marginRight\n      }];\n      supsub = buildCommon.makeVList({\n        positionType: \"individualShift\",\n        children: vlistElem\n      }, options);\n    } else if (subm) {\n      // Rule 18b\n      subShift = Math.max(subShift, metrics.sub1, subm.height - 0.8 * metrics.xHeight);\n      var _vlistElem = [{\n        type: \"elem\",\n        elem: subm,\n        marginLeft,\n        marginRight\n      }];\n      supsub = buildCommon.makeVList({\n        positionType: \"shift\",\n        positionData: subShift,\n        children: _vlistElem\n      }, options);\n    } else if (supm) {\n      // Rule 18c, d\n      supShift = Math.max(supShift, minSupShift, supm.depth + 0.25 * metrics.xHeight);\n      supsub = buildCommon.makeVList({\n        positionType: \"shift\",\n        positionData: -supShift,\n        children: [{\n          type: \"elem\",\n          elem: supm,\n          marginRight\n        }]\n      }, options);\n    } else {\n      throw new Error(\"supsub must have either sup or sub.\");\n    } // Wrap the supsub vlist in a span.msupsub to reset text-align.\n\n\n    var mclass = getTypeOfDomTree(base, \"right\") || \"mord\";\n    return buildCommon.makeSpan([mclass], [base, buildCommon.makeSpan([\"msupsub\"], [supsub])], options);\n  },\n\n  mathmlBuilder(group, options) {\n    // Is the inner group a relevant horizontal brace?\n    var isBrace = false;\n    var isOver;\n    var isSup;\n\n    if (group.base && group.base.type === \"horizBrace\") {\n      isSup = !!group.sup;\n\n      if (isSup === group.base.isOver) {\n        isBrace = true;\n        isOver = group.base.isOver;\n      }\n    }\n\n    if (group.base && (group.base.type === \"op\" || group.base.type === \"operatorname\")) {\n      group.base.parentIsSupSub = true;\n    }\n\n    var children = [buildGroup(group.base, options)];\n\n    if (group.sub) {\n      children.push(buildGroup(group.sub, options));\n    }\n\n    if (group.sup) {\n      children.push(buildGroup(group.sup, options));\n    }\n\n    var nodeType;\n\n    if (isBrace) {\n      nodeType = isOver ? \"mover\" : \"munder\";\n    } else if (!group.sub) {\n      var base = group.base;\n\n      if (base && base.type === \"op\" && base.limits && (options.style === Style$1.DISPLAY || base.alwaysHandleSupSub)) {\n        nodeType = \"mover\";\n      } else if (base && base.type === \"operatorname\" && base.alwaysHandleSupSub && (base.limits || options.style === Style$1.DISPLAY)) {\n        nodeType = \"mover\";\n      } else {\n        nodeType = \"msup\";\n      }\n    } else if (!group.sup) {\n      var _base = group.base;\n\n      if (_base && _base.type === \"op\" && _base.limits && (options.style === Style$1.DISPLAY || _base.alwaysHandleSupSub)) {\n        nodeType = \"munder\";\n      } else if (_base && _base.type === \"operatorname\" && _base.alwaysHandleSupSub && (_base.limits || options.style === Style$1.DISPLAY)) {\n        nodeType = \"munder\";\n      } else {\n        nodeType = \"msub\";\n      }\n    } else {\n      var _base2 = group.base;\n\n      if (_base2 && _base2.type === \"op\" && _base2.limits && options.style === Style$1.DISPLAY) {\n        nodeType = \"munderover\";\n      } else if (_base2 && _base2.type === \"operatorname\" && _base2.alwaysHandleSupSub && (options.style === Style$1.DISPLAY || _base2.limits)) {\n        nodeType = \"munderover\";\n      } else {\n        nodeType = \"msubsup\";\n      }\n    }\n\n    return new mathMLTree.MathNode(nodeType, children);\n  }\n\n});\n\ndefineFunctionBuilders({\n  type: \"atom\",\n\n  htmlBuilder(group, options) {\n    return buildCommon.mathsym(group.text, group.mode, options, [\"m\" + group.family]);\n  },\n\n  mathmlBuilder(group, options) {\n    var node = new mathMLTree.MathNode(\"mo\", [makeText(group.text, group.mode)]);\n\n    if (group.family === \"bin\") {\n      var variant = getVariant(group, options);\n\n      if (variant === \"bold-italic\") {\n        node.setAttribute(\"mathvariant\", variant);\n      }\n    } else if (group.family === \"punct\") {\n      node.setAttribute(\"separator\", \"true\");\n    } else if (group.family === \"open\" || group.family === \"close\") {\n      // Delims built here should not stretch vertically.\n      // See delimsizing.js for stretchy delims.\n      node.setAttribute(\"stretchy\", \"false\");\n    }\n\n    return node;\n  }\n\n});\n\n// \"mathord\" and \"textord\" ParseNodes created in Parser.js from symbol Groups in\n// src/symbols.js.\nvar defaultVariant = {\n  \"mi\": \"italic\",\n  \"mn\": \"normal\",\n  \"mtext\": \"normal\"\n};\ndefineFunctionBuilders({\n  type: \"mathord\",\n\n  htmlBuilder(group, options) {\n    return buildCommon.makeOrd(group, options, \"mathord\");\n  },\n\n  mathmlBuilder(group, options) {\n    var node = new mathMLTree.MathNode(\"mi\", [makeText(group.text, group.mode, options)]);\n    var variant = getVariant(group, options) || \"italic\";\n\n    if (variant !== defaultVariant[node.type]) {\n      node.setAttribute(\"mathvariant\", variant);\n    }\n\n    return node;\n  }\n\n});\ndefineFunctionBuilders({\n  type: \"textord\",\n\n  htmlBuilder(group, options) {\n    return buildCommon.makeOrd(group, options, \"textord\");\n  },\n\n  mathmlBuilder(group, options) {\n    var text = makeText(group.text, group.mode, options);\n    var variant = getVariant(group, options) || \"normal\";\n    var node;\n\n    if (group.mode === 'text') {\n      node = new mathMLTree.MathNode(\"mtext\", [text]);\n    } else if (/[0-9]/.test(group.text)) {\n      node = new mathMLTree.MathNode(\"mn\", [text]);\n    } else if (group.text === \"\\\\prime\") {\n      node = new mathMLTree.MathNode(\"mo\", [text]);\n    } else {\n      node = new mathMLTree.MathNode(\"mi\", [text]);\n    }\n\n    if (variant !== defaultVariant[node.type]) {\n      node.setAttribute(\"mathvariant\", variant);\n    }\n\n    return node;\n  }\n\n});\n\nvar cssSpace = {\n  \"\\\\nobreak\": \"nobreak\",\n  \"\\\\allowbreak\": \"allowbreak\"\n}; // A lookup table to determine whether a spacing function/symbol should be\n// treated like a regular space character.  If a symbol or command is a key\n// in this table, then it should be a regular space character.  Furthermore,\n// the associated value may have a `className` specifying an extra CSS class\n// to add to the created `span`.\n\nvar regularSpace = {\n  \" \": {},\n  \"\\\\ \": {},\n  \"~\": {\n    className: \"nobreak\"\n  },\n  \"\\\\space\": {},\n  \"\\\\nobreakspace\": {\n    className: \"nobreak\"\n  }\n}; // ParseNode<\"spacing\"> created in Parser.js from the \"spacing\" symbol Groups in\n// src/symbols.js.\n\ndefineFunctionBuilders({\n  type: \"spacing\",\n\n  htmlBuilder(group, options) {\n    if (regularSpace.hasOwnProperty(group.text)) {\n      var className = regularSpace[group.text].className || \"\"; // Spaces are generated by adding an actual space. Each of these\n      // things has an entry in the symbols table, so these will be turned\n      // into appropriate outputs.\n\n      if (group.mode === \"text\") {\n        var ord = buildCommon.makeOrd(group, options, \"textord\");\n        ord.classes.push(className);\n        return ord;\n      } else {\n        return buildCommon.makeSpan([\"mspace\", className], [buildCommon.mathsym(group.text, group.mode, options)], options);\n      }\n    } else if (cssSpace.hasOwnProperty(group.text)) {\n      // Spaces based on just a CSS class.\n      return buildCommon.makeSpan([\"mspace\", cssSpace[group.text]], [], options);\n    } else {\n      throw new ParseError(\"Unknown type of space \\\"\" + group.text + \"\\\"\");\n    }\n  },\n\n  mathmlBuilder(group, options) {\n    var node;\n\n    if (regularSpace.hasOwnProperty(group.text)) {\n      node = new mathMLTree.MathNode(\"mtext\", [new mathMLTree.TextNode(\"\\u00a0\")]);\n    } else if (cssSpace.hasOwnProperty(group.text)) {\n      // CSS-based MathML spaces (\\nobreak, \\allowbreak) are ignored\n      return new mathMLTree.MathNode(\"mspace\");\n    } else {\n      throw new ParseError(\"Unknown type of space \\\"\" + group.text + \"\\\"\");\n    }\n\n    return node;\n  }\n\n});\n\nvar pad = () => {\n  var padNode = new mathMLTree.MathNode(\"mtd\", []);\n  padNode.setAttribute(\"width\", \"50%\");\n  return padNode;\n};\n\ndefineFunctionBuilders({\n  type: \"tag\",\n\n  mathmlBuilder(group, options) {\n    var table = new mathMLTree.MathNode(\"mtable\", [new mathMLTree.MathNode(\"mtr\", [pad(), new mathMLTree.MathNode(\"mtd\", [buildExpressionRow(group.body, options)]), pad(), new mathMLTree.MathNode(\"mtd\", [buildExpressionRow(group.tag, options)])])]);\n    table.setAttribute(\"width\", \"100%\");\n    return table; // TODO: Left-aligned tags.\n    // Currently, the group and options passed here do not contain\n    // enough info to set tag alignment. `leqno` is in Settings but it is\n    // not passed to Options. On the HTML side, leqno is\n    // set by a CSS class applied in buildTree.js. That would have worked\n    // in MathML if browsers supported <mlabeledtr>. Since they don't, we\n    // need to rewrite the way this function is called.\n  }\n\n});\n\nvar textFontFamilies = {\n  \"\\\\text\": undefined,\n  \"\\\\textrm\": \"textrm\",\n  \"\\\\textsf\": \"textsf\",\n  \"\\\\texttt\": \"texttt\",\n  \"\\\\textnormal\": \"textrm\"\n};\nvar textFontWeights = {\n  \"\\\\textbf\": \"textbf\",\n  \"\\\\textmd\": \"textmd\"\n};\nvar textFontShapes = {\n  \"\\\\textit\": \"textit\",\n  \"\\\\textup\": \"textup\"\n};\n\nvar optionsWithFont = (group, options) => {\n  var font = group.font; // Checks if the argument is a font family or a font style.\n\n  if (!font) {\n    return options;\n  } else if (textFontFamilies[font]) {\n    return options.withTextFontFamily(textFontFamilies[font]);\n  } else if (textFontWeights[font]) {\n    return options.withTextFontWeight(textFontWeights[font]);\n  } else if (font === \"\\\\emph\") {\n    return options.fontShape === \"textit\" ? options.withTextFontShape(\"textup\") : options.withTextFontShape(\"textit\");\n  }\n\n  return options.withTextFontShape(textFontShapes[font]);\n};\n\ndefineFunction({\n  type: \"text\",\n  names: [// Font families\n  \"\\\\text\", \"\\\\textrm\", \"\\\\textsf\", \"\\\\texttt\", \"\\\\textnormal\", // Font weights\n  \"\\\\textbf\", \"\\\\textmd\", // Font Shapes\n  \"\\\\textit\", \"\\\\textup\", \"\\\\emph\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"text\"],\n    allowedInArgument: true,\n    allowedInText: true\n  },\n\n  handler(_ref, args) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var body = args[0];\n    return {\n      type: \"text\",\n      mode: parser.mode,\n      body: ordargument(body),\n      font: funcName\n    };\n  },\n\n  htmlBuilder(group, options) {\n    var newOptions = optionsWithFont(group, options);\n    var inner = buildExpression$1(group.body, newOptions, true);\n    return buildCommon.makeSpan([\"mord\", \"text\"], inner, newOptions);\n  },\n\n  mathmlBuilder(group, options) {\n    var newOptions = optionsWithFont(group, options);\n    return buildExpressionRow(group.body, newOptions);\n  }\n\n});\n\ndefineFunction({\n  type: \"underline\",\n  names: [\"\\\\underline\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true\n  },\n\n  handler(_ref, args) {\n    var {\n      parser\n    } = _ref;\n    return {\n      type: \"underline\",\n      mode: parser.mode,\n      body: args[0]\n    };\n  },\n\n  htmlBuilder(group, options) {\n    // Underlines are handled in the TeXbook pg 443, Rule 10.\n    // Build the inner group.\n    var innerGroup = buildGroup$1(group.body, options); // Create the line to go below the body\n\n    var line = buildCommon.makeLineSpan(\"underline-line\", options); // Generate the vlist, with the appropriate kerns\n\n    var defaultRuleThickness = options.fontMetrics().defaultRuleThickness;\n    var vlist = buildCommon.makeVList({\n      positionType: \"top\",\n      positionData: innerGroup.height,\n      children: [{\n        type: \"kern\",\n        size: defaultRuleThickness\n      }, {\n        type: \"elem\",\n        elem: line\n      }, {\n        type: \"kern\",\n        size: 3 * defaultRuleThickness\n      }, {\n        type: \"elem\",\n        elem: innerGroup\n      }]\n    }, options);\n    return buildCommon.makeSpan([\"mord\", \"underline\"], [vlist], options);\n  },\n\n  mathmlBuilder(group, options) {\n    var operator = new mathMLTree.MathNode(\"mo\", [new mathMLTree.TextNode(\"\\u203e\")]);\n    operator.setAttribute(\"stretchy\", \"true\");\n    var node = new mathMLTree.MathNode(\"munder\", [buildGroup(group.body, options), operator]);\n    node.setAttribute(\"accentunder\", \"true\");\n    return node;\n  }\n\n});\n\ndefineFunction({\n  type: \"vcenter\",\n  names: [\"\\\\vcenter\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"original\"],\n    // In LaTeX, \\vcenter can act only on a box.\n    allowedInText: false\n  },\n\n  handler(_ref, args) {\n    var {\n      parser\n    } = _ref;\n    return {\n      type: \"vcenter\",\n      mode: parser.mode,\n      body: args[0]\n    };\n  },\n\n  htmlBuilder(group, options) {\n    var body = buildGroup$1(group.body, options);\n    var axisHeight = options.fontMetrics().axisHeight;\n    var dy = 0.5 * (body.height - axisHeight - (body.depth + axisHeight));\n    return buildCommon.makeVList({\n      positionType: \"shift\",\n      positionData: dy,\n      children: [{\n        type: \"elem\",\n        elem: body\n      }]\n    }, options);\n  },\n\n  mathmlBuilder(group, options) {\n    // There is no way to do this in MathML.\n    // Write a class as a breadcrumb in case some post-processor wants\n    // to perform a vcenter adjustment.\n    return new mathMLTree.MathNode(\"mpadded\", [buildGroup(group.body, options)], [\"vcenter\"]);\n  }\n\n});\n\ndefineFunction({\n  type: \"verb\",\n  names: [\"\\\\verb\"],\n  props: {\n    numArgs: 0,\n    allowedInText: true\n  },\n\n  handler(context, args, optArgs) {\n    // \\verb and \\verb* are dealt with directly in Parser.js.\n    // If we end up here, it's because of a failure to match the two delimiters\n    // in the regex in Lexer.js.  LaTeX raises the following error when \\verb is\n    // terminated by end of line (or file).\n    throw new ParseError(\"\\\\verb ended by end of line instead of matching delimiter\");\n  },\n\n  htmlBuilder(group, options) {\n    var text = makeVerb(group);\n    var body = []; // \\verb enters text mode and therefore is sized like \\textstyle\n\n    var newOptions = options.havingStyle(options.style.text());\n\n    for (var i = 0; i < text.length; i++) {\n      var c = text[i];\n\n      if (c === '~') {\n        c = '\\\\textasciitilde';\n      }\n\n      body.push(buildCommon.makeSymbol(c, \"Typewriter-Regular\", group.mode, newOptions, [\"mord\", \"texttt\"]));\n    }\n\n    return buildCommon.makeSpan([\"mord\", \"text\"].concat(newOptions.sizingClasses(options)), buildCommon.tryCombineChars(body), newOptions);\n  },\n\n  mathmlBuilder(group, options) {\n    var text = new mathMLTree.TextNode(makeVerb(group));\n    var node = new mathMLTree.MathNode(\"mtext\", [text]);\n    node.setAttribute(\"mathvariant\", \"monospace\");\n    return node;\n  }\n\n});\n/**\n * Converts verb group into body string.\n *\n * \\verb* replaces each space with an open box \\u2423\n * \\verb replaces each space with a no-break space \\xA0\n */\n\nvar makeVerb = group => group.body.replace(/ /g, group.star ? '\\u2423' : '\\xA0');\n\n/** Include this to ensure that all functions are defined. */\nvar functions = _functions;\n\n/**\n * The Lexer class handles tokenizing the input in various ways. Since our\n * parser expects us to be able to backtrack, the lexer allows lexing from any\n * given starting point.\n *\n * Its main exposed function is the `lex` function, which takes a position to\n * lex from and a type of token to lex. It defers to the appropriate `_innerLex`\n * function.\n *\n * The various `_innerLex` functions perform the actual lexing of different\n * kinds.\n */\n\n/* The following tokenRegex\n * - matches typical whitespace (but not NBSP etc.) using its first group\n * - does not match any control character \\x00-\\x1f except whitespace\n * - does not match a bare backslash\n * - matches any ASCII character except those just mentioned\n * - does not match the BMP private use area \\uE000-\\uF8FF\n * - does not match bare surrogate code units\n * - matches any BMP character except for those just described\n * - matches any valid Unicode surrogate pair\n * - matches a backslash followed by one or more whitespace characters\n * - matches a backslash followed by one or more letters then whitespace\n * - matches a backslash followed by any BMP character\n * Capturing groups:\n *   [1] regular whitespace\n *   [2] backslash followed by whitespace\n *   [3] anything else, which may include:\n *     [4] left character of \\verb*\n *     [5] left character of \\verb\n *     [6] backslash followed by word, excluding any trailing whitespace\n * Just because the Lexer matches something doesn't mean it's valid input:\n * If there is no matching function or symbol definition, the Parser will\n * still reject the input.\n */\nvar spaceRegexString = \"[ \\r\\n\\t]\";\nvar controlWordRegexString = \"\\\\\\\\[a-zA-Z@]+\";\nvar controlSymbolRegexString = \"\\\\\\\\[^\\uD800-\\uDFFF]\";\nvar controlWordWhitespaceRegexString = \"(\" + controlWordRegexString + \")\" + spaceRegexString + \"*\";\nvar controlSpaceRegexString = \"\\\\\\\\(\\n|[ \\r\\t]+\\n?)[ \\r\\t]*\";\nvar combiningDiacriticalMarkString = \"[\\u0300-\\u036f]\";\nvar combiningDiacriticalMarksEndRegex = new RegExp(combiningDiacriticalMarkString + \"+$\");\nvar tokenRegexString = \"(\" + spaceRegexString + \"+)|\" + ( // whitespace\ncontrolSpaceRegexString + \"|\") + // \\whitespace\n\"([!-\\\\[\\\\]-\\u2027\\u202A-\\uD7FF\\uF900-\\uFFFF]\" + ( // single codepoint\ncombiningDiacriticalMarkString + \"*\") + // ...plus accents\n\"|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]\" + ( // surrogate pair\ncombiningDiacriticalMarkString + \"*\") + // ...plus accents\n\"|\\\\\\\\verb\\\\*([^]).*?\\\\4\" + // \\verb*\n\"|\\\\\\\\verb([^*a-zA-Z]).*?\\\\5\" + ( // \\verb unstarred\n\"|\" + controlWordWhitespaceRegexString) + ( // \\macroName + spaces\n\"|\" + controlSymbolRegexString + \")\"); // \\\\, \\', etc.\n\n/** Main Lexer class */\n\nclass Lexer {\n  // Category codes. The lexer only supports comment characters (14) for now.\n  // MacroExpander additionally distinguishes active (13).\n  constructor(input, settings) {\n    this.input = void 0;\n    this.settings = void 0;\n    this.tokenRegex = void 0;\n    this.catcodes = void 0;\n    // Separate accents from characters\n    this.input = input;\n    this.settings = settings;\n    this.tokenRegex = new RegExp(tokenRegexString, 'g');\n    this.catcodes = {\n      \"%\": 14,\n      // comment character\n      \"~\": 13 // active character\n\n    };\n  }\n\n  setCatcode(char, code) {\n    this.catcodes[char] = code;\n  }\n  /**\n   * This function lexes a single token.\n   */\n\n\n  lex() {\n    var input = this.input;\n    var pos = this.tokenRegex.lastIndex;\n\n    if (pos === input.length) {\n      return new Token(\"EOF\", new SourceLocation(this, pos, pos));\n    }\n\n    var match = this.tokenRegex.exec(input);\n\n    if (match === null || match.index !== pos) {\n      throw new ParseError(\"Unexpected character: '\" + input[pos] + \"'\", new Token(input[pos], new SourceLocation(this, pos, pos + 1)));\n    }\n\n    var text = match[6] || match[3] || (match[2] ? \"\\\\ \" : \" \");\n\n    if (this.catcodes[text] === 14) {\n      // comment character\n      var nlIndex = input.indexOf('\\n', this.tokenRegex.lastIndex);\n\n      if (nlIndex === -1) {\n        this.tokenRegex.lastIndex = input.length; // EOF\n\n        this.settings.reportNonstrict(\"commentAtEnd\", \"% comment has no terminating newline; LaTeX would \" + \"fail because of commenting the end of math mode (e.g. $)\");\n      } else {\n        this.tokenRegex.lastIndex = nlIndex + 1;\n      }\n\n      return this.lex();\n    }\n\n    return new Token(text, new SourceLocation(this, pos, this.tokenRegex.lastIndex));\n  }\n\n}\n\n/**\n * A `Namespace` refers to a space of nameable things like macros or lengths,\n * which can be `set` either globally or local to a nested group, using an\n * undo stack similar to how TeX implements this functionality.\n * Performance-wise, `get` and local `set` take constant time, while global\n * `set` takes time proportional to the depth of group nesting.\n */\nclass Namespace {\n  /**\n   * Both arguments are optional.  The first argument is an object of\n   * built-in mappings which never change.  The second argument is an object\n   * of initial (global-level) mappings, which will constantly change\n   * according to any global/top-level `set`s done.\n   */\n  constructor(builtins, globalMacros) {\n    if (builtins === void 0) {\n      builtins = {};\n    }\n\n    if (globalMacros === void 0) {\n      globalMacros = {};\n    }\n\n    this.current = void 0;\n    this.builtins = void 0;\n    this.undefStack = void 0;\n    this.current = globalMacros;\n    this.builtins = builtins;\n    this.undefStack = [];\n  }\n  /**\n   * Start a new nested group, affecting future local `set`s.\n   */\n\n\n  beginGroup() {\n    this.undefStack.push({});\n  }\n  /**\n   * End current nested group, restoring values before the group began.\n   */\n\n\n  endGroup() {\n    if (this.undefStack.length === 0) {\n      throw new ParseError(\"Unbalanced namespace destruction: attempt \" + \"to pop global namespace; please report this as a bug\");\n    }\n\n    var undefs = this.undefStack.pop();\n\n    for (var undef in undefs) {\n      if (undefs.hasOwnProperty(undef)) {\n        if (undefs[undef] == null) {\n          delete this.current[undef];\n        } else {\n          this.current[undef] = undefs[undef];\n        }\n      }\n    }\n  }\n  /**\n   * Ends all currently nested groups (if any), restoring values before the\n   * groups began.  Useful in case of an error in the middle of parsing.\n   */\n\n\n  endGroups() {\n    while (this.undefStack.length > 0) {\n      this.endGroup();\n    }\n  }\n  /**\n   * Detect whether `name` has a definition.  Equivalent to\n   * `get(name) != null`.\n   */\n\n\n  has(name) {\n    return this.current.hasOwnProperty(name) || this.builtins.hasOwnProperty(name);\n  }\n  /**\n   * Get the current value of a name, or `undefined` if there is no value.\n   *\n   * Note: Do not use `if (namespace.get(...))` to detect whether a macro\n   * is defined, as the definition may be the empty string which evaluates\n   * to `false` in JavaScript.  Use `if (namespace.get(...) != null)` or\n   * `if (namespace.has(...))`.\n   */\n\n\n  get(name) {\n    if (this.current.hasOwnProperty(name)) {\n      return this.current[name];\n    } else {\n      return this.builtins[name];\n    }\n  }\n  /**\n   * Set the current value of a name, and optionally set it globally too.\n   * Local set() sets the current value and (when appropriate) adds an undo\n   * operation to the undo stack.  Global set() may change the undo\n   * operation at every level, so takes time linear in their number.\n   * A value of undefined means to delete existing definitions.\n   */\n\n\n  set(name, value, global) {\n    if (global === void 0) {\n      global = false;\n    }\n\n    if (global) {\n      // Global set is equivalent to setting in all groups.  Simulate this\n      // by destroying any undos currently scheduled for this name,\n      // and adding an undo with the *new* value (in case it later gets\n      // locally reset within this environment).\n      for (var i = 0; i < this.undefStack.length; i++) {\n        delete this.undefStack[i][name];\n      }\n\n      if (this.undefStack.length > 0) {\n        this.undefStack[this.undefStack.length - 1][name] = value;\n      }\n    } else {\n      // Undo this set at end of this group (possibly to `undefined`),\n      // unless an undo is already in place, in which case that older\n      // value is the correct one.\n      var top = this.undefStack[this.undefStack.length - 1];\n\n      if (top && !top.hasOwnProperty(name)) {\n        top[name] = this.current[name];\n      }\n    }\n\n    if (value == null) {\n      delete this.current[name];\n    } else {\n      this.current[name] = value;\n    }\n  }\n\n}\n\n/**\n * Predefined macros for KaTeX.\n * This can be used to define some commands in terms of others.\n */\nvar macros = _macros;\n// macro tools\n\ndefineMacro(\"\\\\noexpand\", function (context) {\n  // The expansion is the token itself; but that token is interpreted\n  // as if its meaning were \\relax if it is a control sequence that\n  // would ordinarily be expanded by TeXs expansion rules.\n  var t = context.popToken();\n\n  if (context.isExpandable(t.text)) {\n    t.noexpand = true;\n    t.treatAsRelax = true;\n  }\n\n  return {\n    tokens: [t],\n    numArgs: 0\n  };\n});\ndefineMacro(\"\\\\expandafter\", function (context) {\n  // TeX first reads the token that comes immediately after \\expandafter,\n  // without expanding it; lets call this token t. Then TeX reads the\n  // token that comes after t (and possibly more tokens, if that token\n  // has an argument), replacing it by its expansion. Finally TeX puts\n  // t back in front of that expansion.\n  var t = context.popToken();\n  context.expandOnce(true); // expand only an expandable token\n\n  return {\n    tokens: [t],\n    numArgs: 0\n  };\n}); // LaTeX's \\@firstoftwo{#1}{#2} expands to #1, skipping #2\n// TeX source: \\long\\def\\@firstoftwo#1#2{#1}\n\ndefineMacro(\"\\\\@firstoftwo\", function (context) {\n  var args = context.consumeArgs(2);\n  return {\n    tokens: args[0],\n    numArgs: 0\n  };\n}); // LaTeX's \\@secondoftwo{#1}{#2} expands to #2, skipping #1\n// TeX source: \\long\\def\\@secondoftwo#1#2{#2}\n\ndefineMacro(\"\\\\@secondoftwo\", function (context) {\n  var args = context.consumeArgs(2);\n  return {\n    tokens: args[1],\n    numArgs: 0\n  };\n}); // LaTeX's \\@ifnextchar{#1}{#2}{#3} looks ahead to the next (unexpanded)\n// symbol that isn't a space, consuming any spaces but not consuming the\n// first nonspace character.  If that nonspace character matches #1, then\n// the macro expands to #2; otherwise, it expands to #3.\n\ndefineMacro(\"\\\\@ifnextchar\", function (context) {\n  var args = context.consumeArgs(3); // symbol, if, else\n\n  context.consumeSpaces();\n  var nextToken = context.future();\n\n  if (args[0].length === 1 && args[0][0].text === nextToken.text) {\n    return {\n      tokens: args[1],\n      numArgs: 0\n    };\n  } else {\n    return {\n      tokens: args[2],\n      numArgs: 0\n    };\n  }\n}); // LaTeX's \\@ifstar{#1}{#2} looks ahead to the next (unexpanded) symbol.\n// If it is `*`, then it consumes the symbol, and the macro expands to #1;\n// otherwise, the macro expands to #2 (without consuming the symbol).\n// TeX source: \\def\\@ifstar#1{\\@ifnextchar *{\\@firstoftwo{#1}}}\n\ndefineMacro(\"\\\\@ifstar\", \"\\\\@ifnextchar *{\\\\@firstoftwo{#1}}\"); // LaTeX's \\TextOrMath{#1}{#2} expands to #1 in text mode, #2 in math mode\n\ndefineMacro(\"\\\\TextOrMath\", function (context) {\n  var args = context.consumeArgs(2);\n\n  if (context.mode === 'text') {\n    return {\n      tokens: args[0],\n      numArgs: 0\n    };\n  } else {\n    return {\n      tokens: args[1],\n      numArgs: 0\n    };\n  }\n}); // Lookup table for parsing numbers in base 8 through 16\n\nvar digitToNumber = {\n  \"0\": 0,\n  \"1\": 1,\n  \"2\": 2,\n  \"3\": 3,\n  \"4\": 4,\n  \"5\": 5,\n  \"6\": 6,\n  \"7\": 7,\n  \"8\": 8,\n  \"9\": 9,\n  \"a\": 10,\n  \"A\": 10,\n  \"b\": 11,\n  \"B\": 11,\n  \"c\": 12,\n  \"C\": 12,\n  \"d\": 13,\n  \"D\": 13,\n  \"e\": 14,\n  \"E\": 14,\n  \"f\": 15,\n  \"F\": 15\n}; // TeX \\char makes a literal character (catcode 12) using the following forms:\n// (see The TeXBook, p. 43)\n//   \\char123  -- decimal\n//   \\char'123 -- octal\n//   \\char\"123 -- hex\n//   \\char`x   -- character that can be written (i.e. isn't active)\n//   \\char`\\x  -- character that cannot be written (e.g. %)\n// These all refer to characters from the font, so we turn them into special\n// calls to a function \\@char dealt with in the Parser.\n\ndefineMacro(\"\\\\char\", function (context) {\n  var token = context.popToken();\n  var base;\n  var number = '';\n\n  if (token.text === \"'\") {\n    base = 8;\n    token = context.popToken();\n  } else if (token.text === '\"') {\n    base = 16;\n    token = context.popToken();\n  } else if (token.text === \"`\") {\n    token = context.popToken();\n\n    if (token.text[0] === \"\\\\\") {\n      number = token.text.charCodeAt(1);\n    } else if (token.text === \"EOF\") {\n      throw new ParseError(\"\\\\char` missing argument\");\n    } else {\n      number = token.text.charCodeAt(0);\n    }\n  } else {\n    base = 10;\n  }\n\n  if (base) {\n    // Parse a number in the given base, starting with first `token`.\n    number = digitToNumber[token.text];\n\n    if (number == null || number >= base) {\n      throw new ParseError(\"Invalid base-\" + base + \" digit \" + token.text);\n    }\n\n    var digit;\n\n    while ((digit = digitToNumber[context.future().text]) != null && digit < base) {\n      number *= base;\n      number += digit;\n      context.popToken();\n    }\n  }\n\n  return \"\\\\@char{\" + number + \"}\";\n}); // \\newcommand{\\macro}[args]{definition}\n// \\renewcommand{\\macro}[args]{definition}\n// TODO: Optional arguments: \\newcommand{\\macro}[args][default]{definition}\n\nvar newcommand = (context, existsOK, nonexistsOK, skipIfExists) => {\n  var arg = context.consumeArg().tokens;\n\n  if (arg.length !== 1) {\n    throw new ParseError(\"\\\\newcommand's first argument must be a macro name\");\n  }\n\n  var name = arg[0].text;\n  var exists = context.isDefined(name);\n\n  if (exists && !existsOK) {\n    throw new ParseError(\"\\\\newcommand{\" + name + \"} attempting to redefine \" + (name + \"; use \\\\renewcommand\"));\n  }\n\n  if (!exists && !nonexistsOK) {\n    throw new ParseError(\"\\\\renewcommand{\" + name + \"} when command \" + name + \" \" + \"does not yet exist; use \\\\newcommand\");\n  }\n\n  var numArgs = 0;\n  arg = context.consumeArg().tokens;\n\n  if (arg.length === 1 && arg[0].text === \"[\") {\n    var argText = '';\n    var token = context.expandNextToken();\n\n    while (token.text !== \"]\" && token.text !== \"EOF\") {\n      // TODO: Should properly expand arg, e.g., ignore {}s\n      argText += token.text;\n      token = context.expandNextToken();\n    }\n\n    if (!argText.match(/^\\s*[0-9]+\\s*$/)) {\n      throw new ParseError(\"Invalid number of arguments: \" + argText);\n    }\n\n    numArgs = parseInt(argText);\n    arg = context.consumeArg().tokens;\n  }\n\n  if (!(exists && skipIfExists)) {\n    // Final arg is the expansion of the macro\n    context.macros.set(name, {\n      tokens: arg,\n      numArgs\n    });\n  }\n\n  return '';\n};\n\ndefineMacro(\"\\\\newcommand\", context => newcommand(context, false, true, false));\ndefineMacro(\"\\\\renewcommand\", context => newcommand(context, true, false, false));\ndefineMacro(\"\\\\providecommand\", context => newcommand(context, true, true, true)); // terminal (console) tools\n\ndefineMacro(\"\\\\message\", context => {\n  var arg = context.consumeArgs(1)[0]; // eslint-disable-next-line no-console\n\n  console.log(arg.reverse().map(token => token.text).join(\"\"));\n  return '';\n});\ndefineMacro(\"\\\\errmessage\", context => {\n  var arg = context.consumeArgs(1)[0]; // eslint-disable-next-line no-console\n\n  console.error(arg.reverse().map(token => token.text).join(\"\"));\n  return '';\n});\ndefineMacro(\"\\\\show\", context => {\n  var tok = context.popToken();\n  var name = tok.text; // eslint-disable-next-line no-console\n\n  console.log(tok, context.macros.get(name), functions[name], symbols.math[name], symbols.text[name]);\n  return '';\n}); //////////////////////////////////////////////////////////////////////\n// Grouping\n// \\let\\bgroup={ \\let\\egroup=}\n\ndefineMacro(\"\\\\bgroup\", \"{\");\ndefineMacro(\"\\\\egroup\", \"}\"); // Symbols from latex.ltx:\n// \\def~{\\nobreakspace{}}\n// \\def\\lq{`}\n// \\def\\rq{'}\n// \\def \\aa {\\r a}\n// \\def \\AA {\\r A}\n\ndefineMacro(\"~\", \"\\\\nobreakspace\");\ndefineMacro(\"\\\\lq\", \"`\");\ndefineMacro(\"\\\\rq\", \"'\");\ndefineMacro(\"\\\\aa\", \"\\\\r a\");\ndefineMacro(\"\\\\AA\", \"\\\\r A\"); // Copyright (C) and registered (R) symbols. Use raw symbol in MathML.\n// \\DeclareTextCommandDefault{\\textcopyright}{\\textcircled{c}}\n// \\DeclareTextCommandDefault{\\textregistered}{\\textcircled{%\n//      \\check@mathfonts\\fontsize\\sf@size\\z@\\math@fontsfalse\\selectfont R}}\n// \\DeclareRobustCommand{\\copyright}{%\n//    \\ifmmode{\\nfss@text{\\textcopyright}}\\else\\textcopyright\\fi}\n\ndefineMacro(\"\\\\textcopyright\", \"\\\\html@mathml{\\\\textcircled{c}}{\\\\char`}\");\ndefineMacro(\"\\\\copyright\", \"\\\\TextOrMath{\\\\textcopyright}{\\\\text{\\\\textcopyright}}\");\ndefineMacro(\"\\\\textregistered\", \"\\\\html@mathml{\\\\textcircled{\\\\scriptsize R}}{\\\\char`}\"); // Characters omitted from Unicode range 1D4001D7FF\n\ndefineMacro(\"\\u212C\", \"\\\\mathscr{B}\"); // script\n\ndefineMacro(\"\\u2130\", \"\\\\mathscr{E}\");\ndefineMacro(\"\\u2131\", \"\\\\mathscr{F}\");\ndefineMacro(\"\\u210B\", \"\\\\mathscr{H}\");\ndefineMacro(\"\\u2110\", \"\\\\mathscr{I}\");\ndefineMacro(\"\\u2112\", \"\\\\mathscr{L}\");\ndefineMacro(\"\\u2133\", \"\\\\mathscr{M}\");\ndefineMacro(\"\\u211B\", \"\\\\mathscr{R}\");\ndefineMacro(\"\\u212D\", \"\\\\mathfrak{C}\"); // Fraktur\n\ndefineMacro(\"\\u210C\", \"\\\\mathfrak{H}\");\ndefineMacro(\"\\u2128\", \"\\\\mathfrak{Z}\"); // Define \\Bbbk with a macro that works in both HTML and MathML.\n\ndefineMacro(\"\\\\Bbbk\", \"\\\\Bbb{k}\"); // Unicode middle dot\n// The KaTeX fonts do not contain U+00B7. Instead, \\cdotp displays\n// the dot at U+22C5 and gives it punct spacing.\n\ndefineMacro(\"\\u00b7\", \"\\\\cdotp\"); // \\llap and \\rlap render their contents in text mode\n\ndefineMacro(\"\\\\llap\", \"\\\\mathllap{\\\\textrm{#1}}\");\ndefineMacro(\"\\\\rlap\", \"\\\\mathrlap{\\\\textrm{#1}}\");\ndefineMacro(\"\\\\clap\", \"\\\\mathclap{\\\\textrm{#1}}\"); // \\mathstrut from the TeXbook, p 360\n\ndefineMacro(\"\\\\mathstrut\", \"\\\\vphantom{(}\"); // \\underbar from TeXbook p 353\n\ndefineMacro(\"\\\\underbar\", \"\\\\underline{\\\\text{#1}}\"); // \\not is defined by base/fontmath.ltx via\n// \\DeclareMathSymbol{\\not}{\\mathrel}{symbols}{\"36}\n// It's thus treated like a \\mathrel, but defined by a symbol that has zero\n// width but extends to the right.  We use \\rlap to get that spacing.\n// For MathML we write U+0338 here. buildMathML.js will then do the overlay.\n\ndefineMacro(\"\\\\not\", '\\\\html@mathml{\\\\mathrel{\\\\mathrlap\\\\@not}}{\\\\char\"338}'); // Negated symbols from base/fontmath.ltx:\n// \\def\\neq{\\not=} \\let\\ne=\\neq\n// \\DeclareRobustCommand\n//   \\notin{\\mathrel{\\m@th\\mathpalette\\c@ncel\\in}}\n// \\def\\c@ncel#1#2{\\m@th\\ooalign{$\\hfil#1\\mkern1mu/\\hfil$\\crcr$#1#2$}}\n\ndefineMacro(\"\\\\neq\", \"\\\\html@mathml{\\\\mathrel{\\\\not=}}{\\\\mathrel{\\\\char`}}\");\ndefineMacro(\"\\\\ne\", \"\\\\neq\");\ndefineMacro(\"\\u2260\", \"\\\\neq\");\ndefineMacro(\"\\\\notin\", \"\\\\html@mathml{\\\\mathrel{{\\\\in}\\\\mathllap{/\\\\mskip1mu}}}\" + \"{\\\\mathrel{\\\\char`}}\");\ndefineMacro(\"\\u2209\", \"\\\\notin\"); // Unicode stacked relations\n\ndefineMacro(\"\\u2258\", \"\\\\html@mathml{\" + \"\\\\mathrel{=\\\\kern{-1em}\\\\raisebox{0.4em}{$\\\\scriptsize\\\\frown$}}\" + \"}{\\\\mathrel{\\\\char`\\u2258}}\");\ndefineMacro(\"\\u2259\", \"\\\\html@mathml{\\\\stackrel{\\\\tiny\\\\wedge}{=}}{\\\\mathrel{\\\\char`\\u2258}}\");\ndefineMacro(\"\\u225A\", \"\\\\html@mathml{\\\\stackrel{\\\\tiny\\\\vee}{=}}{\\\\mathrel{\\\\char`\\u225A}}\");\ndefineMacro(\"\\u225B\", \"\\\\html@mathml{\\\\stackrel{\\\\scriptsize\\\\star}{=}}\" + \"{\\\\mathrel{\\\\char`\\u225B}}\");\ndefineMacro(\"\\u225D\", \"\\\\html@mathml{\\\\stackrel{\\\\tiny\\\\mathrm{def}}{=}}\" + \"{\\\\mathrel{\\\\char`\\u225D}}\");\ndefineMacro(\"\\u225E\", \"\\\\html@mathml{\\\\stackrel{\\\\tiny\\\\mathrm{m}}{=}}\" + \"{\\\\mathrel{\\\\char`\\u225E}}\");\ndefineMacro(\"\\u225F\", \"\\\\html@mathml{\\\\stackrel{\\\\tiny?}{=}}{\\\\mathrel{\\\\char`\\u225F}}\"); // Misc Unicode\n\ndefineMacro(\"\\u27C2\", \"\\\\perp\");\ndefineMacro(\"\\u203C\", \"\\\\mathclose{!\\\\mkern-0.8mu!}\");\ndefineMacro(\"\\u220C\", \"\\\\notni\");\ndefineMacro(\"\\u231C\", \"\\\\ulcorner\");\ndefineMacro(\"\\u231D\", \"\\\\urcorner\");\ndefineMacro(\"\\u231E\", \"\\\\llcorner\");\ndefineMacro(\"\\u231F\", \"\\\\lrcorner\");\ndefineMacro(\"\\u00A9\", \"\\\\copyright\");\ndefineMacro(\"\\u00AE\", \"\\\\textregistered\");\ndefineMacro(\"\\uFE0F\", \"\\\\textregistered\"); // The KaTeX fonts have corners at codepoints that don't match Unicode.\n// For MathML purposes, use the Unicode code point.\n\ndefineMacro(\"\\\\ulcorner\", \"\\\\html@mathml{\\\\@ulcorner}{\\\\mathop{\\\\char\\\"231c}}\");\ndefineMacro(\"\\\\urcorner\", \"\\\\html@mathml{\\\\@urcorner}{\\\\mathop{\\\\char\\\"231d}}\");\ndefineMacro(\"\\\\llcorner\", \"\\\\html@mathml{\\\\@llcorner}{\\\\mathop{\\\\char\\\"231e}}\");\ndefineMacro(\"\\\\lrcorner\", \"\\\\html@mathml{\\\\@lrcorner}{\\\\mathop{\\\\char\\\"231f}}\"); //////////////////////////////////////////////////////////////////////\n// LaTeX_2\n// \\vdots{\\vbox{\\baselineskip4\\p@  \\lineskiplimit\\z@\n// \\kern6\\p@\\hbox{.}\\hbox{.}\\hbox{.}}}\n// We'll call \\varvdots, which gets a glyph from symbols.js.\n// The zero-width rule gets us an equivalent to the vertical 6pt kern.\n\ndefineMacro(\"\\\\vdots\", \"{\\\\varvdots\\\\rule{0pt}{15pt}}\");\ndefineMacro(\"\\u22ee\", \"\\\\vdots\"); //////////////////////////////////////////////////////////////////////\n// amsmath.sty\n// http://mirrors.concertpass.com/tex-archive/macros/latex/required/amsmath/amsmath.pdf\n// Italic Greek capital letters.  AMS defines these with \\DeclareMathSymbol,\n// but they are equivalent to \\mathit{\\Letter}.\n\ndefineMacro(\"\\\\varGamma\", \"\\\\mathit{\\\\Gamma}\");\ndefineMacro(\"\\\\varDelta\", \"\\\\mathit{\\\\Delta}\");\ndefineMacro(\"\\\\varTheta\", \"\\\\mathit{\\\\Theta}\");\ndefineMacro(\"\\\\varLambda\", \"\\\\mathit{\\\\Lambda}\");\ndefineMacro(\"\\\\varXi\", \"\\\\mathit{\\\\Xi}\");\ndefineMacro(\"\\\\varPi\", \"\\\\mathit{\\\\Pi}\");\ndefineMacro(\"\\\\varSigma\", \"\\\\mathit{\\\\Sigma}\");\ndefineMacro(\"\\\\varUpsilon\", \"\\\\mathit{\\\\Upsilon}\");\ndefineMacro(\"\\\\varPhi\", \"\\\\mathit{\\\\Phi}\");\ndefineMacro(\"\\\\varPsi\", \"\\\\mathit{\\\\Psi}\");\ndefineMacro(\"\\\\varOmega\", \"\\\\mathit{\\\\Omega}\"); //\\newcommand{\\substack}[1]{\\subarray{c}#1\\endsubarray}\n\ndefineMacro(\"\\\\substack\", \"\\\\begin{subarray}{c}#1\\\\end{subarray}\"); // \\renewcommand{\\colon}{\\nobreak\\mskip2mu\\mathpunct{}\\nonscript\n// \\mkern-\\thinmuskip{:}\\mskip6muplus1mu\\relax}\n\ndefineMacro(\"\\\\colon\", \"\\\\nobreak\\\\mskip2mu\\\\mathpunct{}\" + \"\\\\mathchoice{\\\\mkern-3mu}{\\\\mkern-3mu}{}{}{:}\\\\mskip6mu\\\\relax\"); // \\newcommand{\\boxed}[1]{\\fbox{\\m@th$\\displaystyle#1$}}\n\ndefineMacro(\"\\\\boxed\", \"\\\\fbox{$\\\\displaystyle{#1}$}\"); // \\def\\iff{\\DOTSB\\;\\Longleftrightarrow\\;}\n// \\def\\implies{\\DOTSB\\;\\Longrightarrow\\;}\n// \\def\\impliedby{\\DOTSB\\;\\Longleftarrow\\;}\n\ndefineMacro(\"\\\\iff\", \"\\\\DOTSB\\\\;\\\\Longleftrightarrow\\\\;\");\ndefineMacro(\"\\\\implies\", \"\\\\DOTSB\\\\;\\\\Longrightarrow\\\\;\");\ndefineMacro(\"\\\\impliedby\", \"\\\\DOTSB\\\\;\\\\Longleftarrow\\\\;\"); // \\def\\dddot#1{{\\mathop{#1}\\limits^{\\vbox to-1.4\\ex@{\\kern-\\tw@\\ex@\n//  \\hbox{\\normalfont ...}\\vss}}}}\n// We use \\overset which avoids the vertical shift of \\mathop.\n\ndefineMacro(\"\\\\dddot\", \"{\\\\overset{\\\\raisebox{-0.1ex}{\\\\normalsize ...}}{#1}}\");\ndefineMacro(\"\\\\ddddot\", \"{\\\\overset{\\\\raisebox{-0.1ex}{\\\\normalsize ....}}{#1}}\"); // AMSMath's automatic \\dots, based on \\mdots@@ macro.\n\nvar dotsByToken = {\n  ',': '\\\\dotsc',\n  '\\\\not': '\\\\dotsb',\n  // \\keybin@ checks for the following:\n  '+': '\\\\dotsb',\n  '=': '\\\\dotsb',\n  '<': '\\\\dotsb',\n  '>': '\\\\dotsb',\n  '-': '\\\\dotsb',\n  '*': '\\\\dotsb',\n  ':': '\\\\dotsb',\n  // Symbols whose definition starts with \\DOTSB:\n  '\\\\DOTSB': '\\\\dotsb',\n  '\\\\coprod': '\\\\dotsb',\n  '\\\\bigvee': '\\\\dotsb',\n  '\\\\bigwedge': '\\\\dotsb',\n  '\\\\biguplus': '\\\\dotsb',\n  '\\\\bigcap': '\\\\dotsb',\n  '\\\\bigcup': '\\\\dotsb',\n  '\\\\prod': '\\\\dotsb',\n  '\\\\sum': '\\\\dotsb',\n  '\\\\bigotimes': '\\\\dotsb',\n  '\\\\bigoplus': '\\\\dotsb',\n  '\\\\bigodot': '\\\\dotsb',\n  '\\\\bigsqcup': '\\\\dotsb',\n  '\\\\And': '\\\\dotsb',\n  '\\\\longrightarrow': '\\\\dotsb',\n  '\\\\Longrightarrow': '\\\\dotsb',\n  '\\\\longleftarrow': '\\\\dotsb',\n  '\\\\Longleftarrow': '\\\\dotsb',\n  '\\\\longleftrightarrow': '\\\\dotsb',\n  '\\\\Longleftrightarrow': '\\\\dotsb',\n  '\\\\mapsto': '\\\\dotsb',\n  '\\\\longmapsto': '\\\\dotsb',\n  '\\\\hookrightarrow': '\\\\dotsb',\n  '\\\\doteq': '\\\\dotsb',\n  // Symbols whose definition starts with \\mathbin:\n  '\\\\mathbin': '\\\\dotsb',\n  // Symbols whose definition starts with \\mathrel:\n  '\\\\mathrel': '\\\\dotsb',\n  '\\\\relbar': '\\\\dotsb',\n  '\\\\Relbar': '\\\\dotsb',\n  '\\\\xrightarrow': '\\\\dotsb',\n  '\\\\xleftarrow': '\\\\dotsb',\n  // Symbols whose definition starts with \\DOTSI:\n  '\\\\DOTSI': '\\\\dotsi',\n  '\\\\int': '\\\\dotsi',\n  '\\\\oint': '\\\\dotsi',\n  '\\\\iint': '\\\\dotsi',\n  '\\\\iiint': '\\\\dotsi',\n  '\\\\iiiint': '\\\\dotsi',\n  '\\\\idotsint': '\\\\dotsi',\n  // Symbols whose definition starts with \\DOTSX:\n  '\\\\DOTSX': '\\\\dotsx'\n};\ndefineMacro(\"\\\\dots\", function (context) {\n  // TODO: If used in text mode, should expand to \\textellipsis.\n  // However, in KaTeX, \\textellipsis and \\ldots behave the same\n  // (in text mode), and it's unlikely we'd see any of the math commands\n  // that affect the behavior of \\dots when in text mode.  So fine for now\n  // (until we support \\ifmmode ... \\else ... \\fi).\n  var thedots = '\\\\dotso';\n  var next = context.expandAfterFuture().text;\n\n  if (next in dotsByToken) {\n    thedots = dotsByToken[next];\n  } else if (next.slice(0, 4) === '\\\\not') {\n    thedots = '\\\\dotsb';\n  } else if (next in symbols.math) {\n    if (['bin', 'rel'].includes(symbols.math[next].group)) {\n      thedots = '\\\\dotsb';\n    }\n  }\n\n  return thedots;\n});\nvar spaceAfterDots = {\n  // \\rightdelim@ checks for the following:\n  ')': true,\n  ']': true,\n  '\\\\rbrack': true,\n  '\\\\}': true,\n  '\\\\rbrace': true,\n  '\\\\rangle': true,\n  '\\\\rceil': true,\n  '\\\\rfloor': true,\n  '\\\\rgroup': true,\n  '\\\\rmoustache': true,\n  '\\\\right': true,\n  '\\\\bigr': true,\n  '\\\\biggr': true,\n  '\\\\Bigr': true,\n  '\\\\Biggr': true,\n  // \\extra@ also tests for the following:\n  '$': true,\n  // \\extrap@ checks for the following:\n  ';': true,\n  '.': true,\n  ',': true\n};\ndefineMacro(\"\\\\dotso\", function (context) {\n  var next = context.future().text;\n\n  if (next in spaceAfterDots) {\n    return \"\\\\ldots\\\\,\";\n  } else {\n    return \"\\\\ldots\";\n  }\n});\ndefineMacro(\"\\\\dotsc\", function (context) {\n  var next = context.future().text; // \\dotsc uses \\extra@ but not \\extrap@, instead specially checking for\n  // ';' and '.', but doesn't check for ','.\n\n  if (next in spaceAfterDots && next !== ',') {\n    return \"\\\\ldots\\\\,\";\n  } else {\n    return \"\\\\ldots\";\n  }\n});\ndefineMacro(\"\\\\cdots\", function (context) {\n  var next = context.future().text;\n\n  if (next in spaceAfterDots) {\n    return \"\\\\@cdots\\\\,\";\n  } else {\n    return \"\\\\@cdots\";\n  }\n});\ndefineMacro(\"\\\\dotsb\", \"\\\\cdots\");\ndefineMacro(\"\\\\dotsm\", \"\\\\cdots\");\ndefineMacro(\"\\\\dotsi\", \"\\\\!\\\\cdots\"); // amsmath doesn't actually define \\dotsx, but \\dots followed by a macro\n// starting with \\DOTSX implies \\dotso, and then \\extra@ detects this case\n// and forces the added `\\,`.\n\ndefineMacro(\"\\\\dotsx\", \"\\\\ldots\\\\,\"); // \\let\\DOTSI\\relax\n// \\let\\DOTSB\\relax\n// \\let\\DOTSX\\relax\n\ndefineMacro(\"\\\\DOTSI\", \"\\\\relax\");\ndefineMacro(\"\\\\DOTSB\", \"\\\\relax\");\ndefineMacro(\"\\\\DOTSX\", \"\\\\relax\"); // Spacing, based on amsmath.sty's override of LaTeX defaults\n// \\DeclareRobustCommand{\\tmspace}[3]{%\n//   \\ifmmode\\mskip#1#2\\else\\kern#1#3\\fi\\relax}\n\ndefineMacro(\"\\\\tmspace\", \"\\\\TextOrMath{\\\\kern#1#3}{\\\\mskip#1#2}\\\\relax\"); // \\renewcommand{\\,}{\\tmspace+\\thinmuskip{.1667em}}\n// TODO: math mode should use \\thinmuskip\n\ndefineMacro(\"\\\\,\", \"\\\\tmspace+{3mu}{.1667em}\"); // \\let\\thinspace\\,\n\ndefineMacro(\"\\\\thinspace\", \"\\\\,\"); // \\def\\>{\\mskip\\medmuskip}\n// \\renewcommand{\\:}{\\tmspace+\\medmuskip{.2222em}}\n// TODO: \\> and math mode of \\: should use \\medmuskip = 4mu plus 2mu minus 4mu\n\ndefineMacro(\"\\\\>\", \"\\\\mskip{4mu}\");\ndefineMacro(\"\\\\:\", \"\\\\tmspace+{4mu}{.2222em}\"); // \\let\\medspace\\:\n\ndefineMacro(\"\\\\medspace\", \"\\\\:\"); // \\renewcommand{\\;}{\\tmspace+\\thickmuskip{.2777em}}\n// TODO: math mode should use \\thickmuskip = 5mu plus 5mu\n\ndefineMacro(\"\\\\;\", \"\\\\tmspace+{5mu}{.2777em}\"); // \\let\\thickspace\\;\n\ndefineMacro(\"\\\\thickspace\", \"\\\\;\"); // \\renewcommand{\\!}{\\tmspace-\\thinmuskip{.1667em}}\n// TODO: math mode should use \\thinmuskip\n\ndefineMacro(\"\\\\!\", \"\\\\tmspace-{3mu}{.1667em}\"); // \\let\\negthinspace\\!\n\ndefineMacro(\"\\\\negthinspace\", \"\\\\!\"); // \\newcommand{\\negmedspace}{\\tmspace-\\medmuskip{.2222em}}\n// TODO: math mode should use \\medmuskip\n\ndefineMacro(\"\\\\negmedspace\", \"\\\\tmspace-{4mu}{.2222em}\"); // \\newcommand{\\negthickspace}{\\tmspace-\\thickmuskip{.2777em}}\n// TODO: math mode should use \\thickmuskip\n\ndefineMacro(\"\\\\negthickspace\", \"\\\\tmspace-{5mu}{.277em}\"); // \\def\\enspace{\\kern.5em }\n\ndefineMacro(\"\\\\enspace\", \"\\\\kern.5em \"); // \\def\\enskip{\\hskip.5em\\relax}\n\ndefineMacro(\"\\\\enskip\", \"\\\\hskip.5em\\\\relax\"); // \\def\\quad{\\hskip1em\\relax}\n\ndefineMacro(\"\\\\quad\", \"\\\\hskip1em\\\\relax\"); // \\def\\qquad{\\hskip2em\\relax}\n\ndefineMacro(\"\\\\qquad\", \"\\\\hskip2em\\\\relax\"); // \\tag@in@display form of \\tag\n\ndefineMacro(\"\\\\tag\", \"\\\\@ifstar\\\\tag@literal\\\\tag@paren\");\ndefineMacro(\"\\\\tag@paren\", \"\\\\tag@literal{({#1})}\");\ndefineMacro(\"\\\\tag@literal\", context => {\n  if (context.macros.get(\"\\\\df@tag\")) {\n    throw new ParseError(\"Multiple \\\\tag\");\n  }\n\n  return \"\\\\gdef\\\\df@tag{\\\\text{#1}}\";\n}); // \\renewcommand{\\bmod}{\\nonscript\\mskip-\\medmuskip\\mkern5mu\\mathbin\n//   {\\operator@font mod}\\penalty900\n//   \\mkern5mu\\nonscript\\mskip-\\medmuskip}\n// \\newcommand{\\pod}[1]{\\allowbreak\n//   \\if@display\\mkern18mu\\else\\mkern8mu\\fi(#1)}\n// \\renewcommand{\\pmod}[1]{\\pod{{\\operator@font mod}\\mkern6mu#1}}\n// \\newcommand{\\mod}[1]{\\allowbreak\\if@display\\mkern18mu\n//   \\else\\mkern12mu\\fi{\\operator@font mod}\\,\\,#1}\n// TODO: math mode should use \\medmuskip = 4mu plus 2mu minus 4mu\n\ndefineMacro(\"\\\\bmod\", \"\\\\mathchoice{\\\\mskip1mu}{\\\\mskip1mu}{\\\\mskip5mu}{\\\\mskip5mu}\" + \"\\\\mathbin{\\\\rm mod}\" + \"\\\\mathchoice{\\\\mskip1mu}{\\\\mskip1mu}{\\\\mskip5mu}{\\\\mskip5mu}\");\ndefineMacro(\"\\\\pod\", \"\\\\allowbreak\" + \"\\\\mathchoice{\\\\mkern18mu}{\\\\mkern8mu}{\\\\mkern8mu}{\\\\mkern8mu}(#1)\");\ndefineMacro(\"\\\\pmod\", \"\\\\pod{{\\\\rm mod}\\\\mkern6mu#1}\");\ndefineMacro(\"\\\\mod\", \"\\\\allowbreak\" + \"\\\\mathchoice{\\\\mkern18mu}{\\\\mkern12mu}{\\\\mkern12mu}{\\\\mkern12mu}\" + \"{\\\\rm mod}\\\\,\\\\,#1\"); //////////////////////////////////////////////////////////////////////\n// LaTeX source2e\n// \\expandafter\\let\\expandafter\\@normalcr\n//     \\csname\\expandafter\\@gobble\\string\\\\ \\endcsname\n// \\DeclareRobustCommand\\newline{\\@normalcr\\relax}\n\ndefineMacro(\"\\\\newline\", \"\\\\\\\\\\\\relax\"); // \\def\\TeX{T\\kern-.1667em\\lower.5ex\\hbox{E}\\kern-.125emX\\@}\n// TODO: Doesn't normally work in math mode because \\@ fails.  KaTeX doesn't\n// support \\@ yet, so that's omitted, and we add \\text so that the result\n// doesn't look funny in math mode.\n\ndefineMacro(\"\\\\TeX\", \"\\\\textrm{\\\\html@mathml{\" + \"T\\\\kern-.1667em\\\\raisebox{-.5ex}{E}\\\\kern-.125emX\" + \"}{TeX}}\"); // \\DeclareRobustCommand{\\LaTeX}{L\\kern-.36em%\n//         {\\sbox\\z@ T%\n//          \\vbox to\\ht\\z@{\\hbox{\\check@mathfonts\n//                               \\fontsize\\sf@size\\z@\n//                               \\math@fontsfalse\\selectfont\n//                               A}%\n//                         \\vss}%\n//         }%\n//         \\kern-.15em%\n//         \\TeX}\n// This code aligns the top of the A with the T (from the perspective of TeX's\n// boxes, though visually the A appears to extend above slightly).\n// We compute the corresponding \\raisebox when A is rendered in \\normalsize\n// \\scriptstyle, which has a scale factor of 0.7 (see Options.js).\n\nvar latexRaiseA = makeEm(fontMetricsData['Main-Regular'][\"T\".charCodeAt(0)][1] - 0.7 * fontMetricsData['Main-Regular'][\"A\".charCodeAt(0)][1]);\ndefineMacro(\"\\\\LaTeX\", \"\\\\textrm{\\\\html@mathml{\" + (\"L\\\\kern-.36em\\\\raisebox{\" + latexRaiseA + \"}{\\\\scriptstyle A}\") + \"\\\\kern-.15em\\\\TeX}{LaTeX}}\"); // New KaTeX logo based on tweaking LaTeX logo\n\ndefineMacro(\"\\\\KaTeX\", \"\\\\textrm{\\\\html@mathml{\" + (\"K\\\\kern-.17em\\\\raisebox{\" + latexRaiseA + \"}{\\\\scriptstyle A}\") + \"\\\\kern-.15em\\\\TeX}{KaTeX}}\"); // \\DeclareRobustCommand\\hspace{\\@ifstar\\@hspacer\\@hspace}\n// \\def\\@hspace#1{\\hskip  #1\\relax}\n// \\def\\@hspacer#1{\\vrule \\@width\\z@\\nobreak\n//                 \\hskip #1\\hskip \\z@skip}\n\ndefineMacro(\"\\\\hspace\", \"\\\\@ifstar\\\\@hspacer\\\\@hspace\");\ndefineMacro(\"\\\\@hspace\", \"\\\\hskip #1\\\\relax\");\ndefineMacro(\"\\\\@hspacer\", \"\\\\rule{0pt}{0pt}\\\\hskip #1\\\\relax\"); //////////////////////////////////////////////////////////////////////\n// mathtools.sty\n//\\providecommand\\ordinarycolon{:}\n\ndefineMacro(\"\\\\ordinarycolon\", \":\"); //\\def\\vcentcolon{\\mathrel{\\mathop\\ordinarycolon}}\n//TODO(edemaine): Not yet centered. Fix via \\raisebox or #726\n\ndefineMacro(\"\\\\vcentcolon\", \"\\\\mathrel{\\\\mathop\\\\ordinarycolon}\"); // \\providecommand*\\dblcolon{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}\n\ndefineMacro(\"\\\\dblcolon\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\vcentcolon\\\\mathrel{\\\\mkern-.9mu}\\\\vcentcolon}}\" + \"{\\\\mathop{\\\\char\\\"2237}}\"); // \\providecommand*\\coloneqq{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}\n\ndefineMacro(\"\\\\coloneqq\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\vcentcolon\\\\mathrel{\\\\mkern-1.2mu}=}}\" + \"{\\\\mathop{\\\\char\\\"2254}}\"); // \n// \\providecommand*\\Coloneqq{\\dblcolon\\mathrel{\\mkern-1.2mu}=}\n\ndefineMacro(\"\\\\Coloneqq\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\dblcolon\\\\mathrel{\\\\mkern-1.2mu}=}}\" + \"{\\\\mathop{\\\\char\\\"2237\\\\char\\\"3d}}\"); // \\providecommand*\\coloneq{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}\n\ndefineMacro(\"\\\\coloneq\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\vcentcolon\\\\mathrel{\\\\mkern-1.2mu}\\\\mathrel{-}}}\" + \"{\\\\mathop{\\\\char\\\"3a\\\\char\\\"2212}}\"); // \\providecommand*\\Coloneq{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}\n\ndefineMacro(\"\\\\Coloneq\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\dblcolon\\\\mathrel{\\\\mkern-1.2mu}\\\\mathrel{-}}}\" + \"{\\\\mathop{\\\\char\\\"2237\\\\char\\\"2212}}\"); // \\providecommand*\\eqqcolon{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}\n\ndefineMacro(\"\\\\eqqcolon\", \"\\\\html@mathml{\" + \"\\\\mathrel{=\\\\mathrel{\\\\mkern-1.2mu}\\\\vcentcolon}}\" + \"{\\\\mathop{\\\\char\\\"2255}}\"); // \n// \\providecommand*\\Eqqcolon{=\\mathrel{\\mkern-1.2mu}\\dblcolon}\n\ndefineMacro(\"\\\\Eqqcolon\", \"\\\\html@mathml{\" + \"\\\\mathrel{=\\\\mathrel{\\\\mkern-1.2mu}\\\\dblcolon}}\" + \"{\\\\mathop{\\\\char\\\"3d\\\\char\\\"2237}}\"); // \\providecommand*\\eqcolon{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}\n\ndefineMacro(\"\\\\eqcolon\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\mathrel{-}\\\\mathrel{\\\\mkern-1.2mu}\\\\vcentcolon}}\" + \"{\\\\mathop{\\\\char\\\"2239}}\"); // \\providecommand*\\Eqcolon{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}\n\ndefineMacro(\"\\\\Eqcolon\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\mathrel{-}\\\\mathrel{\\\\mkern-1.2mu}\\\\dblcolon}}\" + \"{\\\\mathop{\\\\char\\\"2212\\\\char\\\"2237}}\"); // \\providecommand*\\colonapprox{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}\n\ndefineMacro(\"\\\\colonapprox\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\vcentcolon\\\\mathrel{\\\\mkern-1.2mu}\\\\approx}}\" + \"{\\\\mathop{\\\\char\\\"3a\\\\char\\\"2248}}\"); // \\providecommand*\\Colonapprox{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}\n\ndefineMacro(\"\\\\Colonapprox\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\dblcolon\\\\mathrel{\\\\mkern-1.2mu}\\\\approx}}\" + \"{\\\\mathop{\\\\char\\\"2237\\\\char\\\"2248}}\"); // \\providecommand*\\colonsim{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}\n\ndefineMacro(\"\\\\colonsim\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\vcentcolon\\\\mathrel{\\\\mkern-1.2mu}\\\\sim}}\" + \"{\\\\mathop{\\\\char\\\"3a\\\\char\\\"223c}}\"); // \\providecommand*\\Colonsim{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}\n\ndefineMacro(\"\\\\Colonsim\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\dblcolon\\\\mathrel{\\\\mkern-1.2mu}\\\\sim}}\" + \"{\\\\mathop{\\\\char\\\"2237\\\\char\\\"223c}}\"); // Some Unicode characters are implemented with macros to mathtools functions.\n\ndefineMacro(\"\\u2237\", \"\\\\dblcolon\"); // ::\n\ndefineMacro(\"\\u2239\", \"\\\\eqcolon\"); // -:\n\ndefineMacro(\"\\u2254\", \"\\\\coloneqq\"); // :=\n\ndefineMacro(\"\\u2255\", \"\\\\eqqcolon\"); // =:\n\ndefineMacro(\"\\u2A74\", \"\\\\Coloneqq\"); // ::=\n//////////////////////////////////////////////////////////////////////\n// colonequals.sty\n// Alternate names for mathtools's macros:\n\ndefineMacro(\"\\\\ratio\", \"\\\\vcentcolon\");\ndefineMacro(\"\\\\coloncolon\", \"\\\\dblcolon\");\ndefineMacro(\"\\\\colonequals\", \"\\\\coloneqq\");\ndefineMacro(\"\\\\coloncolonequals\", \"\\\\Coloneqq\");\ndefineMacro(\"\\\\equalscolon\", \"\\\\eqqcolon\");\ndefineMacro(\"\\\\equalscoloncolon\", \"\\\\Eqqcolon\");\ndefineMacro(\"\\\\colonminus\", \"\\\\coloneq\");\ndefineMacro(\"\\\\coloncolonminus\", \"\\\\Coloneq\");\ndefineMacro(\"\\\\minuscolon\", \"\\\\eqcolon\");\ndefineMacro(\"\\\\minuscoloncolon\", \"\\\\Eqcolon\"); // \\colonapprox name is same in mathtools and colonequals.\n\ndefineMacro(\"\\\\coloncolonapprox\", \"\\\\Colonapprox\"); // \\colonsim name is same in mathtools and colonequals.\n\ndefineMacro(\"\\\\coloncolonsim\", \"\\\\Colonsim\"); // Additional macros, implemented by analogy with mathtools definitions:\n\ndefineMacro(\"\\\\simcolon\", \"\\\\mathrel{\\\\sim\\\\mathrel{\\\\mkern-1.2mu}\\\\vcentcolon}\");\ndefineMacro(\"\\\\simcoloncolon\", \"\\\\mathrel{\\\\sim\\\\mathrel{\\\\mkern-1.2mu}\\\\dblcolon}\");\ndefineMacro(\"\\\\approxcolon\", \"\\\\mathrel{\\\\approx\\\\mathrel{\\\\mkern-1.2mu}\\\\vcentcolon}\");\ndefineMacro(\"\\\\approxcoloncolon\", \"\\\\mathrel{\\\\approx\\\\mathrel{\\\\mkern-1.2mu}\\\\dblcolon}\"); // Present in newtxmath, pxfonts and txfonts\n\ndefineMacro(\"\\\\notni\", \"\\\\html@mathml{\\\\not\\\\ni}{\\\\mathrel{\\\\char`\\u220C}}\");\ndefineMacro(\"\\\\limsup\", \"\\\\DOTSB\\\\operatorname*{lim\\\\,sup}\");\ndefineMacro(\"\\\\liminf\", \"\\\\DOTSB\\\\operatorname*{lim\\\\,inf}\"); //////////////////////////////////////////////////////////////////////\n// From amsopn.sty\n\ndefineMacro(\"\\\\injlim\", \"\\\\DOTSB\\\\operatorname*{inj\\\\,lim}\");\ndefineMacro(\"\\\\projlim\", \"\\\\DOTSB\\\\operatorname*{proj\\\\,lim}\");\ndefineMacro(\"\\\\varlimsup\", \"\\\\DOTSB\\\\operatorname*{\\\\overline{lim}}\");\ndefineMacro(\"\\\\varliminf\", \"\\\\DOTSB\\\\operatorname*{\\\\underline{lim}}\");\ndefineMacro(\"\\\\varinjlim\", \"\\\\DOTSB\\\\operatorname*{\\\\underrightarrow{lim}}\");\ndefineMacro(\"\\\\varprojlim\", \"\\\\DOTSB\\\\operatorname*{\\\\underleftarrow{lim}}\"); //////////////////////////////////////////////////////////////////////\n// MathML alternates for KaTeX glyphs in the Unicode private area\n\ndefineMacro(\"\\\\gvertneqq\", \"\\\\html@mathml{\\\\@gvertneqq}{\\u2269}\");\ndefineMacro(\"\\\\lvertneqq\", \"\\\\html@mathml{\\\\@lvertneqq}{\\u2268}\");\ndefineMacro(\"\\\\ngeqq\", \"\\\\html@mathml{\\\\@ngeqq}{\\u2271}\");\ndefineMacro(\"\\\\ngeqslant\", \"\\\\html@mathml{\\\\@ngeqslant}{\\u2271}\");\ndefineMacro(\"\\\\nleqq\", \"\\\\html@mathml{\\\\@nleqq}{\\u2270}\");\ndefineMacro(\"\\\\nleqslant\", \"\\\\html@mathml{\\\\@nleqslant}{\\u2270}\");\ndefineMacro(\"\\\\nshortmid\", \"\\\\html@mathml{\\\\@nshortmid}{}\");\ndefineMacro(\"\\\\nshortparallel\", \"\\\\html@mathml{\\\\@nshortparallel}{}\");\ndefineMacro(\"\\\\nsubseteqq\", \"\\\\html@mathml{\\\\@nsubseteqq}{\\u2288}\");\ndefineMacro(\"\\\\nsupseteqq\", \"\\\\html@mathml{\\\\@nsupseteqq}{\\u2289}\");\ndefineMacro(\"\\\\varsubsetneq\", \"\\\\html@mathml{\\\\@varsubsetneq}{}\");\ndefineMacro(\"\\\\varsubsetneqq\", \"\\\\html@mathml{\\\\@varsubsetneqq}{}\");\ndefineMacro(\"\\\\varsupsetneq\", \"\\\\html@mathml{\\\\@varsupsetneq}{}\");\ndefineMacro(\"\\\\varsupsetneqq\", \"\\\\html@mathml{\\\\@varsupsetneqq}{}\");\ndefineMacro(\"\\\\imath\", \"\\\\html@mathml{\\\\@imath}{\\u0131}\");\ndefineMacro(\"\\\\jmath\", \"\\\\html@mathml{\\\\@jmath}{\\u0237}\"); //////////////////////////////////////////////////////////////////////\n// stmaryrd and semantic\n// The stmaryrd and semantic packages render the next four items by calling a\n// glyph. Those glyphs do not exist in the KaTeX fonts. Hence the macros.\n\ndefineMacro(\"\\\\llbracket\", \"\\\\html@mathml{\" + \"\\\\mathopen{[\\\\mkern-3.2mu[}}\" + \"{\\\\mathopen{\\\\char`\\u27e6}}\");\ndefineMacro(\"\\\\rrbracket\", \"\\\\html@mathml{\" + \"\\\\mathclose{]\\\\mkern-3.2mu]}}\" + \"{\\\\mathclose{\\\\char`\\u27e7}}\");\ndefineMacro(\"\\u27e6\", \"\\\\llbracket\"); // blackboard bold [\n\ndefineMacro(\"\\u27e7\", \"\\\\rrbracket\"); // blackboard bold ]\n\ndefineMacro(\"\\\\lBrace\", \"\\\\html@mathml{\" + \"\\\\mathopen{\\\\{\\\\mkern-3.2mu[}}\" + \"{\\\\mathopen{\\\\char`\\u2983}}\");\ndefineMacro(\"\\\\rBrace\", \"\\\\html@mathml{\" + \"\\\\mathclose{]\\\\mkern-3.2mu\\\\}}}\" + \"{\\\\mathclose{\\\\char`\\u2984}}\");\ndefineMacro(\"\\u2983\", \"\\\\lBrace\"); // blackboard bold {\n\ndefineMacro(\"\\u2984\", \"\\\\rBrace\"); // blackboard bold }\n// TODO: Create variable sized versions of the last two items. I believe that\n// will require new font glyphs.\n// The stmaryrd function `\\minuso` provides a \"Plimsoll\" symbol that\n// superimposes the characters \\circ and \\mathminus. Used in chemistry.\n\ndefineMacro(\"\\\\minuso\", \"\\\\mathbin{\\\\html@mathml{\" + \"{\\\\mathrlap{\\\\mathchoice{\\\\kern{0.145em}}{\\\\kern{0.145em}}\" + \"{\\\\kern{0.1015em}}{\\\\kern{0.0725em}}\\\\circ}{-}}}\" + \"{\\\\char`}}\");\ndefineMacro(\"\", \"\\\\minuso\"); //////////////////////////////////////////////////////////////////////\n// texvc.sty\n// The texvc package contains macros available in mediawiki pages.\n// We omit the functions deprecated at\n// https://en.wikipedia.org/wiki/Help:Displaying_a_formula#Deprecated_syntax\n// We also omit texvc's \\O, which conflicts with \\text{\\O}\n\ndefineMacro(\"\\\\darr\", \"\\\\downarrow\");\ndefineMacro(\"\\\\dArr\", \"\\\\Downarrow\");\ndefineMacro(\"\\\\Darr\", \"\\\\Downarrow\");\ndefineMacro(\"\\\\lang\", \"\\\\langle\");\ndefineMacro(\"\\\\rang\", \"\\\\rangle\");\ndefineMacro(\"\\\\uarr\", \"\\\\uparrow\");\ndefineMacro(\"\\\\uArr\", \"\\\\Uparrow\");\ndefineMacro(\"\\\\Uarr\", \"\\\\Uparrow\");\ndefineMacro(\"\\\\N\", \"\\\\mathbb{N}\");\ndefineMacro(\"\\\\R\", \"\\\\mathbb{R}\");\ndefineMacro(\"\\\\Z\", \"\\\\mathbb{Z}\");\ndefineMacro(\"\\\\alef\", \"\\\\aleph\");\ndefineMacro(\"\\\\alefsym\", \"\\\\aleph\");\ndefineMacro(\"\\\\Alpha\", \"\\\\mathrm{A}\");\ndefineMacro(\"\\\\Beta\", \"\\\\mathrm{B}\");\ndefineMacro(\"\\\\bull\", \"\\\\bullet\");\ndefineMacro(\"\\\\Chi\", \"\\\\mathrm{X}\");\ndefineMacro(\"\\\\clubs\", \"\\\\clubsuit\");\ndefineMacro(\"\\\\cnums\", \"\\\\mathbb{C}\");\ndefineMacro(\"\\\\Complex\", \"\\\\mathbb{C}\");\ndefineMacro(\"\\\\Dagger\", \"\\\\ddagger\");\ndefineMacro(\"\\\\diamonds\", \"\\\\diamondsuit\");\ndefineMacro(\"\\\\empty\", \"\\\\emptyset\");\ndefineMacro(\"\\\\Epsilon\", \"\\\\mathrm{E}\");\ndefineMacro(\"\\\\Eta\", \"\\\\mathrm{H}\");\ndefineMacro(\"\\\\exist\", \"\\\\exists\");\ndefineMacro(\"\\\\harr\", \"\\\\leftrightarrow\");\ndefineMacro(\"\\\\hArr\", \"\\\\Leftrightarrow\");\ndefineMacro(\"\\\\Harr\", \"\\\\Leftrightarrow\");\ndefineMacro(\"\\\\hearts\", \"\\\\heartsuit\");\ndefineMacro(\"\\\\image\", \"\\\\Im\");\ndefineMacro(\"\\\\infin\", \"\\\\infty\");\ndefineMacro(\"\\\\Iota\", \"\\\\mathrm{I}\");\ndefineMacro(\"\\\\isin\", \"\\\\in\");\ndefineMacro(\"\\\\Kappa\", \"\\\\mathrm{K}\");\ndefineMacro(\"\\\\larr\", \"\\\\leftarrow\");\ndefineMacro(\"\\\\lArr\", \"\\\\Leftarrow\");\ndefineMacro(\"\\\\Larr\", \"\\\\Leftarrow\");\ndefineMacro(\"\\\\lrarr\", \"\\\\leftrightarrow\");\ndefineMacro(\"\\\\lrArr\", \"\\\\Leftrightarrow\");\ndefineMacro(\"\\\\Lrarr\", \"\\\\Leftrightarrow\");\ndefineMacro(\"\\\\Mu\", \"\\\\mathrm{M}\");\ndefineMacro(\"\\\\natnums\", \"\\\\mathbb{N}\");\ndefineMacro(\"\\\\Nu\", \"\\\\mathrm{N}\");\ndefineMacro(\"\\\\Omicron\", \"\\\\mathrm{O}\");\ndefineMacro(\"\\\\plusmn\", \"\\\\pm\");\ndefineMacro(\"\\\\rarr\", \"\\\\rightarrow\");\ndefineMacro(\"\\\\rArr\", \"\\\\Rightarrow\");\ndefineMacro(\"\\\\Rarr\", \"\\\\Rightarrow\");\ndefineMacro(\"\\\\real\", \"\\\\Re\");\ndefineMacro(\"\\\\reals\", \"\\\\mathbb{R}\");\ndefineMacro(\"\\\\Reals\", \"\\\\mathbb{R}\");\ndefineMacro(\"\\\\Rho\", \"\\\\mathrm{P}\");\ndefineMacro(\"\\\\sdot\", \"\\\\cdot\");\ndefineMacro(\"\\\\sect\", \"\\\\S\");\ndefineMacro(\"\\\\spades\", \"\\\\spadesuit\");\ndefineMacro(\"\\\\sub\", \"\\\\subset\");\ndefineMacro(\"\\\\sube\", \"\\\\subseteq\");\ndefineMacro(\"\\\\supe\", \"\\\\supseteq\");\ndefineMacro(\"\\\\Tau\", \"\\\\mathrm{T}\");\ndefineMacro(\"\\\\thetasym\", \"\\\\vartheta\"); // TODO: defineMacro(\"\\\\varcoppa\", \"\\\\\\mbox{\\\\coppa}\");\n\ndefineMacro(\"\\\\weierp\", \"\\\\wp\");\ndefineMacro(\"\\\\Zeta\", \"\\\\mathrm{Z}\"); //////////////////////////////////////////////////////////////////////\n// statmath.sty\n// https://ctan.math.illinois.edu/macros/latex/contrib/statmath/statmath.pdf\n\ndefineMacro(\"\\\\argmin\", \"\\\\DOTSB\\\\operatorname*{arg\\\\,min}\");\ndefineMacro(\"\\\\argmax\", \"\\\\DOTSB\\\\operatorname*{arg\\\\,max}\");\ndefineMacro(\"\\\\plim\", \"\\\\DOTSB\\\\mathop{\\\\operatorname{plim}}\\\\limits\"); //////////////////////////////////////////////////////////////////////\n// braket.sty\n// http://ctan.math.washington.edu/tex-archive/macros/latex/contrib/braket/braket.pdf\n\ndefineMacro(\"\\\\bra\", \"\\\\mathinner{\\\\langle{#1}|}\");\ndefineMacro(\"\\\\ket\", \"\\\\mathinner{|{#1}\\\\rangle}\");\ndefineMacro(\"\\\\braket\", \"\\\\mathinner{\\\\langle{#1}\\\\rangle}\");\ndefineMacro(\"\\\\Bra\", \"\\\\left\\\\langle#1\\\\right|\");\ndefineMacro(\"\\\\Ket\", \"\\\\left|#1\\\\right\\\\rangle\");\n\nvar braketHelper = one => context => {\n  var left = context.consumeArg().tokens;\n  var middle = context.consumeArg().tokens;\n  var middleDouble = context.consumeArg().tokens;\n  var right = context.consumeArg().tokens;\n  var oldMiddle = context.macros.get(\"|\");\n  var oldMiddleDouble = context.macros.get(\"\\\\|\");\n  context.macros.beginGroup();\n\n  var midMacro = double => context => {\n    if (one) {\n      // Only modify the first instance of | or \\|\n      context.macros.set(\"|\", oldMiddle);\n\n      if (middleDouble.length) {\n        context.macros.set(\"\\\\|\", oldMiddleDouble);\n      }\n    }\n\n    var doubled = double;\n\n    if (!double && middleDouble.length) {\n      // Mimic \\@ifnextchar\n      var nextToken = context.future();\n\n      if (nextToken.text === \"|\") {\n        context.popToken();\n        doubled = true;\n      }\n    }\n\n    return {\n      tokens: doubled ? middleDouble : middle,\n      numArgs: 0\n    };\n  };\n\n  context.macros.set(\"|\", midMacro(false));\n\n  if (middleDouble.length) {\n    context.macros.set(\"\\\\|\", midMacro(true));\n  }\n\n  var arg = context.consumeArg().tokens;\n  var expanded = context.expandTokens([...right, ...arg, ...left // reversed\n  ]);\n  context.macros.endGroup();\n  return {\n    tokens: expanded.reverse(),\n    numArgs: 0\n  };\n};\n\ndefineMacro(\"\\\\bra@ket\", braketHelper(false));\ndefineMacro(\"\\\\bra@set\", braketHelper(true));\ndefineMacro(\"\\\\Braket\", \"\\\\bra@ket{\\\\left\\\\langle}\" + \"{\\\\,\\\\middle\\\\vert\\\\,}{\\\\,\\\\middle\\\\vert\\\\,}{\\\\right\\\\rangle}\");\ndefineMacro(\"\\\\Set\", \"\\\\bra@set{\\\\left\\\\{\\\\:}\" + \"{\\\\;\\\\middle\\\\vert\\\\;}{\\\\;\\\\middle\\\\Vert\\\\;}{\\\\:\\\\right\\\\}}\");\ndefineMacro(\"\\\\set\", \"\\\\bra@set{\\\\{\\\\,}{\\\\mid}{}{\\\\,\\\\}}\"); // has no support for special || or \\|\n//////////////////////////////////////////////////////////////////////\n// actuarialangle.dtx\n\ndefineMacro(\"\\\\angln\", \"{\\\\angl n}\"); // Custom Khan Academy colors, should be moved to an optional package\n\ndefineMacro(\"\\\\blue\", \"\\\\textcolor{##6495ed}{#1}\");\ndefineMacro(\"\\\\orange\", \"\\\\textcolor{##ffa500}{#1}\");\ndefineMacro(\"\\\\pink\", \"\\\\textcolor{##ff00af}{#1}\");\ndefineMacro(\"\\\\red\", \"\\\\textcolor{##df0030}{#1}\");\ndefineMacro(\"\\\\green\", \"\\\\textcolor{##28ae7b}{#1}\");\ndefineMacro(\"\\\\gray\", \"\\\\textcolor{gray}{#1}\");\ndefineMacro(\"\\\\purple\", \"\\\\textcolor{##9d38bd}{#1}\");\ndefineMacro(\"\\\\blueA\", \"\\\\textcolor{##ccfaff}{#1}\");\ndefineMacro(\"\\\\blueB\", \"\\\\textcolor{##80f6ff}{#1}\");\ndefineMacro(\"\\\\blueC\", \"\\\\textcolor{##63d9ea}{#1}\");\ndefineMacro(\"\\\\blueD\", \"\\\\textcolor{##11accd}{#1}\");\ndefineMacro(\"\\\\blueE\", \"\\\\textcolor{##0c7f99}{#1}\");\ndefineMacro(\"\\\\tealA\", \"\\\\textcolor{##94fff5}{#1}\");\ndefineMacro(\"\\\\tealB\", \"\\\\textcolor{##26edd5}{#1}\");\ndefineMacro(\"\\\\tealC\", \"\\\\textcolor{##01d1c1}{#1}\");\ndefineMacro(\"\\\\tealD\", \"\\\\textcolor{##01a995}{#1}\");\ndefineMacro(\"\\\\tealE\", \"\\\\textcolor{##208170}{#1}\");\ndefineMacro(\"\\\\greenA\", \"\\\\textcolor{##b6ffb0}{#1}\");\ndefineMacro(\"\\\\greenB\", \"\\\\textcolor{##8af281}{#1}\");\ndefineMacro(\"\\\\greenC\", \"\\\\textcolor{##74cf70}{#1}\");\ndefineMacro(\"\\\\greenD\", \"\\\\textcolor{##1fab54}{#1}\");\ndefineMacro(\"\\\\greenE\", \"\\\\textcolor{##0d923f}{#1}\");\ndefineMacro(\"\\\\goldA\", \"\\\\textcolor{##ffd0a9}{#1}\");\ndefineMacro(\"\\\\goldB\", \"\\\\textcolor{##ffbb71}{#1}\");\ndefineMacro(\"\\\\goldC\", \"\\\\textcolor{##ff9c39}{#1}\");\ndefineMacro(\"\\\\goldD\", \"\\\\textcolor{##e07d10}{#1}\");\ndefineMacro(\"\\\\goldE\", \"\\\\textcolor{##a75a05}{#1}\");\ndefineMacro(\"\\\\redA\", \"\\\\textcolor{##fca9a9}{#1}\");\ndefineMacro(\"\\\\redB\", \"\\\\textcolor{##ff8482}{#1}\");\ndefineMacro(\"\\\\redC\", \"\\\\textcolor{##f9685d}{#1}\");\ndefineMacro(\"\\\\redD\", \"\\\\textcolor{##e84d39}{#1}\");\ndefineMacro(\"\\\\redE\", \"\\\\textcolor{##bc2612}{#1}\");\ndefineMacro(\"\\\\maroonA\", \"\\\\textcolor{##ffbde0}{#1}\");\ndefineMacro(\"\\\\maroonB\", \"\\\\textcolor{##ff92c6}{#1}\");\ndefineMacro(\"\\\\maroonC\", \"\\\\textcolor{##ed5fa6}{#1}\");\ndefineMacro(\"\\\\maroonD\", \"\\\\textcolor{##ca337c}{#1}\");\ndefineMacro(\"\\\\maroonE\", \"\\\\textcolor{##9e034e}{#1}\");\ndefineMacro(\"\\\\purpleA\", \"\\\\textcolor{##ddd7ff}{#1}\");\ndefineMacro(\"\\\\purpleB\", \"\\\\textcolor{##c6b9fc}{#1}\");\ndefineMacro(\"\\\\purpleC\", \"\\\\textcolor{##aa87ff}{#1}\");\ndefineMacro(\"\\\\purpleD\", \"\\\\textcolor{##7854ab}{#1}\");\ndefineMacro(\"\\\\purpleE\", \"\\\\textcolor{##543b78}{#1}\");\ndefineMacro(\"\\\\mintA\", \"\\\\textcolor{##f5f9e8}{#1}\");\ndefineMacro(\"\\\\mintB\", \"\\\\textcolor{##edf2df}{#1}\");\ndefineMacro(\"\\\\mintC\", \"\\\\textcolor{##e0e5cc}{#1}\");\ndefineMacro(\"\\\\grayA\", \"\\\\textcolor{##f6f7f7}{#1}\");\ndefineMacro(\"\\\\grayB\", \"\\\\textcolor{##f0f1f2}{#1}\");\ndefineMacro(\"\\\\grayC\", \"\\\\textcolor{##e3e5e6}{#1}\");\ndefineMacro(\"\\\\grayD\", \"\\\\textcolor{##d6d8da}{#1}\");\ndefineMacro(\"\\\\grayE\", \"\\\\textcolor{##babec2}{#1}\");\ndefineMacro(\"\\\\grayF\", \"\\\\textcolor{##888d93}{#1}\");\ndefineMacro(\"\\\\grayG\", \"\\\\textcolor{##626569}{#1}\");\ndefineMacro(\"\\\\grayH\", \"\\\\textcolor{##3b3e40}{#1}\");\ndefineMacro(\"\\\\grayI\", \"\\\\textcolor{##21242c}{#1}\");\ndefineMacro(\"\\\\kaBlue\", \"\\\\textcolor{##314453}{#1}\");\ndefineMacro(\"\\\\kaGreen\", \"\\\\textcolor{##71B307}{#1}\");\n\n/**\n * This file contains the gullet where macros are expanded\n * until only non-macro tokens remain.\n */\n// List of commands that act like macros but aren't defined as a macro,\n// function, or symbol.  Used in `isDefined`.\nvar implicitCommands = {\n  \"^\": true,\n  // Parser.js\n  \"_\": true,\n  // Parser.js\n  \"\\\\limits\": true,\n  // Parser.js\n  \"\\\\nolimits\": true // Parser.js\n\n};\nclass MacroExpander {\n  constructor(input, settings, mode) {\n    this.settings = void 0;\n    this.expansionCount = void 0;\n    this.lexer = void 0;\n    this.macros = void 0;\n    this.stack = void 0;\n    this.mode = void 0;\n    this.settings = settings;\n    this.expansionCount = 0;\n    this.feed(input); // Make new global namespace\n\n    this.macros = new Namespace(macros, settings.macros);\n    this.mode = mode;\n    this.stack = []; // contains tokens in REVERSE order\n  }\n  /**\n   * Feed a new input string to the same MacroExpander\n   * (with existing macros etc.).\n   */\n\n\n  feed(input) {\n    this.lexer = new Lexer(input, this.settings);\n  }\n  /**\n   * Switches between \"text\" and \"math\" modes.\n   */\n\n\n  switchMode(newMode) {\n    this.mode = newMode;\n  }\n  /**\n   * Start a new group nesting within all namespaces.\n   */\n\n\n  beginGroup() {\n    this.macros.beginGroup();\n  }\n  /**\n   * End current group nesting within all namespaces.\n   */\n\n\n  endGroup() {\n    this.macros.endGroup();\n  }\n  /**\n   * Ends all currently nested groups (if any), restoring values before the\n   * groups began.  Useful in case of an error in the middle of parsing.\n   */\n\n\n  endGroups() {\n    this.macros.endGroups();\n  }\n  /**\n   * Returns the topmost token on the stack, without expanding it.\n   * Similar in behavior to TeX's `\\futurelet`.\n   */\n\n\n  future() {\n    if (this.stack.length === 0) {\n      this.pushToken(this.lexer.lex());\n    }\n\n    return this.stack[this.stack.length - 1];\n  }\n  /**\n   * Remove and return the next unexpanded token.\n   */\n\n\n  popToken() {\n    this.future(); // ensure non-empty stack\n\n    return this.stack.pop();\n  }\n  /**\n   * Add a given token to the token stack.  In particular, this get be used\n   * to put back a token returned from one of the other methods.\n   */\n\n\n  pushToken(token) {\n    this.stack.push(token);\n  }\n  /**\n   * Append an array of tokens to the token stack.\n   */\n\n\n  pushTokens(tokens) {\n    this.stack.push(...tokens);\n  }\n  /**\n   * Find an macro argument without expanding tokens and append the array of\n   * tokens to the token stack. Uses Token as a container for the result.\n   */\n\n\n  scanArgument(isOptional) {\n    var start;\n    var end;\n    var tokens;\n\n    if (isOptional) {\n      this.consumeSpaces(); // \\@ifnextchar gobbles any space following it\n\n      if (this.future().text !== \"[\") {\n        return null;\n      }\n\n      start = this.popToken(); // don't include [ in tokens\n\n      ({\n        tokens,\n        end\n      } = this.consumeArg([\"]\"]));\n    } else {\n      ({\n        tokens,\n        start,\n        end\n      } = this.consumeArg());\n    } // indicate the end of an argument\n\n\n    this.pushToken(new Token(\"EOF\", end.loc));\n    this.pushTokens(tokens);\n    return new Token(\"\", SourceLocation.range(start, end));\n  }\n  /**\n   * Consume all following space tokens, without expansion.\n   */\n\n\n  consumeSpaces() {\n    for (;;) {\n      var token = this.future();\n\n      if (token.text === \" \") {\n        this.stack.pop();\n      } else {\n        break;\n      }\n    }\n  }\n  /**\n   * Consume an argument from the token stream, and return the resulting array\n   * of tokens and start/end token.\n   */\n\n\n  consumeArg(delims) {\n    // The argument for a delimited parameter is the shortest (possibly\n    // empty) sequence of tokens with properly nested {...} groups that is\n    // followed ... by this particular list of non-parameter tokens.\n    // The argument for an undelimited parameter is the next nonblank\n    // token, unless that token is {, when the argument will be the\n    // entire {...} group that follows.\n    var tokens = [];\n    var isDelimited = delims && delims.length > 0;\n\n    if (!isDelimited) {\n      // Ignore spaces between arguments.  As the TeXbook says:\n      // \"After you have said \\def\\row#1#2{...}, you are allowed to\n      //  put spaces between the arguments (e.g., \\row x n), because\n      //  TeX doesnt use single spaces as undelimited arguments.\"\n      this.consumeSpaces();\n    }\n\n    var start = this.future();\n    var tok;\n    var depth = 0;\n    var match = 0;\n\n    do {\n      tok = this.popToken();\n      tokens.push(tok);\n\n      if (tok.text === \"{\") {\n        ++depth;\n      } else if (tok.text === \"}\") {\n        --depth;\n\n        if (depth === -1) {\n          throw new ParseError(\"Extra }\", tok);\n        }\n      } else if (tok.text === \"EOF\") {\n        throw new ParseError(\"Unexpected end of input in a macro argument\" + \", expected '\" + (delims && isDelimited ? delims[match] : \"}\") + \"'\", tok);\n      }\n\n      if (delims && isDelimited) {\n        if ((depth === 0 || depth === 1 && delims[match] === \"{\") && tok.text === delims[match]) {\n          ++match;\n\n          if (match === delims.length) {\n            // don't include delims in tokens\n            tokens.splice(-match, match);\n            break;\n          }\n        } else {\n          match = 0;\n        }\n      }\n    } while (depth !== 0 || isDelimited); // If the argument found ... has the form {<nested tokens>},\n    // ... the outermost braces enclosing the argument are removed\n\n\n    if (start.text === \"{\" && tokens[tokens.length - 1].text === \"}\") {\n      tokens.pop();\n      tokens.shift();\n    }\n\n    tokens.reverse(); // to fit in with stack order\n\n    return {\n      tokens,\n      start,\n      end: tok\n    };\n  }\n  /**\n   * Consume the specified number of (delimited) arguments from the token\n   * stream and return the resulting array of arguments.\n   */\n\n\n  consumeArgs(numArgs, delimiters) {\n    if (delimiters) {\n      if (delimiters.length !== numArgs + 1) {\n        throw new ParseError(\"The length of delimiters doesn't match the number of args!\");\n      }\n\n      var delims = delimiters[0];\n\n      for (var i = 0; i < delims.length; i++) {\n        var tok = this.popToken();\n\n        if (delims[i] !== tok.text) {\n          throw new ParseError(\"Use of the macro doesn't match its definition\", tok);\n        }\n      }\n    }\n\n    var args = [];\n\n    for (var _i = 0; _i < numArgs; _i++) {\n      args.push(this.consumeArg(delimiters && delimiters[_i + 1]).tokens);\n    }\n\n    return args;\n  }\n  /**\n   * Increment `expansionCount` by the specified amount.\n   * Throw an error if it exceeds `maxExpand`.\n   */\n\n\n  countExpansion(amount) {\n    this.expansionCount += amount;\n\n    if (this.expansionCount > this.settings.maxExpand) {\n      throw new ParseError(\"Too many expansions: infinite loop or \" + \"need to increase maxExpand setting\");\n    }\n  }\n  /**\n   * Expand the next token only once if possible.\n   *\n   * If the token is expanded, the resulting tokens will be pushed onto\n   * the stack in reverse order, and the number of such tokens will be\n   * returned.  This number might be zero or positive.\n   *\n   * If not, the return value is `false`, and the next token remains at the\n   * top of the stack.\n   *\n   * In either case, the next token will be on the top of the stack,\n   * or the stack will be empty (in case of empty expansion\n   * and no other tokens).\n   *\n   * Used to implement `expandAfterFuture` and `expandNextToken`.\n   *\n   * If expandableOnly, only expandable tokens are expanded and\n   * an undefined control sequence results in an error.\n   */\n\n\n  expandOnce(expandableOnly) {\n    var topToken = this.popToken();\n    var name = topToken.text;\n    var expansion = !topToken.noexpand ? this._getExpansion(name) : null;\n\n    if (expansion == null || expandableOnly && expansion.unexpandable) {\n      if (expandableOnly && expansion == null && name[0] === \"\\\\\" && !this.isDefined(name)) {\n        throw new ParseError(\"Undefined control sequence: \" + name);\n      }\n\n      this.pushToken(topToken);\n      return false;\n    }\n\n    this.countExpansion(1);\n    var tokens = expansion.tokens;\n    var args = this.consumeArgs(expansion.numArgs, expansion.delimiters);\n\n    if (expansion.numArgs) {\n      // paste arguments in place of the placeholders\n      tokens = tokens.slice(); // make a shallow copy\n\n      for (var i = tokens.length - 1; i >= 0; --i) {\n        var tok = tokens[i];\n\n        if (tok.text === \"#\") {\n          if (i === 0) {\n            throw new ParseError(\"Incomplete placeholder at end of macro body\", tok);\n          }\n\n          tok = tokens[--i]; // next token on stack\n\n          if (tok.text === \"#\") {\n            // ##  #\n            tokens.splice(i + 1, 1); // drop first #\n          } else if (/^[1-9]$/.test(tok.text)) {\n            // replace the placeholder with the indicated argument\n            tokens.splice(i, 2, ...args[+tok.text - 1]);\n          } else {\n            throw new ParseError(\"Not a valid argument number\", tok);\n          }\n        }\n      }\n    } // Concatenate expansion onto top of stack.\n\n\n    this.pushTokens(tokens);\n    return tokens.length;\n  }\n  /**\n   * Expand the next token only once (if possible), and return the resulting\n   * top token on the stack (without removing anything from the stack).\n   * Similar in behavior to TeX's `\\expandafter\\futurelet`.\n   * Equivalent to expandOnce() followed by future().\n   */\n\n\n  expandAfterFuture() {\n    this.expandOnce();\n    return this.future();\n  }\n  /**\n   * Recursively expand first token, then return first non-expandable token.\n   */\n\n\n  expandNextToken() {\n    for (;;) {\n      if (this.expandOnce() === false) {\n        // fully expanded\n        var token = this.stack.pop(); // the token after \\noexpand is interpreted as if its meaning\n        // were \\relax\n\n        if (token.treatAsRelax) {\n          token.text = \"\\\\relax\";\n        }\n\n        return token;\n      }\n    } // Flow unable to figure out that this pathway is impossible.\n    // https://github.com/facebook/flow/issues/4808\n\n\n    throw new Error(); // eslint-disable-line no-unreachable\n  }\n  /**\n   * Fully expand the given macro name and return the resulting list of\n   * tokens, or return `undefined` if no such macro is defined.\n   */\n\n\n  expandMacro(name) {\n    return this.macros.has(name) ? this.expandTokens([new Token(name)]) : undefined;\n  }\n  /**\n   * Fully expand the given token stream and return the resulting list of\n   * tokens.  Note that the input tokens are in reverse order, but the\n   * output tokens are in forward order.\n   */\n\n\n  expandTokens(tokens) {\n    var output = [];\n    var oldStackLength = this.stack.length;\n    this.pushTokens(tokens);\n\n    while (this.stack.length > oldStackLength) {\n      // Expand only expandable tokens\n      if (this.expandOnce(true) === false) {\n        // fully expanded\n        var token = this.stack.pop();\n\n        if (token.treatAsRelax) {\n          // the expansion of \\noexpand is the token itself\n          token.noexpand = false;\n          token.treatAsRelax = false;\n        }\n\n        output.push(token);\n      }\n    } // Count all of these tokens as additional expansions, to prevent\n    // exponential blowup from linearly many \\edef's.\n\n\n    this.countExpansion(output.length);\n    return output;\n  }\n  /**\n   * Fully expand the given macro name and return the result as a string,\n   * or return `undefined` if no such macro is defined.\n   */\n\n\n  expandMacroAsText(name) {\n    var tokens = this.expandMacro(name);\n\n    if (tokens) {\n      return tokens.map(token => token.text).join(\"\");\n    } else {\n      return tokens;\n    }\n  }\n  /**\n   * Returns the expanded macro as a reversed array of tokens and a macro\n   * argument count.  Or returns `null` if no such macro.\n   */\n\n\n  _getExpansion(name) {\n    var definition = this.macros.get(name);\n\n    if (definition == null) {\n      // mainly checking for undefined here\n      return definition;\n    } // If a single character has an associated catcode other than 13\n    // (active character), then don't expand it.\n\n\n    if (name.length === 1) {\n      var catcode = this.lexer.catcodes[name];\n\n      if (catcode != null && catcode !== 13) {\n        return;\n      }\n    }\n\n    var expansion = typeof definition === \"function\" ? definition(this) : definition;\n\n    if (typeof expansion === \"string\") {\n      var numArgs = 0;\n\n      if (expansion.indexOf(\"#\") !== -1) {\n        var stripped = expansion.replace(/##/g, \"\");\n\n        while (stripped.indexOf(\"#\" + (numArgs + 1)) !== -1) {\n          ++numArgs;\n        }\n      }\n\n      var bodyLexer = new Lexer(expansion, this.settings);\n      var tokens = [];\n      var tok = bodyLexer.lex();\n\n      while (tok.text !== \"EOF\") {\n        tokens.push(tok);\n        tok = bodyLexer.lex();\n      }\n\n      tokens.reverse(); // to fit in with stack using push and pop\n\n      var expanded = {\n        tokens,\n        numArgs\n      };\n      return expanded;\n    }\n\n    return expansion;\n  }\n  /**\n   * Determine whether a command is currently \"defined\" (has some\n   * functionality), meaning that it's a macro (in the current group),\n   * a function, a symbol, or one of the special commands listed in\n   * `implicitCommands`.\n   */\n\n\n  isDefined(name) {\n    return this.macros.has(name) || functions.hasOwnProperty(name) || symbols.math.hasOwnProperty(name) || symbols.text.hasOwnProperty(name) || implicitCommands.hasOwnProperty(name);\n  }\n  /**\n   * Determine whether a command is expandable.\n   */\n\n\n  isExpandable(name) {\n    var macro = this.macros.get(name);\n    return macro != null ? typeof macro === \"string\" || typeof macro === \"function\" || !macro.unexpandable : functions.hasOwnProperty(name) && !functions[name].primitive;\n  }\n\n}\n\n// Helpers for Parser.js handling of Unicode (sub|super)script characters.\nvar unicodeSubRegEx = /^[]/;\nvar uSubsAndSups = Object.freeze({\n  '': '+',\n  '': '-',\n  '': '=',\n  '': '(',\n  '': ')',\n  '': '0',\n  '': '1',\n  '': '2',\n  '': '3',\n  '': '4',\n  '': '5',\n  '': '6',\n  '': '7',\n  '': '8',\n  '': '9',\n  '\\u2090': 'a',\n  '\\u2091': 'e',\n  '\\u2095': 'h',\n  '\\u1D62': 'i',\n  '\\u2C7C': 'j',\n  '\\u2096': 'k',\n  '\\u2097': 'l',\n  '\\u2098': 'm',\n  '\\u2099': 'n',\n  '\\u2092': 'o',\n  '\\u209A': 'p',\n  '\\u1D63': 'r',\n  '\\u209B': 's',\n  '\\u209C': 't',\n  '\\u1D64': 'u',\n  '\\u1D65': 'v',\n  '\\u2093': 'x',\n  '\\u1D66': '',\n  '\\u1D67': '',\n  '\\u1D68': '',\n  '\\u1D69': '\\u03d5',\n  '\\u1D6A': '',\n  '': '+',\n  '': '-',\n  '': '=',\n  '': '(',\n  '': ')',\n  '': '0',\n  '': '1',\n  '': '2',\n  '': '3',\n  '': '4',\n  '': '5',\n  '': '6',\n  '': '7',\n  '': '8',\n  '': '9',\n  '\\u1D2C': 'A',\n  '\\u1D2E': 'B',\n  '\\u1D30': 'D',\n  '\\u1D31': 'E',\n  '\\u1D33': 'G',\n  '\\u1D34': 'H',\n  '\\u1D35': 'I',\n  '\\u1D36': 'J',\n  '\\u1D37': 'K',\n  '\\u1D38': 'L',\n  '\\u1D39': 'M',\n  '\\u1D3A': 'N',\n  '\\u1D3C': 'O',\n  '\\u1D3E': 'P',\n  '\\u1D3F': 'R',\n  '\\u1D40': 'T',\n  '\\u1D41': 'U',\n  '\\u2C7D': 'V',\n  '\\u1D42': 'W',\n  '\\u1D43': 'a',\n  '\\u1D47': 'b',\n  '\\u1D9C': 'c',\n  '\\u1D48': 'd',\n  '\\u1D49': 'e',\n  '\\u1DA0': 'f',\n  '\\u1D4D': 'g',\n  '\\u02B0': 'h',\n  '\\u2071': 'i',\n  '\\u02B2': 'j',\n  '\\u1D4F': 'k',\n  '\\u02E1': 'l',\n  '\\u1D50': 'm',\n  '\\u207F': 'n',\n  '\\u1D52': 'o',\n  '\\u1D56': 'p',\n  '\\u02B3': 'r',\n  '\\u02E2': 's',\n  '\\u1D57': 't',\n  '\\u1D58': 'u',\n  '\\u1D5B': 'v',\n  '\\u02B7': 'w',\n  '\\u02E3': 'x',\n  '\\u02B8': 'y',\n  '\\u1DBB': 'z',\n  '\\u1D5D': '',\n  '\\u1D5E': '',\n  '\\u1D5F': '',\n  '\\u1D60': '\\u03d5',\n  '\\u1D61': '',\n  '\\u1DBF': ''\n});\n\n/* eslint no-constant-condition:0 */\n\nvar unicodeAccents = {\n  \"\": {\n    \"text\": \"\\\\'\",\n    \"math\": \"\\\\acute\"\n  },\n  \"\": {\n    \"text\": \"\\\\`\",\n    \"math\": \"\\\\grave\"\n  },\n  \"\": {\n    \"text\": \"\\\\\\\"\",\n    \"math\": \"\\\\ddot\"\n  },\n  \"\": {\n    \"text\": \"\\\\~\",\n    \"math\": \"\\\\tilde\"\n  },\n  \"\": {\n    \"text\": \"\\\\=\",\n    \"math\": \"\\\\bar\"\n  },\n  \"\": {\n    \"text\": \"\\\\u\",\n    \"math\": \"\\\\breve\"\n  },\n  \"\": {\n    \"text\": \"\\\\v\",\n    \"math\": \"\\\\check\"\n  },\n  \"\": {\n    \"text\": \"\\\\^\",\n    \"math\": \"\\\\hat\"\n  },\n  \"\": {\n    \"text\": \"\\\\.\",\n    \"math\": \"\\\\dot\"\n  },\n  \"\": {\n    \"text\": \"\\\\r\",\n    \"math\": \"\\\\mathring\"\n  },\n  \"\": {\n    \"text\": \"\\\\H\"\n  },\n  \"\": {\n    \"text\": \"\\\\c\"\n  }\n};\nvar unicodeSymbols = {\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"b\",\n  \"\": \"c\",\n  \"\": \"c\",\n  \"\": \"c\",\n  \"\": \"c\",\n  \"\": \"c\",\n  \"\": \"c\",\n  \"\": \"d\",\n  \"\": \"d\",\n  \"\": \"d\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"f\",\n  \"\": \"g\",\n  \"\": \"g\",\n  \"\": \"g\",\n  \"\": \"g\",\n  \"\": \"g\",\n  \"\": \"g\",\n  \"\": \"g\",\n  \"\": \"h\",\n  \"\": \"h\",\n  \"\": \"h\",\n  \"\": \"h\",\n  \"\": \"h\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"j\",\n  \"\": \"j\",\n  \"\": \"k\",\n  \"\": \"k\",\n  \"\": \"k\",\n  \"\": \"l\",\n  \"\": \"l\",\n  \"\": \"l\",\n  \"\": \"m\",\n  \"\": \"m\",\n  \"\": \"n\",\n  \"\": \"n\",\n  \"\": \"n\",\n  \"\": \"n\",\n  \"\": \"n\",\n  \"\": \"n\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"p\",\n  \"\": \"p\",\n  \"\": \"r\",\n  \"\": \"r\",\n  \"\": \"r\",\n  \"\": \"r\",\n  \"\": \"s\",\n  \"\": \"s\",\n  \"\": \"s\",\n  \"\": \"s\",\n  \"\": \"s\",\n  \"\": \"s\",\n  \"\": \"s\",\n  \"\": \"t\",\n  \"\": \"t\",\n  \"\": \"t\",\n  \"\": \"t\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"v\",\n  \"\": \"w\",\n  \"\": \"w\",\n  \"\": \"w\",\n  \"\": \"w\",\n  \"\": \"w\",\n  \"\": \"w\",\n  \"\": \"x\",\n  \"\": \"x\",\n  \"\": \"y\",\n  \"\": \"y\",\n  \"\": \"y\",\n  \"\": \"y\",\n  \"\": \"y\",\n  \"\": \"y\",\n  \"\": \"y\",\n  \"\": \"y\",\n  \"\": \"z\",\n  \"\": \"z\",\n  \"\": \"z\",\n  \"\": \"z\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"B\",\n  \"\": \"C\",\n  \"\": \"C\",\n  \"\": \"C\",\n  \"\": \"C\",\n  \"\": \"C\",\n  \"\": \"C\",\n  \"\": \"D\",\n  \"\": \"D\",\n  \"\": \"D\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"F\",\n  \"\": \"G\",\n  \"\": \"G\",\n  \"\": \"G\",\n  \"\": \"G\",\n  \"\": \"G\",\n  \"\": \"G\",\n  \"\": \"G\",\n  \"\": \"H\",\n  \"\": \"H\",\n  \"\": \"H\",\n  \"\": \"H\",\n  \"\": \"H\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"J\",\n  \"\": \"K\",\n  \"\": \"K\",\n  \"\": \"K\",\n  \"\": \"L\",\n  \"\": \"L\",\n  \"\": \"L\",\n  \"\": \"M\",\n  \"\": \"M\",\n  \"\": \"N\",\n  \"\": \"N\",\n  \"\": \"N\",\n  \"\": \"N\",\n  \"\": \"N\",\n  \"\": \"N\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"P\",\n  \"\": \"P\",\n  \"\": \"R\",\n  \"\": \"R\",\n  \"\": \"R\",\n  \"\": \"R\",\n  \"\": \"S\",\n  \"\": \"S\",\n  \"\": \"S\",\n  \"\": \"S\",\n  \"\": \"S\",\n  \"\": \"S\",\n  \"\": \"S\",\n  \"\": \"T\",\n  \"\": \"T\",\n  \"\": \"T\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"V\",\n  \"\": \"W\",\n  \"\": \"W\",\n  \"\": \"W\",\n  \"\": \"W\",\n  \"\": \"W\",\n  \"\": \"X\",\n  \"\": \"X\",\n  \"\": \"Y\",\n  \"\": \"Y\",\n  \"\": \"Y\",\n  \"\": \"Y\",\n  \"\": \"Y\",\n  \"\": \"Y\",\n  \"\": \"Y\",\n  \"\": \"Z\",\n  \"\": \"Z\",\n  \"\": \"Z\",\n  \"\": \"Z\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\"\n};\n\n/**\n * This file contains the parser used to parse out a TeX expression from the\n * input. Since TeX isn't context-free, standard parsers don't work particularly\n * well.\n *\n * The strategy of this parser is as such:\n *\n * The main functions (the `.parse...` ones) take a position in the current\n * parse string to parse tokens from. The lexer (found in Lexer.js, stored at\n * this.gullet.lexer) also supports pulling out tokens at arbitrary places. When\n * individual tokens are needed at a position, the lexer is called to pull out a\n * token, which is then used.\n *\n * The parser has a property called \"mode\" indicating the mode that\n * the parser is currently in. Currently it has to be one of \"math\" or\n * \"text\", which denotes whether the current environment is a math-y\n * one or a text-y one (e.g. inside \\text). Currently, this serves to\n * limit the functions which can be used in text mode.\n *\n * The main functions then return an object which contains the useful data that\n * was parsed at its given point, and a new position at the end of the parsed\n * data. The main functions can call each other and continue the parsing by\n * using the returned position as a new starting point.\n *\n * There are also extra `.handle...` functions, which pull out some reused\n * functionality into self-contained functions.\n *\n * The functions return ParseNodes.\n */\nclass Parser {\n  constructor(input, settings) {\n    this.mode = void 0;\n    this.gullet = void 0;\n    this.settings = void 0;\n    this.leftrightDepth = void 0;\n    this.nextToken = void 0;\n    // Start in math mode\n    this.mode = \"math\"; // Create a new macro expander (gullet) and (indirectly via that) also a\n    // new lexer (mouth) for this parser (stomach, in the language of TeX)\n\n    this.gullet = new MacroExpander(input, settings, this.mode); // Store the settings for use in parsing\n\n    this.settings = settings; // Count leftright depth (for \\middle errors)\n\n    this.leftrightDepth = 0;\n  }\n  /**\n   * Checks a result to make sure it has the right type, and throws an\n   * appropriate error otherwise.\n   */\n\n\n  expect(text, consume) {\n    if (consume === void 0) {\n      consume = true;\n    }\n\n    if (this.fetch().text !== text) {\n      throw new ParseError(\"Expected '\" + text + \"', got '\" + this.fetch().text + \"'\", this.fetch());\n    }\n\n    if (consume) {\n      this.consume();\n    }\n  }\n  /**\n   * Discards the current lookahead token, considering it consumed.\n   */\n\n\n  consume() {\n    this.nextToken = null;\n  }\n  /**\n   * Return the current lookahead token, or if there isn't one (at the\n   * beginning, or if the previous lookahead token was consume()d),\n   * fetch the next token as the new lookahead token and return it.\n   */\n\n\n  fetch() {\n    if (this.nextToken == null) {\n      this.nextToken = this.gullet.expandNextToken();\n    }\n\n    return this.nextToken;\n  }\n  /**\n   * Switches between \"text\" and \"math\" modes.\n   */\n\n\n  switchMode(newMode) {\n    this.mode = newMode;\n    this.gullet.switchMode(newMode);\n  }\n  /**\n   * Main parsing function, which parses an entire input.\n   */\n\n\n  parse() {\n    if (!this.settings.globalGroup) {\n      // Create a group namespace for the math expression.\n      // (LaTeX creates a new group for every $...$, $$...$$, \\[...\\].)\n      this.gullet.beginGroup();\n    } // Use old \\color behavior (same as LaTeX's \\textcolor) if requested.\n    // We do this within the group for the math expression, so it doesn't\n    // pollute settings.macros.\n\n\n    if (this.settings.colorIsTextColor) {\n      this.gullet.macros.set(\"\\\\color\", \"\\\\textcolor\");\n    }\n\n    try {\n      // Try to parse the input\n      var parse = this.parseExpression(false); // If we succeeded, make sure there's an EOF at the end\n\n      this.expect(\"EOF\"); // End the group namespace for the expression\n\n      if (!this.settings.globalGroup) {\n        this.gullet.endGroup();\n      }\n\n      return parse; // Close any leftover groups in case of a parse error.\n    } finally {\n      this.gullet.endGroups();\n    }\n  }\n  /**\n   * Fully parse a separate sequence of tokens as a separate job.\n   * Tokens should be specified in reverse order, as in a MacroDefinition.\n   */\n\n\n  subparse(tokens) {\n    // Save the next token from the current job.\n    var oldToken = this.nextToken;\n    this.consume(); // Run the new job, terminating it with an excess '}'\n\n    this.gullet.pushToken(new Token(\"}\"));\n    this.gullet.pushTokens(tokens);\n    var parse = this.parseExpression(false);\n    this.expect(\"}\"); // Restore the next token from the current job.\n\n    this.nextToken = oldToken;\n    return parse;\n  }\n\n  /**\n   * Parses an \"expression\", which is a list of atoms.\n   *\n   * `breakOnInfix`: Should the parsing stop when we hit infix nodes? This\n   *                 happens when functions have higher precedence han infix\n   *                 nodes in implicit parses.\n   *\n   * `breakOnTokenText`: The text of the token that the expression should end\n   *                     with, or `null` if something else should end the\n   *                     expression.\n   */\n  parseExpression(breakOnInfix, breakOnTokenText) {\n    var body = []; // Keep adding atoms to the body until we can't parse any more atoms (either\n    // we reached the end, a }, or a \\right)\n\n    while (true) {\n      // Ignore spaces in math mode\n      if (this.mode === \"math\") {\n        this.consumeSpaces();\n      }\n\n      var lex = this.fetch();\n\n      if (Parser.endOfExpression.indexOf(lex.text) !== -1) {\n        break;\n      }\n\n      if (breakOnTokenText && lex.text === breakOnTokenText) {\n        break;\n      }\n\n      if (breakOnInfix && functions[lex.text] && functions[lex.text].infix) {\n        break;\n      }\n\n      var atom = this.parseAtom(breakOnTokenText);\n\n      if (!atom) {\n        break;\n      } else if (atom.type === \"internal\") {\n        // Internal nodes do not appear in parse tree\n        continue;\n      }\n\n      body.push(atom);\n    }\n\n    if (this.mode === \"text\") {\n      this.formLigatures(body);\n    }\n\n    return this.handleInfixNodes(body);\n  }\n  /**\n   * Rewrites infix operators such as \\over with corresponding commands such\n   * as \\frac.\n   *\n   * There can only be one infix operator per group.  If there's more than one\n   * then the expression is ambiguous.  This can be resolved by adding {}.\n   */\n\n\n  handleInfixNodes(body) {\n    var overIndex = -1;\n    var funcName;\n\n    for (var i = 0; i < body.length; i++) {\n      if (body[i].type === \"infix\") {\n        if (overIndex !== -1) {\n          throw new ParseError(\"only one infix operator per group\", body[i].token);\n        }\n\n        overIndex = i;\n        funcName = body[i].replaceWith;\n      }\n    }\n\n    if (overIndex !== -1 && funcName) {\n      var numerNode;\n      var denomNode;\n      var numerBody = body.slice(0, overIndex);\n      var denomBody = body.slice(overIndex + 1);\n\n      if (numerBody.length === 1 && numerBody[0].type === \"ordgroup\") {\n        numerNode = numerBody[0];\n      } else {\n        numerNode = {\n          type: \"ordgroup\",\n          mode: this.mode,\n          body: numerBody\n        };\n      }\n\n      if (denomBody.length === 1 && denomBody[0].type === \"ordgroup\") {\n        denomNode = denomBody[0];\n      } else {\n        denomNode = {\n          type: \"ordgroup\",\n          mode: this.mode,\n          body: denomBody\n        };\n      }\n\n      var node;\n\n      if (funcName === \"\\\\\\\\abovefrac\") {\n        node = this.callFunction(funcName, [numerNode, body[overIndex], denomNode], []);\n      } else {\n        node = this.callFunction(funcName, [numerNode, denomNode], []);\n      }\n\n      return [node];\n    } else {\n      return body;\n    }\n  }\n  /**\n   * Handle a subscript or superscript with nice errors.\n   */\n\n\n  handleSupSubscript(name // For error reporting.\n  ) {\n    var symbolToken = this.fetch();\n    var symbol = symbolToken.text;\n    this.consume();\n    this.consumeSpaces(); // ignore spaces before sup/subscript argument\n    // Skip over allowed internal nodes such as \\relax\n\n    var group;\n\n    do {\n      var _group;\n\n      group = this.parseGroup(name);\n    } while (((_group = group) == null ? void 0 : _group.type) === \"internal\");\n\n    if (!group) {\n      throw new ParseError(\"Expected group after '\" + symbol + \"'\", symbolToken);\n    }\n\n    return group;\n  }\n  /**\n   * Converts the textual input of an unsupported command into a text node\n   * contained within a color node whose color is determined by errorColor\n   */\n\n\n  formatUnsupportedCmd(text) {\n    var textordArray = [];\n\n    for (var i = 0; i < text.length; i++) {\n      textordArray.push({\n        type: \"textord\",\n        mode: \"text\",\n        text: text[i]\n      });\n    }\n\n    var textNode = {\n      type: \"text\",\n      mode: this.mode,\n      body: textordArray\n    };\n    var colorNode = {\n      type: \"color\",\n      mode: this.mode,\n      color: this.settings.errorColor,\n      body: [textNode]\n    };\n    return colorNode;\n  }\n  /**\n   * Parses a group with optional super/subscripts.\n   */\n\n\n  parseAtom(breakOnTokenText) {\n    // The body of an atom is an implicit group, so that things like\n    // \\left(x\\right)^2 work correctly.\n    var base = this.parseGroup(\"atom\", breakOnTokenText); // Internal nodes (e.g. \\relax) cannot support super/subscripts.\n    // Instead we will pick up super/subscripts with blank base next round.\n\n    if ((base == null ? void 0 : base.type) === \"internal\") {\n      return base;\n    } // In text mode, we don't have superscripts or subscripts\n\n\n    if (this.mode === \"text\") {\n      return base;\n    } // Note that base may be empty (i.e. null) at this point.\n\n\n    var superscript;\n    var subscript;\n\n    while (true) {\n      // Guaranteed in math mode, so eat any spaces first.\n      this.consumeSpaces(); // Lex the first token\n\n      var lex = this.fetch();\n\n      if (lex.text === \"\\\\limits\" || lex.text === \"\\\\nolimits\") {\n        // We got a limit control\n        if (base && base.type === \"op\") {\n          var limits = lex.text === \"\\\\limits\";\n          base.limits = limits;\n          base.alwaysHandleSupSub = true;\n        } else if (base && base.type === \"operatorname\") {\n          if (base.alwaysHandleSupSub) {\n            base.limits = lex.text === \"\\\\limits\";\n          }\n        } else {\n          throw new ParseError(\"Limit controls must follow a math operator\", lex);\n        }\n\n        this.consume();\n      } else if (lex.text === \"^\") {\n        // We got a superscript start\n        if (superscript) {\n          throw new ParseError(\"Double superscript\", lex);\n        }\n\n        superscript = this.handleSupSubscript(\"superscript\");\n      } else if (lex.text === \"_\") {\n        // We got a subscript start\n        if (subscript) {\n          throw new ParseError(\"Double subscript\", lex);\n        }\n\n        subscript = this.handleSupSubscript(\"subscript\");\n      } else if (lex.text === \"'\") {\n        // We got a prime\n        if (superscript) {\n          throw new ParseError(\"Double superscript\", lex);\n        }\n\n        var prime = {\n          type: \"textord\",\n          mode: this.mode,\n          text: \"\\\\prime\"\n        }; // Many primes can be grouped together, so we handle this here\n\n        var primes = [prime];\n        this.consume(); // Keep lexing tokens until we get something that's not a prime\n\n        while (this.fetch().text === \"'\") {\n          // For each one, add another prime to the list\n          primes.push(prime);\n          this.consume();\n        } // If there's a superscript following the primes, combine that\n        // superscript in with the primes.\n\n\n        if (this.fetch().text === \"^\") {\n          primes.push(this.handleSupSubscript(\"superscript\"));\n        } // Put everything into an ordgroup as the superscript\n\n\n        superscript = {\n          type: \"ordgroup\",\n          mode: this.mode,\n          body: primes\n        };\n      } else if (uSubsAndSups[lex.text]) {\n        // A Unicode subscript or superscript character.\n        // We treat these similarly to the unicode-math package.\n        // So we render a string of Unicode (sub|super)scripts the\n        // same as a (sub|super)script of regular characters.\n        var isSub = unicodeSubRegEx.test(lex.text);\n        var subsupTokens = [];\n        subsupTokens.push(new Token(uSubsAndSups[lex.text]));\n        this.consume(); // Continue fetching tokens to fill out the string.\n\n        while (true) {\n          var token = this.fetch().text;\n\n          if (!uSubsAndSups[token]) {\n            break;\n          }\n\n          if (unicodeSubRegEx.test(token) !== isSub) {\n            break;\n          }\n\n          subsupTokens.unshift(new Token(uSubsAndSups[token]));\n          this.consume();\n        } // Now create a (sub|super)script.\n\n\n        var body = this.subparse(subsupTokens);\n\n        if (isSub) {\n          subscript = {\n            type: \"ordgroup\",\n            mode: \"math\",\n            body\n          };\n        } else {\n          superscript = {\n            type: \"ordgroup\",\n            mode: \"math\",\n            body\n          };\n        }\n      } else {\n        // If it wasn't ^, _, or ', stop parsing super/subscripts\n        break;\n      }\n    } // Base must be set if superscript or subscript are set per logic above,\n    // but need to check here for type check to pass.\n\n\n    if (superscript || subscript) {\n      // If we got either a superscript or subscript, create a supsub\n      return {\n        type: \"supsub\",\n        mode: this.mode,\n        base: base,\n        sup: superscript,\n        sub: subscript\n      };\n    } else {\n      // Otherwise return the original body\n      return base;\n    }\n  }\n  /**\n   * Parses an entire function, including its base and all of its arguments.\n   */\n\n\n  parseFunction(breakOnTokenText, name // For determining its context\n  ) {\n    var token = this.fetch();\n    var func = token.text;\n    var funcData = functions[func];\n\n    if (!funcData) {\n      return null;\n    }\n\n    this.consume(); // consume command token\n\n    if (name && name !== \"atom\" && !funcData.allowedInArgument) {\n      throw new ParseError(\"Got function '\" + func + \"' with no arguments\" + (name ? \" as \" + name : \"\"), token);\n    } else if (this.mode === \"text\" && !funcData.allowedInText) {\n      throw new ParseError(\"Can't use function '\" + func + \"' in text mode\", token);\n    } else if (this.mode === \"math\" && funcData.allowedInMath === false) {\n      throw new ParseError(\"Can't use function '\" + func + \"' in math mode\", token);\n    }\n\n    var {\n      args,\n      optArgs\n    } = this.parseArguments(func, funcData);\n    return this.callFunction(func, args, optArgs, token, breakOnTokenText);\n  }\n  /**\n   * Call a function handler with a suitable context and arguments.\n   */\n\n\n  callFunction(name, args, optArgs, token, breakOnTokenText) {\n    var context = {\n      funcName: name,\n      parser: this,\n      token,\n      breakOnTokenText\n    };\n    var func = functions[name];\n\n    if (func && func.handler) {\n      return func.handler(context, args, optArgs);\n    } else {\n      throw new ParseError(\"No function handler for \" + name);\n    }\n  }\n  /**\n   * Parses the arguments of a function or environment\n   */\n\n\n  parseArguments(func, // Should look like \"\\name\" or \"\\begin{name}\".\n  funcData) {\n    var totalArgs = funcData.numArgs + funcData.numOptionalArgs;\n\n    if (totalArgs === 0) {\n      return {\n        args: [],\n        optArgs: []\n      };\n    }\n\n    var args = [];\n    var optArgs = [];\n\n    for (var i = 0; i < totalArgs; i++) {\n      var argType = funcData.argTypes && funcData.argTypes[i];\n      var isOptional = i < funcData.numOptionalArgs;\n\n      if (funcData.primitive && argType == null || // \\sqrt expands into primitive if optional argument doesn't exist\n      funcData.type === \"sqrt\" && i === 1 && optArgs[0] == null) {\n        argType = \"primitive\";\n      }\n\n      var arg = this.parseGroupOfType(\"argument to '\" + func + \"'\", argType, isOptional);\n\n      if (isOptional) {\n        optArgs.push(arg);\n      } else if (arg != null) {\n        args.push(arg);\n      } else {\n        // should be unreachable\n        throw new ParseError(\"Null argument, please report this as a bug\");\n      }\n    }\n\n    return {\n      args,\n      optArgs\n    };\n  }\n  /**\n   * Parses a group when the mode is changing.\n   */\n\n\n  parseGroupOfType(name, type, optional) {\n    switch (type) {\n      case \"color\":\n        return this.parseColorGroup(optional);\n\n      case \"size\":\n        return this.parseSizeGroup(optional);\n\n      case \"url\":\n        return this.parseUrlGroup(optional);\n\n      case \"math\":\n      case \"text\":\n        return this.parseArgumentGroup(optional, type);\n\n      case \"hbox\":\n        {\n          // hbox argument type wraps the argument in the equivalent of\n          // \\hbox, which is like \\text but switching to \\textstyle size.\n          var group = this.parseArgumentGroup(optional, \"text\");\n          return group != null ? {\n            type: \"styling\",\n            mode: group.mode,\n            body: [group],\n            style: \"text\" // simulate \\textstyle\n\n          } : null;\n        }\n\n      case \"raw\":\n        {\n          var token = this.parseStringGroup(\"raw\", optional);\n          return token != null ? {\n            type: \"raw\",\n            mode: \"text\",\n            string: token.text\n          } : null;\n        }\n\n      case \"primitive\":\n        {\n          if (optional) {\n            throw new ParseError(\"A primitive argument cannot be optional\");\n          }\n\n          var _group2 = this.parseGroup(name);\n\n          if (_group2 == null) {\n            throw new ParseError(\"Expected group as \" + name, this.fetch());\n          }\n\n          return _group2;\n        }\n\n      case \"original\":\n      case null:\n      case undefined:\n        return this.parseArgumentGroup(optional);\n\n      default:\n        throw new ParseError(\"Unknown group type as \" + name, this.fetch());\n    }\n  }\n  /**\n   * Discard any space tokens, fetching the next non-space token.\n   */\n\n\n  consumeSpaces() {\n    while (this.fetch().text === \" \") {\n      this.consume();\n    }\n  }\n  /**\n   * Parses a group, essentially returning the string formed by the\n   * brace-enclosed tokens plus some position information.\n   */\n\n\n  parseStringGroup(modeName, // Used to describe the mode in error messages.\n  optional) {\n    var argToken = this.gullet.scanArgument(optional);\n\n    if (argToken == null) {\n      return null;\n    }\n\n    var str = \"\";\n    var nextToken;\n\n    while ((nextToken = this.fetch()).text !== \"EOF\") {\n      str += nextToken.text;\n      this.consume();\n    }\n\n    this.consume(); // consume the end of the argument\n\n    argToken.text = str;\n    return argToken;\n  }\n  /**\n   * Parses a regex-delimited group: the largest sequence of tokens\n   * whose concatenated strings match `regex`. Returns the string\n   * formed by the tokens plus some position information.\n   */\n\n\n  parseRegexGroup(regex, modeName // Used to describe the mode in error messages.\n  ) {\n    var firstToken = this.fetch();\n    var lastToken = firstToken;\n    var str = \"\";\n    var nextToken;\n\n    while ((nextToken = this.fetch()).text !== \"EOF\" && regex.test(str + nextToken.text)) {\n      lastToken = nextToken;\n      str += lastToken.text;\n      this.consume();\n    }\n\n    if (str === \"\") {\n      throw new ParseError(\"Invalid \" + modeName + \": '\" + firstToken.text + \"'\", firstToken);\n    }\n\n    return firstToken.range(lastToken, str);\n  }\n  /**\n   * Parses a color description.\n   */\n\n\n  parseColorGroup(optional) {\n    var res = this.parseStringGroup(\"color\", optional);\n\n    if (res == null) {\n      return null;\n    }\n\n    var match = /^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(res.text);\n\n    if (!match) {\n      throw new ParseError(\"Invalid color: '\" + res.text + \"'\", res);\n    }\n\n    var color = match[0];\n\n    if (/^[0-9a-f]{6}$/i.test(color)) {\n      // We allow a 6-digit HTML color spec without a leading \"#\".\n      // This follows the xcolor package's HTML color model.\n      // Predefined color names are all missed by this RegEx pattern.\n      color = \"#\" + color;\n    }\n\n    return {\n      type: \"color-token\",\n      mode: this.mode,\n      color\n    };\n  }\n  /**\n   * Parses a size specification, consisting of magnitude and unit.\n   */\n\n\n  parseSizeGroup(optional) {\n    var res;\n    var isBlank = false; // don't expand before parseStringGroup\n\n    this.gullet.consumeSpaces();\n\n    if (!optional && this.gullet.future().text !== \"{\") {\n      res = this.parseRegexGroup(/^[-+]? *(?:$|\\d+|\\d+\\.\\d*|\\.\\d*) *[a-z]{0,2} *$/, \"size\");\n    } else {\n      res = this.parseStringGroup(\"size\", optional);\n    }\n\n    if (!res) {\n      return null;\n    }\n\n    if (!optional && res.text.length === 0) {\n      // Because we've tested for what is !optional, this block won't\n      // affect \\kern, \\hspace, etc. It will capture the mandatory arguments\n      // to \\genfrac and \\above.\n      res.text = \"0pt\"; // Enable \\above{}\n\n      isBlank = true; // This is here specifically for \\genfrac\n    }\n\n    var match = /([-+]?) *(\\d+(?:\\.\\d*)?|\\.\\d+) *([a-z]{2})/.exec(res.text);\n\n    if (!match) {\n      throw new ParseError(\"Invalid size: '\" + res.text + \"'\", res);\n    }\n\n    var data = {\n      number: +(match[1] + match[2]),\n      // sign + magnitude, cast to number\n      unit: match[3]\n    };\n\n    if (!validUnit(data)) {\n      throw new ParseError(\"Invalid unit: '\" + data.unit + \"'\", res);\n    }\n\n    return {\n      type: \"size\",\n      mode: this.mode,\n      value: data,\n      isBlank\n    };\n  }\n  /**\n   * Parses an URL, checking escaped letters and allowed protocols,\n   * and setting the catcode of % as an active character (as in \\hyperref).\n   */\n\n\n  parseUrlGroup(optional) {\n    this.gullet.lexer.setCatcode(\"%\", 13); // active character\n\n    this.gullet.lexer.setCatcode(\"~\", 12); // other character\n\n    var res = this.parseStringGroup(\"url\", optional);\n    this.gullet.lexer.setCatcode(\"%\", 14); // comment character\n\n    this.gullet.lexer.setCatcode(\"~\", 13); // active character\n\n    if (res == null) {\n      return null;\n    } // hyperref package allows backslashes alone in href, but doesn't\n    // generate valid links in such cases; we interpret this as\n    // \"undefined\" behaviour, and keep them as-is. Some browser will\n    // replace backslashes with forward slashes.\n\n\n    var url = res.text.replace(/\\\\([#$%&~_^{}])/g, '$1');\n    return {\n      type: \"url\",\n      mode: this.mode,\n      url\n    };\n  }\n  /**\n   * Parses an argument with the mode specified.\n   */\n\n\n  parseArgumentGroup(optional, mode) {\n    var argToken = this.gullet.scanArgument(optional);\n\n    if (argToken == null) {\n      return null;\n    }\n\n    var outerMode = this.mode;\n\n    if (mode) {\n      // Switch to specified mode\n      this.switchMode(mode);\n    }\n\n    this.gullet.beginGroup();\n    var expression = this.parseExpression(false, \"EOF\"); // TODO: find an alternative way to denote the end\n\n    this.expect(\"EOF\"); // expect the end of the argument\n\n    this.gullet.endGroup();\n    var result = {\n      type: \"ordgroup\",\n      mode: this.mode,\n      loc: argToken.loc,\n      body: expression\n    };\n\n    if (mode) {\n      // Switch mode back\n      this.switchMode(outerMode);\n    }\n\n    return result;\n  }\n  /**\n   * Parses an ordinary group, which is either a single nucleus (like \"x\")\n   * or an expression in braces (like \"{x+y}\") or an implicit group, a group\n   * that starts at the current position, and ends right before a higher explicit\n   * group ends, or at EOF.\n   */\n\n\n  parseGroup(name, // For error reporting.\n  breakOnTokenText) {\n    var firstToken = this.fetch();\n    var text = firstToken.text;\n    var result; // Try to parse an open brace or \\begingroup\n\n    if (text === \"{\" || text === \"\\\\begingroup\") {\n      this.consume();\n      var groupEnd = text === \"{\" ? \"}\" : \"\\\\endgroup\";\n      this.gullet.beginGroup(); // If we get a brace, parse an expression\n\n      var expression = this.parseExpression(false, groupEnd);\n      var lastToken = this.fetch();\n      this.expect(groupEnd); // Check that we got a matching closing brace\n\n      this.gullet.endGroup();\n      result = {\n        type: \"ordgroup\",\n        mode: this.mode,\n        loc: SourceLocation.range(firstToken, lastToken),\n        body: expression,\n        // A group formed by \\begingroup...\\endgroup is a semi-simple group\n        // which doesn't affect spacing in math mode, i.e., is transparent.\n        // https://tex.stackexchange.com/questions/1930/when-should-one-\n        // use-begingroup-instead-of-bgroup\n        semisimple: text === \"\\\\begingroup\" || undefined\n      };\n    } else {\n      // If there exists a function with this name, parse the function.\n      // Otherwise, just return a nucleus\n      result = this.parseFunction(breakOnTokenText, name) || this.parseSymbol();\n\n      if (result == null && text[0] === \"\\\\\" && !implicitCommands.hasOwnProperty(text)) {\n        if (this.settings.throwOnError) {\n          throw new ParseError(\"Undefined control sequence: \" + text, firstToken);\n        }\n\n        result = this.formatUnsupportedCmd(text);\n        this.consume();\n      }\n    }\n\n    return result;\n  }\n  /**\n   * Form ligature-like combinations of characters for text mode.\n   * This includes inputs like \"--\", \"---\", \"``\" and \"''\".\n   * The result will simply replace multiple textord nodes with a single\n   * character in each value by a single textord node having multiple\n   * characters in its value.  The representation is still ASCII source.\n   * The group will be modified in place.\n   */\n\n\n  formLigatures(group) {\n    var n = group.length - 1;\n\n    for (var i = 0; i < n; ++i) {\n      var a = group[i]; // $FlowFixMe: Not every node type has a `text` property.\n\n      var v = a.text;\n\n      if (v === \"-\" && group[i + 1].text === \"-\") {\n        if (i + 1 < n && group[i + 2].text === \"-\") {\n          group.splice(i, 3, {\n            type: \"textord\",\n            mode: \"text\",\n            loc: SourceLocation.range(a, group[i + 2]),\n            text: \"---\"\n          });\n          n -= 2;\n        } else {\n          group.splice(i, 2, {\n            type: \"textord\",\n            mode: \"text\",\n            loc: SourceLocation.range(a, group[i + 1]),\n            text: \"--\"\n          });\n          n -= 1;\n        }\n      }\n\n      if ((v === \"'\" || v === \"`\") && group[i + 1].text === v) {\n        group.splice(i, 2, {\n          type: \"textord\",\n          mode: \"text\",\n          loc: SourceLocation.range(a, group[i + 1]),\n          text: v + v\n        });\n        n -= 1;\n      }\n    }\n  }\n  /**\n   * Parse a single symbol out of the string. Here, we handle single character\n   * symbols and special functions like \\verb.\n   */\n\n\n  parseSymbol() {\n    var nucleus = this.fetch();\n    var text = nucleus.text;\n\n    if (/^\\\\verb[^a-zA-Z]/.test(text)) {\n      this.consume();\n      var arg = text.slice(5);\n      var star = arg.charAt(0) === \"*\";\n\n      if (star) {\n        arg = arg.slice(1);\n      } // Lexer's tokenRegex is constructed to always have matching\n      // first/last characters.\n\n\n      if (arg.length < 2 || arg.charAt(0) !== arg.slice(-1)) {\n        throw new ParseError(\"\\\\verb assertion failed --\\n                    please report what input caused this bug\");\n      }\n\n      arg = arg.slice(1, -1); // remove first and last char\n\n      return {\n        type: \"verb\",\n        mode: \"text\",\n        body: arg,\n        star\n      };\n    } // At this point, we should have a symbol, possibly with accents.\n    // First expand any accented base symbol according to unicodeSymbols.\n\n\n    if (unicodeSymbols.hasOwnProperty(text[0]) && !symbols[this.mode][text[0]]) {\n      // This behavior is not strict (XeTeX-compatible) in math mode.\n      if (this.settings.strict && this.mode === \"math\") {\n        this.settings.reportNonstrict(\"unicodeTextInMathMode\", \"Accented Unicode text character \\\"\" + text[0] + \"\\\" used in \" + \"math mode\", nucleus);\n      }\n\n      text = unicodeSymbols[text[0]] + text.slice(1);\n    } // Strip off any combining characters\n\n\n    var match = combiningDiacriticalMarksEndRegex.exec(text);\n\n    if (match) {\n      text = text.substring(0, match.index);\n\n      if (text === 'i') {\n        text = '\\u0131'; // dotless i, in math and text mode\n      } else if (text === 'j') {\n        text = '\\u0237'; // dotless j, in math and text mode\n      }\n    } // Recognize base symbol\n\n\n    var symbol;\n\n    if (symbols[this.mode][text]) {\n      if (this.settings.strict && this.mode === 'math' && extraLatin.indexOf(text) >= 0) {\n        this.settings.reportNonstrict(\"unicodeTextInMathMode\", \"Latin-1/Unicode text character \\\"\" + text[0] + \"\\\" used in \" + \"math mode\", nucleus);\n      }\n\n      var group = symbols[this.mode][text].group;\n      var loc = SourceLocation.range(nucleus);\n      var s;\n\n      if (ATOMS.hasOwnProperty(group)) {\n        // $FlowFixMe\n        var family = group;\n        s = {\n          type: \"atom\",\n          mode: this.mode,\n          family,\n          loc,\n          text\n        };\n      } else {\n        // $FlowFixMe\n        s = {\n          type: group,\n          mode: this.mode,\n          loc,\n          text\n        };\n      } // $FlowFixMe\n\n\n      symbol = s;\n    } else if (text.charCodeAt(0) >= 0x80) {\n      // no symbol for e.g. ^\n      if (this.settings.strict) {\n        if (!supportedCodepoint(text.charCodeAt(0))) {\n          this.settings.reportNonstrict(\"unknownSymbol\", \"Unrecognized Unicode character \\\"\" + text[0] + \"\\\"\" + (\" (\" + text.charCodeAt(0) + \")\"), nucleus);\n        } else if (this.mode === \"math\") {\n          this.settings.reportNonstrict(\"unicodeTextInMathMode\", \"Unicode text character \\\"\" + text[0] + \"\\\" used in math mode\", nucleus);\n        }\n      } // All nonmathematical Unicode characters are rendered as if they\n      // are in text mode (wrapped in \\text) because that's what it\n      // takes to render them in LaTeX.  Setting `mode: this.mode` is\n      // another natural choice (the user requested math mode), but\n      // this makes it more difficult for getCharacterMetrics() to\n      // distinguish Unicode characters without metrics and those for\n      // which we want to simulate the letter M.\n\n\n      symbol = {\n        type: \"textord\",\n        mode: \"text\",\n        loc: SourceLocation.range(nucleus),\n        text\n      };\n    } else {\n      return null; // EOF, ^, _, {, }, etc.\n    }\n\n    this.consume(); // Transform combining characters into accents\n\n    if (match) {\n      for (var i = 0; i < match[0].length; i++) {\n        var accent = match[0][i];\n\n        if (!unicodeAccents[accent]) {\n          throw new ParseError(\"Unknown accent ' \" + accent + \"'\", nucleus);\n        }\n\n        var command = unicodeAccents[accent][this.mode] || unicodeAccents[accent].text;\n\n        if (!command) {\n          throw new ParseError(\"Accent \" + accent + \" unsupported in \" + this.mode + \" mode\", nucleus);\n        }\n\n        symbol = {\n          type: \"accent\",\n          mode: this.mode,\n          loc: SourceLocation.range(nucleus),\n          label: command,\n          isStretchy: false,\n          isShifty: true,\n          // $FlowFixMe\n          base: symbol\n        };\n      }\n    } // $FlowFixMe\n\n\n    return symbol;\n  }\n\n}\nParser.endOfExpression = [\"}\", \"\\\\endgroup\", \"\\\\end\", \"\\\\right\", \"&\"];\n\n/**\n * Provides a single function for parsing an expression using a Parser\n * TODO(emily): Remove this\n */\n\n/**\n * Parses an expression using a Parser, then returns the parsed result.\n */\nvar parseTree = function parseTree(toParse, settings) {\n  if (!(typeof toParse === 'string' || toParse instanceof String)) {\n    throw new TypeError('KaTeX can only parse string typed expression');\n  }\n\n  var parser = new Parser(toParse, settings); // Blank out any \\df@tag to avoid spurious \"Duplicate \\tag\" errors\n\n  delete parser.gullet.macros.current[\"\\\\df@tag\"];\n  var tree = parser.parse(); // Prevent a color definition from persisting between calls to katex.render().\n\n  delete parser.gullet.macros.current[\"\\\\current@color\"];\n  delete parser.gullet.macros.current[\"\\\\color\"]; // If the input used \\tag, it will set the \\df@tag macro to the tag.\n  // In this case, we separately parse the tag and wrap the tree.\n\n  if (parser.gullet.macros.get(\"\\\\df@tag\")) {\n    if (!settings.displayMode) {\n      throw new ParseError(\"\\\\tag works only in display equations\");\n    }\n\n    tree = [{\n      type: \"tag\",\n      mode: \"text\",\n      body: tree,\n      tag: parser.subparse([new Token(\"\\\\df@tag\")])\n    }];\n  }\n\n  return tree;\n};\n\n/* eslint no-console:0 */\n\n/**\n * Parse and build an expression, and place that expression in the DOM node\n * given.\n */\nvar render = function render(expression, baseNode, options) {\n  baseNode.textContent = \"\";\n  var node = renderToDomTree(expression, options).toNode();\n  baseNode.appendChild(node);\n}; // KaTeX's styles don't work properly in quirks mode. Print out an error, and\n// disable rendering.\n\n\nif (typeof document !== \"undefined\") {\n  if (document.compatMode !== \"CSS1Compat\") {\n    typeof console !== \"undefined\" && console.warn(\"Warning: KaTeX doesn't work in quirks mode. Make sure your \" + \"website has a suitable doctype.\");\n\n    render = function render() {\n      throw new ParseError(\"KaTeX doesn't work in quirks mode.\");\n    };\n  }\n}\n/**\n * Parse and build an expression, and return the markup for that.\n */\n\n\nvar renderToString = function renderToString(expression, options) {\n  var markup = renderToDomTree(expression, options).toMarkup();\n  return markup;\n};\n/**\n * Parse an expression and return the parse tree.\n */\n\n\nvar generateParseTree = function generateParseTree(expression, options) {\n  var settings = new Settings(options);\n  return parseTree(expression, settings);\n};\n/**\n * If the given error is a KaTeX ParseError and options.throwOnError is false,\n * renders the invalid LaTeX as a span with hover title giving the KaTeX\n * error message.  Otherwise, simply throws the error.\n */\n\n\nvar renderError = function renderError(error, expression, options) {\n  if (options.throwOnError || !(error instanceof ParseError)) {\n    throw error;\n  }\n\n  var node = buildCommon.makeSpan([\"katex-error\"], [new SymbolNode(expression)]);\n  node.setAttribute(\"title\", error.toString());\n  node.setAttribute(\"style\", \"color:\" + options.errorColor);\n  return node;\n};\n/**\n * Generates and returns the katex build tree. This is used for advanced\n * use cases (like rendering to custom output).\n */\n\n\nvar renderToDomTree = function renderToDomTree(expression, options) {\n  var settings = new Settings(options);\n\n  try {\n    var tree = parseTree(expression, settings);\n    return buildTree(tree, expression, settings);\n  } catch (error) {\n    return renderError(error, expression, settings);\n  }\n};\n/**\n * Generates and returns the katex build tree, with just HTML (no MathML).\n * This is used for advanced use cases (like rendering to custom output).\n */\n\n\nvar renderToHTMLTree = function renderToHTMLTree(expression, options) {\n  var settings = new Settings(options);\n\n  try {\n    var tree = parseTree(expression, settings);\n    return buildHTMLTree(tree, expression, settings);\n  } catch (error) {\n    return renderError(error, expression, settings);\n  }\n};\n\nvar version = \"0.16.25\";\nvar __domTree = {\n  Span,\n  Anchor,\n  SymbolNode,\n  SvgNode,\n  PathNode,\n  LineNode\n}; // ESM exports\n\nvar katex = {\n  /**\n   * Current KaTeX version\n   */\n  version,\n\n  /**\n   * Renders the given LaTeX into an HTML+MathML combination, and adds\n   * it as a child to the specified DOM node.\n   */\n  render,\n\n  /**\n   * Renders the given LaTeX into an HTML+MathML combination string,\n   * for sending to the client.\n   */\n  renderToString,\n\n  /**\n   * KaTeX error, usually during parsing.\n   */\n  ParseError,\n\n  /**\n   * The schema of Settings\n   */\n  SETTINGS_SCHEMA,\n\n  /**\n   * Parses the given LaTeX into KaTeX's internal parse tree structure,\n   * without rendering to HTML or MathML.\n   *\n   * NOTE: This method is not currently recommended for public use.\n   * The internal tree representation is unstable and is very likely\n   * to change. Use at your own risk.\n   */\n  __parse: generateParseTree,\n\n  /**\n   * Renders the given LaTeX into an HTML+MathML internal DOM tree\n   * representation, without flattening that representation to a string.\n   *\n   * NOTE: This method is not currently recommended for public use.\n   * The internal tree representation is unstable and is very likely\n   * to change. Use at your own risk.\n   */\n  __renderToDomTree: renderToDomTree,\n\n  /**\n   * Renders the given LaTeX into an HTML internal DOM tree representation,\n   * without MathML and without flattening that representation to a string.\n   *\n   * NOTE: This method is not currently recommended for public use.\n   * The internal tree representation is unstable and is very likely\n   * to change. Use at your own risk.\n   */\n  __renderToHTMLTree: renderToHTMLTree,\n\n  /**\n   * extends internal font metrics object with a new object\n   * each key in the new object represents a font name\n  */\n  __setFontMetrics: setFontMetrics,\n\n  /**\n   * adds a new symbol to builtin symbols table\n   */\n  __defineSymbol: defineSymbol,\n\n  /**\n   * adds a new function to builtin function list,\n   * which directly produce parse tree elements\n   * and have their own html/mathml builders\n   */\n  __defineFunction: defineFunction,\n\n  /**\n   * adds a new macro to builtin macro list\n   */\n  __defineMacro: defineMacro,\n\n  /**\n   * Expose the dom tree node types, which can be useful for type checking nodes.\n   *\n   * NOTE: These methods are not currently recommended for public use.\n   * The internal tree representation is unstable and is very likely\n   * to change. Use at your own risk.\n   */\n  __domTree\n};\n\nexport { ParseError, SETTINGS_SCHEMA, defineFunction as __defineFunction, defineMacro as __defineMacro, defineSymbol as __defineSymbol, __domTree, generateParseTree as __parse, renderToDomTree as __renderToDomTree, renderToHTMLTree as __renderToHTMLTree, setFontMetrics as __setFontMetrics, katex as default, render, renderToString, version };\n","// Generated using scripts/write-decode-map.ts\nexport const htmlDecodeTree = /* #__PURE__ */ new Uint16Array(\n// prettier-ignore\n/* #__PURE__ */ \"\\u1d41<\\xd5\\u0131\\u028a\\u049d\\u057b\\u05d0\\u0675\\u06de\\u07a2\\u07d6\\u080f\\u0a4a\\u0a91\\u0da1\\u0e6d\\u0f09\\u0f26\\u10ca\\u1228\\u12e1\\u1415\\u149d\\u14c3\\u14df\\u1525\\0\\0\\0\\0\\0\\0\\u156b\\u16cd\\u198d\\u1c12\\u1ddd\\u1f7e\\u2060\\u21b0\\u228d\\u23c0\\u23fb\\u2442\\u2824\\u2912\\u2d08\\u2e48\\u2fce\\u3016\\u32ba\\u3639\\u37ac\\u38fe\\u3a28\\u3a71\\u3ae0\\u3b2e\\u0800EMabcfglmnoprstu\\\\bfms\\x7f\\x84\\x8b\\x90\\x95\\x98\\xa6\\xb3\\xb9\\xc8\\xcflig\\u803b\\xc6\\u40c6P\\u803b&\\u4026cute\\u803b\\xc1\\u40c1reve;\\u4102\\u0100iyx}rc\\u803b\\xc2\\u40c2;\\u4410r;\\uc000\\ud835\\udd04rave\\u803b\\xc0\\u40c0pha;\\u4391acr;\\u4100d;\\u6a53\\u0100gp\\x9d\\xa1on;\\u4104f;\\uc000\\ud835\\udd38plyFunction;\\u6061ing\\u803b\\xc5\\u40c5\\u0100cs\\xbe\\xc3r;\\uc000\\ud835\\udc9cign;\\u6254ilde\\u803b\\xc3\\u40c3ml\\u803b\\xc4\\u40c4\\u0400aceforsu\\xe5\\xfb\\xfe\\u0117\\u011c\\u0122\\u0127\\u012a\\u0100cr\\xea\\xf2kslash;\\u6216\\u0176\\xf6\\xf8;\\u6ae7ed;\\u6306y;\\u4411\\u0180crt\\u0105\\u010b\\u0114ause;\\u6235noullis;\\u612ca;\\u4392r;\\uc000\\ud835\\udd05pf;\\uc000\\ud835\\udd39eve;\\u42d8c\\xf2\\u0113mpeq;\\u624e\\u0700HOacdefhilorsu\\u014d\\u0151\\u0156\\u0180\\u019e\\u01a2\\u01b5\\u01b7\\u01ba\\u01dc\\u0215\\u0273\\u0278\\u027ecy;\\u4427PY\\u803b\\xa9\\u40a9\\u0180cpy\\u015d\\u0162\\u017aute;\\u4106\\u0100;i\\u0167\\u0168\\u62d2talDifferentialD;\\u6145leys;\\u612d\\u0200aeio\\u0189\\u018e\\u0194\\u0198ron;\\u410cdil\\u803b\\xc7\\u40c7rc;\\u4108nint;\\u6230ot;\\u410a\\u0100dn\\u01a7\\u01adilla;\\u40b8terDot;\\u40b7\\xf2\\u017fi;\\u43a7rcle\\u0200DMPT\\u01c7\\u01cb\\u01d1\\u01d6ot;\\u6299inus;\\u6296lus;\\u6295imes;\\u6297o\\u0100cs\\u01e2\\u01f8kwiseContourIntegral;\\u6232eCurly\\u0100DQ\\u0203\\u020foubleQuote;\\u601duote;\\u6019\\u0200lnpu\\u021e\\u0228\\u0247\\u0255on\\u0100;e\\u0225\\u0226\\u6237;\\u6a74\\u0180git\\u022f\\u0236\\u023aruent;\\u6261nt;\\u622fourIntegral;\\u622e\\u0100fr\\u024c\\u024e;\\u6102oduct;\\u6210nterClockwiseContourIntegral;\\u6233oss;\\u6a2fcr;\\uc000\\ud835\\udc9ep\\u0100;C\\u0284\\u0285\\u62d3ap;\\u624d\\u0580DJSZacefios\\u02a0\\u02ac\\u02b0\\u02b4\\u02b8\\u02cb\\u02d7\\u02e1\\u02e6\\u0333\\u048d\\u0100;o\\u0179\\u02a5trahd;\\u6911cy;\\u4402cy;\\u4405cy;\\u440f\\u0180grs\\u02bf\\u02c4\\u02c7ger;\\u6021r;\\u61a1hv;\\u6ae4\\u0100ay\\u02d0\\u02d5ron;\\u410e;\\u4414l\\u0100;t\\u02dd\\u02de\\u6207a;\\u4394r;\\uc000\\ud835\\udd07\\u0100af\\u02eb\\u0327\\u0100cm\\u02f0\\u0322ritical\\u0200ADGT\\u0300\\u0306\\u0316\\u031ccute;\\u40b4o\\u0174\\u030b\\u030d;\\u42d9bleAcute;\\u42ddrave;\\u4060ilde;\\u42dcond;\\u62c4ferentialD;\\u6146\\u0470\\u033d\\0\\0\\0\\u0342\\u0354\\0\\u0405f;\\uc000\\ud835\\udd3b\\u0180;DE\\u0348\\u0349\\u034d\\u40a8ot;\\u60dcqual;\\u6250ble\\u0300CDLRUV\\u0363\\u0372\\u0382\\u03cf\\u03e2\\u03f8ontourIntegra\\xec\\u0239o\\u0274\\u0379\\0\\0\\u037b\\xbb\\u0349nArrow;\\u61d3\\u0100eo\\u0387\\u03a4ft\\u0180ART\\u0390\\u0396\\u03a1rrow;\\u61d0ightArrow;\\u61d4e\\xe5\\u02cang\\u0100LR\\u03ab\\u03c4eft\\u0100AR\\u03b3\\u03b9rrow;\\u67f8ightArrow;\\u67faightArrow;\\u67f9ight\\u0100AT\\u03d8\\u03derrow;\\u61d2ee;\\u62a8p\\u0241\\u03e9\\0\\0\\u03efrrow;\\u61d1ownArrow;\\u61d5erticalBar;\\u6225n\\u0300ABLRTa\\u0412\\u042a\\u0430\\u045e\\u047f\\u037crrow\\u0180;BU\\u041d\\u041e\\u0422\\u6193ar;\\u6913pArrow;\\u61f5reve;\\u4311eft\\u02d2\\u043a\\0\\u0446\\0\\u0450ightVector;\\u6950eeVector;\\u695eector\\u0100;B\\u0459\\u045a\\u61bdar;\\u6956ight\\u01d4\\u0467\\0\\u0471eeVector;\\u695fector\\u0100;B\\u047a\\u047b\\u61c1ar;\\u6957ee\\u0100;A\\u0486\\u0487\\u62a4rrow;\\u61a7\\u0100ct\\u0492\\u0497r;\\uc000\\ud835\\udc9frok;\\u4110\\u0800NTacdfglmopqstux\\u04bd\\u04c0\\u04c4\\u04cb\\u04de\\u04e2\\u04e7\\u04ee\\u04f5\\u0521\\u052f\\u0536\\u0552\\u055d\\u0560\\u0565G;\\u414aH\\u803b\\xd0\\u40d0cute\\u803b\\xc9\\u40c9\\u0180aiy\\u04d2\\u04d7\\u04dcron;\\u411arc\\u803b\\xca\\u40ca;\\u442dot;\\u4116r;\\uc000\\ud835\\udd08rave\\u803b\\xc8\\u40c8ement;\\u6208\\u0100ap\\u04fa\\u04fecr;\\u4112ty\\u0253\\u0506\\0\\0\\u0512mallSquare;\\u65fberySmallSquare;\\u65ab\\u0100gp\\u0526\\u052aon;\\u4118f;\\uc000\\ud835\\udd3csilon;\\u4395u\\u0100ai\\u053c\\u0549l\\u0100;T\\u0542\\u0543\\u6a75ilde;\\u6242librium;\\u61cc\\u0100ci\\u0557\\u055ar;\\u6130m;\\u6a73a;\\u4397ml\\u803b\\xcb\\u40cb\\u0100ip\\u056a\\u056fsts;\\u6203onentialE;\\u6147\\u0280cfios\\u0585\\u0588\\u058d\\u05b2\\u05ccy;\\u4424r;\\uc000\\ud835\\udd09lled\\u0253\\u0597\\0\\0\\u05a3mallSquare;\\u65fcerySmallSquare;\\u65aa\\u0370\\u05ba\\0\\u05bf\\0\\0\\u05c4f;\\uc000\\ud835\\udd3dAll;\\u6200riertrf;\\u6131c\\xf2\\u05cb\\u0600JTabcdfgorst\\u05e8\\u05ec\\u05ef\\u05fa\\u0600\\u0612\\u0616\\u061b\\u061d\\u0623\\u066c\\u0672cy;\\u4403\\u803b>\\u403emma\\u0100;d\\u05f7\\u05f8\\u4393;\\u43dcreve;\\u411e\\u0180eiy\\u0607\\u060c\\u0610dil;\\u4122rc;\\u411c;\\u4413ot;\\u4120r;\\uc000\\ud835\\udd0a;\\u62d9pf;\\uc000\\ud835\\udd3eeater\\u0300EFGLST\\u0635\\u0644\\u064e\\u0656\\u065b\\u0666qual\\u0100;L\\u063e\\u063f\\u6265ess;\\u62dbullEqual;\\u6267reater;\\u6aa2ess;\\u6277lantEqual;\\u6a7eilde;\\u6273cr;\\uc000\\ud835\\udca2;\\u626b\\u0400Aacfiosu\\u0685\\u068b\\u0696\\u069b\\u069e\\u06aa\\u06be\\u06caRDcy;\\u442a\\u0100ct\\u0690\\u0694ek;\\u42c7;\\u405eirc;\\u4124r;\\u610clbertSpace;\\u610b\\u01f0\\u06af\\0\\u06b2f;\\u610dizontalLine;\\u6500\\u0100ct\\u06c3\\u06c5\\xf2\\u06a9rok;\\u4126mp\\u0144\\u06d0\\u06d8ownHum\\xf0\\u012fqual;\\u624f\\u0700EJOacdfgmnostu\\u06fa\\u06fe\\u0703\\u0707\\u070e\\u071a\\u071e\\u0721\\u0728\\u0744\\u0778\\u078b\\u078f\\u0795cy;\\u4415lig;\\u4132cy;\\u4401cute\\u803b\\xcd\\u40cd\\u0100iy\\u0713\\u0718rc\\u803b\\xce\\u40ce;\\u4418ot;\\u4130r;\\u6111rave\\u803b\\xcc\\u40cc\\u0180;ap\\u0720\\u072f\\u073f\\u0100cg\\u0734\\u0737r;\\u412ainaryI;\\u6148lie\\xf3\\u03dd\\u01f4\\u0749\\0\\u0762\\u0100;e\\u074d\\u074e\\u622c\\u0100gr\\u0753\\u0758ral;\\u622bsection;\\u62c2isible\\u0100CT\\u076c\\u0772omma;\\u6063imes;\\u6062\\u0180gpt\\u077f\\u0783\\u0788on;\\u412ef;\\uc000\\ud835\\udd40a;\\u4399cr;\\u6110ilde;\\u4128\\u01eb\\u079a\\0\\u079ecy;\\u4406l\\u803b\\xcf\\u40cf\\u0280cfosu\\u07ac\\u07b7\\u07bc\\u07c2\\u07d0\\u0100iy\\u07b1\\u07b5rc;\\u4134;\\u4419r;\\uc000\\ud835\\udd0dpf;\\uc000\\ud835\\udd41\\u01e3\\u07c7\\0\\u07ccr;\\uc000\\ud835\\udca5rcy;\\u4408kcy;\\u4404\\u0380HJacfos\\u07e4\\u07e8\\u07ec\\u07f1\\u07fd\\u0802\\u0808cy;\\u4425cy;\\u440cppa;\\u439a\\u0100ey\\u07f6\\u07fbdil;\\u4136;\\u441ar;\\uc000\\ud835\\udd0epf;\\uc000\\ud835\\udd42cr;\\uc000\\ud835\\udca6\\u0580JTaceflmost\\u0825\\u0829\\u082c\\u0850\\u0863\\u09b3\\u09b8\\u09c7\\u09cd\\u0a37\\u0a47cy;\\u4409\\u803b<\\u403c\\u0280cmnpr\\u0837\\u083c\\u0841\\u0844\\u084dute;\\u4139bda;\\u439bg;\\u67ealacetrf;\\u6112r;\\u619e\\u0180aey\\u0857\\u085c\\u0861ron;\\u413ddil;\\u413b;\\u441b\\u0100fs\\u0868\\u0970t\\u0500ACDFRTUVar\\u087e\\u08a9\\u08b1\\u08e0\\u08e6\\u08fc\\u092f\\u095b\\u0390\\u096a\\u0100nr\\u0883\\u088fgleBracket;\\u67e8row\\u0180;BR\\u0899\\u089a\\u089e\\u6190ar;\\u61e4ightArrow;\\u61c6eiling;\\u6308o\\u01f5\\u08b7\\0\\u08c3bleBracket;\\u67e6n\\u01d4\\u08c8\\0\\u08d2eeVector;\\u6961ector\\u0100;B\\u08db\\u08dc\\u61c3ar;\\u6959loor;\\u630aight\\u0100AV\\u08ef\\u08f5rrow;\\u6194ector;\\u694e\\u0100er\\u0901\\u0917e\\u0180;AV\\u0909\\u090a\\u0910\\u62a3rrow;\\u61a4ector;\\u695aiangle\\u0180;BE\\u0924\\u0925\\u0929\\u62b2ar;\\u69cfqual;\\u62b4p\\u0180DTV\\u0937\\u0942\\u094cownVector;\\u6951eeVector;\\u6960ector\\u0100;B\\u0956\\u0957\\u61bfar;\\u6958ector\\u0100;B\\u0965\\u0966\\u61bcar;\\u6952ight\\xe1\\u039cs\\u0300EFGLST\\u097e\\u098b\\u0995\\u099d\\u09a2\\u09adqualGreater;\\u62daullEqual;\\u6266reater;\\u6276ess;\\u6aa1lantEqual;\\u6a7dilde;\\u6272r;\\uc000\\ud835\\udd0f\\u0100;e\\u09bd\\u09be\\u62d8ftarrow;\\u61daidot;\\u413f\\u0180npw\\u09d4\\u0a16\\u0a1bg\\u0200LRlr\\u09de\\u09f7\\u0a02\\u0a10eft\\u0100AR\\u09e6\\u09ecrrow;\\u67f5ightArrow;\\u67f7ightArrow;\\u67f6eft\\u0100ar\\u03b3\\u0a0aight\\xe1\\u03bfight\\xe1\\u03caf;\\uc000\\ud835\\udd43er\\u0100LR\\u0a22\\u0a2ceftArrow;\\u6199ightArrow;\\u6198\\u0180cht\\u0a3e\\u0a40\\u0a42\\xf2\\u084c;\\u61b0rok;\\u4141;\\u626a\\u0400acefiosu\\u0a5a\\u0a5d\\u0a60\\u0a77\\u0a7c\\u0a85\\u0a8b\\u0a8ep;\\u6905y;\\u441c\\u0100dl\\u0a65\\u0a6fiumSpace;\\u605flintrf;\\u6133r;\\uc000\\ud835\\udd10nusPlus;\\u6213pf;\\uc000\\ud835\\udd44c\\xf2\\u0a76;\\u439c\\u0480Jacefostu\\u0aa3\\u0aa7\\u0aad\\u0ac0\\u0b14\\u0b19\\u0d91\\u0d97\\u0d9ecy;\\u440acute;\\u4143\\u0180aey\\u0ab4\\u0ab9\\u0aberon;\\u4147dil;\\u4145;\\u441d\\u0180gsw\\u0ac7\\u0af0\\u0b0eative\\u0180MTV\\u0ad3\\u0adf\\u0ae8ediumSpace;\\u600bhi\\u0100cn\\u0ae6\\u0ad8\\xeb\\u0ad9eryThi\\xee\\u0ad9ted\\u0100GL\\u0af8\\u0b06reaterGreate\\xf2\\u0673essLes\\xf3\\u0a48Line;\\u400ar;\\uc000\\ud835\\udd11\\u0200Bnpt\\u0b22\\u0b28\\u0b37\\u0b3areak;\\u6060BreakingSpace;\\u40a0f;\\u6115\\u0680;CDEGHLNPRSTV\\u0b55\\u0b56\\u0b6a\\u0b7c\\u0ba1\\u0beb\\u0c04\\u0c5e\\u0c84\\u0ca6\\u0cd8\\u0d61\\u0d85\\u6aec\\u0100ou\\u0b5b\\u0b64ngruent;\\u6262pCap;\\u626doubleVerticalBar;\\u6226\\u0180lqx\\u0b83\\u0b8a\\u0b9bement;\\u6209ual\\u0100;T\\u0b92\\u0b93\\u6260ilde;\\uc000\\u2242\\u0338ists;\\u6204reater\\u0380;EFGLST\\u0bb6\\u0bb7\\u0bbd\\u0bc9\\u0bd3\\u0bd8\\u0be5\\u626fqual;\\u6271ullEqual;\\uc000\\u2267\\u0338reater;\\uc000\\u226b\\u0338ess;\\u6279lantEqual;\\uc000\\u2a7e\\u0338ilde;\\u6275ump\\u0144\\u0bf2\\u0bfdownHump;\\uc000\\u224e\\u0338qual;\\uc000\\u224f\\u0338e\\u0100fs\\u0c0a\\u0c27tTriangle\\u0180;BE\\u0c1a\\u0c1b\\u0c21\\u62eaar;\\uc000\\u29cf\\u0338qual;\\u62ecs\\u0300;EGLST\\u0c35\\u0c36\\u0c3c\\u0c44\\u0c4b\\u0c58\\u626equal;\\u6270reater;\\u6278ess;\\uc000\\u226a\\u0338lantEqual;\\uc000\\u2a7d\\u0338ilde;\\u6274ested\\u0100GL\\u0c68\\u0c79reaterGreater;\\uc000\\u2aa2\\u0338essLess;\\uc000\\u2aa1\\u0338recedes\\u0180;ES\\u0c92\\u0c93\\u0c9b\\u6280qual;\\uc000\\u2aaf\\u0338lantEqual;\\u62e0\\u0100ei\\u0cab\\u0cb9verseElement;\\u620cghtTriangle\\u0180;BE\\u0ccb\\u0ccc\\u0cd2\\u62ebar;\\uc000\\u29d0\\u0338qual;\\u62ed\\u0100qu\\u0cdd\\u0d0cuareSu\\u0100bp\\u0ce8\\u0cf9set\\u0100;E\\u0cf0\\u0cf3\\uc000\\u228f\\u0338qual;\\u62e2erset\\u0100;E\\u0d03\\u0d06\\uc000\\u2290\\u0338qual;\\u62e3\\u0180bcp\\u0d13\\u0d24\\u0d4eset\\u0100;E\\u0d1b\\u0d1e\\uc000\\u2282\\u20d2qual;\\u6288ceeds\\u0200;EST\\u0d32\\u0d33\\u0d3b\\u0d46\\u6281qual;\\uc000\\u2ab0\\u0338lantEqual;\\u62e1ilde;\\uc000\\u227f\\u0338erset\\u0100;E\\u0d58\\u0d5b\\uc000\\u2283\\u20d2qual;\\u6289ilde\\u0200;EFT\\u0d6e\\u0d6f\\u0d75\\u0d7f\\u6241qual;\\u6244ullEqual;\\u6247ilde;\\u6249erticalBar;\\u6224cr;\\uc000\\ud835\\udca9ilde\\u803b\\xd1\\u40d1;\\u439d\\u0700Eacdfgmoprstuv\\u0dbd\\u0dc2\\u0dc9\\u0dd5\\u0ddb\\u0de0\\u0de7\\u0dfc\\u0e02\\u0e20\\u0e22\\u0e32\\u0e3f\\u0e44lig;\\u4152cute\\u803b\\xd3\\u40d3\\u0100iy\\u0dce\\u0dd3rc\\u803b\\xd4\\u40d4;\\u441eblac;\\u4150r;\\uc000\\ud835\\udd12rave\\u803b\\xd2\\u40d2\\u0180aei\\u0dee\\u0df2\\u0df6cr;\\u414cga;\\u43a9cron;\\u439fpf;\\uc000\\ud835\\udd46enCurly\\u0100DQ\\u0e0e\\u0e1aoubleQuote;\\u601cuote;\\u6018;\\u6a54\\u0100cl\\u0e27\\u0e2cr;\\uc000\\ud835\\udcaaash\\u803b\\xd8\\u40d8i\\u016c\\u0e37\\u0e3cde\\u803b\\xd5\\u40d5es;\\u6a37ml\\u803b\\xd6\\u40d6er\\u0100BP\\u0e4b\\u0e60\\u0100ar\\u0e50\\u0e53r;\\u603eac\\u0100ek\\u0e5a\\u0e5c;\\u63deet;\\u63b4arenthesis;\\u63dc\\u0480acfhilors\\u0e7f\\u0e87\\u0e8a\\u0e8f\\u0e92\\u0e94\\u0e9d\\u0eb0\\u0efcrtialD;\\u6202y;\\u441fr;\\uc000\\ud835\\udd13i;\\u43a6;\\u43a0usMinus;\\u40b1\\u0100ip\\u0ea2\\u0eadncareplan\\xe5\\u069df;\\u6119\\u0200;eio\\u0eb9\\u0eba\\u0ee0\\u0ee4\\u6abbcedes\\u0200;EST\\u0ec8\\u0ec9\\u0ecf\\u0eda\\u627aqual;\\u6aaflantEqual;\\u627cilde;\\u627eme;\\u6033\\u0100dp\\u0ee9\\u0eeeuct;\\u620fortion\\u0100;a\\u0225\\u0ef9l;\\u621d\\u0100ci\\u0f01\\u0f06r;\\uc000\\ud835\\udcab;\\u43a8\\u0200Ufos\\u0f11\\u0f16\\u0f1b\\u0f1fOT\\u803b\\\"\\u4022r;\\uc000\\ud835\\udd14pf;\\u611acr;\\uc000\\ud835\\udcac\\u0600BEacefhiorsu\\u0f3e\\u0f43\\u0f47\\u0f60\\u0f73\\u0fa7\\u0faa\\u0fad\\u1096\\u10a9\\u10b4\\u10bearr;\\u6910G\\u803b\\xae\\u40ae\\u0180cnr\\u0f4e\\u0f53\\u0f56ute;\\u4154g;\\u67ebr\\u0100;t\\u0f5c\\u0f5d\\u61a0l;\\u6916\\u0180aey\\u0f67\\u0f6c\\u0f71ron;\\u4158dil;\\u4156;\\u4420\\u0100;v\\u0f78\\u0f79\\u611cerse\\u0100EU\\u0f82\\u0f99\\u0100lq\\u0f87\\u0f8eement;\\u620builibrium;\\u61cbpEquilibrium;\\u696fr\\xbb\\u0f79o;\\u43a1ght\\u0400ACDFTUVa\\u0fc1\\u0feb\\u0ff3\\u1022\\u1028\\u105b\\u1087\\u03d8\\u0100nr\\u0fc6\\u0fd2gleBracket;\\u67e9row\\u0180;BL\\u0fdc\\u0fdd\\u0fe1\\u6192ar;\\u61e5eftArrow;\\u61c4eiling;\\u6309o\\u01f5\\u0ff9\\0\\u1005bleBracket;\\u67e7n\\u01d4\\u100a\\0\\u1014eeVector;\\u695dector\\u0100;B\\u101d\\u101e\\u61c2ar;\\u6955loor;\\u630b\\u0100er\\u102d\\u1043e\\u0180;AV\\u1035\\u1036\\u103c\\u62a2rrow;\\u61a6ector;\\u695biangle\\u0180;BE\\u1050\\u1051\\u1055\\u62b3ar;\\u69d0qual;\\u62b5p\\u0180DTV\\u1063\\u106e\\u1078ownVector;\\u694feeVector;\\u695cector\\u0100;B\\u1082\\u1083\\u61bear;\\u6954ector\\u0100;B\\u1091\\u1092\\u61c0ar;\\u6953\\u0100pu\\u109b\\u109ef;\\u611dndImplies;\\u6970ightarrow;\\u61db\\u0100ch\\u10b9\\u10bcr;\\u611b;\\u61b1leDelayed;\\u69f4\\u0680HOacfhimoqstu\\u10e4\\u10f1\\u10f7\\u10fd\\u1119\\u111e\\u1151\\u1156\\u1161\\u1167\\u11b5\\u11bb\\u11bf\\u0100Cc\\u10e9\\u10eeHcy;\\u4429y;\\u4428FTcy;\\u442ccute;\\u415a\\u0280;aeiy\\u1108\\u1109\\u110e\\u1113\\u1117\\u6abcron;\\u4160dil;\\u415erc;\\u415c;\\u4421r;\\uc000\\ud835\\udd16ort\\u0200DLRU\\u112a\\u1134\\u113e\\u1149ownArrow\\xbb\\u041eeftArrow\\xbb\\u089aightArrow\\xbb\\u0fddpArrow;\\u6191gma;\\u43a3allCircle;\\u6218pf;\\uc000\\ud835\\udd4a\\u0272\\u116d\\0\\0\\u1170t;\\u621aare\\u0200;ISU\\u117b\\u117c\\u1189\\u11af\\u65a1ntersection;\\u6293u\\u0100bp\\u118f\\u119eset\\u0100;E\\u1197\\u1198\\u628fqual;\\u6291erset\\u0100;E\\u11a8\\u11a9\\u6290qual;\\u6292nion;\\u6294cr;\\uc000\\ud835\\udcaear;\\u62c6\\u0200bcmp\\u11c8\\u11db\\u1209\\u120b\\u0100;s\\u11cd\\u11ce\\u62d0et\\u0100;E\\u11cd\\u11d5qual;\\u6286\\u0100ch\\u11e0\\u1205eeds\\u0200;EST\\u11ed\\u11ee\\u11f4\\u11ff\\u627bqual;\\u6ab0lantEqual;\\u627dilde;\\u627fTh\\xe1\\u0f8c;\\u6211\\u0180;es\\u1212\\u1213\\u1223\\u62d1rset\\u0100;E\\u121c\\u121d\\u6283qual;\\u6287et\\xbb\\u1213\\u0580HRSacfhiors\\u123e\\u1244\\u1249\\u1255\\u125e\\u1271\\u1276\\u129f\\u12c2\\u12c8\\u12d1ORN\\u803b\\xde\\u40deADE;\\u6122\\u0100Hc\\u124e\\u1252cy;\\u440by;\\u4426\\u0100bu\\u125a\\u125c;\\u4009;\\u43a4\\u0180aey\\u1265\\u126a\\u126fron;\\u4164dil;\\u4162;\\u4422r;\\uc000\\ud835\\udd17\\u0100ei\\u127b\\u1289\\u01f2\\u1280\\0\\u1287efore;\\u6234a;\\u4398\\u0100cn\\u128e\\u1298kSpace;\\uc000\\u205f\\u200aSpace;\\u6009lde\\u0200;EFT\\u12ab\\u12ac\\u12b2\\u12bc\\u623cqual;\\u6243ullEqual;\\u6245ilde;\\u6248pf;\\uc000\\ud835\\udd4bipleDot;\\u60db\\u0100ct\\u12d6\\u12dbr;\\uc000\\ud835\\udcafrok;\\u4166\\u0ae1\\u12f7\\u130e\\u131a\\u1326\\0\\u132c\\u1331\\0\\0\\0\\0\\0\\u1338\\u133d\\u1377\\u1385\\0\\u13ff\\u1404\\u140a\\u1410\\u0100cr\\u12fb\\u1301ute\\u803b\\xda\\u40dar\\u0100;o\\u1307\\u1308\\u619fcir;\\u6949r\\u01e3\\u1313\\0\\u1316y;\\u440eve;\\u416c\\u0100iy\\u131e\\u1323rc\\u803b\\xdb\\u40db;\\u4423blac;\\u4170r;\\uc000\\ud835\\udd18rave\\u803b\\xd9\\u40d9acr;\\u416a\\u0100di\\u1341\\u1369er\\u0100BP\\u1348\\u135d\\u0100ar\\u134d\\u1350r;\\u405fac\\u0100ek\\u1357\\u1359;\\u63dfet;\\u63b5arenthesis;\\u63ddon\\u0100;P\\u1370\\u1371\\u62c3lus;\\u628e\\u0100gp\\u137b\\u137fon;\\u4172f;\\uc000\\ud835\\udd4c\\u0400ADETadps\\u1395\\u13ae\\u13b8\\u13c4\\u03e8\\u13d2\\u13d7\\u13f3rrow\\u0180;BD\\u1150\\u13a0\\u13a4ar;\\u6912ownArrow;\\u61c5ownArrow;\\u6195quilibrium;\\u696eee\\u0100;A\\u13cb\\u13cc\\u62a5rrow;\\u61a5own\\xe1\\u03f3er\\u0100LR\\u13de\\u13e8eftArrow;\\u6196ightArrow;\\u6197i\\u0100;l\\u13f9\\u13fa\\u43d2on;\\u43a5ing;\\u416ecr;\\uc000\\ud835\\udcb0ilde;\\u4168ml\\u803b\\xdc\\u40dc\\u0480Dbcdefosv\\u1427\\u142c\\u1430\\u1433\\u143e\\u1485\\u148a\\u1490\\u1496ash;\\u62abar;\\u6aeby;\\u4412ash\\u0100;l\\u143b\\u143c\\u62a9;\\u6ae6\\u0100er\\u1443\\u1445;\\u62c1\\u0180bty\\u144c\\u1450\\u147aar;\\u6016\\u0100;i\\u144f\\u1455cal\\u0200BLST\\u1461\\u1465\\u146a\\u1474ar;\\u6223ine;\\u407ceparator;\\u6758ilde;\\u6240ThinSpace;\\u600ar;\\uc000\\ud835\\udd19pf;\\uc000\\ud835\\udd4dcr;\\uc000\\ud835\\udcb1dash;\\u62aa\\u0280cefos\\u14a7\\u14ac\\u14b1\\u14b6\\u14bcirc;\\u4174dge;\\u62c0r;\\uc000\\ud835\\udd1apf;\\uc000\\ud835\\udd4ecr;\\uc000\\ud835\\udcb2\\u0200fios\\u14cb\\u14d0\\u14d2\\u14d8r;\\uc000\\ud835\\udd1b;\\u439epf;\\uc000\\ud835\\udd4fcr;\\uc000\\ud835\\udcb3\\u0480AIUacfosu\\u14f1\\u14f5\\u14f9\\u14fd\\u1504\\u150f\\u1514\\u151a\\u1520cy;\\u442fcy;\\u4407cy;\\u442ecute\\u803b\\xdd\\u40dd\\u0100iy\\u1509\\u150drc;\\u4176;\\u442br;\\uc000\\ud835\\udd1cpf;\\uc000\\ud835\\udd50cr;\\uc000\\ud835\\udcb4ml;\\u4178\\u0400Hacdefos\\u1535\\u1539\\u153f\\u154b\\u154f\\u155d\\u1560\\u1564cy;\\u4416cute;\\u4179\\u0100ay\\u1544\\u1549ron;\\u417d;\\u4417ot;\\u417b\\u01f2\\u1554\\0\\u155boWidt\\xe8\\u0ad9a;\\u4396r;\\u6128pf;\\u6124cr;\\uc000\\ud835\\udcb5\\u0be1\\u1583\\u158a\\u1590\\0\\u15b0\\u15b6\\u15bf\\0\\0\\0\\0\\u15c6\\u15db\\u15eb\\u165f\\u166d\\0\\u1695\\u169b\\u16b2\\u16b9\\0\\u16becute\\u803b\\xe1\\u40e1reve;\\u4103\\u0300;Ediuy\\u159c\\u159d\\u15a1\\u15a3\\u15a8\\u15ad\\u623e;\\uc000\\u223e\\u0333;\\u623frc\\u803b\\xe2\\u40e2te\\u80bb\\xb4\\u0306;\\u4430lig\\u803b\\xe6\\u40e6\\u0100;r\\xb2\\u15ba;\\uc000\\ud835\\udd1erave\\u803b\\xe0\\u40e0\\u0100ep\\u15ca\\u15d6\\u0100fp\\u15cf\\u15d4sym;\\u6135\\xe8\\u15d3ha;\\u43b1\\u0100ap\\u15dfc\\u0100cl\\u15e4\\u15e7r;\\u4101g;\\u6a3f\\u0264\\u15f0\\0\\0\\u160a\\u0280;adsv\\u15fa\\u15fb\\u15ff\\u1601\\u1607\\u6227nd;\\u6a55;\\u6a5clope;\\u6a58;\\u6a5a\\u0380;elmrsz\\u1618\\u1619\\u161b\\u161e\\u163f\\u164f\\u1659\\u6220;\\u69a4e\\xbb\\u1619sd\\u0100;a\\u1625\\u1626\\u6221\\u0461\\u1630\\u1632\\u1634\\u1636\\u1638\\u163a\\u163c\\u163e;\\u69a8;\\u69a9;\\u69aa;\\u69ab;\\u69ac;\\u69ad;\\u69ae;\\u69aft\\u0100;v\\u1645\\u1646\\u621fb\\u0100;d\\u164c\\u164d\\u62be;\\u699d\\u0100pt\\u1654\\u1657h;\\u6222\\xbb\\xb9arr;\\u637c\\u0100gp\\u1663\\u1667on;\\u4105f;\\uc000\\ud835\\udd52\\u0380;Eaeiop\\u12c1\\u167b\\u167d\\u1682\\u1684\\u1687\\u168a;\\u6a70cir;\\u6a6f;\\u624ad;\\u624bs;\\u4027rox\\u0100;e\\u12c1\\u1692\\xf1\\u1683ing\\u803b\\xe5\\u40e5\\u0180cty\\u16a1\\u16a6\\u16a8r;\\uc000\\ud835\\udcb6;\\u402amp\\u0100;e\\u12c1\\u16af\\xf1\\u0288ilde\\u803b\\xe3\\u40e3ml\\u803b\\xe4\\u40e4\\u0100ci\\u16c2\\u16c8onin\\xf4\\u0272nt;\\u6a11\\u0800Nabcdefiklnoprsu\\u16ed\\u16f1\\u1730\\u173c\\u1743\\u1748\\u1778\\u177d\\u17e0\\u17e6\\u1839\\u1850\\u170d\\u193d\\u1948\\u1970ot;\\u6aed\\u0100cr\\u16f6\\u171ek\\u0200ceps\\u1700\\u1705\\u170d\\u1713ong;\\u624cpsilon;\\u43f6rime;\\u6035im\\u0100;e\\u171a\\u171b\\u623dq;\\u62cd\\u0176\\u1722\\u1726ee;\\u62bded\\u0100;g\\u172c\\u172d\\u6305e\\xbb\\u172drk\\u0100;t\\u135c\\u1737brk;\\u63b6\\u0100oy\\u1701\\u1741;\\u4431quo;\\u601e\\u0280cmprt\\u1753\\u175b\\u1761\\u1764\\u1768aus\\u0100;e\\u010a\\u0109ptyv;\\u69b0s\\xe9\\u170cno\\xf5\\u0113\\u0180ahw\\u176f\\u1771\\u1773;\\u43b2;\\u6136een;\\u626cr;\\uc000\\ud835\\udd1fg\\u0380costuvw\\u178d\\u179d\\u17b3\\u17c1\\u17d5\\u17db\\u17de\\u0180aiu\\u1794\\u1796\\u179a\\xf0\\u0760rc;\\u65efp\\xbb\\u1371\\u0180dpt\\u17a4\\u17a8\\u17adot;\\u6a00lus;\\u6a01imes;\\u6a02\\u0271\\u17b9\\0\\0\\u17becup;\\u6a06ar;\\u6605riangle\\u0100du\\u17cd\\u17d2own;\\u65bdp;\\u65b3plus;\\u6a04e\\xe5\\u1444\\xe5\\u14adarow;\\u690d\\u0180ako\\u17ed\\u1826\\u1835\\u0100cn\\u17f2\\u1823k\\u0180lst\\u17fa\\u05ab\\u1802ozenge;\\u69ebriangle\\u0200;dlr\\u1812\\u1813\\u1818\\u181d\\u65b4own;\\u65beeft;\\u65c2ight;\\u65b8k;\\u6423\\u01b1\\u182b\\0\\u1833\\u01b2\\u182f\\0\\u1831;\\u6592;\\u65914;\\u6593ck;\\u6588\\u0100eo\\u183e\\u184d\\u0100;q\\u1843\\u1846\\uc000=\\u20e5uiv;\\uc000\\u2261\\u20e5t;\\u6310\\u0200ptwx\\u1859\\u185e\\u1867\\u186cf;\\uc000\\ud835\\udd53\\u0100;t\\u13cb\\u1863om\\xbb\\u13cctie;\\u62c8\\u0600DHUVbdhmptuv\\u1885\\u1896\\u18aa\\u18bb\\u18d7\\u18db\\u18ec\\u18ff\\u1905\\u190a\\u1910\\u1921\\u0200LRlr\\u188e\\u1890\\u1892\\u1894;\\u6557;\\u6554;\\u6556;\\u6553\\u0280;DUdu\\u18a1\\u18a2\\u18a4\\u18a6\\u18a8\\u6550;\\u6566;\\u6569;\\u6564;\\u6567\\u0200LRlr\\u18b3\\u18b5\\u18b7\\u18b9;\\u655d;\\u655a;\\u655c;\\u6559\\u0380;HLRhlr\\u18ca\\u18cb\\u18cd\\u18cf\\u18d1\\u18d3\\u18d5\\u6551;\\u656c;\\u6563;\\u6560;\\u656b;\\u6562;\\u655fox;\\u69c9\\u0200LRlr\\u18e4\\u18e6\\u18e8\\u18ea;\\u6555;\\u6552;\\u6510;\\u650c\\u0280;DUdu\\u06bd\\u18f7\\u18f9\\u18fb\\u18fd;\\u6565;\\u6568;\\u652c;\\u6534inus;\\u629flus;\\u629eimes;\\u62a0\\u0200LRlr\\u1919\\u191b\\u191d\\u191f;\\u655b;\\u6558;\\u6518;\\u6514\\u0380;HLRhlr\\u1930\\u1931\\u1933\\u1935\\u1937\\u1939\\u193b\\u6502;\\u656a;\\u6561;\\u655e;\\u653c;\\u6524;\\u651c\\u0100ev\\u0123\\u1942bar\\u803b\\xa6\\u40a6\\u0200ceio\\u1951\\u1956\\u195a\\u1960r;\\uc000\\ud835\\udcb7mi;\\u604fm\\u0100;e\\u171a\\u171cl\\u0180;bh\\u1968\\u1969\\u196b\\u405c;\\u69c5sub;\\u67c8\\u016c\\u1974\\u197el\\u0100;e\\u1979\\u197a\\u6022t\\xbb\\u197ap\\u0180;Ee\\u012f\\u1985\\u1987;\\u6aae\\u0100;q\\u06dc\\u06db\\u0ce1\\u19a7\\0\\u19e8\\u1a11\\u1a15\\u1a32\\0\\u1a37\\u1a50\\0\\0\\u1ab4\\0\\0\\u1ac1\\0\\0\\u1b21\\u1b2e\\u1b4d\\u1b52\\0\\u1bfd\\0\\u1c0c\\u0180cpr\\u19ad\\u19b2\\u19ddute;\\u4107\\u0300;abcds\\u19bf\\u19c0\\u19c4\\u19ca\\u19d5\\u19d9\\u6229nd;\\u6a44rcup;\\u6a49\\u0100au\\u19cf\\u19d2p;\\u6a4bp;\\u6a47ot;\\u6a40;\\uc000\\u2229\\ufe00\\u0100eo\\u19e2\\u19e5t;\\u6041\\xee\\u0693\\u0200aeiu\\u19f0\\u19fb\\u1a01\\u1a05\\u01f0\\u19f5\\0\\u19f8s;\\u6a4don;\\u410ddil\\u803b\\xe7\\u40e7rc;\\u4109ps\\u0100;s\\u1a0c\\u1a0d\\u6a4cm;\\u6a50ot;\\u410b\\u0180dmn\\u1a1b\\u1a20\\u1a26il\\u80bb\\xb8\\u01adptyv;\\u69b2t\\u8100\\xa2;e\\u1a2d\\u1a2e\\u40a2r\\xe4\\u01b2r;\\uc000\\ud835\\udd20\\u0180cei\\u1a3d\\u1a40\\u1a4dy;\\u4447ck\\u0100;m\\u1a47\\u1a48\\u6713ark\\xbb\\u1a48;\\u43c7r\\u0380;Ecefms\\u1a5f\\u1a60\\u1a62\\u1a6b\\u1aa4\\u1aaa\\u1aae\\u65cb;\\u69c3\\u0180;el\\u1a69\\u1a6a\\u1a6d\\u42c6q;\\u6257e\\u0261\\u1a74\\0\\0\\u1a88rrow\\u0100lr\\u1a7c\\u1a81eft;\\u61baight;\\u61bb\\u0280RSacd\\u1a92\\u1a94\\u1a96\\u1a9a\\u1a9f\\xbb\\u0f47;\\u64c8st;\\u629birc;\\u629aash;\\u629dnint;\\u6a10id;\\u6aefcir;\\u69c2ubs\\u0100;u\\u1abb\\u1abc\\u6663it\\xbb\\u1abc\\u02ec\\u1ac7\\u1ad4\\u1afa\\0\\u1b0aon\\u0100;e\\u1acd\\u1ace\\u403a\\u0100;q\\xc7\\xc6\\u026d\\u1ad9\\0\\0\\u1ae2a\\u0100;t\\u1ade\\u1adf\\u402c;\\u4040\\u0180;fl\\u1ae8\\u1ae9\\u1aeb\\u6201\\xee\\u1160e\\u0100mx\\u1af1\\u1af6ent\\xbb\\u1ae9e\\xf3\\u024d\\u01e7\\u1afe\\0\\u1b07\\u0100;d\\u12bb\\u1b02ot;\\u6a6dn\\xf4\\u0246\\u0180fry\\u1b10\\u1b14\\u1b17;\\uc000\\ud835\\udd54o\\xe4\\u0254\\u8100\\xa9;s\\u0155\\u1b1dr;\\u6117\\u0100ao\\u1b25\\u1b29rr;\\u61b5ss;\\u6717\\u0100cu\\u1b32\\u1b37r;\\uc000\\ud835\\udcb8\\u0100bp\\u1b3c\\u1b44\\u0100;e\\u1b41\\u1b42\\u6acf;\\u6ad1\\u0100;e\\u1b49\\u1b4a\\u6ad0;\\u6ad2dot;\\u62ef\\u0380delprvw\\u1b60\\u1b6c\\u1b77\\u1b82\\u1bac\\u1bd4\\u1bf9arr\\u0100lr\\u1b68\\u1b6a;\\u6938;\\u6935\\u0270\\u1b72\\0\\0\\u1b75r;\\u62dec;\\u62dfarr\\u0100;p\\u1b7f\\u1b80\\u61b6;\\u693d\\u0300;bcdos\\u1b8f\\u1b90\\u1b96\\u1ba1\\u1ba5\\u1ba8\\u622arcap;\\u6a48\\u0100au\\u1b9b\\u1b9ep;\\u6a46p;\\u6a4aot;\\u628dr;\\u6a45;\\uc000\\u222a\\ufe00\\u0200alrv\\u1bb5\\u1bbf\\u1bde\\u1be3rr\\u0100;m\\u1bbc\\u1bbd\\u61b7;\\u693cy\\u0180evw\\u1bc7\\u1bd4\\u1bd8q\\u0270\\u1bce\\0\\0\\u1bd2re\\xe3\\u1b73u\\xe3\\u1b75ee;\\u62ceedge;\\u62cfen\\u803b\\xa4\\u40a4earrow\\u0100lr\\u1bee\\u1bf3eft\\xbb\\u1b80ight\\xbb\\u1bbde\\xe4\\u1bdd\\u0100ci\\u1c01\\u1c07onin\\xf4\\u01f7nt;\\u6231lcty;\\u632d\\u0980AHabcdefhijlorstuwz\\u1c38\\u1c3b\\u1c3f\\u1c5d\\u1c69\\u1c75\\u1c8a\\u1c9e\\u1cac\\u1cb7\\u1cfb\\u1cff\\u1d0d\\u1d7b\\u1d91\\u1dab\\u1dbb\\u1dc6\\u1dcdr\\xf2\\u0381ar;\\u6965\\u0200glrs\\u1c48\\u1c4d\\u1c52\\u1c54ger;\\u6020eth;\\u6138\\xf2\\u1133h\\u0100;v\\u1c5a\\u1c5b\\u6010\\xbb\\u090a\\u016b\\u1c61\\u1c67arow;\\u690fa\\xe3\\u0315\\u0100ay\\u1c6e\\u1c73ron;\\u410f;\\u4434\\u0180;ao\\u0332\\u1c7c\\u1c84\\u0100gr\\u02bf\\u1c81r;\\u61catseq;\\u6a77\\u0180glm\\u1c91\\u1c94\\u1c98\\u803b\\xb0\\u40b0ta;\\u43b4ptyv;\\u69b1\\u0100ir\\u1ca3\\u1ca8sht;\\u697f;\\uc000\\ud835\\udd21ar\\u0100lr\\u1cb3\\u1cb5\\xbb\\u08dc\\xbb\\u101e\\u0280aegsv\\u1cc2\\u0378\\u1cd6\\u1cdc\\u1ce0m\\u0180;os\\u0326\\u1cca\\u1cd4nd\\u0100;s\\u0326\\u1cd1uit;\\u6666amma;\\u43ddin;\\u62f2\\u0180;io\\u1ce7\\u1ce8\\u1cf8\\u40f7de\\u8100\\xf7;o\\u1ce7\\u1cf0ntimes;\\u62c7n\\xf8\\u1cf7cy;\\u4452c\\u026f\\u1d06\\0\\0\\u1d0arn;\\u631eop;\\u630d\\u0280lptuw\\u1d18\\u1d1d\\u1d22\\u1d49\\u1d55lar;\\u4024f;\\uc000\\ud835\\udd55\\u0280;emps\\u030b\\u1d2d\\u1d37\\u1d3d\\u1d42q\\u0100;d\\u0352\\u1d33ot;\\u6251inus;\\u6238lus;\\u6214quare;\\u62a1blebarwedg\\xe5\\xfan\\u0180adh\\u112e\\u1d5d\\u1d67ownarrow\\xf3\\u1c83arpoon\\u0100lr\\u1d72\\u1d76ef\\xf4\\u1cb4igh\\xf4\\u1cb6\\u0162\\u1d7f\\u1d85karo\\xf7\\u0f42\\u026f\\u1d8a\\0\\0\\u1d8ern;\\u631fop;\\u630c\\u0180cot\\u1d98\\u1da3\\u1da6\\u0100ry\\u1d9d\\u1da1;\\uc000\\ud835\\udcb9;\\u4455l;\\u69f6rok;\\u4111\\u0100dr\\u1db0\\u1db4ot;\\u62f1i\\u0100;f\\u1dba\\u1816\\u65bf\\u0100ah\\u1dc0\\u1dc3r\\xf2\\u0429a\\xf2\\u0fa6angle;\\u69a6\\u0100ci\\u1dd2\\u1dd5y;\\u445fgrarr;\\u67ff\\u0900Dacdefglmnopqrstux\\u1e01\\u1e09\\u1e19\\u1e38\\u0578\\u1e3c\\u1e49\\u1e61\\u1e7e\\u1ea5\\u1eaf\\u1ebd\\u1ee1\\u1f2a\\u1f37\\u1f44\\u1f4e\\u1f5a\\u0100Do\\u1e06\\u1d34o\\xf4\\u1c89\\u0100cs\\u1e0e\\u1e14ute\\u803b\\xe9\\u40e9ter;\\u6a6e\\u0200aioy\\u1e22\\u1e27\\u1e31\\u1e36ron;\\u411br\\u0100;c\\u1e2d\\u1e2e\\u6256\\u803b\\xea\\u40ealon;\\u6255;\\u444dot;\\u4117\\u0100Dr\\u1e41\\u1e45ot;\\u6252;\\uc000\\ud835\\udd22\\u0180;rs\\u1e50\\u1e51\\u1e57\\u6a9aave\\u803b\\xe8\\u40e8\\u0100;d\\u1e5c\\u1e5d\\u6a96ot;\\u6a98\\u0200;ils\\u1e6a\\u1e6b\\u1e72\\u1e74\\u6a99nters;\\u63e7;\\u6113\\u0100;d\\u1e79\\u1e7a\\u6a95ot;\\u6a97\\u0180aps\\u1e85\\u1e89\\u1e97cr;\\u4113ty\\u0180;sv\\u1e92\\u1e93\\u1e95\\u6205et\\xbb\\u1e93p\\u01001;\\u1e9d\\u1ea4\\u0133\\u1ea1\\u1ea3;\\u6004;\\u6005\\u6003\\u0100gs\\u1eaa\\u1eac;\\u414bp;\\u6002\\u0100gp\\u1eb4\\u1eb8on;\\u4119f;\\uc000\\ud835\\udd56\\u0180als\\u1ec4\\u1ece\\u1ed2r\\u0100;s\\u1eca\\u1ecb\\u62d5l;\\u69e3us;\\u6a71i\\u0180;lv\\u1eda\\u1edb\\u1edf\\u43b5on\\xbb\\u1edb;\\u43f5\\u0200csuv\\u1eea\\u1ef3\\u1f0b\\u1f23\\u0100io\\u1eef\\u1e31rc\\xbb\\u1e2e\\u0269\\u1ef9\\0\\0\\u1efb\\xed\\u0548ant\\u0100gl\\u1f02\\u1f06tr\\xbb\\u1e5dess\\xbb\\u1e7a\\u0180aei\\u1f12\\u1f16\\u1f1als;\\u403dst;\\u625fv\\u0100;D\\u0235\\u1f20D;\\u6a78parsl;\\u69e5\\u0100Da\\u1f2f\\u1f33ot;\\u6253rr;\\u6971\\u0180cdi\\u1f3e\\u1f41\\u1ef8r;\\u612fo\\xf4\\u0352\\u0100ah\\u1f49\\u1f4b;\\u43b7\\u803b\\xf0\\u40f0\\u0100mr\\u1f53\\u1f57l\\u803b\\xeb\\u40ebo;\\u60ac\\u0180cip\\u1f61\\u1f64\\u1f67l;\\u4021s\\xf4\\u056e\\u0100eo\\u1f6c\\u1f74ctatio\\xee\\u0559nential\\xe5\\u0579\\u09e1\\u1f92\\0\\u1f9e\\0\\u1fa1\\u1fa7\\0\\0\\u1fc6\\u1fcc\\0\\u1fd3\\0\\u1fe6\\u1fea\\u2000\\0\\u2008\\u205allingdotse\\xf1\\u1e44y;\\u4444male;\\u6640\\u0180ilr\\u1fad\\u1fb3\\u1fc1lig;\\u8000\\ufb03\\u0269\\u1fb9\\0\\0\\u1fbdg;\\u8000\\ufb00ig;\\u8000\\ufb04;\\uc000\\ud835\\udd23lig;\\u8000\\ufb01lig;\\uc000fj\\u0180alt\\u1fd9\\u1fdc\\u1fe1t;\\u666dig;\\u8000\\ufb02ns;\\u65b1of;\\u4192\\u01f0\\u1fee\\0\\u1ff3f;\\uc000\\ud835\\udd57\\u0100ak\\u05bf\\u1ff7\\u0100;v\\u1ffc\\u1ffd\\u62d4;\\u6ad9artint;\\u6a0d\\u0100ao\\u200c\\u2055\\u0100cs\\u2011\\u2052\\u03b1\\u201a\\u2030\\u2038\\u2045\\u2048\\0\\u2050\\u03b2\\u2022\\u2025\\u2027\\u202a\\u202c\\0\\u202e\\u803b\\xbd\\u40bd;\\u6153\\u803b\\xbc\\u40bc;\\u6155;\\u6159;\\u615b\\u01b3\\u2034\\0\\u2036;\\u6154;\\u6156\\u02b4\\u203e\\u2041\\0\\0\\u2043\\u803b\\xbe\\u40be;\\u6157;\\u615c5;\\u6158\\u01b6\\u204c\\0\\u204e;\\u615a;\\u615d8;\\u615el;\\u6044wn;\\u6322cr;\\uc000\\ud835\\udcbb\\u0880Eabcdefgijlnorstv\\u2082\\u2089\\u209f\\u20a5\\u20b0\\u20b4\\u20f0\\u20f5\\u20fa\\u20ff\\u2103\\u2112\\u2138\\u0317\\u213e\\u2152\\u219e\\u0100;l\\u064d\\u2087;\\u6a8c\\u0180cmp\\u2090\\u2095\\u209dute;\\u41f5ma\\u0100;d\\u209c\\u1cda\\u43b3;\\u6a86reve;\\u411f\\u0100iy\\u20aa\\u20aerc;\\u411d;\\u4433ot;\\u4121\\u0200;lqs\\u063e\\u0642\\u20bd\\u20c9\\u0180;qs\\u063e\\u064c\\u20c4lan\\xf4\\u0665\\u0200;cdl\\u0665\\u20d2\\u20d5\\u20e5c;\\u6aa9ot\\u0100;o\\u20dc\\u20dd\\u6a80\\u0100;l\\u20e2\\u20e3\\u6a82;\\u6a84\\u0100;e\\u20ea\\u20ed\\uc000\\u22db\\ufe00s;\\u6a94r;\\uc000\\ud835\\udd24\\u0100;g\\u0673\\u061bmel;\\u6137cy;\\u4453\\u0200;Eaj\\u065a\\u210c\\u210e\\u2110;\\u6a92;\\u6aa5;\\u6aa4\\u0200Eaes\\u211b\\u211d\\u2129\\u2134;\\u6269p\\u0100;p\\u2123\\u2124\\u6a8arox\\xbb\\u2124\\u0100;q\\u212e\\u212f\\u6a88\\u0100;q\\u212e\\u211bim;\\u62e7pf;\\uc000\\ud835\\udd58\\u0100ci\\u2143\\u2146r;\\u610am\\u0180;el\\u066b\\u214e\\u2150;\\u6a8e;\\u6a90\\u8300>;cdlqr\\u05ee\\u2160\\u216a\\u216e\\u2173\\u2179\\u0100ci\\u2165\\u2167;\\u6aa7r;\\u6a7aot;\\u62d7Par;\\u6995uest;\\u6a7c\\u0280adels\\u2184\\u216a\\u2190\\u0656\\u219b\\u01f0\\u2189\\0\\u218epro\\xf8\\u209er;\\u6978q\\u0100lq\\u063f\\u2196les\\xf3\\u2088i\\xed\\u066b\\u0100en\\u21a3\\u21adrtneqq;\\uc000\\u2269\\ufe00\\xc5\\u21aa\\u0500Aabcefkosy\\u21c4\\u21c7\\u21f1\\u21f5\\u21fa\\u2218\\u221d\\u222f\\u2268\\u227dr\\xf2\\u03a0\\u0200ilmr\\u21d0\\u21d4\\u21d7\\u21dbrs\\xf0\\u1484f\\xbb\\u2024il\\xf4\\u06a9\\u0100dr\\u21e0\\u21e4cy;\\u444a\\u0180;cw\\u08f4\\u21eb\\u21efir;\\u6948;\\u61adar;\\u610firc;\\u4125\\u0180alr\\u2201\\u220e\\u2213rts\\u0100;u\\u2209\\u220a\\u6665it\\xbb\\u220alip;\\u6026con;\\u62b9r;\\uc000\\ud835\\udd25s\\u0100ew\\u2223\\u2229arow;\\u6925arow;\\u6926\\u0280amopr\\u223a\\u223e\\u2243\\u225e\\u2263rr;\\u61fftht;\\u623bk\\u0100lr\\u2249\\u2253eftarrow;\\u61a9ightarrow;\\u61aaf;\\uc000\\ud835\\udd59bar;\\u6015\\u0180clt\\u226f\\u2274\\u2278r;\\uc000\\ud835\\udcbdas\\xe8\\u21f4rok;\\u4127\\u0100bp\\u2282\\u2287ull;\\u6043hen\\xbb\\u1c5b\\u0ae1\\u22a3\\0\\u22aa\\0\\u22b8\\u22c5\\u22ce\\0\\u22d5\\u22f3\\0\\0\\u22f8\\u2322\\u2367\\u2362\\u237f\\0\\u2386\\u23aa\\u23b4cute\\u803b\\xed\\u40ed\\u0180;iy\\u0771\\u22b0\\u22b5rc\\u803b\\xee\\u40ee;\\u4438\\u0100cx\\u22bc\\u22bfy;\\u4435cl\\u803b\\xa1\\u40a1\\u0100fr\\u039f\\u22c9;\\uc000\\ud835\\udd26rave\\u803b\\xec\\u40ec\\u0200;ino\\u073e\\u22dd\\u22e9\\u22ee\\u0100in\\u22e2\\u22e6nt;\\u6a0ct;\\u622dfin;\\u69dcta;\\u6129lig;\\u4133\\u0180aop\\u22fe\\u231a\\u231d\\u0180cgt\\u2305\\u2308\\u2317r;\\u412b\\u0180elp\\u071f\\u230f\\u2313in\\xe5\\u078ear\\xf4\\u0720h;\\u4131f;\\u62b7ed;\\u41b5\\u0280;cfot\\u04f4\\u232c\\u2331\\u233d\\u2341are;\\u6105in\\u0100;t\\u2338\\u2339\\u621eie;\\u69dddo\\xf4\\u2319\\u0280;celp\\u0757\\u234c\\u2350\\u235b\\u2361al;\\u62ba\\u0100gr\\u2355\\u2359er\\xf3\\u1563\\xe3\\u234darhk;\\u6a17rod;\\u6a3c\\u0200cgpt\\u236f\\u2372\\u2376\\u237by;\\u4451on;\\u412ff;\\uc000\\ud835\\udd5aa;\\u43b9uest\\u803b\\xbf\\u40bf\\u0100ci\\u238a\\u238fr;\\uc000\\ud835\\udcben\\u0280;Edsv\\u04f4\\u239b\\u239d\\u23a1\\u04f3;\\u62f9ot;\\u62f5\\u0100;v\\u23a6\\u23a7\\u62f4;\\u62f3\\u0100;i\\u0777\\u23aelde;\\u4129\\u01eb\\u23b8\\0\\u23bccy;\\u4456l\\u803b\\xef\\u40ef\\u0300cfmosu\\u23cc\\u23d7\\u23dc\\u23e1\\u23e7\\u23f5\\u0100iy\\u23d1\\u23d5rc;\\u4135;\\u4439r;\\uc000\\ud835\\udd27ath;\\u4237pf;\\uc000\\ud835\\udd5b\\u01e3\\u23ec\\0\\u23f1r;\\uc000\\ud835\\udcbfrcy;\\u4458kcy;\\u4454\\u0400acfghjos\\u240b\\u2416\\u2422\\u2427\\u242d\\u2431\\u2435\\u243bppa\\u0100;v\\u2413\\u2414\\u43ba;\\u43f0\\u0100ey\\u241b\\u2420dil;\\u4137;\\u443ar;\\uc000\\ud835\\udd28reen;\\u4138cy;\\u4445cy;\\u445cpf;\\uc000\\ud835\\udd5ccr;\\uc000\\ud835\\udcc0\\u0b80ABEHabcdefghjlmnoprstuv\\u2470\\u2481\\u2486\\u248d\\u2491\\u250e\\u253d\\u255a\\u2580\\u264e\\u265e\\u2665\\u2679\\u267d\\u269a\\u26b2\\u26d8\\u275d\\u2768\\u278b\\u27c0\\u2801\\u2812\\u0180art\\u2477\\u247a\\u247cr\\xf2\\u09c6\\xf2\\u0395ail;\\u691barr;\\u690e\\u0100;g\\u0994\\u248b;\\u6a8bar;\\u6962\\u0963\\u24a5\\0\\u24aa\\0\\u24b1\\0\\0\\0\\0\\0\\u24b5\\u24ba\\0\\u24c6\\u24c8\\u24cd\\0\\u24f9ute;\\u413amptyv;\\u69b4ra\\xee\\u084cbda;\\u43bbg\\u0180;dl\\u088e\\u24c1\\u24c3;\\u6991\\xe5\\u088e;\\u6a85uo\\u803b\\xab\\u40abr\\u0400;bfhlpst\\u0899\\u24de\\u24e6\\u24e9\\u24eb\\u24ee\\u24f1\\u24f5\\u0100;f\\u089d\\u24e3s;\\u691fs;\\u691d\\xeb\\u2252p;\\u61abl;\\u6939im;\\u6973l;\\u61a2\\u0180;ae\\u24ff\\u2500\\u2504\\u6aabil;\\u6919\\u0100;s\\u2509\\u250a\\u6aad;\\uc000\\u2aad\\ufe00\\u0180abr\\u2515\\u2519\\u251drr;\\u690crk;\\u6772\\u0100ak\\u2522\\u252cc\\u0100ek\\u2528\\u252a;\\u407b;\\u405b\\u0100es\\u2531\\u2533;\\u698bl\\u0100du\\u2539\\u253b;\\u698f;\\u698d\\u0200aeuy\\u2546\\u254b\\u2556\\u2558ron;\\u413e\\u0100di\\u2550\\u2554il;\\u413c\\xec\\u08b0\\xe2\\u2529;\\u443b\\u0200cqrs\\u2563\\u2566\\u256d\\u257da;\\u6936uo\\u0100;r\\u0e19\\u1746\\u0100du\\u2572\\u2577har;\\u6967shar;\\u694bh;\\u61b2\\u0280;fgqs\\u258b\\u258c\\u0989\\u25f3\\u25ff\\u6264t\\u0280ahlrt\\u2598\\u25a4\\u25b7\\u25c2\\u25e8rrow\\u0100;t\\u0899\\u25a1a\\xe9\\u24f6arpoon\\u0100du\\u25af\\u25b4own\\xbb\\u045ap\\xbb\\u0966eftarrows;\\u61c7ight\\u0180ahs\\u25cd\\u25d6\\u25derrow\\u0100;s\\u08f4\\u08a7arpoon\\xf3\\u0f98quigarro\\xf7\\u21f0hreetimes;\\u62cb\\u0180;qs\\u258b\\u0993\\u25falan\\xf4\\u09ac\\u0280;cdgs\\u09ac\\u260a\\u260d\\u261d\\u2628c;\\u6aa8ot\\u0100;o\\u2614\\u2615\\u6a7f\\u0100;r\\u261a\\u261b\\u6a81;\\u6a83\\u0100;e\\u2622\\u2625\\uc000\\u22da\\ufe00s;\\u6a93\\u0280adegs\\u2633\\u2639\\u263d\\u2649\\u264bppro\\xf8\\u24c6ot;\\u62d6q\\u0100gq\\u2643\\u2645\\xf4\\u0989gt\\xf2\\u248c\\xf4\\u099bi\\xed\\u09b2\\u0180ilr\\u2655\\u08e1\\u265asht;\\u697c;\\uc000\\ud835\\udd29\\u0100;E\\u099c\\u2663;\\u6a91\\u0161\\u2669\\u2676r\\u0100du\\u25b2\\u266e\\u0100;l\\u0965\\u2673;\\u696alk;\\u6584cy;\\u4459\\u0280;acht\\u0a48\\u2688\\u268b\\u2691\\u2696r\\xf2\\u25c1orne\\xf2\\u1d08ard;\\u696bri;\\u65fa\\u0100io\\u269f\\u26a4dot;\\u4140ust\\u0100;a\\u26ac\\u26ad\\u63b0che\\xbb\\u26ad\\u0200Eaes\\u26bb\\u26bd\\u26c9\\u26d4;\\u6268p\\u0100;p\\u26c3\\u26c4\\u6a89rox\\xbb\\u26c4\\u0100;q\\u26ce\\u26cf\\u6a87\\u0100;q\\u26ce\\u26bbim;\\u62e6\\u0400abnoptwz\\u26e9\\u26f4\\u26f7\\u271a\\u272f\\u2741\\u2747\\u2750\\u0100nr\\u26ee\\u26f1g;\\u67ecr;\\u61fdr\\xeb\\u08c1g\\u0180lmr\\u26ff\\u270d\\u2714eft\\u0100ar\\u09e6\\u2707ight\\xe1\\u09f2apsto;\\u67fcight\\xe1\\u09fdparrow\\u0100lr\\u2725\\u2729ef\\xf4\\u24edight;\\u61ac\\u0180afl\\u2736\\u2739\\u273dr;\\u6985;\\uc000\\ud835\\udd5dus;\\u6a2dimes;\\u6a34\\u0161\\u274b\\u274fst;\\u6217\\xe1\\u134e\\u0180;ef\\u2757\\u2758\\u1800\\u65cange\\xbb\\u2758ar\\u0100;l\\u2764\\u2765\\u4028t;\\u6993\\u0280achmt\\u2773\\u2776\\u277c\\u2785\\u2787r\\xf2\\u08a8orne\\xf2\\u1d8car\\u0100;d\\u0f98\\u2783;\\u696d;\\u600eri;\\u62bf\\u0300achiqt\\u2798\\u279d\\u0a40\\u27a2\\u27ae\\u27bbquo;\\u6039r;\\uc000\\ud835\\udcc1m\\u0180;eg\\u09b2\\u27aa\\u27ac;\\u6a8d;\\u6a8f\\u0100bu\\u252a\\u27b3o\\u0100;r\\u0e1f\\u27b9;\\u601arok;\\u4142\\u8400<;cdhilqr\\u082b\\u27d2\\u2639\\u27dc\\u27e0\\u27e5\\u27ea\\u27f0\\u0100ci\\u27d7\\u27d9;\\u6aa6r;\\u6a79re\\xe5\\u25f2mes;\\u62c9arr;\\u6976uest;\\u6a7b\\u0100Pi\\u27f5\\u27f9ar;\\u6996\\u0180;ef\\u2800\\u092d\\u181b\\u65c3r\\u0100du\\u2807\\u280dshar;\\u694ahar;\\u6966\\u0100en\\u2817\\u2821rtneqq;\\uc000\\u2268\\ufe00\\xc5\\u281e\\u0700Dacdefhilnopsu\\u2840\\u2845\\u2882\\u288e\\u2893\\u28a0\\u28a5\\u28a8\\u28da\\u28e2\\u28e4\\u0a83\\u28f3\\u2902Dot;\\u623a\\u0200clpr\\u284e\\u2852\\u2863\\u287dr\\u803b\\xaf\\u40af\\u0100et\\u2857\\u2859;\\u6642\\u0100;e\\u285e\\u285f\\u6720se\\xbb\\u285f\\u0100;s\\u103b\\u2868to\\u0200;dlu\\u103b\\u2873\\u2877\\u287bow\\xee\\u048cef\\xf4\\u090f\\xf0\\u13d1ker;\\u65ae\\u0100oy\\u2887\\u288cmma;\\u6a29;\\u443cash;\\u6014asuredangle\\xbb\\u1626r;\\uc000\\ud835\\udd2ao;\\u6127\\u0180cdn\\u28af\\u28b4\\u28c9ro\\u803b\\xb5\\u40b5\\u0200;acd\\u1464\\u28bd\\u28c0\\u28c4s\\xf4\\u16a7ir;\\u6af0ot\\u80bb\\xb7\\u01b5us\\u0180;bd\\u28d2\\u1903\\u28d3\\u6212\\u0100;u\\u1d3c\\u28d8;\\u6a2a\\u0163\\u28de\\u28e1p;\\u6adb\\xf2\\u2212\\xf0\\u0a81\\u0100dp\\u28e9\\u28eeels;\\u62a7f;\\uc000\\ud835\\udd5e\\u0100ct\\u28f8\\u28fdr;\\uc000\\ud835\\udcc2pos\\xbb\\u159d\\u0180;lm\\u2909\\u290a\\u290d\\u43bctimap;\\u62b8\\u0c00GLRVabcdefghijlmoprstuvw\\u2942\\u2953\\u297e\\u2989\\u2998\\u29da\\u29e9\\u2a15\\u2a1a\\u2a58\\u2a5d\\u2a83\\u2a95\\u2aa4\\u2aa8\\u2b04\\u2b07\\u2b44\\u2b7f\\u2bae\\u2c34\\u2c67\\u2c7c\\u2ce9\\u0100gt\\u2947\\u294b;\\uc000\\u22d9\\u0338\\u0100;v\\u2950\\u0bcf\\uc000\\u226b\\u20d2\\u0180elt\\u295a\\u2972\\u2976ft\\u0100ar\\u2961\\u2967rrow;\\u61cdightarrow;\\u61ce;\\uc000\\u22d8\\u0338\\u0100;v\\u297b\\u0c47\\uc000\\u226a\\u20d2ightarrow;\\u61cf\\u0100Dd\\u298e\\u2993ash;\\u62afash;\\u62ae\\u0280bcnpt\\u29a3\\u29a7\\u29ac\\u29b1\\u29ccla\\xbb\\u02deute;\\u4144g;\\uc000\\u2220\\u20d2\\u0280;Eiop\\u0d84\\u29bc\\u29c0\\u29c5\\u29c8;\\uc000\\u2a70\\u0338d;\\uc000\\u224b\\u0338s;\\u4149ro\\xf8\\u0d84ur\\u0100;a\\u29d3\\u29d4\\u666el\\u0100;s\\u29d3\\u0b38\\u01f3\\u29df\\0\\u29e3p\\u80bb\\xa0\\u0b37mp\\u0100;e\\u0bf9\\u0c00\\u0280aeouy\\u29f4\\u29fe\\u2a03\\u2a10\\u2a13\\u01f0\\u29f9\\0\\u29fb;\\u6a43on;\\u4148dil;\\u4146ng\\u0100;d\\u0d7e\\u2a0aot;\\uc000\\u2a6d\\u0338p;\\u6a42;\\u443dash;\\u6013\\u0380;Aadqsx\\u0b92\\u2a29\\u2a2d\\u2a3b\\u2a41\\u2a45\\u2a50rr;\\u61d7r\\u0100hr\\u2a33\\u2a36k;\\u6924\\u0100;o\\u13f2\\u13f0ot;\\uc000\\u2250\\u0338ui\\xf6\\u0b63\\u0100ei\\u2a4a\\u2a4ear;\\u6928\\xed\\u0b98ist\\u0100;s\\u0ba0\\u0b9fr;\\uc000\\ud835\\udd2b\\u0200Eest\\u0bc5\\u2a66\\u2a79\\u2a7c\\u0180;qs\\u0bbc\\u2a6d\\u0be1\\u0180;qs\\u0bbc\\u0bc5\\u2a74lan\\xf4\\u0be2i\\xed\\u0bea\\u0100;r\\u0bb6\\u2a81\\xbb\\u0bb7\\u0180Aap\\u2a8a\\u2a8d\\u2a91r\\xf2\\u2971rr;\\u61aear;\\u6af2\\u0180;sv\\u0f8d\\u2a9c\\u0f8c\\u0100;d\\u2aa1\\u2aa2\\u62fc;\\u62facy;\\u445a\\u0380AEadest\\u2ab7\\u2aba\\u2abe\\u2ac2\\u2ac5\\u2af6\\u2af9r\\xf2\\u2966;\\uc000\\u2266\\u0338rr;\\u619ar;\\u6025\\u0200;fqs\\u0c3b\\u2ace\\u2ae3\\u2aeft\\u0100ar\\u2ad4\\u2ad9rro\\xf7\\u2ac1ightarro\\xf7\\u2a90\\u0180;qs\\u0c3b\\u2aba\\u2aealan\\xf4\\u0c55\\u0100;s\\u0c55\\u2af4\\xbb\\u0c36i\\xed\\u0c5d\\u0100;r\\u0c35\\u2afei\\u0100;e\\u0c1a\\u0c25i\\xe4\\u0d90\\u0100pt\\u2b0c\\u2b11f;\\uc000\\ud835\\udd5f\\u8180\\xac;in\\u2b19\\u2b1a\\u2b36\\u40acn\\u0200;Edv\\u0b89\\u2b24\\u2b28\\u2b2e;\\uc000\\u22f9\\u0338ot;\\uc000\\u22f5\\u0338\\u01e1\\u0b89\\u2b33\\u2b35;\\u62f7;\\u62f6i\\u0100;v\\u0cb8\\u2b3c\\u01e1\\u0cb8\\u2b41\\u2b43;\\u62fe;\\u62fd\\u0180aor\\u2b4b\\u2b63\\u2b69r\\u0200;ast\\u0b7b\\u2b55\\u2b5a\\u2b5flle\\xec\\u0b7bl;\\uc000\\u2afd\\u20e5;\\uc000\\u2202\\u0338lint;\\u6a14\\u0180;ce\\u0c92\\u2b70\\u2b73u\\xe5\\u0ca5\\u0100;c\\u0c98\\u2b78\\u0100;e\\u0c92\\u2b7d\\xf1\\u0c98\\u0200Aait\\u2b88\\u2b8b\\u2b9d\\u2ba7r\\xf2\\u2988rr\\u0180;cw\\u2b94\\u2b95\\u2b99\\u619b;\\uc000\\u2933\\u0338;\\uc000\\u219d\\u0338ghtarrow\\xbb\\u2b95ri\\u0100;e\\u0ccb\\u0cd6\\u0380chimpqu\\u2bbd\\u2bcd\\u2bd9\\u2b04\\u0b78\\u2be4\\u2bef\\u0200;cer\\u0d32\\u2bc6\\u0d37\\u2bc9u\\xe5\\u0d45;\\uc000\\ud835\\udcc3ort\\u026d\\u2b05\\0\\0\\u2bd6ar\\xe1\\u2b56m\\u0100;e\\u0d6e\\u2bdf\\u0100;q\\u0d74\\u0d73su\\u0100bp\\u2beb\\u2bed\\xe5\\u0cf8\\xe5\\u0d0b\\u0180bcp\\u2bf6\\u2c11\\u2c19\\u0200;Ees\\u2bff\\u2c00\\u0d22\\u2c04\\u6284;\\uc000\\u2ac5\\u0338et\\u0100;e\\u0d1b\\u2c0bq\\u0100;q\\u0d23\\u2c00c\\u0100;e\\u0d32\\u2c17\\xf1\\u0d38\\u0200;Ees\\u2c22\\u2c23\\u0d5f\\u2c27\\u6285;\\uc000\\u2ac6\\u0338et\\u0100;e\\u0d58\\u2c2eq\\u0100;q\\u0d60\\u2c23\\u0200gilr\\u2c3d\\u2c3f\\u2c45\\u2c47\\xec\\u0bd7lde\\u803b\\xf1\\u40f1\\xe7\\u0c43iangle\\u0100lr\\u2c52\\u2c5ceft\\u0100;e\\u0c1a\\u2c5a\\xf1\\u0c26ight\\u0100;e\\u0ccb\\u2c65\\xf1\\u0cd7\\u0100;m\\u2c6c\\u2c6d\\u43bd\\u0180;es\\u2c74\\u2c75\\u2c79\\u4023ro;\\u6116p;\\u6007\\u0480DHadgilrs\\u2c8f\\u2c94\\u2c99\\u2c9e\\u2ca3\\u2cb0\\u2cb6\\u2cd3\\u2ce3ash;\\u62adarr;\\u6904p;\\uc000\\u224d\\u20d2ash;\\u62ac\\u0100et\\u2ca8\\u2cac;\\uc000\\u2265\\u20d2;\\uc000>\\u20d2nfin;\\u69de\\u0180Aet\\u2cbd\\u2cc1\\u2cc5rr;\\u6902;\\uc000\\u2264\\u20d2\\u0100;r\\u2cca\\u2ccd\\uc000<\\u20d2ie;\\uc000\\u22b4\\u20d2\\u0100At\\u2cd8\\u2cdcrr;\\u6903rie;\\uc000\\u22b5\\u20d2im;\\uc000\\u223c\\u20d2\\u0180Aan\\u2cf0\\u2cf4\\u2d02rr;\\u61d6r\\u0100hr\\u2cfa\\u2cfdk;\\u6923\\u0100;o\\u13e7\\u13e5ear;\\u6927\\u1253\\u1a95\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\u2d2d\\0\\u2d38\\u2d48\\u2d60\\u2d65\\u2d72\\u2d84\\u1b07\\0\\0\\u2d8d\\u2dab\\0\\u2dc8\\u2dce\\0\\u2ddc\\u2e19\\u2e2b\\u2e3e\\u2e43\\u0100cs\\u2d31\\u1a97ute\\u803b\\xf3\\u40f3\\u0100iy\\u2d3c\\u2d45r\\u0100;c\\u1a9e\\u2d42\\u803b\\xf4\\u40f4;\\u443e\\u0280abios\\u1aa0\\u2d52\\u2d57\\u01c8\\u2d5alac;\\u4151v;\\u6a38old;\\u69bclig;\\u4153\\u0100cr\\u2d69\\u2d6dir;\\u69bf;\\uc000\\ud835\\udd2c\\u036f\\u2d79\\0\\0\\u2d7c\\0\\u2d82n;\\u42dbave\\u803b\\xf2\\u40f2;\\u69c1\\u0100bm\\u2d88\\u0df4ar;\\u69b5\\u0200acit\\u2d95\\u2d98\\u2da5\\u2da8r\\xf2\\u1a80\\u0100ir\\u2d9d\\u2da0r;\\u69beoss;\\u69bbn\\xe5\\u0e52;\\u69c0\\u0180aei\\u2db1\\u2db5\\u2db9cr;\\u414dga;\\u43c9\\u0180cdn\\u2dc0\\u2dc5\\u01cdron;\\u43bf;\\u69b6pf;\\uc000\\ud835\\udd60\\u0180ael\\u2dd4\\u2dd7\\u01d2r;\\u69b7rp;\\u69b9\\u0380;adiosv\\u2dea\\u2deb\\u2dee\\u2e08\\u2e0d\\u2e10\\u2e16\\u6228r\\xf2\\u1a86\\u0200;efm\\u2df7\\u2df8\\u2e02\\u2e05\\u6a5dr\\u0100;o\\u2dfe\\u2dff\\u6134f\\xbb\\u2dff\\u803b\\xaa\\u40aa\\u803b\\xba\\u40bagof;\\u62b6r;\\u6a56lope;\\u6a57;\\u6a5b\\u0180clo\\u2e1f\\u2e21\\u2e27\\xf2\\u2e01ash\\u803b\\xf8\\u40f8l;\\u6298i\\u016c\\u2e2f\\u2e34de\\u803b\\xf5\\u40f5es\\u0100;a\\u01db\\u2e3as;\\u6a36ml\\u803b\\xf6\\u40f6bar;\\u633d\\u0ae1\\u2e5e\\0\\u2e7d\\0\\u2e80\\u2e9d\\0\\u2ea2\\u2eb9\\0\\0\\u2ecb\\u0e9c\\0\\u2f13\\0\\0\\u2f2b\\u2fbc\\0\\u2fc8r\\u0200;ast\\u0403\\u2e67\\u2e72\\u0e85\\u8100\\xb6;l\\u2e6d\\u2e6e\\u40b6le\\xec\\u0403\\u0269\\u2e78\\0\\0\\u2e7bm;\\u6af3;\\u6afdy;\\u443fr\\u0280cimpt\\u2e8b\\u2e8f\\u2e93\\u1865\\u2e97nt;\\u4025od;\\u402eil;\\u6030enk;\\u6031r;\\uc000\\ud835\\udd2d\\u0180imo\\u2ea8\\u2eb0\\u2eb4\\u0100;v\\u2ead\\u2eae\\u43c6;\\u43d5ma\\xf4\\u0a76ne;\\u660e\\u0180;tv\\u2ebf\\u2ec0\\u2ec8\\u43c0chfork\\xbb\\u1ffd;\\u43d6\\u0100au\\u2ecf\\u2edfn\\u0100ck\\u2ed5\\u2eddk\\u0100;h\\u21f4\\u2edb;\\u610e\\xf6\\u21f4s\\u0480;abcdemst\\u2ef3\\u2ef4\\u1908\\u2ef9\\u2efd\\u2f04\\u2f06\\u2f0a\\u2f0e\\u402bcir;\\u6a23ir;\\u6a22\\u0100ou\\u1d40\\u2f02;\\u6a25;\\u6a72n\\u80bb\\xb1\\u0e9dim;\\u6a26wo;\\u6a27\\u0180ipu\\u2f19\\u2f20\\u2f25ntint;\\u6a15f;\\uc000\\ud835\\udd61nd\\u803b\\xa3\\u40a3\\u0500;Eaceinosu\\u0ec8\\u2f3f\\u2f41\\u2f44\\u2f47\\u2f81\\u2f89\\u2f92\\u2f7e\\u2fb6;\\u6ab3p;\\u6ab7u\\xe5\\u0ed9\\u0100;c\\u0ece\\u2f4c\\u0300;acens\\u0ec8\\u2f59\\u2f5f\\u2f66\\u2f68\\u2f7eppro\\xf8\\u2f43urlye\\xf1\\u0ed9\\xf1\\u0ece\\u0180aes\\u2f6f\\u2f76\\u2f7approx;\\u6ab9qq;\\u6ab5im;\\u62e8i\\xed\\u0edfme\\u0100;s\\u2f88\\u0eae\\u6032\\u0180Eas\\u2f78\\u2f90\\u2f7a\\xf0\\u2f75\\u0180dfp\\u0eec\\u2f99\\u2faf\\u0180als\\u2fa0\\u2fa5\\u2faalar;\\u632eine;\\u6312urf;\\u6313\\u0100;t\\u0efb\\u2fb4\\xef\\u0efbrel;\\u62b0\\u0100ci\\u2fc0\\u2fc5r;\\uc000\\ud835\\udcc5;\\u43c8ncsp;\\u6008\\u0300fiopsu\\u2fda\\u22e2\\u2fdf\\u2fe5\\u2feb\\u2ff1r;\\uc000\\ud835\\udd2epf;\\uc000\\ud835\\udd62rime;\\u6057cr;\\uc000\\ud835\\udcc6\\u0180aeo\\u2ff8\\u3009\\u3013t\\u0100ei\\u2ffe\\u3005rnion\\xf3\\u06b0nt;\\u6a16st\\u0100;e\\u3010\\u3011\\u403f\\xf1\\u1f19\\xf4\\u0f14\\u0a80ABHabcdefhilmnoprstux\\u3040\\u3051\\u3055\\u3059\\u30e0\\u310e\\u312b\\u3147\\u3162\\u3172\\u318e\\u3206\\u3215\\u3224\\u3229\\u3258\\u326e\\u3272\\u3290\\u32b0\\u32b7\\u0180art\\u3047\\u304a\\u304cr\\xf2\\u10b3\\xf2\\u03ddail;\\u691car\\xf2\\u1c65ar;\\u6964\\u0380cdenqrt\\u3068\\u3075\\u3078\\u307f\\u308f\\u3094\\u30cc\\u0100eu\\u306d\\u3071;\\uc000\\u223d\\u0331te;\\u4155i\\xe3\\u116emptyv;\\u69b3g\\u0200;del\\u0fd1\\u3089\\u308b\\u308d;\\u6992;\\u69a5\\xe5\\u0fd1uo\\u803b\\xbb\\u40bbr\\u0580;abcfhlpstw\\u0fdc\\u30ac\\u30af\\u30b7\\u30b9\\u30bc\\u30be\\u30c0\\u30c3\\u30c7\\u30cap;\\u6975\\u0100;f\\u0fe0\\u30b4s;\\u6920;\\u6933s;\\u691e\\xeb\\u225d\\xf0\\u272el;\\u6945im;\\u6974l;\\u61a3;\\u619d\\u0100ai\\u30d1\\u30d5il;\\u691ao\\u0100;n\\u30db\\u30dc\\u6236al\\xf3\\u0f1e\\u0180abr\\u30e7\\u30ea\\u30eer\\xf2\\u17e5rk;\\u6773\\u0100ak\\u30f3\\u30fdc\\u0100ek\\u30f9\\u30fb;\\u407d;\\u405d\\u0100es\\u3102\\u3104;\\u698cl\\u0100du\\u310a\\u310c;\\u698e;\\u6990\\u0200aeuy\\u3117\\u311c\\u3127\\u3129ron;\\u4159\\u0100di\\u3121\\u3125il;\\u4157\\xec\\u0ff2\\xe2\\u30fa;\\u4440\\u0200clqs\\u3134\\u3137\\u313d\\u3144a;\\u6937dhar;\\u6969uo\\u0100;r\\u020e\\u020dh;\\u61b3\\u0180acg\\u314e\\u315f\\u0f44l\\u0200;ips\\u0f78\\u3158\\u315b\\u109cn\\xe5\\u10bbar\\xf4\\u0fa9t;\\u65ad\\u0180ilr\\u3169\\u1023\\u316esht;\\u697d;\\uc000\\ud835\\udd2f\\u0100ao\\u3177\\u3186r\\u0100du\\u317d\\u317f\\xbb\\u047b\\u0100;l\\u1091\\u3184;\\u696c\\u0100;v\\u318b\\u318c\\u43c1;\\u43f1\\u0180gns\\u3195\\u31f9\\u31fcht\\u0300ahlrst\\u31a4\\u31b0\\u31c2\\u31d8\\u31e4\\u31eerrow\\u0100;t\\u0fdc\\u31ada\\xe9\\u30c8arpoon\\u0100du\\u31bb\\u31bfow\\xee\\u317ep\\xbb\\u1092eft\\u0100ah\\u31ca\\u31d0rrow\\xf3\\u0feaarpoon\\xf3\\u0551ightarrows;\\u61c9quigarro\\xf7\\u30cbhreetimes;\\u62ccg;\\u42daingdotse\\xf1\\u1f32\\u0180ahm\\u320d\\u3210\\u3213r\\xf2\\u0feaa\\xf2\\u0551;\\u600foust\\u0100;a\\u321e\\u321f\\u63b1che\\xbb\\u321fmid;\\u6aee\\u0200abpt\\u3232\\u323d\\u3240\\u3252\\u0100nr\\u3237\\u323ag;\\u67edr;\\u61fer\\xeb\\u1003\\u0180afl\\u3247\\u324a\\u324er;\\u6986;\\uc000\\ud835\\udd63us;\\u6a2eimes;\\u6a35\\u0100ap\\u325d\\u3267r\\u0100;g\\u3263\\u3264\\u4029t;\\u6994olint;\\u6a12ar\\xf2\\u31e3\\u0200achq\\u327b\\u3280\\u10bc\\u3285quo;\\u603ar;\\uc000\\ud835\\udcc7\\u0100bu\\u30fb\\u328ao\\u0100;r\\u0214\\u0213\\u0180hir\\u3297\\u329b\\u32a0re\\xe5\\u31f8mes;\\u62cai\\u0200;efl\\u32aa\\u1059\\u1821\\u32ab\\u65b9tri;\\u69celuhar;\\u6968;\\u611e\\u0d61\\u32d5\\u32db\\u32df\\u332c\\u3338\\u3371\\0\\u337a\\u33a4\\0\\0\\u33ec\\u33f0\\0\\u3428\\u3448\\u345a\\u34ad\\u34b1\\u34ca\\u34f1\\0\\u3616\\0\\0\\u3633cute;\\u415bqu\\xef\\u27ba\\u0500;Eaceinpsy\\u11ed\\u32f3\\u32f5\\u32ff\\u3302\\u330b\\u330f\\u331f\\u3326\\u3329;\\u6ab4\\u01f0\\u32fa\\0\\u32fc;\\u6ab8on;\\u4161u\\xe5\\u11fe\\u0100;d\\u11f3\\u3307il;\\u415frc;\\u415d\\u0180Eas\\u3316\\u3318\\u331b;\\u6ab6p;\\u6abaim;\\u62e9olint;\\u6a13i\\xed\\u1204;\\u4441ot\\u0180;be\\u3334\\u1d47\\u3335\\u62c5;\\u6a66\\u0380Aacmstx\\u3346\\u334a\\u3357\\u335b\\u335e\\u3363\\u336drr;\\u61d8r\\u0100hr\\u3350\\u3352\\xeb\\u2228\\u0100;o\\u0a36\\u0a34t\\u803b\\xa7\\u40a7i;\\u403bwar;\\u6929m\\u0100in\\u3369\\xf0nu\\xf3\\xf1t;\\u6736r\\u0100;o\\u3376\\u2055\\uc000\\ud835\\udd30\\u0200acoy\\u3382\\u3386\\u3391\\u33a0rp;\\u666f\\u0100hy\\u338b\\u338fcy;\\u4449;\\u4448rt\\u026d\\u3399\\0\\0\\u339ci\\xe4\\u1464ara\\xec\\u2e6f\\u803b\\xad\\u40ad\\u0100gm\\u33a8\\u33b4ma\\u0180;fv\\u33b1\\u33b2\\u33b2\\u43c3;\\u43c2\\u0400;deglnpr\\u12ab\\u33c5\\u33c9\\u33ce\\u33d6\\u33de\\u33e1\\u33e6ot;\\u6a6a\\u0100;q\\u12b1\\u12b0\\u0100;E\\u33d3\\u33d4\\u6a9e;\\u6aa0\\u0100;E\\u33db\\u33dc\\u6a9d;\\u6a9fe;\\u6246lus;\\u6a24arr;\\u6972ar\\xf2\\u113d\\u0200aeit\\u33f8\\u3408\\u340f\\u3417\\u0100ls\\u33fd\\u3404lsetm\\xe9\\u336ahp;\\u6a33parsl;\\u69e4\\u0100dl\\u1463\\u3414e;\\u6323\\u0100;e\\u341c\\u341d\\u6aaa\\u0100;s\\u3422\\u3423\\u6aac;\\uc000\\u2aac\\ufe00\\u0180flp\\u342e\\u3433\\u3442tcy;\\u444c\\u0100;b\\u3438\\u3439\\u402f\\u0100;a\\u343e\\u343f\\u69c4r;\\u633ff;\\uc000\\ud835\\udd64a\\u0100dr\\u344d\\u0402es\\u0100;u\\u3454\\u3455\\u6660it\\xbb\\u3455\\u0180csu\\u3460\\u3479\\u349f\\u0100au\\u3465\\u346fp\\u0100;s\\u1188\\u346b;\\uc000\\u2293\\ufe00p\\u0100;s\\u11b4\\u3475;\\uc000\\u2294\\ufe00u\\u0100bp\\u347f\\u348f\\u0180;es\\u1197\\u119c\\u3486et\\u0100;e\\u1197\\u348d\\xf1\\u119d\\u0180;es\\u11a8\\u11ad\\u3496et\\u0100;e\\u11a8\\u349d\\xf1\\u11ae\\u0180;af\\u117b\\u34a6\\u05b0r\\u0165\\u34ab\\u05b1\\xbb\\u117car\\xf2\\u1148\\u0200cemt\\u34b9\\u34be\\u34c2\\u34c5r;\\uc000\\ud835\\udcc8tm\\xee\\xf1i\\xec\\u3415ar\\xe6\\u11be\\u0100ar\\u34ce\\u34d5r\\u0100;f\\u34d4\\u17bf\\u6606\\u0100an\\u34da\\u34edight\\u0100ep\\u34e3\\u34eapsilo\\xee\\u1ee0h\\xe9\\u2eafs\\xbb\\u2852\\u0280bcmnp\\u34fb\\u355e\\u1209\\u358b\\u358e\\u0480;Edemnprs\\u350e\\u350f\\u3511\\u3515\\u351e\\u3523\\u352c\\u3531\\u3536\\u6282;\\u6ac5ot;\\u6abd\\u0100;d\\u11da\\u351aot;\\u6ac3ult;\\u6ac1\\u0100Ee\\u3528\\u352a;\\u6acb;\\u628alus;\\u6abfarr;\\u6979\\u0180eiu\\u353d\\u3552\\u3555t\\u0180;en\\u350e\\u3545\\u354bq\\u0100;q\\u11da\\u350feq\\u0100;q\\u352b\\u3528m;\\u6ac7\\u0100bp\\u355a\\u355c;\\u6ad5;\\u6ad3c\\u0300;acens\\u11ed\\u356c\\u3572\\u3579\\u357b\\u3326ppro\\xf8\\u32faurlye\\xf1\\u11fe\\xf1\\u11f3\\u0180aes\\u3582\\u3588\\u331bppro\\xf8\\u331aq\\xf1\\u3317g;\\u666a\\u0680123;Edehlmnps\\u35a9\\u35ac\\u35af\\u121c\\u35b2\\u35b4\\u35c0\\u35c9\\u35d5\\u35da\\u35df\\u35e8\\u35ed\\u803b\\xb9\\u40b9\\u803b\\xb2\\u40b2\\u803b\\xb3\\u40b3;\\u6ac6\\u0100os\\u35b9\\u35bct;\\u6abeub;\\u6ad8\\u0100;d\\u1222\\u35c5ot;\\u6ac4s\\u0100ou\\u35cf\\u35d2l;\\u67c9b;\\u6ad7arr;\\u697bult;\\u6ac2\\u0100Ee\\u35e4\\u35e6;\\u6acc;\\u628blus;\\u6ac0\\u0180eiu\\u35f4\\u3609\\u360ct\\u0180;en\\u121c\\u35fc\\u3602q\\u0100;q\\u1222\\u35b2eq\\u0100;q\\u35e7\\u35e4m;\\u6ac8\\u0100bp\\u3611\\u3613;\\u6ad4;\\u6ad6\\u0180Aan\\u361c\\u3620\\u362drr;\\u61d9r\\u0100hr\\u3626\\u3628\\xeb\\u222e\\u0100;o\\u0a2b\\u0a29war;\\u692alig\\u803b\\xdf\\u40df\\u0be1\\u3651\\u365d\\u3660\\u12ce\\u3673\\u3679\\0\\u367e\\u36c2\\0\\0\\0\\0\\0\\u36db\\u3703\\0\\u3709\\u376c\\0\\0\\0\\u3787\\u0272\\u3656\\0\\0\\u365bget;\\u6316;\\u43c4r\\xeb\\u0e5f\\u0180aey\\u3666\\u366b\\u3670ron;\\u4165dil;\\u4163;\\u4442lrec;\\u6315r;\\uc000\\ud835\\udd31\\u0200eiko\\u3686\\u369d\\u36b5\\u36bc\\u01f2\\u368b\\0\\u3691e\\u01004f\\u1284\\u1281a\\u0180;sv\\u3698\\u3699\\u369b\\u43b8ym;\\u43d1\\u0100cn\\u36a2\\u36b2k\\u0100as\\u36a8\\u36aeppro\\xf8\\u12c1im\\xbb\\u12acs\\xf0\\u129e\\u0100as\\u36ba\\u36ae\\xf0\\u12c1rn\\u803b\\xfe\\u40fe\\u01ec\\u031f\\u36c6\\u22e7es\\u8180\\xd7;bd\\u36cf\\u36d0\\u36d8\\u40d7\\u0100;a\\u190f\\u36d5r;\\u6a31;\\u6a30\\u0180eps\\u36e1\\u36e3\\u3700\\xe1\\u2a4d\\u0200;bcf\\u0486\\u36ec\\u36f0\\u36f4ot;\\u6336ir;\\u6af1\\u0100;o\\u36f9\\u36fc\\uc000\\ud835\\udd65rk;\\u6ada\\xe1\\u3362rime;\\u6034\\u0180aip\\u370f\\u3712\\u3764d\\xe5\\u1248\\u0380adempst\\u3721\\u374d\\u3740\\u3751\\u3757\\u375c\\u375fngle\\u0280;dlqr\\u3730\\u3731\\u3736\\u3740\\u3742\\u65b5own\\xbb\\u1dbbeft\\u0100;e\\u2800\\u373e\\xf1\\u092e;\\u625cight\\u0100;e\\u32aa\\u374b\\xf1\\u105aot;\\u65ecinus;\\u6a3alus;\\u6a39b;\\u69cdime;\\u6a3bezium;\\u63e2\\u0180cht\\u3772\\u377d\\u3781\\u0100ry\\u3777\\u377b;\\uc000\\ud835\\udcc9;\\u4446cy;\\u445brok;\\u4167\\u0100io\\u378b\\u378ex\\xf4\\u1777head\\u0100lr\\u3797\\u37a0eftarro\\xf7\\u084fightarrow\\xbb\\u0f5d\\u0900AHabcdfghlmoprstuw\\u37d0\\u37d3\\u37d7\\u37e4\\u37f0\\u37fc\\u380e\\u381c\\u3823\\u3834\\u3851\\u385d\\u386b\\u38a9\\u38cc\\u38d2\\u38ea\\u38f6r\\xf2\\u03edar;\\u6963\\u0100cr\\u37dc\\u37e2ute\\u803b\\xfa\\u40fa\\xf2\\u1150r\\u01e3\\u37ea\\0\\u37edy;\\u445eve;\\u416d\\u0100iy\\u37f5\\u37farc\\u803b\\xfb\\u40fb;\\u4443\\u0180abh\\u3803\\u3806\\u380br\\xf2\\u13adlac;\\u4171a\\xf2\\u13c3\\u0100ir\\u3813\\u3818sht;\\u697e;\\uc000\\ud835\\udd32rave\\u803b\\xf9\\u40f9\\u0161\\u3827\\u3831r\\u0100lr\\u382c\\u382e\\xbb\\u0957\\xbb\\u1083lk;\\u6580\\u0100ct\\u3839\\u384d\\u026f\\u383f\\0\\0\\u384arn\\u0100;e\\u3845\\u3846\\u631cr\\xbb\\u3846op;\\u630fri;\\u65f8\\u0100al\\u3856\\u385acr;\\u416b\\u80bb\\xa8\\u0349\\u0100gp\\u3862\\u3866on;\\u4173f;\\uc000\\ud835\\udd66\\u0300adhlsu\\u114b\\u3878\\u387d\\u1372\\u3891\\u38a0own\\xe1\\u13b3arpoon\\u0100lr\\u3888\\u388cef\\xf4\\u382digh\\xf4\\u382fi\\u0180;hl\\u3899\\u389a\\u389c\\u43c5\\xbb\\u13faon\\xbb\\u389aparrows;\\u61c8\\u0180cit\\u38b0\\u38c4\\u38c8\\u026f\\u38b6\\0\\0\\u38c1rn\\u0100;e\\u38bc\\u38bd\\u631dr\\xbb\\u38bdop;\\u630eng;\\u416fri;\\u65f9cr;\\uc000\\ud835\\udcca\\u0180dir\\u38d9\\u38dd\\u38e2ot;\\u62f0lde;\\u4169i\\u0100;f\\u3730\\u38e8\\xbb\\u1813\\u0100am\\u38ef\\u38f2r\\xf2\\u38a8l\\u803b\\xfc\\u40fcangle;\\u69a7\\u0780ABDacdeflnoprsz\\u391c\\u391f\\u3929\\u392d\\u39b5\\u39b8\\u39bd\\u39df\\u39e4\\u39e8\\u39f3\\u39f9\\u39fd\\u3a01\\u3a20r\\xf2\\u03f7ar\\u0100;v\\u3926\\u3927\\u6ae8;\\u6ae9as\\xe8\\u03e1\\u0100nr\\u3932\\u3937grt;\\u699c\\u0380eknprst\\u34e3\\u3946\\u394b\\u3952\\u395d\\u3964\\u3996app\\xe1\\u2415othin\\xe7\\u1e96\\u0180hir\\u34eb\\u2ec8\\u3959op\\xf4\\u2fb5\\u0100;h\\u13b7\\u3962\\xef\\u318d\\u0100iu\\u3969\\u396dgm\\xe1\\u33b3\\u0100bp\\u3972\\u3984setneq\\u0100;q\\u397d\\u3980\\uc000\\u228a\\ufe00;\\uc000\\u2acb\\ufe00setneq\\u0100;q\\u398f\\u3992\\uc000\\u228b\\ufe00;\\uc000\\u2acc\\ufe00\\u0100hr\\u399b\\u399fet\\xe1\\u369ciangle\\u0100lr\\u39aa\\u39afeft\\xbb\\u0925ight\\xbb\\u1051y;\\u4432ash\\xbb\\u1036\\u0180elr\\u39c4\\u39d2\\u39d7\\u0180;be\\u2dea\\u39cb\\u39cfar;\\u62bbq;\\u625alip;\\u62ee\\u0100bt\\u39dc\\u1468a\\xf2\\u1469r;\\uc000\\ud835\\udd33tr\\xe9\\u39aesu\\u0100bp\\u39ef\\u39f1\\xbb\\u0d1c\\xbb\\u0d59pf;\\uc000\\ud835\\udd67ro\\xf0\\u0efbtr\\xe9\\u39b4\\u0100cu\\u3a06\\u3a0br;\\uc000\\ud835\\udccb\\u0100bp\\u3a10\\u3a18n\\u0100Ee\\u3980\\u3a16\\xbb\\u397en\\u0100Ee\\u3992\\u3a1e\\xbb\\u3990igzag;\\u699a\\u0380cefoprs\\u3a36\\u3a3b\\u3a56\\u3a5b\\u3a54\\u3a61\\u3a6airc;\\u4175\\u0100di\\u3a40\\u3a51\\u0100bg\\u3a45\\u3a49ar;\\u6a5fe\\u0100;q\\u15fa\\u3a4f;\\u6259erp;\\u6118r;\\uc000\\ud835\\udd34pf;\\uc000\\ud835\\udd68\\u0100;e\\u1479\\u3a66at\\xe8\\u1479cr;\\uc000\\ud835\\udccc\\u0ae3\\u178e\\u3a87\\0\\u3a8b\\0\\u3a90\\u3a9b\\0\\0\\u3a9d\\u3aa8\\u3aab\\u3aaf\\0\\0\\u3ac3\\u3ace\\0\\u3ad8\\u17dc\\u17dftr\\xe9\\u17d1r;\\uc000\\ud835\\udd35\\u0100Aa\\u3a94\\u3a97r\\xf2\\u03c3r\\xf2\\u09f6;\\u43be\\u0100Aa\\u3aa1\\u3aa4r\\xf2\\u03b8r\\xf2\\u09eba\\xf0\\u2713is;\\u62fb\\u0180dpt\\u17a4\\u3ab5\\u3abe\\u0100fl\\u3aba\\u17a9;\\uc000\\ud835\\udd69im\\xe5\\u17b2\\u0100Aa\\u3ac7\\u3acar\\xf2\\u03cer\\xf2\\u0a01\\u0100cq\\u3ad2\\u17b8r;\\uc000\\ud835\\udccd\\u0100pt\\u17d6\\u3adcr\\xe9\\u17d4\\u0400acefiosu\\u3af0\\u3afd\\u3b08\\u3b0c\\u3b11\\u3b15\\u3b1b\\u3b21c\\u0100uy\\u3af6\\u3afbte\\u803b\\xfd\\u40fd;\\u444f\\u0100iy\\u3b02\\u3b06rc;\\u4177;\\u444bn\\u803b\\xa5\\u40a5r;\\uc000\\ud835\\udd36cy;\\u4457pf;\\uc000\\ud835\\udd6acr;\\uc000\\ud835\\udcce\\u0100cm\\u3b26\\u3b29y;\\u444el\\u803b\\xff\\u40ff\\u0500acdefhiosw\\u3b42\\u3b48\\u3b54\\u3b58\\u3b64\\u3b69\\u3b6d\\u3b74\\u3b7a\\u3b80cute;\\u417a\\u0100ay\\u3b4d\\u3b52ron;\\u417e;\\u4437ot;\\u417c\\u0100et\\u3b5d\\u3b61tr\\xe6\\u155fa;\\u43b6r;\\uc000\\ud835\\udd37cy;\\u4436grarr;\\u61ddpf;\\uc000\\ud835\\udd6bcr;\\uc000\\ud835\\udccf\\u0100jn\\u3b85\\u3b87;\\u600dj;\\u600c\"\n    .split(\"\")\n    .map((c) => c.charCodeAt(0)));\n//# sourceMappingURL=decode-data-html.js.map","// Adapted from https://github.com/mathiasbynens/he/blob/36afe179392226cf1b6ccdb16ebbb7a5a844d93a/src/he.js#L106-L134\nvar _a;\nconst decodeMap = new Map([\n    [0, 65533],\n    // C1 Unicode control character reference replacements\n    [128, 8364],\n    [130, 8218],\n    [131, 402],\n    [132, 8222],\n    [133, 8230],\n    [134, 8224],\n    [135, 8225],\n    [136, 710],\n    [137, 8240],\n    [138, 352],\n    [139, 8249],\n    [140, 338],\n    [142, 381],\n    [145, 8216],\n    [146, 8217],\n    [147, 8220],\n    [148, 8221],\n    [149, 8226],\n    [150, 8211],\n    [151, 8212],\n    [152, 732],\n    [153, 8482],\n    [154, 353],\n    [155, 8250],\n    [156, 339],\n    [158, 382],\n    [159, 376],\n]);\n/**\n * Polyfill for `String.fromCodePoint`. It is used to create a string from a Unicode code point.\n */\nexport const fromCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, n/no-unsupported-features/es-builtins\n(_a = String.fromCodePoint) !== null && _a !== void 0 ? _a : function (codePoint) {\n    let output = \"\";\n    if (codePoint > 65535) {\n        codePoint -= 65536;\n        output += String.fromCharCode(((codePoint >>> 10) & 1023) | 55296);\n        codePoint = 56320 | (codePoint & 1023);\n    }\n    output += String.fromCharCode(codePoint);\n    return output;\n};\n/**\n * Replace the given code point with a replacement character if it is a\n * surrogate or is outside the valid range. Otherwise return the code\n * point unchanged.\n */\nexport function replaceCodePoint(codePoint) {\n    var _a;\n    if ((codePoint >= 55296 && codePoint <= 57343) ||\n        codePoint > 1114111) {\n        return 65533;\n    }\n    return (_a = decodeMap.get(codePoint)) !== null && _a !== void 0 ? _a : codePoint;\n}\n/**\n * Replace the code point if relevant, then convert it to a string.\n *\n * @deprecated Use `fromCodePoint(replaceCodePoint(codePoint))` instead.\n * @param codePoint The code point to decode.\n * @returns The decoded code point.\n */\nexport function decodeCodePoint(codePoint) {\n    return fromCodePoint(replaceCodePoint(codePoint));\n}\n//# sourceMappingURL=decode-codepoint.js.map","import { htmlDecodeTree } from \"./generated/decode-data-html.js\";\nimport { xmlDecodeTree } from \"./generated/decode-data-xml.js\";\nimport { replaceCodePoint, fromCodePoint } from \"./decode-codepoint.js\";\nvar CharCodes;\n(function (CharCodes) {\n    CharCodes[CharCodes[\"NUM\"] = 35] = \"NUM\";\n    CharCodes[CharCodes[\"SEMI\"] = 59] = \"SEMI\";\n    CharCodes[CharCodes[\"EQUALS\"] = 61] = \"EQUALS\";\n    CharCodes[CharCodes[\"ZERO\"] = 48] = \"ZERO\";\n    CharCodes[CharCodes[\"NINE\"] = 57] = \"NINE\";\n    CharCodes[CharCodes[\"LOWER_A\"] = 97] = \"LOWER_A\";\n    CharCodes[CharCodes[\"LOWER_F\"] = 102] = \"LOWER_F\";\n    CharCodes[CharCodes[\"LOWER_X\"] = 120] = \"LOWER_X\";\n    CharCodes[CharCodes[\"LOWER_Z\"] = 122] = \"LOWER_Z\";\n    CharCodes[CharCodes[\"UPPER_A\"] = 65] = \"UPPER_A\";\n    CharCodes[CharCodes[\"UPPER_F\"] = 70] = \"UPPER_F\";\n    CharCodes[CharCodes[\"UPPER_Z\"] = 90] = \"UPPER_Z\";\n})(CharCodes || (CharCodes = {}));\n/** Bit that needs to be set to convert an upper case ASCII character to lower case */\nconst TO_LOWER_BIT = 32;\nexport var BinTrieFlags;\n(function (BinTrieFlags) {\n    BinTrieFlags[BinTrieFlags[\"VALUE_LENGTH\"] = 49152] = \"VALUE_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"BRANCH_LENGTH\"] = 16256] = \"BRANCH_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"JUMP_TABLE\"] = 127] = \"JUMP_TABLE\";\n})(BinTrieFlags || (BinTrieFlags = {}));\nfunction isNumber(code) {\n    return code >= CharCodes.ZERO && code <= CharCodes.NINE;\n}\nfunction isHexadecimalCharacter(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_F) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_F));\n}\nfunction isAsciiAlphaNumeric(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_Z) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_Z) ||\n        isNumber(code));\n}\n/**\n * Checks if the given character is a valid end character for an entity in an attribute.\n *\n * Attribute values that aren't terminated properly aren't parsed, and shouldn't lead to a parser error.\n * See the example in https://html.spec.whatwg.org/multipage/parsing.html#named-character-reference-state\n */\nfunction isEntityInAttributeInvalidEnd(code) {\n    return code === CharCodes.EQUALS || isAsciiAlphaNumeric(code);\n}\nvar EntityDecoderState;\n(function (EntityDecoderState) {\n    EntityDecoderState[EntityDecoderState[\"EntityStart\"] = 0] = \"EntityStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericStart\"] = 1] = \"NumericStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericDecimal\"] = 2] = \"NumericDecimal\";\n    EntityDecoderState[EntityDecoderState[\"NumericHex\"] = 3] = \"NumericHex\";\n    EntityDecoderState[EntityDecoderState[\"NamedEntity\"] = 4] = \"NamedEntity\";\n})(EntityDecoderState || (EntityDecoderState = {}));\nexport var DecodingMode;\n(function (DecodingMode) {\n    /** Entities in text nodes that can end with any character. */\n    DecodingMode[DecodingMode[\"Legacy\"] = 0] = \"Legacy\";\n    /** Only allow entities terminated with a semicolon. */\n    DecodingMode[DecodingMode[\"Strict\"] = 1] = \"Strict\";\n    /** Entities in attributes have limitations on ending characters. */\n    DecodingMode[DecodingMode[\"Attribute\"] = 2] = \"Attribute\";\n})(DecodingMode || (DecodingMode = {}));\n/**\n * Token decoder with support of writing partial entities.\n */\nexport class EntityDecoder {\n    constructor(\n    /** The tree used to decode entities. */\n    decodeTree, \n    /**\n     * The function that is called when a codepoint is decoded.\n     *\n     * For multi-byte named entities, this will be called multiple times,\n     * with the second codepoint, and the same `consumed` value.\n     *\n     * @param codepoint The decoded codepoint.\n     * @param consumed The number of bytes consumed by the decoder.\n     */\n    emitCodePoint, \n    /** An object that is used to produce errors. */\n    errors) {\n        this.decodeTree = decodeTree;\n        this.emitCodePoint = emitCodePoint;\n        this.errors = errors;\n        /** The current state of the decoder. */\n        this.state = EntityDecoderState.EntityStart;\n        /** Characters that were consumed while parsing an entity. */\n        this.consumed = 1;\n        /**\n         * The result of the entity.\n         *\n         * Either the result index of a numeric entity, or the codepoint of a\n         * numeric entity.\n         */\n        this.result = 0;\n        /** The current index in the decode tree. */\n        this.treeIndex = 0;\n        /** The number of characters that were consumed in excess. */\n        this.excess = 1;\n        /** The mode in which the decoder is operating. */\n        this.decodeMode = DecodingMode.Strict;\n    }\n    /** Resets the instance to make it reusable. */\n    startEntity(decodeMode) {\n        this.decodeMode = decodeMode;\n        this.state = EntityDecoderState.EntityStart;\n        this.result = 0;\n        this.treeIndex = 0;\n        this.excess = 1;\n        this.consumed = 1;\n    }\n    /**\n     * Write an entity to the decoder. This can be called multiple times with partial entities.\n     * If the entity is incomplete, the decoder will return -1.\n     *\n     * Mirrors the implementation of `getDecoder`, but with the ability to stop decoding if the\n     * entity is incomplete, and resume when the next string is written.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The offset at which the entity begins. Should be 0 if this is not the first call.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    write(input, offset) {\n        switch (this.state) {\n            case EntityDecoderState.EntityStart: {\n                if (input.charCodeAt(offset) === CharCodes.NUM) {\n                    this.state = EntityDecoderState.NumericStart;\n                    this.consumed += 1;\n                    return this.stateNumericStart(input, offset + 1);\n                }\n                this.state = EntityDecoderState.NamedEntity;\n                return this.stateNamedEntity(input, offset);\n            }\n            case EntityDecoderState.NumericStart: {\n                return this.stateNumericStart(input, offset);\n            }\n            case EntityDecoderState.NumericDecimal: {\n                return this.stateNumericDecimal(input, offset);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.stateNumericHex(input, offset);\n            }\n            case EntityDecoderState.NamedEntity: {\n                return this.stateNamedEntity(input, offset);\n            }\n        }\n    }\n    /**\n     * Switches between the numeric decimal and hexadecimal states.\n     *\n     * Equivalent to the `Numeric character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericStart(input, offset) {\n        if (offset >= input.length) {\n            return -1;\n        }\n        if ((input.charCodeAt(offset) | TO_LOWER_BIT) === CharCodes.LOWER_X) {\n            this.state = EntityDecoderState.NumericHex;\n            this.consumed += 1;\n            return this.stateNumericHex(input, offset + 1);\n        }\n        this.state = EntityDecoderState.NumericDecimal;\n        return this.stateNumericDecimal(input, offset);\n    }\n    addToNumericResult(input, start, end, base) {\n        if (start !== end) {\n            const digitCount = end - start;\n            this.result =\n                this.result * Math.pow(base, digitCount) +\n                    Number.parseInt(input.substr(start, digitCount), base);\n            this.consumed += digitCount;\n        }\n    }\n    /**\n     * Parses a hexadecimal numeric entity.\n     *\n     * Equivalent to the `Hexademical character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericHex(input, offset) {\n        const startIndex = offset;\n        while (offset < input.length) {\n            const char = input.charCodeAt(offset);\n            if (isNumber(char) || isHexadecimalCharacter(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(input, startIndex, offset, 16);\n                return this.emitNumericEntity(char, 3);\n            }\n        }\n        this.addToNumericResult(input, startIndex, offset, 16);\n        return -1;\n    }\n    /**\n     * Parses a decimal numeric entity.\n     *\n     * Equivalent to the `Decimal character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericDecimal(input, offset) {\n        const startIndex = offset;\n        while (offset < input.length) {\n            const char = input.charCodeAt(offset);\n            if (isNumber(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(input, startIndex, offset, 10);\n                return this.emitNumericEntity(char, 2);\n            }\n        }\n        this.addToNumericResult(input, startIndex, offset, 10);\n        return -1;\n    }\n    /**\n     * Validate and emit a numeric entity.\n     *\n     * Implements the logic from the `Hexademical character reference start\n     * state` and `Numeric character reference end state` in the HTML spec.\n     *\n     * @param lastCp The last code point of the entity. Used to see if the\n     *               entity was terminated with a semicolon.\n     * @param expectedLength The minimum number of characters that should be\n     *                       consumed. Used to validate that at least one digit\n     *                       was consumed.\n     * @returns The number of characters that were consumed.\n     */\n    emitNumericEntity(lastCp, expectedLength) {\n        var _a;\n        // Ensure we consumed at least one digit.\n        if (this.consumed <= expectedLength) {\n            (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n            return 0;\n        }\n        // Figure out if this is a legit end of the entity\n        if (lastCp === CharCodes.SEMI) {\n            this.consumed += 1;\n        }\n        else if (this.decodeMode === DecodingMode.Strict) {\n            return 0;\n        }\n        this.emitCodePoint(replaceCodePoint(this.result), this.consumed);\n        if (this.errors) {\n            if (lastCp !== CharCodes.SEMI) {\n                this.errors.missingSemicolonAfterCharacterReference();\n            }\n            this.errors.validateNumericCharacterReference(this.result);\n        }\n        return this.consumed;\n    }\n    /**\n     * Parses a named entity.\n     *\n     * Equivalent to the `Named character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNamedEntity(input, offset) {\n        const { decodeTree } = this;\n        let current = decodeTree[this.treeIndex];\n        // The mask is the number of bytes of the value, including the current byte.\n        let valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n        for (; offset < input.length; offset++, this.excess++) {\n            const char = input.charCodeAt(offset);\n            this.treeIndex = determineBranch(decodeTree, current, this.treeIndex + Math.max(1, valueLength), char);\n            if (this.treeIndex < 0) {\n                return this.result === 0 ||\n                    // If we are parsing an attribute\n                    (this.decodeMode === DecodingMode.Attribute &&\n                        // We shouldn't have consumed any characters after the entity,\n                        (valueLength === 0 ||\n                            // And there should be no invalid characters.\n                            isEntityInAttributeInvalidEnd(char)))\n                    ? 0\n                    : this.emitNotTerminatedNamedEntity();\n            }\n            current = decodeTree[this.treeIndex];\n            valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n            // If the branch is a value, store it and continue\n            if (valueLength !== 0) {\n                // If the entity is terminated by a semicolon, we are done.\n                if (char === CharCodes.SEMI) {\n                    return this.emitNamedEntityData(this.treeIndex, valueLength, this.consumed + this.excess);\n                }\n                // If we encounter a non-terminated (legacy) entity while parsing strictly, then ignore it.\n                if (this.decodeMode !== DecodingMode.Strict) {\n                    this.result = this.treeIndex;\n                    this.consumed += this.excess;\n                    this.excess = 0;\n                }\n            }\n        }\n        return -1;\n    }\n    /**\n     * Emit a named entity that was not terminated with a semicolon.\n     *\n     * @returns The number of characters consumed.\n     */\n    emitNotTerminatedNamedEntity() {\n        var _a;\n        const { result, decodeTree } = this;\n        const valueLength = (decodeTree[result] & BinTrieFlags.VALUE_LENGTH) >> 14;\n        this.emitNamedEntityData(result, valueLength, this.consumed);\n        (_a = this.errors) === null || _a === void 0 ? void 0 : _a.missingSemicolonAfterCharacterReference();\n        return this.consumed;\n    }\n    /**\n     * Emit a named entity.\n     *\n     * @param result The index of the entity in the decode tree.\n     * @param valueLength The number of bytes in the entity.\n     * @param consumed The number of characters consumed.\n     *\n     * @returns The number of characters consumed.\n     */\n    emitNamedEntityData(result, valueLength, consumed) {\n        const { decodeTree } = this;\n        this.emitCodePoint(valueLength === 1\n            ? decodeTree[result] & ~BinTrieFlags.VALUE_LENGTH\n            : decodeTree[result + 1], consumed);\n        if (valueLength === 3) {\n            // For multi-byte values, we need to emit the second byte.\n            this.emitCodePoint(decodeTree[result + 2], consumed);\n        }\n        return consumed;\n    }\n    /**\n     * Signal to the parser that the end of the input was reached.\n     *\n     * Remaining data will be emitted and relevant errors will be produced.\n     *\n     * @returns The number of characters consumed.\n     */\n    end() {\n        var _a;\n        switch (this.state) {\n            case EntityDecoderState.NamedEntity: {\n                // Emit a named entity if we have one.\n                return this.result !== 0 &&\n                    (this.decodeMode !== DecodingMode.Attribute ||\n                        this.result === this.treeIndex)\n                    ? this.emitNotTerminatedNamedEntity()\n                    : 0;\n            }\n            // Otherwise, emit a numeric entity if we have one.\n            case EntityDecoderState.NumericDecimal: {\n                return this.emitNumericEntity(0, 2);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.emitNumericEntity(0, 3);\n            }\n            case EntityDecoderState.NumericStart: {\n                (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n                return 0;\n            }\n            case EntityDecoderState.EntityStart: {\n                // Return 0 if we have no entity.\n                return 0;\n            }\n        }\n    }\n}\n/**\n * Creates a function that decodes entities in a string.\n *\n * @param decodeTree The decode tree.\n * @returns A function that decodes entities in a string.\n */\nfunction getDecoder(decodeTree) {\n    let returnValue = \"\";\n    const decoder = new EntityDecoder(decodeTree, (data) => (returnValue += fromCodePoint(data)));\n    return function decodeWithTrie(input, decodeMode) {\n        let lastIndex = 0;\n        let offset = 0;\n        while ((offset = input.indexOf(\"&\", offset)) >= 0) {\n            returnValue += input.slice(lastIndex, offset);\n            decoder.startEntity(decodeMode);\n            const length = decoder.write(input, \n            // Skip the \"&\"\n            offset + 1);\n            if (length < 0) {\n                lastIndex = offset + decoder.end();\n                break;\n            }\n            lastIndex = offset + length;\n            // If `length` is 0, skip the current `&` and continue.\n            offset = length === 0 ? lastIndex + 1 : lastIndex;\n        }\n        const result = returnValue + input.slice(lastIndex);\n        // Make sure we don't keep a reference to the final string.\n        returnValue = \"\";\n        return result;\n    };\n}\n/**\n * Determines the branch of the current node that is taken given the current\n * character. This function is used to traverse the trie.\n *\n * @param decodeTree The trie.\n * @param current The current node.\n * @param nodeIdx The index right after the current node and its value.\n * @param char The current character.\n * @returns The index of the next node, or -1 if no branch is taken.\n */\nexport function determineBranch(decodeTree, current, nodeIndex, char) {\n    const branchCount = (current & BinTrieFlags.BRANCH_LENGTH) >> 7;\n    const jumpOffset = current & BinTrieFlags.JUMP_TABLE;\n    // Case 1: Single branch encoded in jump offset\n    if (branchCount === 0) {\n        return jumpOffset !== 0 && char === jumpOffset ? nodeIndex : -1;\n    }\n    // Case 2: Multiple branches encoded in jump table\n    if (jumpOffset) {\n        const value = char - jumpOffset;\n        return value < 0 || value >= branchCount\n            ? -1\n            : decodeTree[nodeIndex + value] - 1;\n    }\n    // Case 3: Multiple branches encoded in dictionary\n    // Binary search for the character.\n    let lo = nodeIndex;\n    let hi = lo + branchCount - 1;\n    while (lo <= hi) {\n        const mid = (lo + hi) >>> 1;\n        const midValue = decodeTree[mid];\n        if (midValue < char) {\n            lo = mid + 1;\n        }\n        else if (midValue > char) {\n            hi = mid - 1;\n        }\n        else {\n            return decodeTree[mid + branchCount];\n        }\n    }\n    return -1;\n}\nconst htmlDecoder = /* #__PURE__ */ getDecoder(htmlDecodeTree);\nconst xmlDecoder = /* #__PURE__ */ getDecoder(xmlDecodeTree);\n/**\n * Decodes an HTML string.\n *\n * @param htmlString The string to decode.\n * @param mode The decoding mode.\n * @returns The decoded string.\n */\nexport function decodeHTML(htmlString, mode = DecodingMode.Legacy) {\n    return htmlDecoder(htmlString, mode);\n}\n/**\n * Decodes an HTML string in an attribute.\n *\n * @param htmlAttribute The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLAttribute(htmlAttribute) {\n    return htmlDecoder(htmlAttribute, DecodingMode.Attribute);\n}\n/**\n * Decodes an HTML string, requiring all entities to be terminated by a semicolon.\n *\n * @param htmlString The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLStrict(htmlString) {\n    return htmlDecoder(htmlString, DecodingMode.Strict);\n}\n/**\n * Decodes an XML string, requiring all entities to be terminated by a semicolon.\n *\n * @param xmlString The string to decode.\n * @returns The decoded string.\n */\nexport function decodeXML(xmlString) {\n    return xmlDecoder(xmlString, DecodingMode.Strict);\n}\n// Re-export for use by eg. htmlparser2\nexport { htmlDecodeTree } from \"./generated/decode-data-html.js\";\nexport { xmlDecodeTree } from \"./generated/decode-data-xml.js\";\nexport { decodeCodePoint, replaceCodePoint, fromCodePoint, } from \"./decode-codepoint.js\";\n//# sourceMappingURL=decode.js.map","import katex from \"katex\";\nimport { decodeHTML } from 'entities'\n\nconst delimiters = [\n  { left: \"$$\", right: \"$$\", display: false },\n  { left: \"$\", right: \"$\", display: false },\n  { left: \"\\\\(\", right: \"\\\\)\", display: false },\n  { left: \"\\\\[\", right: \"\\\\]\", display: false },\n];\n\nfunction renderWithDelimiters(latexString, delimiters) {\n  let htmlString = \"\";\n  let position = 0;\n\n  while (position < latexString.length) {\n    let match = null;\n    let matchStart = -1;\n    let matchEnd = -1;\n    let isDisplay = false;\n\n    for (let delimiter of delimiters) {\n      let start = latexString.indexOf(delimiter.left, position);\n      if (start !== -1 && (matchStart === -1 || start < matchStart)) {\n        let end = latexString.indexOf(\n          delimiter.right,\n          start + delimiter.left.length\n        );\n        if (end !== -1) {\n          match = delimiter;\n          matchStart = start;\n          matchEnd = end;\n          isDisplay = delimiter.display;\n        }\n      }\n    }\n\n    if (match === null) {\n      htmlString += latexString.slice(position);\n      break;\n    }\n\n    htmlString += latexString.slice(position, matchStart);\n    let latex = latexString.slice(matchStart + match.left.length, matchEnd);\n\n    let renderedHTML = katex.renderToString(latex, {\n      throwOnError: false,\n      displayMode: isDisplay,\n      output: \"html\",\n    });\n    htmlString += renderedHTML;\n    position = matchEnd + match.right.length;\n  }\n\n  return htmlString;\n}\n\nfunction latexParser(text) {\n  \n  const regex = /<span class=\\\\*\"math-tex\\\\*\">([.\\s\\S]*?)<\\/span>/g;\n\n  let match;\n\n  let dataModified = text;  \n  \n  while ((match = regex.exec(text)) !== null) {\n    let renderFormula;\n    try {\n      \n      renderFormula = renderWithDelimiters(\n        decodeHTML(match[1]).replace(/\\u00A0/g, \" \"),\n        delimiters\n      );\n      dataModified = dataModified.replace(\n        match[0],\n        `<span class=\"math-tex\">${renderFormula}</span>`\n      );\n      \n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  return dataModified;\n}\n\nexport default latexParser\n"],"names":["Assessment","constructor","id","title","questions","attachments","layout","this","Question","order","customOrder","value","type","content","reference","alternatives","afirmacoes","associacoes","assercoes","visualizaQuestaoRaw","orderAlternative","referenceInfo","showReference","visualizaQuestaoParsed","displayOrder","_a","ReferenceService","processReferences","formatLista","indices","map","i","join","replace","questaoReferencia","reduce","question","index","ref","codigo","existentes","_b","get","set","Map","primeira","utils","extend","indexOf","array","len","length","escapeExpression","string","toHTML","possible","test","badChars","escapeChar","isEmpty","isArray","createFrame","object","frame","_parent","blockParams","params","ids","path","appendContextPath","contextPath","escape","chr","obj","arguments","key","Object","prototype","hasOwnProperty","call","toString","isFunction","Array","exports","__esModule","errorProps","Exception","message","node","loc","line","undefined","endLineNumber","column","endColumn","start","end","tmp","Error","idx","captureStackTrace","lineNumber","defineProperty","enumerable","nop","module","_interopRequireDefault","default","helpers","registerDefaultHelpers","instance","_helpersBlockHelperMissing2","_helpersEach2","_helpersHelperMissing2","_helpersIf2","_helpersLog2","_helpersLookup2","_helpersWith2","moveHelperToHooks","helperName","keepHelper","hooks","_helpersBlockHelperMissing","_utils","require$$0","registerHelper","context","options","inverse","fn","name","each","data","_helpersEach","_exception2","require$$1","priorKey","ret","execIteration","field","last","first","j","Symbol","iterator","newContext","it","next","done","push","keys","forEach","_helpersHelperMissing","_helpersIf","conditional","hash","includeZero","_helpersLog","args","level","log","apply","_helpersLookup","lookupProperty","require$$5","_helpersWith","decorators","registerDefaultDecorators","_decoratorsInline2","_decoratorsInline","registerDecorator","props","container","partials","original","logger","methodMap","lookupLevel","levelMap","toLowerCase","parseInt","console","method","_len","_key","protoAccess","createProtoAccessControl","runtimeOptions","defaultMethodWhiteList","create","defaultPropertyWhiteList","properties","whitelist","_createNewLookupObject","createNewLookupObject","allowedProtoProperties","defaultValue","allowProtoPropertiesByDefault","methods","allowedProtoMethods","allowProtoMethodsByDefault","resultIsAllowed","result","protoAccessControl","propertyName","checkWhiteList","resetLoggedProperties","loggedProperties","createNewLookupObject_1","sources","concat","_logger","_logger2","protoAccessControlForType","logUnexpecedPropertyAccessOnce","base","HandlebarsEnvironment","_helpers","require$$2","_decorators","require$$3","require$$4","_internalProtoAccess","VERSION","COMPILER_REVISION","LAST_COMPATIBLE_COMPILER_REVISION","REVISION_CHANGES","objectType","unregisterHelper","registerPartial","partial","unregisterPartial","unregisterDecorator","resetLoggedPropertyAccesses","runtime","checkRevision","compilerInfo","compilerRevision","currentRevision","_base","runtimeVersions","compilerVersions","template","templateSpec","env","main","decorator","main_d","VM","compiler","templateWasPrecompiledWithCompilerV7","strict","parent","lookup","depths","lambda","current","Utils","invokePartial","resolvePartial","extendedOptions","compile","compilerOptions","indent","lines","split","l","programs","program","declaredBlockParams","programWrapper","wrapProgram","depth","mergeIfNeeded","param","common","nullContext","seal","noop","_setup","useData","root","initData","useBlockParams","useDepths","executeDecorators","isTop","mergedHelpers","helper","_internalWrapHelper","wrapHelper","passLookupPropertyOption","wrapHelpersToPassLookupProperty","usePartial","useDecorators","keepHelperInHelpers","allowCallsToHelperMissing","_child","currentPartialBlock","partialBlock","Function","newObj","_interopRequireWildcard","_exception","wrapHelper_1","transformOptionsFn","prog","currentDepths","_handlebarsSafeString","SafeString","_handlebarsSafeString2","_handlebarsException2","_handlebarsNoConflict","Handlebars","globalThis","__defineGetter__","__magic__","$Handlebars","noConflict","_handlebarsNoConflict2","hb","spec","inst","numberToLetter","number","lowerCase","letter","String","fromCharCode","conversorDeIndicesParaAlternativas","indice","tipoColuna","num","romanNumerals","numeral","toRoman","diaDaSemana","dateStr","day","month","year","Number","Date","getDay","replacer","placeholders","replacedString","placeholder","RegExp","replacePlaceholders","provaModelo","folhaDeRostoPlaceholder","prova","dataRealizacao","turma","cursoUnidade","curso","nome","disciplina","codigoTurma","tipoProva","notaParcial","_f","_e","periodoLetivo","_j","_g","listaTurmaDisciplina","_h","nomeProfessor","usuario","_m","_l","_k","_o","turno","duracao","listaProvaQuestao","totalPontos","instrucaoEspecifica","texto","cabecalhoPlaceholders","instituicao","linkFile","_r","_v","_w","cabecalhoPaginaPlaceholders","_z","_0","_1","_2","footerPlaceholders","site","cabecalho","folhaRosto","cabecalhoPagina","rodape","shuffleAndMultiply","arr","multiplier","chunks","fill","a","Math","floor","random","multipliedArray","flat","QuadroRespostaRenderer","linhasTabelaNumeradas","numberOfLines","withHeader","from","_","linhasTabela","repeat","linhasTabelaComCabecalho","linhasSemRespostaSemBorda","linhasSemBordaComLinha","linhaComCalculo","quadroDeLinhasEmBranco","max","quadroDeLinhasComCorrecao","tipoQuadroRespostaHtml","tipoLinha","numeroLinhas","quadroResposta","HandlebarsRuntime","referenceTpl","headerTpl","bodyTpl","alternativesTpl","statementsTpl","associationsTpl","assertionsTpl","responseBoxTpl","str","count","primeiraQuestaoTpl","questaoTpl","tipoLinhaCodigo","tipoAlternativa","_switch_value_","_switch_break_","QuestionRenderer","assessmentLayout","render","isMultiplaEscolha","useRaw","questaoObj","alternativas","error","questionTpl","renderQuestion","AssessmentHtmlRenderer","assessment","folhaDeRosto","renderQuestions","renderAttachments","quantidadeFolhasRascunho","questionsHtml","quantidadeColunas","listaAnexos","anexo","ordem","LayoutAvaliacao","layoutOptions","avalicaoHtml","_mapToEntity","rawData","listaProvaAnexo","q","parsedContent","JSON","parse","questao","visualizaQuestao","e","ordemPersonalizada","valor","tipoQuestao","referencia","ordemAlternativa","linhasBranco","quebraPagina","visualizaResposta","descricao","TIPO_ORDENACAO","NAO_EMBARALHAR","ALEATORIO","ASCENDENTE","DESCENDENTE","LayoutAvaliacaoBuilder","header","footer","fontSize","_folhaDeRosto","pagina","numeroFolhasRascunho","_marcaDaquaRascunho","_marcaDaguaInstituicao","paginacaoAtiva","_identificacao","_gabarito","tipoOrdenacaoAlternativa","_tipoAlternativa","marcaDaguaRascunho","comMarcaDagua","comMarcaDaguaRascunho","pageHeader","pageFooter","marcaDaguaInstituicao","marcaDaguaUrl","marcaDaquaRascunho","fonteTamanho","tamanho","isNaN","gabarito","rascunho","colunas","quantidade","identificacao","paginacao","tipoOrdenacao","values","includes","build","layoutAvaliacao","quebraQuestao","freeze","layoutHtml","cssVars","handlers","getBoundingClientRect","element","rect","range","document","createRange","selectNode","getClientRects","UUID","d","getTime","performance","now","c","r","attr","attributes","hasAttribute","getAttribute","querySelectorEscape","TypeError","codeUnit","firstCodeUnit","charCodeAt","charAt","defer","resolve","reject","promise","Promise","requestIdleCallback","window","requestAnimationFrame","CSSValueToString","unit","isElement","nodeType","isText","walk","limiter","childNodes","firstChild","nextSibling","parentNode","nodeAfter","significantNode","nextSignificantNode","nodeBefore","previousSignificantNode","elementAfter","after","elementBefore","before","displayedElementAfter","dataset","undisplayed","displayedElementBefore","rebuildAncestors","ancestor","ancestors","added","fragment","createDocumentFragment","nodeName","previousRow","previousElementSibling","previousRowDistance","childElementCount","initialColumns","children","remove","k","rowSpan","duplicatedColumn","cloneNode","appendChild","initialColumn","unshift","setAttribute","dataID","removeAttribute","parentElement","contains","td","prev","sib","insertBefore","needsBreakBefore","breakBefore","needsPageBreak","isIgnorable","previousSignificantNodePage","page","nodeWithNamedPage","getNodeWithNamedPage","currentNodePage","letters","wordRange","currentText","startContainer","currentOffset","startOffset","setStart","setEnd","isContainer","tagName","style","display","findElement","doc","forceQuery","indexOfRefs","querySelector","findRef","validNode","prevValidNode","previousSibling","child","hasContent","textContent","trim","indexOfTextNode","nodeTextContent","isAllWhitespace","breakInsideAvoidParentNode","breakInside","parentOf","filterTree","func","what","treeWalker","createTreeWalker","dom","NodeFilter","SHOW_ALL","acceptNode","nextNode","removeChild","BreakToken","offset","equals","otherBreakToken","toJSON","stringify","RenderResult","breakToken","OverflowContentError","items","super","is","isObject","isValue","possibleTypes","function","isPrototype","classRe","functionToString","_undefined","val","isImplemented","shim","validValue","assign","foo","bar","trzy","dest","src","searchString","isPlainFunction","normalizeOpts","normalizeOptions","opts1","process","dModule","dscr","w","desc","configurable","writable","gs","validCallable","on","once","off","emit","descriptors","callable","defineProperties","descriptor","listener","__ee__","self","__eeOnceListener__","listeners","candidate","splice","slice","o","Hook","register","trigger","promises","task","executing","all","triggerSync","results","list","clear","Layout","bounds","parentBounds","offsetParent","gap","parseFloat","getComputedStyle","columnGap","leftMargin","left","onPageLayout","renderNode","layoutNode","beforeOverflow","onOverflow","afterOverflowRemoved","onBreakToken","beforeRenderResult","settings","maxChars","forceRenderBreak","renderTo","wrapper","source","prevNode","newBreakToken","getStart","walker","hasRenderedContent","prevBreakToken","imgs","querySelectorAll","waitForImages","findBreakToken","warn","rebuildTableFromBreakToken","shouldBreak","breakAt","named","closest","classList","add","splitFrom","shallow","append","newToken","doubleBreakBefore","previousNode","previousBreakAfter","needsPreviousBreakAfter","forceBreak","rebuild","clone","n","deep","substring","newNode","nextElementSibling","async","img","awaitImageLoaded","image","complete","onload","width","height","onerror","avoidBreakInside","breakNode","createBreakToken","overflow","rendered","renderedNode","temp","renderedNodeFromSource","SHOW_ELEMENT","lastChild","extract","breakLetter","findOverflow","newOverflow","removed","removeOverflow","hasOverflow","constrainingElement","scrollWidth","scrollHeight","round","skip","breakAvoid","br","right","vStart","top","vEnd","bottom","pos","isFloat","insideTableCell","styles","getPropertyValue","tableRow","table","rowspan","columnCount","cell","rows","cells","previousRowColumnCount","rects","textBreak","setEndAfter","findEndToken","lastNodeIndex","word","wordwalker","currentLetter","nodeValue","significantWhitespaces","words","nextLetter","doneLetter","letterwalker","extracted","extractContents","hyphenateAtBreak","startText","prevLetter","hyphenGlyph","equalTokens","b","EventEmitter","Page","pagesArea","pageTemplate","blank","importNode","pagebox","area","footnotesArea","size","columnWidth","createWrapper","createElement","pgnum","position","pageNumber","contents","startToken","layoutMethod","addListeners","endToken","getByParent","entries","_onOverflow","onUnderflow","_onUnderflow","removeListeners","ResizeObserver","addResizeObserver","_checkOverflowAfterResize","checkOverflowAfterResize","bind","addEventListener","_onScroll","listening","scrollLeft","ro","disconnect","removeEventListener","prevHeight","entry","cr","contentRect","checkUnderflowAfterResize","observe","destroy","ContentParser","cb","markup","mime","createContextualFragment","addRefs","uuid","find","refs","Queue","_q","tick","running","paused","enqueue","deferred","queued","shift","run","dequeue","inwait","then","dump","defered","flush","pause","stop","Chunker","beforeParsed","filter","afterParsed","beforePageLayout","afterPageLayout","finalizePage","afterRendered","pages","total","stopped","charsPerBreak","flow","setup","innerHTML","parsed","removePages","loadFonts","canceled","setProperty","startAt","renderer","renderAsync","renderOnIdle","handleBreaks","force","currentPage","currentPosition","currentSide","addPage","tokens","lastIndexOf","err","recoredCharLength","fromIndex","lastPage","overflowToken","clonePage","originalPage","className","fontPromises","fonts","fontFace","status","fontLoaded","load","family","catch","createItem","allocateCursor","cursor","cursors","releaseCursor","List","head","tail","updateCursors","prevOld","prevNew","nextOld","nextNew","getSize","fromArray","item","toArray","eachRight","forEachRight","initialValue","acc","reduceRight","nextUntil","prevUntil","some","appendData","copy","insert","prepend","prependData","insertData","pop","prependList","insertList","appendList","oldItem","newItemOrList","List_1","createCustomError","SyntaxError","errorStack","stack","TAB_REPLACEMENT","sourceFragment","extraLines","processLines","maxNumLength","startLine","endLine","min","cutLeft","substr","match","OFFSET_CORRECTION","MAX_LINE_LENGTH","Boolean","_SyntaxError","parseError","TYPE","EOF","Ident","AtKeyword","Hash","BadString","Url","BadUrl","Delim","Percentage","Dimension","WhiteSpace","CDO","CDC","Colon","Semicolon","Comma","LeftSquareBracket","RightSquareBracket","LeftParenthesis","RightParenthesis","LeftCurlyBracket","RightCurlyBracket","Comment","NAME","_const","isDigit","code","isUppercaseLetter","isLowercaseLetter","isLetter","isNonAscii","isNameStart","isNonPrintable","isNewline","isWhiteSpace","isValidEscape","second","CATEGORY","charCodeCategory","Eof","Digit","NameStart","NonPrintable","charCodeDefinitions","isHexDigit","isName","isIdentifierStart","third","isNumberStart","isBOM","charCodeDef","getCharCode","getNewlineLength","cmpChar","testStr","referenceCode","findDecimalNumberEnd","consumeEscaped","maxOffset","consumeName","consumeNumber","sign","consumeBadUrlRemnants","cmpStr","referenceStr","testCode","findWhiteSpaceStart","findWhiteSpaceEnd","constants","WHITESPACE","COMMENT","OFFSET_MASK","TYPE_SHIFT","TokenStream","offsetAndType","balance","reset","eof","tokenIndex","tokenType","tokenStart","firstCharOffset","tokenEnd","lookupType","tokenCount","lookupOffset","lookupValue","getTokenStart","getRawLength","mode","balanceEnd","loop","isBalanceEdge","isDelim","getTokenValue","getTokenLength","substrToCursor","skipWS","skipTokenCount","skipSC","forEachToken","chunk","TokenStream_1","generate","decorate","forceBraces","compact","combinator","terms","term","explicit","generateSequence","disallowEmpty","comma","opts","generateTypeOpts","generate_1","defaultLoc","fromLoc","point","buildLoc","extra","SyntaxReferenceError","referenceName","SyntaxMatchError","syntax","matchResult","css","mismatchOffset","mismatchLength","longestMatch","mismatchNode","badNode","token","locateMismatch","rawMessage","keywords","isCustomProperty","getVendorPrefix","secondDashIndex","names","keyword","custom","vendor","basename","prefix","property","hack","vendorPrefix","SafeUint32Array","Uint32Array","adoptBuffer","buffer","tokenize","stream","sourceLength","consumeNumericToken","consumeIdentLikeToken","nameStartOffset","consumeUrlToken","consumeStringToken","endingCodePoint","nextCode","balanceCloseType","balanceStart","balancePrev","tokenizer","anPlusB","DELIM","IDENT","NUMBER","DIMENSION","HYPHENMINUS","DISALLOW_SIGN","getNextToken","checkInteger","valueOffset","disallowSign","consumeB","offset_","genericAnPlusB","urange","startsWith","hexSequence","allowDash","hexlen","withQuestionMarkSequence","consumed","genericUrange","consumedHexLength","cssWideKeywords","calcFunctionNames","charCode","eqStr","actual","expected","eqStrAny","isPostfixIeHack","outOfRange","numEnd","consumeFunction","startIdx","calc","expectedTokenType","dimension","numberEnd","reverseSolidusOffset","zero","generic","ident","scan","angle","deg","grad","rad","turn","decibel","db","frequency","hz","khz","flex","fr","px","mm","cm","in","pt","pc","em","ex","ch","rem","vh","vw","vmin","vmax","vm","resolution","dpi","dpcm","dppx","x","semitones","st","time","s","ms","percentage","integer","input","Tokenizer","nextCharCode","nextNonWsCode","findWsEnd","substringToPos","eat","peek","LEFTCURLYBRACKET","NAME_CHAR","createCharMap","COMBINATOR_PRECEDENCE","scanSpaces","scanWord","scanNumber","scanString","readMultiplierRange","maybeMultiplied","readMultiplier","maybeToken","readType","readTypeRange","regroupTerms","combinators","createGroup","sort","subgroupStart","readImplicitGroup","prevToken","prevTokenPos","readKeywordOrFunction","readGroup","readProperty","parse_1","ensureFunction","enter","leave","MATCH","MISMATCH","DISALLOW_EMPTY","createCondition","thenBranch","elseBranch","else","isFunctionType","isEnumCapatible","buildGroupMatchGraph","atLeastOneTermMatched","thenClause","newGroupTerm","buildMatchGraph","matchTerm","buildMultiplierMatchGraph","matchGraph","syntaxTree","EXIT_REASON_MATCH","totalIterationCount","reverseList","areStringsEqualCaseInsensitive","isCommaContextStart","isContextEdgeDelim","isCommaContextEnd","internalMatch","state","syntaxes","moveToNextToken","nextIndex","stateSnapshotFromSyntax","nextState","matchStack","syntaxStack","thenStack","pushThenStack","pushElseStack","elseStack","addTokenToMatch","syntaxStash","openSyntax","closeSyntax","iterationCount","exitReason","mask","matchFlag","lastTokenIndex","syntaxDict","dictSyntax","keywordName","reason","iterations","matchAsList","matchAsTree","host","hostStack","getTotalIterationCount","getTrace","shouldPutToTrace","matched","hasMatch","matchNode","testNode","trace","isType","isProperty","isKeyword","getFirstMatchNode","getLastMatchNode","search","matchFragments","lexer","ast","fragments","findFragments","nodes","prepareTokens","tokenStream","astToTokens","curNode","nodesOffset","nodesIndex","currentNode","prepareTokens_1","require$$6","require$$7","require$$8","require$$9","require$$10","getStructureFromConfig","isValidNumber","isFinite","isValidLocation","createNodeStructureChecker","fields","valid","fieldType","processStructure","structure","docs","docsTypes","fieldTypes","check","config","require$$11","cssWideKeywordsWithExpression","dumpMapSyntax","syntaxAsAst","dumpAtruleMapSyntax","atrule","prelude","buildMatchResult","matchSyntax","useCommon","valueHasVar","valueCommonSyntax","Lexer","atrules","types","addType_","addAtrule_","addProperty_","checkStructure","collectWarning","warns","createDescriptor","res","descName","checkAtruleName","atruleName","getAtrule","checkAtrulePrelude","checkAtruleDescriptorName","descriptorName","checkPropertyName","getProperty","matchAtrulePrelude","matchAtruleDescriptor","matchDeclaration","matchProperty","matchType","typeName","typeSyntax","getType","findValueFragments","findDeclarationValueFragments","declaration","findAllFragments","visit","fallbackBasename","getAtrulePrelude","getAtruleDescriptor","declarators","validate","broken","brokenMap","brokenTypes","brokenProperties","pretty","Lexer_1","definitionSyntax","OffsetToLocation","columns","linesAndColumnsComputed","setSource","startColumn","ensureLinesAndColumnsComputed","computeLinesAndColumns","getLocation","filename","getLocationRange","OffsetToLocation_1","sequence","recognizer","createList","space","ignoreWS","ignoreWSAfter","scanner","getNode","FUNCTION","URL","HASH","PERCENTAGE","createParseContext","parser","locationMap","needPositions","onParseError","onParseErrorThrow","parseAtrulePrelude","parseRulePrelude","parseValue","parseCustomProperty","readSequence","createSingleNodeList","getFirstListNode","getLastListNode","parseWithFallback","consumer","fallback","fallbackNode","lookupNonWSType","consume","consumeFunctionName","getLocationFromList","location","parserConfig","scope","pseudo","parseContext","processConfig","onComment","positions","intToCharMap","base64","encode","decode","getArg","aArgs","aName","aDefaultValue","urlRegexp","dataUrlRegexp","urlParse","aUrl","scheme","auth","port","urlGenerate","aParsedUrl","url","normalize","aPath","part","isAbsolute","parts","up","aRoot","aPathUrl","aRootUrl","joined","relative","supportsNullProto","identity","isProtoString","strcmp","aStr1","aStr2","toSetString","aStr","fromSetString","compareByOriginalPositions","mappingA","mappingB","onlyCompareOriginal","cmp","originalLine","originalColumn","generatedColumn","generatedLine","compareByGeneratedPositionsDeflated","onlyCompareGenerated","compareByGeneratedPositionsInflated","parseSourceMapInput","computeSourceURL","sourceRoot","sourceURL","sourceMapURL","util","MappingList","_array","_sorted","_last","unsortedForEach","aCallback","aThisArg","aMapping","lineA","lineB","columnA","columnB","mappingList","base64VLQ","base64Vlq","aValue","digit","encoded","vlq","toVLQSigned","VLQ_BASE","aIndex","aOutParam","continuation","shifted","strLen","rest","ArraySet","has","hasNativeMap","_set","aArray","aAllowDuplicates","getOwnPropertyNames","sStr","isDuplicate","at","aIdx","arraySet","SourceMapGenerator","_file","_sourceRoot","_skipValidation","_sources","_names","_mappings","_sourcesContents","_version","fromSourceMap","aSourceMapConsumer","generator","file","eachMapping","mapping","newMapping","generated","addMapping","sourceFile","sourceRelative","sourceContentFor","setSourceContent","_validateMapping","aSourceFile","aSourceContent","applySourceMap","aSourceMapPath","newSources","newNames","originalPositionFor","aGenerated","aOriginal","aSource","_serializeMappings","nameIdx","sourceIdx","previousGeneratedColumn","previousGeneratedLine","previousOriginalColumn","previousOriginalLine","previousName","previousSource","mappings","_generateSourcesContent","aSources","aSourceRoot","version","sourcesContent","sourceMapGenerator","trackNodes","Atrule","Selector","Declaration","sourceMap","sourceMappingActive","activatedGenerated","activatedMapping","handlersNode","nodeLine","nodeColumn","handlersChunk","handlersResult","invokeForType","getWalkersFromStructure","walkers","nullable","walkContext","createTypeIterator","reverse","contextName","useContext","walkReducer","prevContextValue","createFastTraveralMap","iterators","StyleSheet","Rule","Block","DeclarationList","getTypesFromConfig","iteratorsNatural","iteratorsReverse","breakWalk","skipNode","fastTraversalIteratorsNatural","fastTraversalIteratorsReverse","walkNode","enterRet","break","stylesheet","atrulePrelude","rule","selector","block","found","findLast","findAll","shape","appendOrAssign","appendOrAssignOrNull","deepAssign","mix","innerShape","mix_1","createParser","createGenerator","processChildren","delimeter","processNode","createConvertor","fromPlainObject","toPlainObject","createWalker","require$$12","createSyntax","convert","createLexer","fork","extension","mdnAtrules","mdnProperties","patch","extendSyntax","patchDictionary","dict","patchDict","unpackSyntaxes","patchDescriptors","patchAtrules","preprocessAtrules","PLUSSIGN","N","checkTokenIsInteger","expectCharCode","msg","AnPlusB","getOffsetExcludeWS","Raw","excludeWhiteSpace","endOffset","leftCurlyBracket","leftCurlyBracketOrSemicolon","exclamationMarkOrSemicolon","semicolonIncluded","rawMode","ATKEYWORD","SEMICOLON","RIGHTCURLYBRACKET","consumeRaw","isDeclarationBlockAtrule","nameLowerCase","AtrulePrelude","STRING","COLON","LEFTSQUAREBRACKET","RIGHTSQUAREBRACKET","getAttributeName","expectIdent","checkColon","getOperator","AttributeSelector","matcher","flags","Identifier","flagsPrefix","consumeRule","consumeRawDeclaration","consumeDeclaration","isDeclaration","Brackets","CDC_1","CDO_1","ClassSelector","Combinator","consumeValueRaw","consumeCustomPropertyRaw","consumeValue","startValueToken","Value","getImportant","important","customProperty","valueStart","RIGHTPARENTHESIS","_Function","IdSelector","LEFTPARENTHESIS","MediaFeature","Ratio","MediaQuery","COMMA","MediaQueryList","_Number","Parentheses","PseudoClassSelector","PseudoElementSelector","consumePrelude","SelectorList","_String","eatIdentifierOrAsterisk","TypeSelector","eatHexSequence","eatQuestionMarkSequence","scanUnicodeRange","hexLength","UnicodeRange","rawStart","rawEnd","SPACE","require$$13","require$$14","require$$15","require$$16","require$$17","require$$18","require$$19","require$$20","Nth","nth","allowOfClause","query","require$$22","Operator","require$$24","require$$25","require$$26","require$$27","require$$28","require$$29","require$$30","require$$32","require$$33","require$$34","require$$35","require$$36","require$$37","require$$39","_default","_var","startIndex","_import","parentheses","supports","selectorList","nthWithOfClause","syntaxModule","merge","mediaQueryList","mediaQuery","declarationList","expression","var","import","media","dir","lang","matches","not","nthChild","nthLastChild","nthLastOfType","nthOfType","slotted","lib","Sheet","onUrl","onAtPage","onAtMedia","onRule","onDeclaration","onSelector","onPseudoSelector","onContent","onImport","beforeTreeParse","beforeTreeWalk","afterTreeWalk","href","text","csstree","_text","replaceUrls","replaceIds","imported","urls","rules","insertRule","inserted","declarations","imports","ruleNode","ruleItem","rulelist","declarationNode","dItem","dList","funcNode","fItem","fList","selectItem","selectList","pseudoNode","pItem","pList","addScope","getNamedPageSelectors","namedPageSelectors","idNode","idItem","idList","queries","mqNode","mqItem","mqList","identNode","identItem","identList","urlNode","urlItem","urlList","t","request","XMLHttpRequest","open","headers","setRequestHeader","withCredentials","credentials","Response","responseText","send","body","Polisher","sheets","styleEl","styleSheet","sheet","fetched","f","response","originals","convertViaSheet","cssStr","orientation","createTextNode","Handler","chunker","polisher","caller","pageSizes","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","B4","B5","legal","ledger","pagedMediaHandlers","getMediaName","iItem","iList","marginalia","pageModel","psuedo","margin","padding","border","backgroundOrigin","marks","notes","needsMerge","getTypeSelector","getPsuedoSelector","getNthSelector","replaceMarginalia","replaceNotes","replaceDeclarations","format","bleed","dirtyPage","addPageClasses","bleedverso","bleedrecto","addRootVars","addRootPage","raw","MARGINS","prop","getMargins","m","getPaddings","p","subNode","margins","paddings","getBorders","createPage","pg","ruleList","selectors","selectorsForPage","createRule","addMarginVars","addPaddingVars","addBorderVars","addDimensions","addMarginaliaStyles","addMarginaliaContent","addNotesStyles","mVar","pVar","borderItem","widthString","heightString","wVar","createVariable","hVar","identlist","marginSelectors","selectorsForPageMargin","marginRule","sel","displayNone","displayDeclaration","displaySelectors","createDeclaration","displayRule","contentSelectors","contentRule","widthStringRight","heightStringRight","widthStringLeft","heightStringLeft","bleedTop","bleedRight","bleedBottom","bleedLeft","bleedTopRecto","bleedRightRecto","bleedBottomRecto","bleedLeftRecto","bleedTopVerso","bleedRightVerso","bleedBottomVerso","bleedLeftVerso","pageWidthVar","pageHeightVar","mark","markDisplay","oVar","wVarR","hVarR","wVarL","hVarL","note","notesRule","childrenLeft","childrenRight","dimensions","dimensionsLeft","dimensionsRight","widthCalculations","heightCalculations","widthCalculationsLeft","heightCalculationsLeft","ruleLeft","widthCalculationsRight","heightCalculationsRight","ruleRight","getNth","plus","splitN","splitP","addPageAttributes","namedPages","getStartElement","sels","centerWidth","leftWidth","rightWidth","marginGroup","center","centerContent","leftContent","rightContent","leftOuterWidth","offsetWidth","centerOuterWidth","newcenterWidth","rightOuterWidth","newLeftWidth","middleHeight","topHeight","bottomHeight","middle","topContent","bottomContent","nthlist","createCalculatedDimension","operator","calculations","createDimension","cssValue","createBlock","breaks","breaker","processBreaks","elements","mergeBreaks","pageBreaks","newBreaks","addBreakAttributes","pageElement","splitTo","breakAfter","prevPage","splits","splitOriginal","handleAlignment","align","alignLast","lastSplitElement","alignLastSplitElement","counters","resetCountersMap","handleIncrement","hasProperities","handleReset","processCounters","scopeCounters","addCounter","increments","resets","whitespace","counter","increment","addFootnoteMarkerCounter","processCounterIncrements","processCounterResets","addCounterValues","countersArray","cssRules","inc","incrementElements","resetElements","counterName","resetValue","incrementValue","resetDelta","incrementArray","incrementCounterForElement","markers","selectorText","counterIncrement","mergeIncrements","counterPageReset","counterFootnoteReset","orderedLists","addDataNumbers","getElementsByTagName","firstElementChild","itemNum","fixedElementsSelector","fixedElements","fixedEl","el","insertAdjacentElement","pageCounter","identifier","processSelectors","dataNthOfType","dataFollowing","footnotes","needsLayout","policy","newPrelude","processFootnotes","processFootnoteContainer","prevElement","hasNotes","findVisibleFootnotes","currentNote","moveFootnote","pageArea","needsNoteCall","noteCall","noteArea","noteContent","noteInnerContent","createFootnoteCall","footnoteMarker","noteCallBounds","noteAreaBounds","noteContentMargins","marginsHeight","noteContentPadding","paddingHeight","noteContentBorders","borderHeight","notAreaTop","notePolicy","noteCallPosition","noteCallOffset","prevSibling","Range","setStartBefore","rangeBounds","ceil","parentParagraph","contentDelta","noteDelta","notePolicyDelta","wrapperDiv","footnoteCall","dataCounterFootnoteIncrement","noteContentBounds","startIsNode","splitChild","lastElementChild","removeProperty","noteInnerContentBounds","marginTop","marginBottom","paddingTop","paddingBottom","borderTop","borderBottom","borders","cleanPseudoContent","cleanSelector","generatedContentHandlers","runningSelectors","fullSelector","selected","orderedSelectors","orderSelectors","pageWeight","weight","weighted","stringSetSelectors","pageLastString","identifiers","functions","subchild","varFirst","varLast","varStart","varFirstExcept","stringPrevPage","counterTargets","styleIdentifier","variable","target","clientHeight","textTargets","beforeContent","afterContent","pseudoType","attributeRegex","idRegex","classRegex","pseudoElementRegex","pseudoClassRegex","elementRegex","notRegex","ruleRegex","separatorRegex","straysRegex","findMatch","regex","specificityCache","calculateSpecificity","specificity","commaIndex","calculate","validSelectorCache","testSelectorElement","isSelectorValid","validateSelector","filters","filterEmpty","SHOW_TEXT","FILTER_REJECT","FILTER_ACCEPT","SHOW_COMMENT","script","displayRules","sortDisplayedSelectors","displayValue","removable","styledElements","sorter","displayItem","globalThis_1","naiveFallback","implementation","__global__","isSymbol","toStringTag","validateSymbol","objPrototype","created","generateName","ie11BugWorkaround","postfix","SymbolPolyfill","HiddenSymbol","isNativeSafe","NativeSymbol","setupStandardSymbols","standardSymbols","hasInstance","isConcatSpreadable","species","toPrimitive","unscopables","setupSymbolRegistry","registry","symbolRegistry","for","keyFor","symbol","ignore","description","polyfill","__description__","__name__","valueOf","es6Symbol","global","validTypes","objToString","isArguments","isFunctionStringTag","abs","toInteger","toPosInteger","isString","iteratorSymbol","toPosInt","arrayLike","Context","getIterator","mapFn","thisArg","isNan","numberIsNaN","NaN","objHasOwnProperty","eIndexOf","searchElement","itemToRemove","aFrom","validObject","getOwnPropertyDescriptor","pipe","e1","e2","pipes","close","__eePipes__","emitter","registeredHandlers","Handlers","handler","registerHandlers","Previewer","beforePreview","afterPreview","initializeHandlers","atpages","getParams","URLSearchParams","pair","wrapContent","removeStyles","element1","element2","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_FOLLOWING","preview","stylesheets","startTime","endTime","WatermarkHandler","watermark","HeaderFooterHandler","heightCache","originalWidth","originalHeight","createHeaderArea","cabecalhoFolhaDeRosto","createFooterArea","footerFolhaDeRosto","cacheKey","footerArea","getCachedHeight","headerArea","h","calculateRealHeight","getInt","borderTopWidth","borderBottomWidth","OrderHandler","orderCache","blocos","bloco","processarBloco","rawOrdem","filhos","resolverTipoOrdenacao","obterWidth","aplicarOrdenacao","reRenderizar","conteudo","originalMaxWidth","maxWidth","tipo","shuffle","baseIndex","indiceFinal","label","replaceChildren","ordemAlternativaProcessada","ColumnHandler","computedStyle","columnCountVal","columnContainer","columnWrappers","col","flexBasis","minWidth","currentBreakToken","PagedJsRenderer","pagesContainer","contentContainer","documentElement","MyHandler","handlersWithConfig","ConfiguredHandler","__originalHandler","existingIndex","findIndex","registerHandlersWithConfig","SourceLocation","Token","noexpand","treatAsRelax","ParseError","underlined","__proto__","uppercase","ESCAPE_LOOKUP","ESCAPE_REGEX","getBaseElem","group","deflt","setting","defaultIfUndefined","hyphenate","isCharacterBox","baseElem","protocolFromUrl","protocol","exec","SETTINGS_SCHEMA","displayMode","cli","output","enum","leqno","fleqn","throwOnError","cliDescription","errorColor","cliProcessor","color","macros","cliDefault","def","defs","minRuleThickness","processor","colorIsTextColor","trust","maxSize","Infinity","maxExpand","globalGroup","getDefaultValue","schema","defaultType","Settings","reportNonstrict","errorCode","errorMsg","useStrictBehavior","isTrusted","Style","cramped","sup","sub","fracNum","fracDen","cramp","text$1","isTight","Style$1","DISPLAY","TEXT","SCRIPT","SCRIPTSCRIPT","scriptData","blocks","allBlocks","supportedCodepoint","codepoint","hLinePad","doubleleftarrow","doublerightarrow","leftarrow","leftbrace","leftbraceunder","leftgroup","leftgroupunder","leftharpoon","leftharpoonplus","leftharpoondown","leftharpoondownplus","lefthook","leftlinesegment","leftmapsto","leftToFrom","longequal","midbrace","midbraceunder","oiintSize1","oiintSize2","oiiintSize1","oiiintSize2","rightarrow","rightbrace","rightbraceunder","rightgroup","rightgroupunder","rightharpoon","rightharpoonplus","rightharpoondown","rightharpoondownplus","righthook","rightlinesegment","rightToFrom","twoheadleftarrow","twoheadrightarrow","tilde1","tilde2","tilde3","tilde4","vec","widehat1","widehat2","widehat3","widehat4","widecheck1","widecheck2","widecheck3","widecheck4","baraboveleftarrow","rightarrowabovebar","baraboveshortleftharpoon","rightharpoonaboveshortbar","shortbaraboveleftharpoon","shortrightharpoonabovebar","DocumentFragment","classes","maxFontSize","hasClass","toNode","frag","toMarkup","toText","fontMetricsData","sigmasAndXis","slant","stretch","shrink","xHeight","quad","extraSpace","num1","num2","num3","denom1","denom2","sup1","sup2","sup3","sub1","sub2","supDrop","subDrop","delim1","delim2","axisHeight","defaultRuleThickness","bigOpSpacing1","bigOpSpacing2","bigOpSpacing3","bigOpSpacing4","bigOpSpacing5","sqrtRuleThickness","ptPerEm","doubleRuleSep","arrayRuleWidth","fboxsep","fboxrule","extraCharacterMap","getCharacterMetrics","character","font","metrics","italic","skew","fontMetricsBySizeIndex","sizeStyleMap","sizeMultipliers","sizeAtStyle","Options","textSize","phantom","fontFamily","fontWeight","fontShape","sizeMultiplier","_fontMetrics","BASESIZE","havingStyle","havingCrampedStyle","havingSize","havingBaseStyle","wantSize","havingBaseSizing","withColor","withPhantom","withFont","withTextFontFamily","withTextFontWeight","withTextFontShape","sizingClasses","oldOptions","baseSizingClasses","fontMetrics","sizeIndex","cssEmPerMu","getGlobalMetrics","getColor","ptPerUnit","bp","dd","cc","nd","nc","sp","relativeUnit","mu","validUnit","calculateSize","sizeValue","scale","unitOptions","makeEm","toFixed","createClass","cls","initNode","invalidAttributeNameRegex","Span","attribute","Anchor","Img","alt","iCombinations","SymbolNode","_i","scriptFromCodepoint","span","marginRight","needsSpan","escaped","SvgNode","createElementNS","PathNode","pathName","alternate","LineNode","assertSymbolDomNode","ATOMS","bin","inner","punct","rel","NON_ATOMS","mathord","spacing","textord","symbols","math","defineSymbol","acceptUnicodeChar","ams","accent","op","ligatures","mathTextSymbols","textSymbols","_ch","_i2","_ch2","wideChar","_i3","_ch3","_i4","_ch4","extraLatin","_i5","_ch5","wideLatinLetterData","wideNumeralData","lookupSymbol","fontName","makeSymbol","symbolNode","canCombine","_style","sizeElementFromChildren","elem","makeSpan$2","makeSvgSpan","makeFragment","retrieveTextFontName","baseFontName","fontMap","mathbf","variant","mathrm","textit","mathit","mathnormal","mathsfit","mathbb","mathcal","mathfrak","mathscr","mathsf","mathtt","svgData","buildCommon","mathsym","makeSpan","makeLineSpan","thickness","makeAnchor","anchor","wrapFragment","makeVList","positionType","oldChildren","_depth","currPos","diff","positionData","getVListChildrenAndDepth","pstrutSize","pstrut","realChildren","minPos","maxPos","_elem","wrapperClasses","wrapperStyle","childWrap","marginLeft","vlist","emptySpan","depthStrut","topStrut","vtable","makeOrd","isFont","fontOrFamily","wideFontName","wideFontClass","codePoint","wideCharacterFont","fontClasses","fontData","fontClass","boldsymbol","_fontName","_fontName3","_fontName2","makeGlue","measurement","staticSvg","svgNode","viewBox","preserveAspectRatio","tryCombineChars","chars","thinspace","mediumspace","thickspace","spacings","mord","mop","mbin","mrel","minner","mopen","mclose","mpunct","tightSpacings","_functions","_htmlGroupBuilders","_mathmlGroupBuilders","defineFunction","_ref","htmlBuilder","mathmlBuilder","numArgs","argTypes","allowedInArgument","allowedInText","allowedInMath","numOptionalArgs","infix","primitive","defineFunctionBuilders","_ref2","normalizeArgument","arg","ordargument","makeSpan$1","binLeftCanceller","binRightCanceller","styleMap$1","scriptscript","DomEnum","buildExpression$1","isRealGroup","surrounding","groups","buildGroup$1","glueOptions","dummyPrev","dummyNext","isRoot","traverseNonSpaceNodes","prevType","getTypeOfDomTree","callback","partialGroup","checkPartialGroup","nonspace","insertAfter","getOutermostNode","side","makeNullDelimiter","moreClasses","baseOptions","groupNode","buildHTMLUnbreakable","strut","verticalAlign","buildHTML","tree","tag","eqnNum","tagChild","nobreak","htmlNode","newDocumentFragment","MathNode","TextNode","mathMLTree","SpaceNode","makeText","makeRow","getVariant","isNumberPunctuation","buildExpression","isOrdgroup","buildGroup","lastGroup","_group","buildExpressionRow","buildMathML","texExpression","isDisplayMode","forMathmlOnly","annotation","semantics","wrapperClass","optionsFromSettings","displayWrap","stretchyCodePoint","widehat","widecheck","widetilde","utilde","overleftarrow","underleftarrow","xleftarrow","overrightarrow","underrightarrow","xrightarrow","underbrace","overbrace","overgroup","undergroup","overleftrightarrow","underleftrightarrow","xleftrightarrow","Overrightarrow","xRightarrow","overleftharpoon","xleftharpoonup","overrightharpoon","xrightharpoonup","xLeftarrow","xLeftrightarrow","xhookleftarrow","xhookrightarrow","xmapsto","xrightharpoondown","xleftharpoondown","xrightleftharpoons","xleftrightharpoons","xtwoheadleftarrow","xtwoheadrightarrow","xlongequal","xtofrom","xrightleftarrows","xrightequilibrium","xleftequilibrium","katexImagesData","overlinesegment","underlinesegment","stretchy","topPad","bottomPad","totalHeight","borderColor","x1","y1","x2","y2","viewBoxWidth","viewBoxHeight","_height","numChars","imgIndex","widthClasses","aligns","spans","paths","_minWidth","_viewBoxHeight","_height2","numSvgChildren","_path","_svgNode","_span","buildSvgSpan_","assertNodeType","assertSymbolNodeType","typedNode","checkSymbolNodeType","htmlBuilder$a","grp","supSubGroup","assertSpan","isShifty","baseChar","accentBody","accentBelow","clearance","isStretchy","accentFull","accentWrap","mathmlBuilder$9","accentNode","NON_STRETCHY_ACCENT_REGEX","funcName","innerGroup","kern","paddedNode","optArgs","below","lowerGroup","newOptions","upperGroup","arrowPrefix","arrowBody","arrowShift","upperShift","lowerShift","arrowNode","upperNode","lowerNode","_lowerNode","htmlBuilder$9","mclass","mathmlBuilder$8","lspace","rspace","binrelClass","atom","_ref3","baseArg","shiftedArg","baseOp","limits","alwaysHandleSupSub","parentIsSupSub","suppressBaseShift","supsub","textShadow","cdArrowFunctionName","A","V","newCell","isStartOfArrow","isLabelEnd","endChar","cdArrow","arrowChar","labels","callFunction","bareArrow","arrowGroup","htmlBuilder$8","mathmlBuilder$7","breakOnTokenText","gullet","parseExpression","future","parseSizeGroup","newLine","globalMap","checkControlSequence","tok","letCommand","macro","unexpandable","isExpandable","consumeSpaces","fetch","parseFunction","popToken","delimiters","consumeArg","expandTokens","getRHS","_ref4","pushToken","getMetrics","styleWrap","delim","toStyle","delimSizeMultiplier","centerSpan","makeLargeDelim","mathrmSize","makeGlyphSpan","sizeClass","makeInner","innerPath","lap","verts","doubleVerts","makeStackedDelim","heightTotal","svgLabel","topMetrics","topHeightTotal","repeatMetrics","repeatHeightTotal","bottomMetrics","bottomHeightTotal","middleHeightTotal","middleFactor","middleMetrics","minHeight","realHeightTotal","midHeight","pathStr","tallDelim","svg","innerHeight","_innerHeight","emPad","sqrtSvg","sqrtName","extraVinculum","sqrtMain","sqrtSize1","sqrtSize2","sqrtSize3","sqrtSize4","sqrtTall","sqrtPath","pathNode","stackLargeDelimiters","stackAlwaysDelimiters","stackNeverDelimiters","sizeToMaxHeight","stackNeverDelimiterSequence","stackAlwaysDelimiterSequence","stackLargeDelimiterSequence","delimTypeToFont","traverseSequence","heightDepth","makeCustomSizedDelim","delimType","makeSmallDelim","delimiter","sqrtImage","advanceWidth","spanHeight","texHeight","ruleWidth","sizedDelim","customSizedDelim","leftRightDelim","delimiterExtend","maxDistFromAxis","delimiterSizes","checkDelimiter","symDelim","assertParsed","leftrightDepth","expect","rightColor","leftDelim","rightDelim","innerDepth","hadMiddle","isMiddle","colorOptions","leftNode","rightNode","middleDelim","textNode","middleNode","htmlBuilder$7","y","imgShift","isSingleChar","lineWeight","angleHeight","paddingLeft","ruleThickness","borderStyle","borderWidth","borderRightWidth","backgroundColor","mathmlBuilder$6","thk","_ref5","_environments","defineEnvironment","_macros","defineMacro","getHLines","hlineInfo","nxt","validateAmsEnvironmentContext","envName","getAutoTag","parseArray","hskipBeforeAndAfter","addJot","cols","arraystretch","colSeparationType","autoTag","singleRow","emptySingleRow","maxNumCols","beginGroup","expandMacroAsText","row","rowGaps","hLinesBeforeRow","tags","beginRow","endRow","subparse","endGroup","nextToken","dCellStyle","htmlBuilder$6","nr","hlines","arraycolsep","baselineskip","jot","arrayskip","arstrutHeight","arstrutDepth","setHLinePos","hlinesInGap","isDashed","inrow","outrow","elt","rowGap","colSep","colDescrNum","colDescriptions","tagSpans","rw","tagSpan","colDescr","firstSeparator","separator","lineType","borderRightStyle","_shift","sepwidth","pregap","_shift2","postgap","dashes","vListElems","hline","lineShift","eqnNumCol","alignMap","mathmlBuilder$5","tbl","glue","menclose","columnLines","prevTypeWasAlign","iStart","iEnd","_cols","rowLines","alignedHandler","numMaths","separationType","isSplit","numCols","emptyGroup","arg0","isAligned","styling","curMaths","nde","ca","matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","colAlign","payload","parsedRows","rowNodes","labelNum","inLabel","wrappedArrow","parseCD","environments","nameGroup","_args","parseArguments","endNameToken","htmlBuilder$5","mathmlBuilder$4","fontAliases","adjustStyle","originalStyle","htmlBuilder$4","nstyle","dstyle","numerm","numer","continued","hStrut","dStrut","ruleSpacing","numShift","denomShift","frac","delimSize","denomm","denom","hasBarLine","barSize","midShift","candidateClearance","mathmlBuilder$3","isDisplay","withDelims","leftOp","rightOp","replaceWith","stylArray","delimFromValue","delimString","barNode","isBlank","styl","textOrd","_ref6","assert","htmlBuilder$3","braceBody","isOver","vSpan","command","formatUnsupportedCmd","trustContext","class","keyVal","html","mathml","sizeData","totalheight","mathFunction","muUnit","alignment","fix","outerMode","switchMode","chooseMathStyle","assembleSupSub","supGroup","subGroup","baseShift","finalGroup","subIsSingleCharacter","_bottom","spacer","noSuccessor","htmlBuilder$2","hasLimits","large","stash","oval","mathmlBuilder$1","singleCharBigOps","fName","singleCharIntegrals","htmlBuilder$1","childText","sizingGroup","isAllString","semisimple","amount","dy","sizeFuncs","smashHeight","smashDepth","tbArg","smashedNode","theta","phi","lineClearance","minDelimiterHeight","delimDepth","rootm","toShift","rootVList","rootVListWrap","styleMap","newStyle","builderDelegate","htmlBuilderDelegate","supm","subm","minSupShift","valueBase","valueSup","valueSub","supShift","subShift","_newOptions","isOiint","psi","vlistElem","_vlistElem","isBrace","_base2","defaultVariant","mi","mn","mtext","cssSpace","regularSpace","ord","pad","padNode","textFontFamilies","textFontWeights","textFontShapes","optionsWithFont","makeVerb","star","spaceRegexString","controlWordWhitespaceRegexString","combiningDiacriticalMarkString","combiningDiacriticalMarksEndRegex","tokenRegexString","tokenRegex","catcodes","setCatcode","char","lex","lastIndex","nlIndex","Namespace","builtins","globalMacros","undefStack","undefs","undef","endGroups","expandOnce","consumeArgs","digitToNumber","B","C","D","E","F","newcommand","existsOK","nonexistsOK","skipIfExists","exists","isDefined","argText","expandNextToken","dotsByToken","thedots","expandAfterFuture","spaceAfterDots","$","latexRaiseA","braketHelper","one","middleDouble","oldMiddle","oldMiddleDouble","midMacro","double","doubled","expanded","implicitCommands","MacroExpander","expansionCount","feed","newMode","pushTokens","scanArgument","isOptional","delims","isDelimited","countExpansion","expandableOnly","topToken","expansion","_getExpansion","expandMacro","oldStackLength","definition","catcode","stripped","bodyLexer","unicodeSubRegEx","uSubsAndSups","unicodeAccents","unicodeSymbols","Parser","oldToken","breakOnInfix","endOfExpression","parseAtom","formLigatures","handleInfixNodes","overIndex","numerNode","denomNode","numerBody","denomBody","handleSupSubscript","symbolToken","parseGroup","textordArray","superscript","subscript","prime","primes","isSub","subsupTokens","funcData","totalArgs","argType","parseGroupOfType","optional","parseColorGroup","parseUrlGroup","parseArgumentGroup","parseStringGroup","_group2","modeName","argToken","parseRegexGroup","firstToken","lastToken","groupEnd","parseSymbol","v","nucleus","parseTree","toParse","compatMode","renderError","renderToDomTree","katexNode","mathMLNode","_htmlNode","buildTree","katex","htmlDecodeTree","Uint16Array","decodeMap","fromCodePoint","CharCodes","BinTrieFlags","EntityDecoderState","DecodingMode","isNumber","ZERO","NINE","isHexadecimalCharacter","UPPER_A","UPPER_F","LOWER_A","LOWER_F","isEntityInAttributeInvalidEnd","EQUALS","UPPER_Z","LOWER_Z","isAsciiAlphaNumeric","EntityDecoder","decodeTree","emitCodePoint","errors","EntityStart","treeIndex","excess","decodeMode","Strict","startEntity","write","NUM","NumericStart","stateNumericStart","NamedEntity","stateNamedEntity","NumericDecimal","stateNumericDecimal","NumericHex","stateNumericHex","LOWER_X","addToNumericResult","digitCount","pow","emitNumericEntity","lastCp","expectedLength","absenceOfDigitsInNumericCharacterReference","SEMI","replaceCodePoint","missingSemicolonAfterCharacterReference","validateNumericCharacterReference","valueLength","VALUE_LENGTH","determineBranch","Attribute","emitNotTerminatedNamedEntity","emitNamedEntityData","getDecoder","returnValue","decoder","nodeIndex","branchCount","BRANCH_LENGTH","jumpOffset","JUMP_TABLE","lo","hi","mid","midValue","htmlDecoder","decodeHTML","htmlString","Legacy","renderWithDelimiters","latexString","matchStart","matchEnd","latex","latexParser","dataModified","renderFormula"],"mappings":"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OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,MAAS,CAAC,EAAG,OAAS,EAAG,EAAG,QAC5B,MAAS,CAAC,EAAG,OAAS,EAAG,EAAG,QAC5B,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,EAAG,OAAS,OAAS,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EAAG,QAClC,MAAS,CAAC,OAAS,OAAS,EAAG,EA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AAM,EAAC,OAAU,OAAS,EAAG,EAAG,MAChC,GAAM,EAAC,OAAU,OAAS,EAAG,EAAG,MAChC,GAAM,EAAC,OAAU,OAAS,EAAG,EAAG,MAChC,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,OAAS,OAAS,EAAG,EAAG,MAC/B,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,OAAS,OAAS,EAAG,EAAG,MAC/B,GAAM,CAAC,OAAS,OAAS,EAAG,EAAG,MAC/B,GAAM,CAAC,OAAS,OAAS,EAAG,EAAG,MAC/B,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,OAAS,EAAG,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,EAAG,OAAS,EAAG,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L,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,MAC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","x_google_ignoreList":[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,247,248,249,250]}